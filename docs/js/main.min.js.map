{"version":3,"sources":["src/js/main.js","../../src/js/agora/agora.component.chunks.js","../../src/js/utils/utils.js","../../src/js/environment.js","../../src/js/environment.static.js","../../src/js/environment.served.js","../../node_modules/route-node/node_modules/tslib/tslib.es6.js","../../node_modules/path-parser/node_modules/tslib/tslib.es6.js","../../node_modules/search-params/src/encode.ts","../../node_modules/search-params/src/utils.ts","../../node_modules/search-params/src/index.ts","../../node_modules/path-parser/src/encoding.ts","../../node_modules/path-parser/src/rules.ts","../../node_modules/path-parser/src/tokeniser.ts","../../node_modules/path-parser/src/Path.ts","../../node_modules/route-node/src/helpers.ts","../../node_modules/route-node/src/matchChildren.ts","../../node_modules/route-node/src/sortChildren.ts","../../node_modules/route-node/src/RouteNode.ts","../../node_modules/symbol-observable/es/index.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/router5-transition-path/dist/index.es.js","../../node_modules/router5/dist/index.es.js","../../node_modules/router5-plugin-browser/dist/index.es.js","../../src/js/router/router.service.js","../../src/js/state/state.service.js","../../src/js/user/user.js","../../src/js/meeting/meeting-id.js","../../src/js/meeting/meeting-url.js","../../src/js/router/router-outlet.structure.js","../../src/js/access/access-code.component.js","../../src/js/forms/controls.component.js","../../src/js/label/label.pipe.js","../../src/js/location/location.service.js","../../src/js/language/language.service.js","../../src/js/router/route.pipe.js","../../src/js/agora/agora.types.js","../../src/js/http/http.service.js","../../src/js/user/user.service.js","../../src/js/webhook/webhook.service.js","../../src/js/access/access.component.js","../../src/js/emoji/emoji.service.js","../../src/js/agora/agora-chat-emoji.component.js","../../src/js/message/message.service.js","../../node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js","../../src/js/device/device.service.js","../../src/js/logger/logger.js","../../src/js/storage/session-storage.service.js","../../src/js/stream/stream.js","../../src/js/stream/stream.service.js","../../src/js/agora/agora.service.js","../../src/js/emittable/emittable.js","../../src/js/agora/agora-chat.component.js","../../src/js/agora/agora-check.component.js","../../src/js/modal/modal.service.js","../../src/js/storage/local-storage.service.js","../../src/js/agora/agora-checklist.service.js","../../src/js/agora/agora-configure-firewall-modal.component.js","../../src/js/agora/agora-checklist.component.js","../../src/js/audio/audio-stream.service.js","../../src/js/agora/agora-device-preview.component.js","../../src/js/agora/agora-device.component.js","../../src/js/view/view.js","../../src/js/editor/path/path.js","../../src/js/editor/path/path.service.js","../../src/js/agora/agora-link.component.js","../../src/js/agora/agora-login.component.js","../../src/js/agora/agora-name.component.js","../../src/js/agora/agora-stream.component.js","../../src/js/editor/navmap/navmap.js","../../src/js/editor/navmap/navmap.service.js","../../src/js/gtm/gtm.service.js","../../src/js/toast/toast.service.js","../../src/js/modal/modal-outlet.component.js","../../src/js/try-in-ar/try-in-ar-modal.component.js","../../src/js/asset/asset.js","../../src/js/view/view.service.js","../../src/js/wishlist/wishlist.service.js","../../src/js/world/media/media-loader.js","../../src/js/world/geometry/geometry.js","../../src/js/world/host/host.js","../../src/js/world/interactive/interactive.js","../../src/js/world/interactive/freezable.mesh.js","../../src/js/world/interactive/emittable.mesh.js","../../src/js/world/interactive/interactive.mesh.js","../../node_modules/three/examples/jsm/loaders/RGBELoader.js","../../src/js/keyboard/keyboard.service.js","../../src/js/loader/loader.service.js","../../src/js/prefetch/prefetch.service.js","../../src/js/rect/rect.js","../../src/js/world/avatar/avatar-element.js","../../src/js/world/texture/texture.js","../../src/js/world/media/media-play-mesh.js","../../src/js/world/media/media-zoom-mesh.js","../../src/js/world/media/media-mesh.js","../../src/js/drag/drag.service.js","../../src/js/world/orbit/orbit.service.js","../../src/js/image/image.service.js","../../src/js/world/panorama/panorama-loader.js","../../src/js/world/panorama/panorama.js","../../src/js/world/phone/phone.element.js","../../src/js/world/pointer/pointer.element.js","../../src/js/world/teleport/teleport.element.js","../../src/js/world/vr.service.js","../../src/js/world/webxr/gamepad.js","../../src/js/world/interactive/emittable.js","../../node_modules/three/examples/jsm/loaders/GLTFLoader.js","../../src/js/world/webxr/motion-controllers.module.js","../../src/js/world/webxr/xr-controller-model.factory.js","../../src/js/world/world.component.js","../../src/js/world/model/model.component.js","../../src/js/world/model/model-editable.component.js","../../src/js/world/model/model-nav.component.js","../../src/js/agora/agora.component.js","../../src/js/asset/asset.service.js","../../src/js/editor/editor.service.js","../../src/js/editor/modals/curved-plane-modal.component.js","../../src/js/editor/modals/item-model-modal.component.js","../../src/js/editor/modals/media-modal.component.js","../../src/js/editor/modals/model-modal.component.js","../../src/js/editor/modals/nav-modal.component.js","../../src/js/editor/modals/panorama-grid-modal.component.js","../../src/js/editor/modals/panorama-modal.component.js","../../src/js/editor/modals/path-add-modal.component.js","../../src/js/editor/modals/path-edit-modal.component.js","../../src/js/editor/modals/plane-modal.component.js","../../src/js/editor/modals/remove-modal.component.js","../../src/js/editor/modals/room-3d-modal.component.js","../../src/js/editor/editor.component.js","../../src/js/generic/generic.service.js","../../src/js/generic/generic.component.js","../../src/js/layout/layout.component.js","../../src/js/try-in-ar/try-in-ar.component.js","../../src/js/app.routes.js","../../src/js/app.component.js","../../src/js/asset/asset.pipe.js","../../src/js/control-request/control-request-modal.component.js","../../src/js/drop/drop.directive.js","../../src/js/dropdown/dropdown.directive.js","../../src/js/dropdown/dropdown-item.directive.js","../../src/js/toast/toast-outlet.component.js","../../src/js/editor/aside/aside.component.js","../../src/js/editor/menu/menu.service.js","../../src/js/drop/drop.service.js","../../src/js/forms/control.component.js","../../src/js/forms/control-asset.component.js","../../src/js/forms/control-menu.component.js","../../src/js/editor/menu/menu-builder.component.js","../../src/js/editor/modals/navmap-item-modal.component.js","../../src/js/editor/modals/navmap-modal.component.js","../../src/js/editor/navmap/navmap-builder.component.js","../../src/js/editor/navmap/navmap-edit.component.js","../../src/js/editor/update/update-view-item.component.js","../../src/js/editor/update/update-view-tile.component.js","../../src/js/editor/update/update-view.component.js","../../src/js/editor/editor.module.js","../../src/js/editor/modals/iframe-modal.component.js","../../src/js/env/env.pipe.js","../../src/js/flag/flag.pipe.js","../../src/js/upload/upload.service.js","../../src/js/forms/control-assets.component.js","../../src/js/generic/generic-modal.component.js","../../src/js/forms/control-checkbox.component.js","../../src/js/forms/control-custom-select.component.js","../../src/js/forms/control-link.component.js","../../src/js/forms/control-localized-asset.component.js","../../src/js/forms/control-model.component.js","../../src/js/forms/control-number.component.js","../../src/js/forms/control-password.component.js","../../src/js/forms/control-select.component.js","../../src/js/forms/control-text.component.js","../../src/js/forms/control-textarea.component.js","../../src/js/forms/control-vector.component.js","../../src/js/forms/disabled.directive.js","../../src/js/forms/errors.component.js","../../src/js/forms/input-value.component.js","../../src/js/forms/test.component.js","../../src/js/forms/value.directive.js","../../src/js/html/html.pipe.js","../../src/js/id/id.directive.js","../../src/js/language/language.component.js","../../src/js/lazy/lazy.cache.js","../../src/js/lazy/lazy.directive.js","../../src/js/intersection/intersection.service.js","../../src/js/message/message.pipe.js","../../src/js/modal/modal.component.js","../../src/js/router/router-link.directive.js","../../src/js/support-request/support-request-modal.component.js","../../src/js/svg/svg-icon.structure.js","../../src/js/title/title.directive.js","../../src/js/upload/upload-item.component.js","../../src/js/video/hls.directive.js","../../src/js/virtual/virtual.item.js","../../src/js/virtual/virtual.structure.js","../../src/js/world/media/media-player.component.js","../../src/js/world/model/model-banner.component.js","../../src/js/world/model/model-curved-plane.component.js","../../src/js/world/debug.service.js","../../src/js/world/model/model-debug.component.js","../../src/js/world/model/model-grid.component.js","../../src/js/world/model/model-menu.component.js","../../node_modules/three/examples/jsm/loaders/DRACOLoader.js","../../src/js/world/model/model-model.component.js","../../src/js/world/interactive/freezable.sprite.js","../../src/js/world/interactive/emittable.sprite.js","../../src/js/world/interactive/interactive.sprite.js","../../src/js/world/model/model-panel.component.js","../../src/js/world/model/model-picture.component.js","../../src/js/world/model/model-plane.component.js","../../src/js/world/model/model-progress.component.js","../../src/js/world/model/model-room.component.js","../../src/js/world/model/model-text.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["g","f","exports","module","require","define","amd","globalThis","self","rxcomp","form","rxjs","operators","THREE","html2canvas","this","rxcompForm","three","_interopDefaultLegacy","e","default","html2canvas__default","CHUNK_SERVICE","CHUNK_CONTROLS","CHUNK_MEDIA","CHUNK_AR_VR","CHUNK_LIKE","CHUNK_CHAT","CHUNK_LOCK","CHUNK_NAVMAP","CHUNK_BACKGROUND","CHUNK_LOGO","CHUNK_CREDITS","CHUNK_COPYRIGHT","CHUNK_LANGUAGE","CHUNK_VIRTUAL_TOUR","CHUNK_SELF_SERVICE_TOUR","CHUNK_EMBED","Utils","static","target","source","Object","keys","forEach","key","value","Array","isArray","merge","assign","NODE","DEBUG","get","URLSearchParams","window","location","search","document","querySelector","getAttribute","HEROKU","host","indexOf","VERCEL","DEPLOYED","STATIC","port","DEVELOPMENT","split","ENV","PRODUCTION","defaultAppOptions","channelName","flags","heroku","vercel","deployed","navs","iconMinScale","iconMaxScale","url","languages","defaultLanguage","labels","data","fields","environmentOptions","appKey","production","useProxy","useToken","usePrefetch","useExtendedUserInfo","useEncryptedUrl","gdprRoutes","selfService","guidedTourRequest","guidedTourAccess","ssoLogin","ssoRegister","editor","editorAssetScreen","menu","menuEmbed","navmaps","screenShare","chat","ar","like","hideNavInfo","useIframe","attendee","streamer","viewer","smartDevice","selfServiceProposition","navInfoAnimated","navInfoImportantAnimated","navMoveAnimated","navMoveImportantAnimated","navPointAnimated","navPointImportantAnimated","navTitleAnimated","navTitleImportantAnimated","navTransparentAnimated","navTransparentImportantAnimated","useTextureEnvironment","usePaths","antialias","alpha","premultipliedAlpha","sso","issuer","origin","loginUrl","logoutUrl","registerUrl","verifyTokenUrl","profiles","publisher","screen","logo","selfServiceAudio","colors","menuBackground","menuForeground","menuOverBackground","menuOverForeground","menuBackBackground","menuBackForeground","menuBackOverBackground","menuBackOverForeground","disabledViewTypes","disabledViewItemTypes","assets","dist","workers","image","prefetch","textures","envMap","grid","toneMappingExposure","githubDocs","template","email","supportRequest","options","fontFamily","renderOrder","panorama","room","plane","tile","model","banner","nav","panel","debug","pointer","bhere","environment","console","log","href","getAbsoluteUrl","path","params","replace","getPath","isLocal","constructor","__assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","makeOptions","opts","arrayFormat","booleanFormat","nullFormat","encodeValue","encodeURIComponent","decodeValue","decodeURIComponent","encode","name","encodeNull","toString","encodeBoolean","arr","encodeName","index","getNameEncoder","map","val","join","encodeArray","getSearch","pos","slice","parseName","bracketPosition","hasBrackets","parse","reduce","param","_a","rawName","_b","currentValue","decodedValue","undefined","decode","concat","build","filter","paramName","isSerialisable","Boolean","excludeSubDelimiters","encodeURIComponentExcludingSubDelims","segment","match","encodingMethods","uri","encodeURI","uriComponent","none","legacy","decodingMethods","decodeURI","encodeParam","encoding","isSpatParam","encoder","String","defaultOrConstrained","rules","pattern","regex","RegExp","tokenise","str","tokens","some","rule","push","type","otherVal","Function","substr","Error","exists","defaultOptions","urlParamsEncoding","Path","hasUrlParams","test","hasSpatParam","hasMatrixParams","hasQueryParams","spatParams","getParams","urlParams","queryParams","isQueryParam","_this","caseSensitive","strictTrailingSlash","optTrailingSlash","urlTest","parseQueryParams","unexpectedQueryParams","partialTest","delimited","delimiter","upToDelimiter","existingVal","appendQueryParam","ignoreConstraints","ignoreSearch","encodedUrlParams","acc","v","missingParameters","every","base","searchParams","sparams","searchPart","buildQueryParams","predicate","m","getMetaFromSegments","segments","accName","meta","_c","_d","parser","allParams","matchChildren","nodes","pathSegment","currentMatch","consumedBefore","queryParamsMode","strongMatching","isRoot","child","remainingPath","children","consumedPath","toLowerCase","querystring","paramsToOmit","removedParams","left","right","chunk","kept","removed","omit","remainingQueryParams_1","getNonAbsoluteChildren","_i","nodes_1","state_1","sortPredicate","originalChildren","_e","_f","leftPath","rightPath","leftSegments","rightSegments","leftParamsCount","rightParamsCount","leftParamLength","rightParamLength","RouteNode","childRoutes","absolute","parent","checkParents","add","onAdd","finalSort","sort","sortDescendants","getParentSegments","reverse","setParent","setPath","route","cb","r","addRouteNode","routeNode","fullName","_","addNode","routeName","segmentsByName","getSegmentsByName","sortChildren","buildPath","buildPathFromSegments","trailingSlashMode","nonSearchParams","segments_1","extraParams","searchParamsObject","segmentPath","finalPath","buildState","matchPath","getSegmentsMatchingPath","matchedSegments","firstSegmentParams","lastSegmentSlashChild","findSlashChild","buildStateFromMatch","names","hasParentsParams","hasParams","findAbsoluteChildren","absoluteChildren","findSegmentByName","routes","matched","filteredRoutes","startingNodes","node","finalMatch","result","root","Symbol","observable","ponyfill","global","nameToIDs","ids","hasMetaParams","state","extractSegmentParams","autoCleanUp","allowNotFound","rewritePathOnMatch","errorCodes","constants","withState","router","stateId","routerState","getState","setState","makeState","forceId","config","defaultParams","id","makeNotFoundState","areStatesEqual","state1","state2","ignoreQueryParams","getUrlParams","rootNode","state1Params","state2Params","areStatesDescendants","parentState","childState","forwardState","routeParams","forwardMap","eventsMap","onStart","onStop","onTransitionSuccess","onTransitionStart","onTransitionError","onTransitionCancel","withPlugins","routerPlugins","startPlugin","plugin","appliedPlugin","executeFactory","removeEventListeners","methodName","addEventListener","removeListener","teardown","getPlugins","usePlugin","plugins","removePluginFns","removePlugin","withMiddleware","middlewareFactories","middlewareFunctions","useMiddleware","middlewares","middleware","middlewareFunction","fn","clearMiddleware","getMiddlewareFactories","getMiddlewareFunctions","withObservability","callbacks","subscribe","listener","isObject","finalListener","next","bind","unsubscribeHandler","toState","fromState","previousRoute","unsubscribe","observer","TypeError","$$observable","invokeEventListeners","eventName","args","removeEventListener","_cb","resolve","functions","callback","isCancelled","errorKey","remainingFunctions","isState","obj","processFn","stepFn","errBase","_done","done","err","newState","hasStateChanged","error","mergeStates","res","then","resVal","stack","promiseError","isMapped","transition","cancelled","completed","getOptions","getLifecycleFunctions","canDeactivateFunctions","canActivateFunctions","makeError","isUnknownRoute","asyncBase","toStateOptions","fromStateIds","toStateIds","maxI","Math","min","reload","_loop_1","leftParams","rightParams","pointOfDifference","toDeactivate","toActivate","intersection","transitionPath","canDeactivate","forceDeactivate","canDeactivateFunctionMap","fnMap","code","canActivate","canActivateFunctionMap","activeSegments_1","clearCanDeactivate","noop","withNavigation","cancelCurrentTransition","navigate","lastArg","isStarted","sameStates","force","skipTransition","transitionToState","redirect","redirected","navigateToDefault","defaultRoute","cancel","noop$1","withRouterLifecycle","started","start","startPath","startState","startPathOrState","invokeErrCb","navigateToDefault_1","redirect_1","stop","toFunction","withRouteLifecycle","canDeactivateFactories","canActivateFactories","getLifecycleFactories","canDeactivateHandler","factory","canActivateHandler","createRouter$1","dependencies","fns","arg","prev","pipe","routerOptions","setOption","option","withOptions","routerDependencies","setDependency","dependencyName","dependency","setDependencies","deps","getDependencies","getInjectables","factoryFunction","withDependencies","forward","fromRoute","toRoute","onRouteAdded","forwardTo","decodeParams","decoders","encodeParams","encoders","isActive","strictEquality","activeState","paramsWithDefault","encodedParams","name_1","decodedParams","builtPath","setRootPath","rootPath","withRoutes","__spreadArrays","il","k","a","j","jl","isBrowser","history","safelyEncodePath","safeBrowser","getBase","pathname","pushState","title","replaceState","addPopstateListener","shouldAddHashChangeListener","useHash","navigator","userAgent","getLocation","hash","hashPrefix","getHash","mergeState","preserveHash","browserPluginFactory","browser","removePopStateListener","transitionOptions","routerStart","buildUrl","updateBrowserState","trimmedState","finalState","onPopState","evt","matchUrl","pathParts","urlToPath","replaceHistoryState","lastKnownState","historyState","hasState","statesAreEqual","RouterService","router_","event$","EMPTY","createRouter","browserPlugin","from","startWith","useBrowser","routerLink","active","StateService","state$","getValue","BehaviorSubject","RoleType","Publisher","Attendee","Streamer","Viewer","SmartDevice","SelfService","Embed","User","MEETING_ID_VALIDATOR","MeetingId","roleIndex","getRoleIndex","role","userId","user","timestamp","Date","valueOf","pathId","warn","decompose","compose","toRoles","idAttendee","idStreamer","idViewer","idSmartDevice","idSelfService","padded","meetingId","components","parseInt","c","num","size","MeetingUrl","link","getName","firstName","getFirstName","lastName","getLastName","getEmail","viewId","embedViewId","support","toParams","shareable","encrypt","toUrl","getCurrentUrl","toAccessCodeUrl","getAccessCodeUrl","toGuidedTourUrl","getGuidedTourUrl","copyToClipBoard","asAccessCode","input","createElement","style","position","top","appendChild","focus","select","setSelectionRange","execCommand","parentNode","removeChild","alert","replaceUrl","setCurrentParams","currentOptions","meetingUrl","replaceWithOptions","lang","x","has","decrypt","JSON","atob","btoa","stringify","RouterOutletStructure","Structure","getFactory","originalRoute","find","onInit","route$","switchMap","factory$","takeUntil","unsubscribe$","event","getContext","factory_","of","tap","element","remove","instance","innerHTML","firstElementChild","makeInstance","selector","compile","onChanges","hosts","AccessCodeComponent","Component","QRious","ownKeys","getOwnPropertySymbols","o","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","hint","prim","toPrimitive","Number","_toPrimitive","_toPropertyKey","configurable","writable","ControlsComponent","group","formGroup","control","getControl","fieldsToFormGroup","FormGroup","controls","validators","required","Validators","RequiredTrueValidator","RequiredValidator","EmailValidator","PatternValidator","FormControl","unshift","fieldsToFormControls","patchFields","testValues","patch","inputs","FormAbstractCollectionDirective","LabelPipe","Pipe","getCopy","label","_len","_key","transform","getFullYear","LocationService","keyOrValue","set","pushParams","delete","to","encoded","deserialize","decoded","json","LanguageService","lang$","language","alternates","alternateName","g1","g2","offset","alternate","setAlternates","hasLanguages","activeLanguage","fetch","response","text","html","labelsMatch","exec","setLabels","bhereMatch","showLanguages","pushChanges","getDefaultLanguages","getDefaultLanguage","RoutePipe","StreamQualities","profile","resolution","width","height","frameRate","max","bitrate","compatible","getStreamQuality","AgoraStatus","MessageType","UIMode","AgoraEvent","AgoraPeerEvent","AgoraRemoteEvent","AgoraUserInfoUpdateEvent","AgoraMuteVideoEvent","AgoraUnmuteVideoEvent","AgoraMuteAudioEvent","AgoraUnmuteAudioEvent","AgoraVolumeLevelsEvent","HttpService","method","format","response_","headers","Accept","body","contentType","typedResponse","ok","Promise","reject","catchError","throwError","getError","query","http$","object","status","statusCode","statusMessage","statusText","UserService","user$","get$","mapUser","setUser","payload","post$","newDocument","DOMParser","parseFromString","setTimeout","newWindow","open","head","login$","guidedTour$","selfServiceTour$","roleType","uuid","username","me$","temporaryUser$","getTime","mode","UID","WebhookEvent","toJson","action","extra","userSessionId","uid","userRole","message","WebhookService","postMessage","event$_","first","handleResponse_","handleError_","enabled","newEvent","observables","webhook","uris","internal$_","send$_","forkJoin","remoteResponse","remoteStatus","remoteError","methods","fromEvent","parseEvent","shareReplay","AccessComponent","onSSOPopupClose","routeUrl","pathMapper","setRouterLink","validateParams","onSelfServiceTourRequest","initRequestForm","onSubmit","onGuidedTourRequest","onSSOLogin","protocol","preventDefault","onSSORegister","onGuidedTourAccess","logout$","onLogin","initLoginForm","formSubscription","roles","antiforgery","changes$","changes","password","checkRequest","checkField","reset","onBack","valid","submitted","webhookPayload","_objectSpread","resolve$","onHandleHook","touched","isValid","values","send$","EmojiService","items_","items","AgoraChatEmojiComponent","emoji$","onSelect","item","emoji","onClose","close","outputs","MessageService","message$","in$","remoteId","clientId","out$","ReplaySubject","send","in","commonjsGlobal","getDefaultExportFromCjs","__esModule","AgoraRTC_NProduction","freeze","d","u","isPrototypeOf","l","h","E","Reflect","S","T","R","I","C","y","propertyIsEnumerable","A","O","N","b","w","D","P","L","M","U","V","F","B","G","W","H","K","Y","q","J","X","z","Q","Z","$","ee","te","ie","ne","process","re","Deno","oe","versions","version","se","v8","ae","ce","de","ue","sham","le","iterator","he","pe","Ee","me","fe","Se","Te","ge","Re","Ie","Ce","ve","ye","Ae","Oe","Ne","be","we","De","Pe","Le","ke","Me","Ue","copyright","license","xe","Ve","je","Fe","Be","Ge","hasOwn","We","He","Ke","random","Ye","qe","Je","Xe","ze","Qe","Ze","$e","et","tt","it","for","nt","withoutSetter","rt","ot","st","at","ct","dt","ut","lt","ht","pt","_t","Et","mt","ft","St","Tt","gt","Rt","It","Ct","vt","yt","At","Ot","Nt","bt","wt","Dt","Pt","Lt","kt","Ut","Mt","Vt","xt","normalize","NATIVE","POLYFILL","jt","Ft","Bt","Gt","Wt","Ht","Kt","Yt","qt","Jt","Xt","zt","Qt","Zt","$t","ei","ti","ii","ni","ri","oi","si","ai","ci","di","ui","li","hi","pi","Ei","mi","fi","Si","Ti","gi","Ri","Ii","stat","proto","forced","noTargetGet","wrap","real","Ci","ceil","vi","floor","yi","Ai","Oi","Ni","bi","wi","Di","Pi","Li","ki","Mi","Ui","xi","Vi","ji","Fi","Bi","Gi","Wi","Hi","Ki","Yi","qi","Ji","Xi","zi","Qi","Zi","$i","en","RTCPeerConnection","handleEvent","_eventMap","Map","tn","nn","rn","on","sn","mozGetUserMedia","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","supportsUnifiedPlan","RTCRtpTransceiver","an","cn","dn","trackIdentifier","trackId","endsWith","un","ln","hn","pn","_n","getPrototypeOf","En","mn","Sn","Tn","gn","Rn","In","Cn","vn","yn","An","On","Nn","bn","wn","Dn","setPrototypeOf","__proto__","Pn","Ln","kn","Mn","Un","xn","Vn","jn","Fn","Bn","includes","Gn","Wn","Hn","Kn","Yn","qn","Jn","Xn","zn","Qn","getOwnPropertyNames","Zn","$n","er","tr","ir","nr","rr","or","sr","cr","dr","ur","lr","hr","pr","_r","Er","mr","fr","Sr","Tr","gr","Rr","Ir","Cr","vr","yr","Ar","Or","Nr","br","wr","write","parentWindow","Dr","ActiveXObject","domain","display","src","contentWindow","Pr","create","Lr","kr","Mr","Ur","xr","Vr","jr","Fr","Br","Gr","Wr","Hr","Kr","Yr","qr","Jr","Xr","zr","Qr","Zr","callee","$r","eo","io","no","ro","oo","so","ao","co","uo","lo","ho","po","_o","Eo","mo","fo","So","To","go","Ro","Io","Co","vo","yo","stopped","Ao","Oo","that","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","No","bo","wo","Do","Po","Lo","ko","Mo","Uo","xo","Vo","jo","Fo","Bo","Go","Wo","Ho","cause","Ko","Yo","qo","Jo","Xo","zo","Qo","Zo","AggregateError","$o","es","ts","inspectSource","is","ns","rs","os","ss","as","cs","WeakMap","ds","us","ls","hs","ps","_s","Es","ms","fs","Ss","Ts","gs","Rs","Is","Cs","vs","facade","ys","As","Os","Ns","bs","enforce","getterFor","ws","Ds","Ps","Ls","ks","Ms","EXISTS","PROPER","CONFIGURABLE","Us","xs","Vs","js","Fs","Bs","Gs","Ws","Hs","Ks","Ys","IteratorPrototype","BUGGY_SAFARI_ITERATORS","qs","Js","Xs","zs","Qs","Zs","$s","ea","ta","ia","na","ra","oa","sa","aa","ca","da","ua","la","ha","pa","Ea","ma","fa","Sa","Ta","ga","Ra","Ia","entries","Ca","va","ya","Aa","Oa","Na","ba","kind","Arguments","wa","Da","Pa","La","ka","Ma","Ua","xa","Va","ja","Fa","Ba","return","Ga","Wa","Ha","Ka","Ya","qa","Ja","Xa","za","Qa","Za","$a","ec","tc","ic","nc","rc","oc","sc","ac","cc","dc","uc","lc","hc","pc","Ec","mc","fc","Sc","Tc","gc","Rc","Ic","Cc","vc","yc","Ac","setImmediate","Oc","clearImmediate","Nc","bc","Dispatch","wc","Dc","MessageChannel","Pc","Lc","kc","Mc","Uc","xc","Vc","jc","nextTick","now","port2","port1","onmessage","importScripts","onreadystatechange","Fc","Bc","Gc","Wc","Hc","Kc","Yc","qc","Jc","clear","Xc","zc","Pebble","Qc","Zc","$c","ed","td","nd","rd","od","sd","MutationObserver","WebKitMutationObserver","ad","cd","dd","ud","ld","exit","enter","createTextNode","observe","characterData","hd","pd","Ed","promise","md","fd","Sd","Td","gd","Rd","Id","tail","Cd","vd","yd","Ad","Od","Nd","bd","wd","Dd","Pd","unsafe","Ld","kd","Md","Ud","xd","Vd","jd","Fd","Bd","Gd","Wd","Hd","Kd","Yd","qd","Jd","Xd","zd","Qd","Zd","$d","eu","tu","iu","nu","ru","ou","su","au","cu","du","uu","lu","hu","pu","_u","createEvent","dispatchEvent","Eu","PromiseRejectionEvent","mu","fu","finally","Su","all","catch","Tu","gu","fail","rejection","yu","Ru","notified","reactions","Cu","Iu","reason","initEvent","vu","emit","Au","Ou","Nu","race","bu","wu","Du","Pu","Lu","allSettled","ku","Mu","Uu","xu","Vu","ju","Fu","any","Bu","Gu","Wu","Hu","Ku","Yu","qu","Ju","Xu","zu","charAt","Qu","charCodeAt","Zu","$u","el","tl","nl","rl","ol","sl","string","al","cl","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","dl","ul","ll","hl","pl","_l","El","ml","fl","Sl","Tl","gl","mediaDevices","mandatory","optional","ideal","exact","toUpperCase","advanced","audio","video","facingMode","getSupportedConstraints","enumerateDevices","deviceId","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","constraint","constraintName","getUserMedia","getAudioTracks","getVideoTracks","getTracks","DOMException","Rl","MediaStream","webkitMediaStream","Il","_ontrack","setRemoteDescription","_ontrackpoly","stream","getReceivers","track","Event","receiver","transceiver","streams","Cl","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","addTrack","removeTrack","splice","addStream","removeStream","RTCRtpSender","vl","getStats","localcandidate","remotecandidate","yl","RTCRtpReceiver","srcElement","MediaStreamTrack","Al","getLocalStreams","_shimmedLocalStreams","Ol","_reverseStreams","_streams","sdp","RTCSessionDescription","signalingState","setLocalDescription","Nl","RTCIceCandidate","bl","getConfiguration","sdpSemantics","wl","shimMediaStream","shimOnTrack","shimGetSendersWithDtmf","shimGetStats","shimSenderReceiverGetStats","shimAddTrackRemoveTrackWithNative","shimAddTrackRemoveTrack","shimPeerConnection","fixNegotiationNeeded","shimGetUserMedia","shimGetDisplayMedia","getDisplayMedia","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","Dl","getSettings","applyConstraints","Pl","RTCTrackEvent","Ll","mozRTCPeerConnection","inboundrtp","outboundrtp","candidatepair","kl","Ml","Ul","xl","DataChannel","RTCDataChannel","Vl","addTransceiver","setParametersPromises","sendEncodings","rid","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","sender","getParameters","encodings","setParameters","Fl","createOffer","Bl","createAnswer","Gl","shimSenderGetStats","shimReceiverGetStats","shimRemoveStream","shimRTCDataChannel","shimAddTransceiver","shimGetParameters","shimCreateOffer","shimCreateAnswer","mediaSource","Wl","_localStreams","Hl","getRemoteStreams","_remoteStreams","_onaddstream","_onaddstreampoly","Kl","addIceCandidate","Yl","ql","Jl","iceServers","urls","generateCertificate","Xl","zl","offerToReceiveAudio","getTransceivers","direction","setDirection","offerToReceiveVideo","Ql","AudioContext","webkitAudioContext","Zl","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimCallbacksAPI","shimConstraints","shimRTCIceServerUrls","shimTrackEventTransceiver","shimCreateOfferLegacy","shimAudioContext","$l","eh","th","ih","nh","rh","oh","sh","ah","end","trim","ch","dh","uh","lh","hh","ph","_h","Eh","mh","fh","generateIdentifier","localCName","splitLines","splitSections","getDescription","getMediaSections","shift","matchPrefix","parseCandidate","substring","foundation","component","priority","ip","address","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","parseIceOptions","parseRtpMap","payloadType","clockRate","channels","numChannels","writeRtpMap","preferredPayloadType","parseExtmap","writeExtmap","preferredId","parseFmtp","writeFmtp","parameters","parseRtcpFb","parameter","writeRtcpFb","rtcpFeedback","parseSsrcMedia","ssrc","attribute","parseSsrcGroup","semantics","ssrcs","getMid","parseFingerprint","algorithm","getDtlsParameters","fingerprints","writeDtlsParameters","parseCryptoLine","tag","cryptoSuite","keyParams","sessionParams","writeCryptoLine","writeCryptoKeyParams","parseCryptoKeyParams","keyMethod","keySalt","lifeTime","mkiValue","mkiLength","getCryptoParameters","getIceParameters","writeIceParameters","iceLite","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","writeRtpDescription","maxptime","parseRtpEncodingParameters","apt","codecPayloadType","rtx","fec","mechanism","maxBitrate","parseRtcpParameters","cname","reducedSize","compound","mux","writeRtcpParameters","parseMsid","parseSctpDescription","parseMLine","isNaN","fmt","maxMessageSize","writeSctpDescription","generateSessionId","writeSessionBoilerplate","getDirection","getKind","isRejected","parseOLine","sessionId","sessionVersion","netType","addressType","isValidSDP","Sh","Th","gh","candidate","toJSON","sdpMid","sdpMLineIndex","Rh","relayProtocol","Ih","_sctp","POSITIVE_INFINITY","Ch","byteLength","readyState","sctp","createDataChannel","channel","vh","checking","iceConnectionState","_onconnectionstatechange","_connectionstatechangepoly","_lastConnectionState","connectionState","yh","Ah","Oh","Nh","shimRTCIceCandidate","shimRTCIceCandidateRelayProtocol","shimMaxMessageSize","shimSendThrowTypeError","shimConnectionState","removeExtmapAllowMixed","shimAddIceCandidateNullOrEmpty","shimParameterlessSetLocalDescription","bh","wh","shimChrome","shimFirefox","shimSafari","browserDetails","commonShim","extractVersion","disableLog","disableWarnings","browserShim","WIN_10","WIN_81","WIN_8","WIN_7","WIN_VISTA","WIN_SERVER_2003","WIN_XP","WIN_2000","ANDROID","HARMONY_OS","OPEN_BSD","SUN_OS","LINUX","IOS","MAC_OS","QNX","UNIX","BEOS","OS_2","SEARCH_BOT","CHROME","SAFARI","EDGE","FIREFOX","OPERA","QQ","WECHAT","Dh","ME","XP","Vista","RT","cpu","device","engine","getResult","userAgentData","getBrowser","major","brave","isBrave","getCPU","architecture","getDevice","vendor","mobile","standalone","maxTouchPoints","getEngine","getOS","platform","getUA","setUA","VERSION","BROWSER","CPU","DEVICE","ENGINE","OS","UAParser","jQuery","Zepto","Ph","Lh","kh","Mh","Uh","xh","osVersion","Vh","jh","Fh","Yh","Bh","Gh","Wh","Hh","Kh","qh","Jh","Xh","zh","Qh","Zh","$h","ep","tp","np","appVersion","rp","toLocaleLowerCase","op","sp","L1T1","L1T2","L1T3","L2T1_KEY","L2T2_KEY","L2T3_KEY","L3T1_KEY","L3T2_KEY","L3T3_KEY","CERTIFICATE","CODEC","CANDIDATE_PAIR","LOCAL_CANDIDATE","REMOTE_CANDIDATE","INBOUND","TRACK","OUTBOUND","PC","REMOTE_INBOUND","REMOTE_OUTBOUND","TRANSPORT","CSRC","DATA_CHANNEL","STREAM","SENDER","RECEIVER","ap","cp","dp","up","lp","hp","pp","_p","Ep","mp","fp","Sp","Tp","gp","Rp","Ip","Cp","vp","yp","Ap","Op","Np","bp","wp","Dp","Pp","Lp","kp","Mp","Uint8Array","Up","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isPlainObject","isUndefined","isDate","isFile","isBlob","isFunction","isStream","isURLSearchParams","isStandardBrowserEnv","product","extend","stripBOM","inherits","toFlatObject","kindOf","kindOfTest","toArray","isTypedArray","isFileList","xp","Vp","jp","toISOString","Fp","Bp","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","Gp","Wp","Hp","Kp","request","description","number","fileName","lineNumber","columnNumber","Yp","qp","Jp","Xp","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","zp","Qp","Blob","Buffer","append","pop","Zp","$p","e_","toGMTString","cookie","read","t_","i_","n_","r_","o_","s_","a_","setAttribute","hostname","c_","d_","ERR_CANCELED","__CANCEL__","u_","l_","h_","validateStatus","ERR_BAD_REQUEST","ERR_BAD_RESPONSE","p_","__","E_","m_","f_","S_","T_","g_","R_","I_","responseType","cancelToken","signal","XMLHttpRequest","auth","unescape","Authorization","baseURL","getAllResponseHeaders","responseText","paramsSerializer","timeout","onloadend","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","transitional","timeoutErrorMessage","ETIMEDOUT","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","abort","aborted","C_","v_","y_","A_","O_","N_","b_","w_","adapter","transformRequest","env","transformResponse","maxContentLength","maxBodyLength","common","D_","P_","L_","k_","M_","U_","x_","V_","j_","F_","throwIfRequested","B_","G_","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","W_","H_","K_","Y_","q_","ERR_DEPRECATED","J_","X_","z_","Q_","Z_","$_","eE","assertOptions","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","tE","iE","defaults","interceptors","boolean","getUri","nE","rE","oE","_listeners","token","sE","aE","cE","dE","uE","lE","hE","Axios","CanceledError","CancelToken","isCancel","toFormData","AxiosError","Cancel","spread","isAxiosError","pE","_E","logger","prefixLists","info","warning","prefix","popPrefix","EE","getListeners","_events","_indexOfListener","once","off","removeAllListeners","safeEmit","OE","mE","reportLogUploadError","fE","UNEXPECTED_ERROR","UNEXPECTED_RESPONSE","TIMEOUT","INVALID_PARAMS","NOT_READABLE","NOT_SUPPORTED","INVALID_OPERATION","OPERATION_ABORTED","WEB_SECURITY_RESTRICT","EXCHANGE_SDP_FAILED","NETWORK_ERROR","NETWORK_TIMEOUT","NETWORK_RESPONSE_ERROR","API_INVOKE_TIMEOUT","ENUMERATE_DEVICES_FAILED","DEVICE_NOT_FOUND","ELECTRON_IS_NULL","ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR","CHROME_PLUGIN_NO_RESPONSE","CHROME_PLUGIN_NOT_INSTALL","MEDIA_OPTION_INVALID","PERMISSION_DENIED","CONSTRAINT_NOT_SATISFIED","TRACK_IS_DISABLED","GET_VIDEO_ELEMENT_VISIBLE_ERROR","SHARE_AUDIO_NOT_ALLOWED","LOW_STREAM_ENCODING_ERROR","SET_ENCODING_PARAMETER_ERROR","TRACK_STATE_UNREACHABLE","INVALID_UINT_UID_FROM_STRING_UID","CAN_NOT_GET_PROXY_SERVER","CAN_NOT_GET_GATEWAY_SERVER","VOID_GATEWAY_ADDRESS","UID_CONFLICT","MULTI_UNILBS_RESPONSE_ERROR","UPDATE_TICKET_FAILED","INVALID_LOCAL_TRACK","INVALID_TRACK","SENDER_NOT_FOUND","CREATE_OFFER_FAILED","SET_ANSWER_FAILED","ICE_FAILED","PC_CLOSED","SENDER_REPLACE_FAILED","GET_LOCAL_CAPABILITIES_FAILED","GET_LOCAL_CONNECTION_PARAMS_FAILED","SUBSCRIBE_FAILED","UNSUBSCRIBE_FAILED","GATEWAY_P2P_LOST","NO_ICE_CANDIDATE","CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS","EXIST_DISABLED_VIDEO_TRACK","INVALID_REMOTE_USER","REMOTE_USER_IS_NOT_PUBLISHED","CUSTOM_REPORT_SEND_FAILED","CUSTOM_REPORT_FREQUENCY_TOO_HIGH","FETCH_AUDIO_FILE_FAILED","READ_LOCAL_AUDIO_FILE_ERROR","DECODE_AUDIO_FILE_FAILED","WS_ABORT","WS_DISCONNECT","WS_ERR","LIVE_STREAMING_TASK_CONFLICT","LIVE_STREAMING_INVALID_ARGUMENT","LIVE_STREAMING_INTERNAL_SERVER_ERROR","LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED","LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED","LIVE_STREAMING_CDN_ERROR","LIVE_STREAMING_INVALID_RAW_STREAM","LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT","LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE","LIVE_STREAMING_WARN_FREQUENT_REQUEST","WEBGL_INTERNAL_ERROR","BEAUTY_PROCESSOR_INTERNAL_ERROR","CROSS_CHANNEL_WAIT_STATUS_ERROR","CROSS_CHANNEL_FAILED_JOIN_SRC","CROSS_CHANNEL_FAILED_JOIN_DEST","CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST","CROSS_CHANNEL_SERVER_ERROR_RESPONSE","METADATA_OUT_OF_RANGE","LOCAL_AEC_ERROR","INVALID_PLUGIN","DISCONNECT_P2P","INIT_WEBSOCKET_TIMEOUT","CONVERTING_IMAGEDATA_TO_BLOB_FAILED","CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED","INIT_DATACHANNEL_TIMEOUT","DATACHANNEL_CONNECTION_TIMEOUT","PROHIBITED_OPERATION","IMAGE_MODERATION_UPLOAD_FAILED","SE","super","print","throw","TE","timeoutFactor","maxRetryCount","maxRetryTimeout","gE","pow","RE","async","IE","toTimeString","getMilliseconds","CE","toUTCString","getUTCMilliseconds","vE","INFO","WARNING","ERROR","NONE","yE","AE","appendLogToWaitingList","uploadLog","setLogLevel","logLevel","enableLogUpload","BE","disableLogUpload","uploadLogUploadingList","uploadLogWaitingList","setProxyServer","proxyServerURL","GE","payload_str","log_level","log_item_id","currentLogID","uploadState","uploadLogInterval","startUpload","sdk_version","bE","process_id","post","uploadLogs","uploadErrorCount","NE","wE","DE","PE","turnServerURL","tcpport","udpport","forceturn","DEFAULT_TURN_CONFIG","LE","YE","kE","qE","JE","UE","xE","VE","jE","speech_low_quality","KE","speech_standard","music_standard","standard_stereo","high_quality","high_quality_stereo","FE","WE","HE","PROCESS_ID","ENCRYPT_AES","AREAS","WEBCS_DOMAIN","WEBCS_DOMAIN_BACKUP_LIST","PROXY_CS","CDS_AP","ACCOUNT_REGISTER","UAP_AP","LOG_UPLOAD_SERVER","EVENT_REPORT_DOMAIN","EVENT_REPORT_BACKUP_DOMAIN","ENABLE_EVENT_REPORT","GATEWAY_ADDRESS","GATEWAY_WSS_ADDRESS","LIVE_STREAMING_ADDRESS","HTTP_CONNECT_TIMEOUT","SIGNAL_REQUEST_TIMEOUT","REPORT_STATS","UPLOAD_LOG","NOT_REPORT_EVENT","SUBSCRIBE_TWCC","PUBLISH_TWCC","PING_PONG_TIME_OUT","WEBSOCKET_TIMEOUT_MIN","EVENT_REPORT_SEND_INTERVAL","CONFIG_DISTRIBUTE_INTERVAL","ENABLE_CONFIG_DISTRIBUTE","CANDIDATE_TIMEOUT","SHOW_REPORT_INVOKER_LOG","JOIN_EXTEND","PUB_EXTEND","SUB_EXTEND","FORCE_TURN","TURN_ENABLE_TCP","TURN_ENABLE_UDP","MAX_UPLOAD_CACHE","UPLOAD_CACHE_INTERVAL","AJAX_REQUEST_CONCURRENT","REPORT_APP_SCENARIO","GATEWAY_DOMAINS","WORKER_DOMAIN","TURN_DOMAIN","EVENT_REPORT_RETRY","CHROME_FORCE_PLAN_B","AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL","AUDIO_SOURCE_AVG_VOLUME_DURATION","AUDIO_VOLUME_INDICATION_INTERVAL","VOLUME_VOICE_WEIGHT","GET_VOLUME_OF_MUTED_AUDIO_TRACK","STATS_UPDATE_INTERVAL","NORMAL_EVENT_QUEUE_CAPACITY","CUSTOM_REPORT","CUSTOM_REPORT_LIMIT","PROXY_SERVER_TYPE2","PROXY_SERVER_TYPE3","CUSTOM_PUB_ANSWER_MODIFIER","CUSTOM_SUB_ANSWER_MODIFIER","CUSTOM_PUB_OFFER_MODIFIER","CUSTOM_SUB_OFFER_MODIFIER","DSCP_TYPE","REMOVE_NEW_CODECS","FRAGEMENT_LENGTH","WEBSOCKET_COMPRESS","SIMULCAST","PRELOAD_MEDIA_COUNT","USE_PUB_RTX","USE_SUB_RTX","CHECK_VIDEO_VISIBLE_INTERVAL","ENUMERATE_DEVICES_INTERVAL","ENUMERATE_DEVICES_INTERVAL_TIME","USE_NEW_TOKEN","CLOSE_AFB_FOR_LOCAL_AP","JOIN_WITH_FALLBACK_SIGNAL_PROXY","JOIN_WITH_FALLBACK_MEDIA_PROXY","JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE","JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION","USE_TURN_SERVER_OF_GATEWAY","H264_PROFILE_LEVEL_ID","USE_NEW_LOG","LOG_VERSION","MEDIA_DEVICE_CONSTRAINTS","ENCRYPT_PROXY_USERNAME_AND_PSW","SDP_LOGGING","CSP_DETECTED_HOSTNAME_LIST","REMOTE_AUDIO_TRACK_USES_WEB_AUDIO","LOCAL_AUDIO_TRACK_USES_WEB_AUDIO","BITRATE_ADAPTER_TYPE","AI_DENOISER_PARAMETERS","ADJUST_3A_FROM_PLUGINS","RAISE_H264_BASELINE_PRIORITY","FILTER_SEND_H264_BASELINE","ENABLE_PUBLISHED_USER_LIST","MAX_SUBSCRIPTION","X_GOOGLE_START_BITRATE","NEW_REPORT_SERVER","NEW_REPORT_SERVER_DOMAINS","VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT","VIDEO_INSPECT_INTERVAL_MINIMUM","VIDEO_INSPECT_QUALITY_RATIO","VIDEO_INSPECT_WORKER_MANAGER_HOST","VIDEO_INSPECT_WORKER_MANAGER_PORT","VIDEO_INSPECT_WORKER_PORT","SHOW_VIDEO_INSPECT_WORKER_MESSAGE","STATS_COLLECTOR_PORT","FORCE_TURN_TCP","SUBSCRIBE_AUDIO_FILTER_TOPN","ENABLE_PUBLISH_AUDIO_FILTER","WEBAUDIO_INIT_OPTIONS","FILTER_VIDEO_FEC","FILTER_AUDIO_FEC","CHROME_DUAL_STREAM_USE_ENCODING","EXTENSION_USAGE_UPLOAD_INTERVAL","ICE_RESTART","ICE_RESTART_INTERVAL","NEW_ICE_RESTART","ENABLE_USER_LICENSE_CHECK","SIGNAL_CHANNEL","TRANSMITTER_INITIAL_RTT","TRANSMITTER_INITIAL_RTO","TRANSMITTER_MAX_BATCH_ACK_COUNT","TRANSMITTER_MAX_RTO","DATACHANNEL_COMPRESS","FINGERPRINT","DC_JOIN_WITH_FAILBACK","ENABLE_VIDEO_FRAME_CALLBACK","VIDEO_FREEZE_DURATION","SPATIALIZER_PARAMETERS","UPLOAD_LOG_INTERVAL","UPLOAD_LOG_REQUEST_RETRY_INTERVAL","UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL","UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF","UPLOAD_LOG_RETRY_INTERVAL_V1","UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1","UPLOAD_LOG_LENGTH_EACH_TIME","APP_TYPE","DISABLE_WEBAUDIO","CHANNEL_MEDIA_RELAY_SERVERS","KEEP_LAST_FRAME","FORWARD_P2P_CREATION","SYNC_GROUP","BLOCK_LOCAL_CLIENT","AP_AREA","SVC","ENABLE_ENCODED_TRANSFORM","IMAGE_MODERATION_WORKER_HOST","IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT","IMAGE_MODERATION_INTERVAL_MINIMUM","SHOW_IMAGE_MODERATION_WORKER_MESSAGE","IMAGE_MODERATION_QUALITY_RATIO","IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL","ACCOUNT_REGISTER_RETRY_TIMEOUT","ACCOUNT_REGISTER_RETRY_RATIO","ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX","ACCOUNT_REGISTER_RETRY_COUNT_MAX","AUDIO_CONTEXT","WEBCS_BACKUP_CONNECT_TIMEOUT","PLAYER_STATE_DEFER","SIGNAL_REQUEST_WATCH_INTERVAL","FILEPATH_LENMAX","DUALSTREAM_OPERATION_CHECK","MEDIA_ELEMENT_EXISTS_DEPTH","SHIM_CANDIDATE","LEAVE_MSG_TIMEOUT","STATS_FILTER","transportId","googTrackId","sampleRate","stereo","bitrateMin","bitrateMax","numSpatialLayers","numTemporalLayers","XE","zE","QE","ZE","$E","em","tm","im","nm","rm","om","sm","am","cm","dm","um","lm","hm","pm","_m","Em","mm","fm","Sm","Tm","gm","Rm","Im","Cm","vm","ym","Am","Om","Nm","bm","wm","Dm","Pm","Lm","km","Mm","Um","xm","Vm","jm","fromCharCode","Fm","Bm","Gm","Wm","Hm","Km","Ym","qm","tf","Jm","Xm","ef","zm","Qm","Zm","$m","nf","rf","sf","FREE","UPLOADING","MISC","INTERNAL_EVENT","PUBLIC_EVENT","WEB_EVENT","INTERNAL_API","WEB_API","PUBLIC_API","INIT","CANPLAY","PLAYING","PAUSED","SUSPEND","STALLED","WAITING","DESTROYED","ABORT","ENDED","EMPTIED","LOADEDDATA","af","uninit","init","loadeddata","canplay","playing","paused","suspend","stalled","waiting","destroyed","ended","emptied","cf","reportId","category","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","df","sid","lts","success","peer","cid","elapse","vid","uf","lf","hf","pf","Ef","mf","ff","Sf","Tf","gf","Rf","If","Cf","vf","yf","Af","Of","Nf","bf","wf","Df","Pf","Lf","kf","Mf","codec","audioCodec","proxyServer","turnServer","xf","httpRetryConfig","websocketRetryConfig","Uf","security","Vf","level","PUBLISH","SUBSCRIBE","WS_COMPRESSOR_INIT","SESSION_INIT","JOIN_CHOOSE_SERVER","REQ_USER_ACCOUNT","JOIN_GATEWAY","REJOIN_GATEWAY","STREAM_SWITCH","REQUEST_PROXY_WORKER_MANAGER","REQUEST_PROXY_APPCENTER","FIRST_VIDEO_RECEIVED","FIRST_AUDIO_RECEIVED","FIRST_VIDEO_DECODE","FIRST_AUDIO_DECODE","ON_ADD_AUDIO_STREAM","ON_ADD_VIDEO_STREAM","ON_UPDATE_STREAM","ON_REMOVE_STREAM","USER_ANALYTICS","PC_STATS","SESSION","RE_JOIN_GATEWAY","AUDIO_SENDING_STOPPED","VIDEO_SENDING_STOPPED","API_INVOKE","JOIN_CHANNEL_TIMEOUT","PEER_PUBLISH_STATUS","WORKER_EVENT","AP_WORKER_EVENT","JOIN_WEB_PROXY_AP","WEBSOCKET_QUIT","AUTOPLAY_FAILED","CREATE_CLIENT","CHECK_SYSTEM_REQUIREMENTS","SET_AREA","CHECK_VIDEO_TRACK_IS_ACTIVE","CHECK_AUDIO_TRACK_IS_ACTIVE","CREATE_MIC_AUDIO_TRACK","CREATE_CUSTOM_AUDIO_TRACK","CREATE_BUFFER_AUDIO_TRACK","CREATE_CAM_VIDEO_TRACK","CREATE_CUSTOM_VIDEO_TRACK","CREATE_MIC_AND_CAM_TRACKS","CREATE_SCREEN_VIDEO_TRACK","SET_ENCRYPTION_CONFIG","START_PROXY_SERVER","STOP_PROXY_SERVER","SET_PROXY_SERVER","SET_TURN_SERVER","SET_CLIENT_ROLE","SET_LOW_STREAM_PARAMETER","ENABLE_DUAL_STREAM","DISABLE_DUAL_STREAM","JOIN","LEAVE","UNPUBLISH","MASS_SUBSCRIBE","MASS_UNSUBSCRIBE","UNSUBSCRIBE","RENEW_TOKEN","SET_REMOTE_VIDEO_STREAM_TYPE","SET_STREAM_FALLBACK_OPTION","ENABLE_AUDIO_VOLUME_INDICATOR","SEND_CUSTOM_REPORT_MESSAGE","INSPECT_VIDEO_CONTENT","STOP_INSPECT_VIDEO_CONTENT","JOIN_FALLBACK_TO_PROXY","DATACHANNEL_FAILBACK","ON_LIVE_STREAM_WARNING","ON_LIVE_STREAM_ERROR","START_LIVE_STREAMING","SET_LIVE_TRANSCODING","STOP_LIVE_STREAMING","ADD_INJECT_STREAM_URL","REMOVE_INJECT_STREAM_URL","START_CHANNEL_MEDIA_RELAY","UPDATE_CHANNEL_MEDIA_RELAY","STOP_CHANNEL_MEDIA_RELAY","REQUEST_CONFIG_DISTRIBUTE","SET_CONFIG_DISTRIBUTE","LOCAL_TRACK_SET_MUTED","LOCAL_AUDIO_TRACK_PLAY","LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT","LOCAL_AUDIO_TRACK_STOP","LOCAL_AUDIO_TRACK_SET_VOLUME","MIC_AUDIO_TRACK_SET_DEVICE","BUFFER_AUDIO_TRACK_START","BUFFER_AUDIO_TRACK_STOP","BUFFER_AUDIO_TRACK_PAUSE","BUFFER_AUDIO_TRACK_RESUME","BUFFER_AUDIO_TRACK_SEEK","LOCAL_VIDEO_TRACK_PLAY","LOCAL_VIDEO_TRACK_STOP","LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE","LOCAL_VIDEO_TRACK_BEAUTY","CAM_VIDEO_TRACK_SET_DEVICE","CAM_VIDEO_TRACK_SET_ENCODER_CONFIG","REMOTE_VIDEO_TRACK_PLAY","REMOTE_VIDEO_TRACK_STOP","REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE","REMOTE_AUDIO_TRACK_PLAY","REMOTE_AUDIO_TRACK_STOP","REMOTE_AUDIO_SET_VOLUME","REMOTE_AUDIO_SET_OUTPUT_DEVICE","GET_MEDIA_STREAM_TRACK","STREAM_TYPE_CHANGE","CONNECTION_STATE_CHANGE","LOAD_CONFIG_FROM_LOCALSTORAGE","IMAGE_MODERATION_UPLOAD","TRACER","IDLE","INITING","INITEND","STATE_CHANGE","RECORDING_DEVICE_CHANGED","PLAYOUT_DEVICE_CHANGED","CAMERA_DEVICE_CHANGED","ACCESS_POINT","UNILBS","STRING_UID_ALLOCATOR","IIIEGAL_APPID","IIIEGAL_UID","INTERNAL_ERROR","INVALID_VENDOR_KEY","INVALID_CHANNEL_NAME","NO_AUTHORIZED","DYNAMIC_KEY_TIMEOUT","NO_ACTIVE_STATUS","DYNAMIC_KEY_EXPIRED","STATIC_USE_DYNAMIC_KEY","DYNAMIC_USE_STATIC_KEY","USER_OVERLOAD","FORBIDDEN_REGION","CANNOT_MEET_AREA_DEMAND","NO_FLAG_SET","FLAG_SET_BUT_EMPTY","INVALID_FALG_SET","FLAG_SET_BUT_NO_RE","INVALID_SERVICE_ID","NO_SERVICE_AVAILABLE","NO_SERVICE_AVAILABLE_P2P","NO_SERVICE_AVAILABLE_VOICE","NO_SERVICE_AVAILABLE_WEBRTC","NO_SERVICE_AVAILABLE_CDS","NO_SERVICE_AVAILABLE_CDN","NO_SERVICE_AVAILABLE_TDS","NO_SERVICE_AVAILABLE_REPORT","NO_SERVICE_AVAILABLE_APP_CENTER","NO_SERVICE_AVAILABLE_ENV0","NO_SERVICE_AVAILABLE_VOET","NO_SERVICE_AVAILABLE_STRING_UID","NO_SERVICE_AVAILABLE_WEBRTC_UNILBS","NO_SERVICE_AVAILABLE_UNILBS_FLV","K_TIMESTAMP_EXPIRED","K_CHANNEL_PERMISSION_INVALID","K_CERTIFICATE_INVALID","K_CHANNEL_NAME_EMPTY","K_CHANNEL_NOT_FOUND","K_TICKET_INVALID","K_CHANNEL_CONFLICTED","K_SERVICE_NOT_READY","K_SERVICE_TOO_HEAVY","K_UID_BANNED","K_IP_BANNED","K_CHANNEL_BANNED","WARN_NO_AVAILABLE_CHANNEL","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_REJECTED","WARN_OPEN_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_REJECTED","WARN_REQUEST_DEFERRED","ERR_DYNAMIC_KEY_TIMEOUT","ERR_NO_AUTHORIZED","ERR_VOM_SERVICE_UNAVAILABLE","ERR_NO_CHANNEL_AVAILABLE_CODE","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR","ERR_NO_ACTIVE_STATUS","ERR_INVALID_UID","ERR_DYNAMIC_KEY_EXPIRED","ERR_STATIC_USE_DYANMIC_KE","ERR_DYNAMIC_USE_STATIC_KE","ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","ERR_REPEAT_JOIN_CHANNEL","ERR_JOIN_BY_MULTI_IP","ERR_NOT_JOINED","ERR_REPEAT_JOIN_REQUEST","ERR_INVALID_VENDOR_KEY","ERR_INVALID_CHANNEL_NAME","ERR_INVALID_STRINGUID","ERR_TOO_MANY_USERS","ERR_SET_CLIENT_ROLE_TIMEOUT","ERR_SET_CLIENT_ROLE_NO_PERMISSION","ERR_SET_CLIENT_ROLE_ALREADY_IN_USE","ERR_PUBLISH_REQUEST_INVALID","ERR_SUBSCRIBE_REQUEST_INVALID","ERR_NOT_SUPPORTED_MESSAGE","ERR_ILLEAGAL_PLUGIN","ERR_REJOIN_TOKEN_INVALID","ERR_REJOIN_USER_NOT_JOINED","ERR_INVALID_OPTIONAL_INFO","ILLEGAL_AES_PASSWORD","ILLEGAL_CLIENT_ROLE_LEVEL","ERR_TOO_MANY_BROADCASTERS","ERR_TOO_MANY_SUBSCRIBERS","ERR_LICENSE_MISSING","ERR_LICENSE_EXPIRED","ERR_LICENSE_MINUTES_EXCEEDED","ERR_LICENSE_PERIOD_INVALID","ERR_LICENSE_MULTIPLE_SDK_SERVICE","ERR_LICENSE_ILLEGAL","ERR_TEST_RECOVER","ERR_TEST_TRYNEXT","ERR_TEST_RETRY","AUDIENCE_LEVEL_LOW_LATENCY","AUDIENCE_LEVEL_ULTRA_LOW_LATENCY","AUDIENCE_LEVEL_SYNC_LATENCY","SERVER_ERROR","UID_BANNED","IP_BANNED","CHANNEL_BANNED","FALLBACK","LICENSE_MISSING","LICENSE_EXPIRED","LICENSE_MINUTES_EXCEEDED","LICENSE_PERIOD_INVALID","LICENSE_MULTIPLE_SDK_SERVICE","LICENSE_ILLEGAL","MEDIA_RECONNECT_START","MEDIA_RECONNECT_END","IS_USING_CLOUD_PROXY","USER_JOINED","USER_LEAVED","USER_PUBLISHED","USER_UNPUBLISHED","USER_INFO_UPDATED","CLIENT_BANNED","CHANNEL_MEDIA_RELAY_STATE","CHANNEL_MEDIA_RELAY_EVENT","VOLUME_INDICATOR","CRYPT_ERROR","ON_TOKEN_PRIVILEGE_WILL_EXPIRE","ON_TOKEN_PRIVILEGE_DID_EXPIRE","NETWORK_QUALITY","STREAM_TYPE_CHANGED","STREAM_FALLBACK","RECEIVE_METADATA","STREAM_MESSAGE","LIVE_STREAMING_ERROR","LIVE_STREAMING_WARNING","INJECT_STREAM_STATUS","EXCEPTION","P2P_LOST","CHANNEL_FALLBACK_TO_WEBSOCKET","MEDIA_CONNECTION_TYPE_CHANGE","PUBLISHED_USER_LIST","CONTENT_INSPECT_CONNECTION_STATE_CHANGE","CONTENT_INSPECT_ERROR","CONTENT_INSPECT_RESULT","IMAGE_MODERATION_CONNECTION_STATE_CHANGE","MULTI_IP","OFFLINE","P2P_FAILED","CONNECTING","CONNECTED","RECONNECTING","CLOSED","WS_CONNECTED","WS_RECONNECTING","WS_CLOSED","WS_RECONNECT_WAITTING_FINISH","WS_RECONNECT_CREATE_CONNECTION","ON_BINARY_DATA","REQUEST_RECOVER","REQUEST_JOIN_INFO","REQUEST_REJOIN_INFO","IS_P2P_DISCONNECTED","ABORT_P2P_EXECUTION","NEED_RENEW_SESSION","REPORT_JOIN_GATEWAY","REQUEST_TIMEOUT","REQUEST_SUCCESS","JOIN_RESPONSE","DATACHANNEL_PRECONNECT","DATACHANNEL_CONNECTING","PING","PING_BACK","REJOIN","SUBSCRIBE_STREAMS","UNSUBSCRIBE_STREAMS","SUBSCRIBE_CHANGE","TRAFFIC_STATS","SWITCH_VIDEO_STREAM","DEFAULT_VIDEO_STREAM","SET_FALLBACK_OPTION","GATEWAY_INFO","CONTROL","SEND_METADATA","DATA_STREAM","PICK_SVC_LAYER","RESTART_ICE","CONNECT_PC","SET_VIDEO_PROFILE","SET_PARAMETER","PUBLISH_STATS","PUBLISH_RELATED_STATS","SUBSCRIBE_STATS","SUBSCRIBE_RELATED_STATS","WS_INFLATE_DATA_LENGTH","DENOISER_STATS","TRANSPORT_STATS","EXTENSION_USAGE_STATS","ON_USER_ONLINE","ON_USER_OFFLINE","ON_STREAM_FALLBACK_UPDATE","ON_PUBLISH_STREAM","ON_UPLINK_STATS","ON_P2P_LOST","ON_USER_BANNED","ON_USER_LICENSE_BANNED","ON_NOTIFICATION","ON_CRYPT_ERROR","MUTE_AUDIO","MUTE_VIDEO","UNMUTE_AUDIO","UNMUTE_VIDEO","ON_P2P_OK","ON_DATA_STREAM","ENABLE_LOCAL_VIDEO","DISABLE_LOCAL_VIDEO","ENABLE_LOCAL_AUDIO","DISABLE_LOCAL_AUDIO","ON_PUBLISHED_USER_LIST","NEED_ANSWER","NEED_RENEGOTIATE","NEED_UNPUB","NEED_UNSUB","NEED_UPLOAD","NEED_CONTROL","START_RECONNECT","END_RECONNECT","NEED_SIGNAL_RTT","AUDIO_SOURCE_STATE_CHANGE","RECEIVE_TRACK_BUFFER","ON_AUDIO_BUFFER","UPDATE_SOURCE","jf","sendVolumeLevel","sendBitrate","sendBytes","sendPackets","sendPacketsLost","currentPacketLossRate","Ff","sendResolutionHeight","sendResolutionWidth","captureResolutionHeight","captureResolutionWidth","targetSendBitrate","totalDuration","totalFreezeTime","Bf","transportDelay","end2EndDelay","receiveBitrate","receiveLevel","receiveBytes","receiveDelay","receivePackets","receivePacketsLost","freezeRate","packetLossRate","publishDuration","Gf","uplinkNetworkQuality","downlinkNetworkQuality","Wf","receiveResolutionHeight","receiveResolutionWidth","Hf","Kf","Yf","WILL_RECONNECT","FAILED","ON_MESSAGE","REQUEST_NEW_URLS","RECONNECT_WAITTING_FINISH","RECONNECT_CREATE_CONNECTION","TRANSCODE","RAW","INJECT","INJECT_STREAM_STATUS_START_SUCCESS","INJECT_STREAM_STATUS_START_ALREADY_EXISTS","INJECT_STREAM_STATUS_START_UNAUTHORIZED","INJECT_STREAM_STATUS_START_TIMEOUT","INJECT_STREAM_STATUS_START_FAILED","INJECT_STREAM_STATUS_STOP_SUCCESS","INJECT_STREAM_STATUS_STOP_NOT_FOUND","INJECT_STREAM_STATUS_STOP_UNAUTHORIZED","INJECT_STREAM_STATUS_STOP_TIMEOUT","INJECT_STREAM_STATUS_STOP_FAILED","INJECT_STREAM_STATUS_BROKEN","qf","zOrder","audioChannel","Jf","Xf","zf","audioBitrate","audioChannels","audioSampleRate","backgroundColor","lowLatency","videoBitrate","videoCodecProfile","videoCodecType","videoFrameRate","videoGop","images","userConfigs","userConfigExtraInfo","Qf","audioVolume","videoFramerate","Zf","$f","eS","tS","iS","nS","rS","oS","sS","aS","cS","dS","uS","lS","hS","pS","_S","ES","mS","fS","SS","TS","gS","PUBLISH_STREAM_STATUS","WORKER_STATUS","REQUEST_NEW_ADDRESS","REQUEST_WORKER_MANAGER_LIST","LIVE_STREAM_RESPONSE_SUCCEED","LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM","LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR","LIVE_STREAM_RESPONSE_BAD_STREAM","LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR","LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST","LIVE_STREAM_RESPONSE_NOT_AUTHORIZED","LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE","LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN","LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH","LIVE_STREAM_RESPONSE_NOT_SUPPORTED","LIVE_STREAM_RESPONSE_MAX_STREAM_NUM","LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR","LIVE_STREAM_RESPONSE_WORKER_LOST","LIVE_STREAM_RESPONSE_RESOURCE_LIMIT","LIVE_STREAM_RESPONSE_WORKER_QUIT","ERROR_FAIL_SEND_MESSAGE","PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE","PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT","PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH","PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN","CONNECT_FAILED","CONNECT_TIMEOUT","WS_DISCONNECTED","REQUEST_FAILED","WAIT_STATUS_TIMEOUT","WAIT_STATUS_ERROR","BAD_STATE","AP_REQUEST_TIMEOUT","AP_JSON_PARSE_ERROR","AP_REQUEST_ERROR","AP_REQUEST_ABORT","SetSdkProfile","SetSourceChannel","SetSourceUserId","SetDestChannel","StartPacketTransfer","StopPacketTransfer","UpdateDestChannel","Reconnect","SetVideoProfile","NETWORK_DISCONNECTED","NETWORK_CONNECTED","PACKET_JOINED_SRC_CHANNEL","PACKET_JOINED_DEST_CHANNEL","PACKET_SENT_TO_DEST_CHANNEL","PACKET_RECEIVED_VIDEO_FROM_SRC","PACKET_RECEIVED_AUDIO_FROM_SRC","PACKET_UPDATE_DEST_CHANNEL","PACKET_UPDATE_DEST_CHANNEL_REFUSED","PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE","RELAY_STATE_IDLE","RELAY_STATE_CONNECTING","RELAY_STATE_RUNNING","RELAY_STATE_FAILURE","RELAY_OK","SERVER_CONNECTION_LOST","SRC_TOKEN_EXPIRED","DEST_TOKEN_EXPIRED","High","Low","Audio","Screen","ScreenLow","DISCONNECT","REQUEST_NEW_GATEWAY_LIST","REQUEST_P2P_CONNECTION_PARAMS","REQUEST_DC_CONNECTION_PARAMS","RESET_CONNECTION_EVENTS","RESET_SIGNAL","Nothing","LwoVideo","Video","Data","websocket","datachannel","NEED_REPLACE_TRACK","NEED_CLOSE","NEED_ENABLE_TRACK","NEED_DISABLE_TRACK","NEED_SESSION_ID","SET_OPTIMIZATION_MODE","GET_STATS","GET_LOW_VIDEO_TRACK","NEED_RESET_REMOTE_SDP","NEED_UPDATE_VIDEO_ENCODER","NEED_MUTE_TRACK","NEED_UNMUTE_TRACK","SCREEN_TRACK","CUSTOM_TRACK","LOW_STREAM","HIGH_STREAM","DISABLE","AUDIO_ONLY","TRANSCEIVER_UPDATED","SOURCE_STATE_CHANGE","TRACK_ENDED","BEAUTY_EFFECT_OVERLOAD","VIDEO_ELEMENT_VISIBLE_STATUS","FIRST_FRAME_DECODED","CHINA","ASIA","NORTH_AMERICA","EUROPE","JAPAN","INDIA","KOREA","HKMC","US","OCEANIA","SOUTH_AMERICA","AFRICA","OVERSEA","GLOBAL","EXTENSIONS","RS","IS","CS","CODE","vS","yS","AS","NS","bS","wS","DS","PS","LS","kS","MS","xS","VS","jS","FS","BS","GS","WS","HS","KS","UPDATE_BITRATE_LIMIT","YS","SEND","RECV","SENDRECV","INACTIVE","VIDEO","AUDIO","UDP","TCP","RELAY","FIRST_CONNECTION","TCP_RESTART","RELAY_RESTART","OLD_FIRST_CONNECTION","OLD_RESTART","DISCONNECTED_OR_FAILED","LocalVideoTrack","LocalAudioTrack","LocalVideoLowTrack","New","Connected","Reconnecting","Disconnected","StateChange","IceConnectionStateChange","RequestMuteLocal","RequestUnmuteLocal","RequestRePublish","RequestReSubscribe","RequestUploadStats","MediaReconnectStart","MediaReconnectEnd","NeedSignalRTT","RequestRestartICE","PeerConnectionStateChange","RequestReconnect","RequestReconnectPC","RequestUnpublishForReconnectPC","P2PLost","UpdateVideoEncoder","ConnectionTypeChange","RequestLowStreamParameter","QueryClientConnectionState","ONLINE","NETWORK_STATE_CHANGE","ON_TRACK","ON_NODE","REQUEST_UPDATE_CONSTRAINTS","REQUEST_CONSTRAINTS","CONNECT_AP","AP_CONNECTED","CONNECT_WORKER_MANAGER","WORKER_MANAGER_CONNECTED","GET_WORKER_MANAGER_RESPONSE","CONNECT_WORKER","WORKER_CONNECTED","INSPECT_RESULT","CLIENT_LOCAL_VIDEO_TRACK","REQUEST_NEW_WORKER_URL","TO_CONNECT_DATACHANNEL","FAILBACK","CAMERA_CHANGED","MICROPHONE_CHANGED","PLAYBACK_DEVICE_CHANGED","AUDIO_AUTOPLAY_FAILED","SECURITY_POLICY_VIOLATION","APP_TYPE_INVALID_VALUE","APP_TYPE_NATIVE","APP_TYPE_NATIVE_COCOS","APP_TYPE_NATIVE_UNITY","APP_TYPE_NATIVE_ELECTRON","APP_TYPE_NATIVE_FLUTTER","APP_TYPE_NATIVE_UNREAL","APP_TYPE_NATIVE_XAMARIN","APP_TYPE_NATIVE_API_CLOUD","APP_TYPE_NATIVE_REACT_NATIVE","APP_TYPE_NATIVE_PYTHON","APP_TYPE_NATIVE_COCOS_CREATOR","APP_TYPE_NATIVE_RUST","APP_TYPE_NATIVE_C_SHARP","APP_TYPE_NATIVE_CEF","APP_TYPE_NATIVE_UNI_APP","APP_TYPE_WEBRTC","APP_TYPE_WEBRTC_REACT","APP_TYPE_WEBRTC_VUE","APP_TYPE_WEBRTC_ANGULAR","qS","getStreamFromExtension","supportUnifiedPlan","supportMinBitrate","supportSetRtpSenderParameters","supportDualStream","webAudioMediaStreamDest","supportReplaceTrack","supportWebGL","webAudioWithAEC","supportRequestFrame","supportShareAudio","supportDualStreamEncoding","supportDataChannel","supportPCSetConfiguration","supportWebRTCEncodedTransform","JS","XS","CHOOSE_SERVER","CLOUD_PROXY","CLOUD_PROXY_5","CLOUD_PROXY_FALLBACK","zS","QS","ZS","$S","eT","tT","iT","nT","rT","oT","sT","aT","cT","dT","uT","lT","hT","pT","findIndex","filterReject","_T","ET","mT","fT","ST","TT","gT","IT","CT","vT","yT","AT","OT","NT","bT","wT","DT","PT","LT","kT","MT","UT","xT","VT","jT","FT","foo","BT","GT","WT","HT","KT","YT","qT","JT","XT","zT","QT","ZT","$T","eg","tg","ig","ng","rg","og","sg","ag","initializer","cg","dg","ug","lg","hg","pg","_g","Eg","mg","fg","Sg","Tg","gg","XI","realFormData","Rg","Ig","networkState","_moduleName","_networkState","onlineWaiter","Cg","vg","yg","onAutoplayFailed","onAudioAutoplayFailed","Ag","TextEncoder","Og","Ng","padStart","crypto","subtle","digest","bg","wg","Dg","className","__className__","argsMap","report","Pg","reportApiInvoke","_sessionId","reportResult","throttleTime","onSuccess","onError","invokeId","apiInvokeCount","sendApiInvoke","eventUploadTimer","setInterval","doSend","setSessionIdTimer","appendSessionId","adjustSessionStartTime","baseInfoMap","startTime","setAppId","_appId","apiInvokeTime","states","zI","mC","sessionInit","createBaseInfo","willUploadConsoleLog","areaVersion","areas","eventType","appid","appType","joinChooseServer","eventElapse","chooseServerAddr","csAddr","errorCode","succ","chooseServerAddrList","serverList","chooseServerIp","csIp","opid","unilbsServerIds","isHttp3","reqUserAccount","serverAddress","serverAddr","stringUid","joinGateway","firstSuccess","avoidJoinStartTime","isProxy","addr","gatewayAddr","signalChannel","lastJoinSuccessTime","isSuccess","gatewayIp","joinChannelTimeout","publish","videoName","audioName","screenName","screenshare","p2pid","publishRequestid","subscribeRequestid","isMassSubscribe","peerid","peerSuid","wsCompressorInit","firstRemoteVideoDecode","firstDecodeFrame","apEnd","apStart","joinGwEnd","joinGwStart","pcEnd","pcStart","subscriberEnd","subscriberStart","videoAddNotify","firstRemoteFrame","pcStats","onGatewayStream","streamSwitch","isDual","isdual","requestProxyAppCenter","APAddr","workerManagerList","requestProxyWorkerManager","workerManagerAddr","peerPublishStatus","subscribeElapse","peerPublishDuration","audioPublishDuration","videoPublishDuration","audiotag","videotag","joinChannelSuccessElapse","peerPublishDurationVideo","peerPublishDurationAudio","workerEvent","JI","productType","apworkerEvent","joinWebProxyAP","WebSocketQuit","customReportCount","customReportCounterTimer","postDataToStatsCollector2","postDataToStatsCollector","autoplayFailed","cbRegistered","errorMsg","mediaType","apiInvokeUploadPendingItems","execElapse","apiName","execStates","execResult","clientList","keyEventUploadPendingItems","sendItems","normalEventUploadPendingItems","lastSendNormalEventTime","ltsList","DataView","setUint16","setUint8","biz","sendts","round","msgType","sentTs","payloads","backupUrl","reportResourceTiming","performance","getEntriesByName","Lg","_ID","ZI","_originMediaStreamTrack","_mediaStreamTrack","getTrackId","getMediaStreamTrack","getRTCRtpTransceiver","_lowRtpTransceiver","_rtpTransceiver","getMediaStreamTrackSettings","_isClosed","_updateRtpTransceiver","kg","Mg","Ug","lockId","isLocked","locks","lock","lockingPromise","xg","Vg","isExternalTrack","_isExternalTrack","muted","_muted","_enabled","processorContext","_processorContext","onTrackEnded","_enabledMutex","_handleTrackEnded","getTrackLabel","_updatePlayerSource","rC","processor","updateInput","context","_getDefaultPlayerConfig","stateCheck","getProcessorStats","gatherStats","getProcessorUsage","gatherUsage","jg","IOS_15_16_INTERRUPTION_START","IOS_15_16_INTERRUPTION_END","IOS_INTERRUPTION_START","IOS_INTERRUPTION_END","Fg","Bg","Gg","curState","duringInterruption","prevState","bindInterruptDetectorTrack","interruptDetectorTrack","onmute","onLocalAudioTrackMute","onunmute","onLocalAudioTrackUnmute","unbindInterruptDetectorTrack","Wg","onstatechange","currentTime","currentTimeStuckAt","resume","capture","passive","play","createMediaStreamDestination","disableRemotePlayback","preload","srcObject","Hg","Kg","Yg","qg","createBufferSource","createGain","connect","disconnect","_inputNodes","AudioNode","aC","Jg","clearInterval","gain","destination","createOscillator","onended","Xg","analyserNode","createAnalyser","fftSize","smoothingTimeConstant","updateSource","sourceNode","getVolumeLevel","Float32Array","getFloatTimeDomainData","getByteTimeDomainData","log10","getAnalyserNode","rebuildAnalyser","destroy","zg","processSourceNode","processedNode","isDestroyed","_processedNode","outputNode","playNode","volumeLevelAnalyser","startGetAudioBuffer","audioBufferNode","createScriptProcessor","onaudioprocess","outputBuffer","numberOfChannels","getChannelData","inputBuffer","stopGetAudioBuffer","createOutputTrack","destNode","outputTrack","dC","isPlayed","getAccurateVolumeLevel","isNoAudioInput","onNoAudioInput","checkHasAudioInput","getAudioVolume","setVolume","setValueAtTime","Qg","isFreeze","rebuildWebAudio","clone","isCurrentTrackCloned","createMediaStreamSource","audioElement","isRemoteTrack","clonedTrack","originVolumeLevelAnalyser","updateTrack","createMediaStreamSourceNode","updateOriginTrack","getOriginVolumeLevel","Zg","minFrameRate","$g","eR","innerText","onclick","thumbnail","getSize","resize","toDataURL","iR","desktopCapturer","getSources","types","ipcRenderer","invoke","tR","nR","rR","oR","sR","aR","cR","dR","audioSource","videoSource","sourceId","uR","extensionId","chrome","runtime","sendMessage","getStream","streamId","displaySurface","selfBrowserSurface","surfaceSwitching","systemAudio","screenAudio","SC","lR","_state","updateDevicesInfo","checkMediaDeviceInfoIsOk","isAccessMicrophonePermission","isAccessCameraPermission","searchDeviceIdByName","deviceInfoMap","checkdeviceMatched","groupId","initAt","updateAt","lastAccessMicrophonePermission","lastAccessCameraPermission","hR","pR","elementMap","elementStateMap","pause","autoResumeAudioElement","autoResumeAfterInterruption","autoResumeAfterInterruptionOnIOS15_16","sinkIdMap","setSinkId","autoplay","bindAudioElementEvents","elementsNeedToResume","isPlaying","volume","getPlayerState","_R","ER","mR","fR","SR","TR","gR","RR","IR","CR","vR","yR","videoContext","unpipe","enable","disable","inputTrack","chained","AR","_chained","nC","constraintsMap","registerStats","statsRegistry","processorID","ID","processorName","unregisterStats","stats","registerUsage","usageRegistry","unregisterUsage","OR","audioProcessorContext","inputNode","NR","audioContext","getAudioContext","bR","wR","DR","PR","LR","trigger","tasks","func","enqueue","runTask","release","clearTimeout","kR","MR","UR","xR","VR","jR","FR","BR","GR","WR","HR","KR","YR","qR","JR","XR","zR","QR","ZR","$R","eI","tI","iI","nI","rI","oI","sI","aI","cI","dI","uI","lI","hI","pI","_I","EI","mI","fI","SI","TI","gI","RI","II","CI","vI","UPDATE_TRACK_SOURCE","yI","_source","_trackSource","processorDestination","_processorDestination","_useAudioElement","_encoderConfig","_getOriginVolumeLevel","bindProcessorDestinationEvents","_bypassWebAudio","_volume","setSinkID","_setEnabled","hC","oC","setAudioFrameCallback","unbindProcessorDestinationEvents","unbindProcessorContextEvents","renewMediaStreamTrack","AI","encoderConfig","_config","_constraints","_originalConstraints","_deviceName","bypassWebAudio","bindProcessorContextEvents","getDeviceById","_updateOriginMediaStreamTrack","microphoneId","setEnabled","OI","duration","_bufferSource","currentState","playbackSpeed","getCurrentTime","startProcessAudioBuffer","updateOptions","pauseProcessAudioBuffer","seekAudioBuffer","resumeProcessAudioBuffer","stopProcessAudioBuffer","setAudioBufferPlaybackSpeed","NI","trackList","hasAudioTrack","addAudioTrack","updateEncoderConfig","removeAudioTrack","sampleSize","bI","setLocalAudioStats","record","checkAudioInputLevel","checkSendAudioBitrate","setLocalVideoStats","checkSendVideoBitrate","checkFramerateInput","checkFramerateSent","setRemoteAudioStats","getUserId","checkAudioOutputLevel","setRemoteVideoStats","checkVideoDecode","resultStorage","isPrevNormal","wI","FI","captureFrameRate","sendFrameRate","decodeFrameRate","FRAMERATE_INPUT_TOO_LOW","FRAMERATE_SENT_TOO_LOW","SEND_VIDEO_BITRATE_TOO_LOW","RECV_VIDEO_DECODE_FAILED","AUDIO_INPUT_LEVEL_TOO_LOW","AUDIO_OUTPUT_LEVEL_TOO_LOW","SEND_AUDIO_BITRATE_TOO_LOW","DI","markSubscribeStart","mark","markPublishStart","measureFromSubscribeStart","measureFromPublishStart","PI","LI","kI","p2pChannel","updateRemoteStats","updateLocalStats","store","updateStatsInterval","updateStats","exceptionMonitor","onStatsException","localStats","remoteStats","trafficStats","trafficStatsPeerList","uplinkStats","getLocalAudioTrackStats","getLocalVideoTrackStats","getRemoteAudioTrackStats","peer_delay","peer_uid","B_ppad","audioStats","getRemoteNetworkQualityStats","networkStats","getRemoteVideoTrackStats","B_ppvd","videoStats","getRTCStats","Duration","UserCount","SendBitrate","SendBytes","RecvBytes","RecvBitrate","OutgoingAvailableBandwidth","B_uab","RTT","B_acd","addLocalStats","removeLocalStats","addRemoteStats","removeRemoteStats","addP2PChannel","updateTrafficStats","getRemoteMedia","videoSSRC","audioSSRC","onUploadPublishDuration","updateUplinkStats","B_fir","framesDecodeFreezeTime","framesDecodeCount","_isFreeze","isLocalVideoFreeze","inputFrame","sentFrame","getLocalMedia","videoSend","ssrcId","getLocalVideoSize","getEncoderConfig","codecType","bytes","avgEncodeMs","encodeDelay","packets","packetsLost","scalabilityMode","B_pvlr4","onStatsChanged","audioSend","inputLevel","getLocalAudioVolume","videoPcStats","audioTrack","videoTrack","audioRecv","videoRecv","outputLevel","jitterBufferMs","isRemoteAudioFreeze","renderFrameRate","outputFrame","receivedFrame","receiveFrameRate","_videoHeight","_videoWidth","framesRateFirefox","getRemoteVideoIsReady","isRemoteVideoFreeze","B_ad","B_vd","B_ed","B_ealr4","B_evlr4","B_punq","B_pdnq","MI","visibility","visibilityState","lastHiddenTime","_lastHiddenTime","lastVisibleTime","_lastVisibleTime","UI","xI","VI","jI","addresses","domain_prefix","detail","ip6","gatewayAddrs","cert","uni_lbs_ip","BI","maxVideoBW","minVideoBW","GI","WI","retry","response_body","flag","edges_services","ticket","server_ts","enter_ts","HI","KI","YI","candidateType","qI","QI","$I","eC","tC","videoWidth","videoHeight","iC","sC","cC","uC","lC","pC","_C","EC","throttleByKey","threshold","timer","skipFn","fC","fragementLength","referenceList","asyncMapHandler","allFailedhandler","promisesCollector","TC","desc","gC","RC","IC","CC","vC","reconnectMode","_reconnectMode","resetReconnectCount","reconnectReason","reconnectCount","retryConfig","useCompress","tryDoubleDomain","getConnection","forceCloseTimeout","currentURLIndex","createWebSocketConnection","_initMutex","reconnectInterrupter","onclose","onopen","closeEstablishingWs","reconnect","joinChannelServiceRecordIndex","recordJoinChannelService","errors","WebSocket","OPEN","setWsInflateData","wsDeflateLength","originLength","wsInflateLength","compressedLength","getWsInflateData","clearWsInflateData","connectionID","signalChannelOpen","reconnectWithAction","startsWith","startTs","service","chooseBestWebsocketConnection","endTs","onlineReconnectListener","binaryType","CLOSING","yC","mean","AC","_connectionState","_websocketReconnectReason","_disconnectedReason","rtt","rttRolling","lastMsgTime","_id","_result","_message","_type","handleNotification","error_code","spec","handleWebsocketEvents","forceWaitGatewayResponse","error_str","initError","multiIpOption","waitMessage","uploadCache","uploadCacheInterval","joinResponse","reconnectToken","openConnectionTime","wsInflateDataTimer","handleWsInflateData","pingpongTimer","pingpongTimeoutCount","rejoin_token","handlePingPong","peers","uint_id","audio_ssrc","video_ssrc","audio_mute","video_mute","audio_enable_local","video_enable_local","pingpongElapse","ws_deflate_length","ws_inflate_length","onWebsocketMessage","rejoin","OC","NC","_url","_store","_name","_retryConfig","_useCompress","_reconnectCount","_reconnectInterrupter","_transmitter","_closeEstablishingTransmitter","_joinChannelServiceRecordIndex","getInflateData","_inflateLength","_deflateLength","clearInflateData","inflateLength","deflateLength","setInflateData","bC","getBigUint64","getUint32","BigInt","wC","setBigUint64","setUint32","DC","Default","Ack","sendImpl","receiveImpl","initialRTO","initialRTT","maxBatchAckCount","maxRTO","packetize","packetNumber","serialize","sendTs","maxAckPacketNumber","ackSendTs","getUint16","getUint8","TextDecoder","calculateRTO","resendMessage","timeoutMap","sendPacket","onData","ack","updateRTT","clearRTO","rtoRatioMap","unorderedPacketQueue","batchAckPacketQueue","lastOrderedPacketNumber","batchAckTimer","batchAck","LC","_reliableTransmission","_forceCloseTimeout","_addresses","fingerprint","createTransmitterConnection","unbindDcCloseEventListener","sendMessageWithJSON","compressed","sendMessageWithUint8Array","transmitter","_onlineReconnectListener","kC","inflateDataTimer","handleInflateData","MC","UC","xC","VC","joinGatewayStartTime","_joinGatewayStartTime","joinAt","useDataChannel","_statsCollector","statsCollector","_clientRoleOptions","clientRoleOptions","handleSignalEvents","cloudProxyServer","apResponse","resetSignal","joinGatewayStart","hasChangeBGPAddress","_isProactiveJoin","avoidJoinStart","joinInfo","inChannelInfo","trafficStatsInterval","networkQualityInterval","onLine","_signalTimeout","B_unq","B_dnq","joinGatewayEnd","p2p_id","p2pId","ortc","twcc","tryUnpubBeforeRepub","stream_id","stream_type","svc","tryUnsubBeforeResub","users","dtx","tryMassUnsubBeforeResub","subscribeAll","fps","start_bps","min_bps","target_bps","iceParameters","dtlsParameters","rtpCapabilities","gatewayEstablishParams","gatewayAddress","getCurrentGatewayAddress","getGatewayInfo","client_ts","fallback_type","spatial_layer","spatialLayer","temporal_layer","temporalLayer","getInChannelInfo","updateTurnConfigFromSignal","serversFromGateway","B_st","getJoinMessage","session_id","app_id","appId","channel_key","channel_name","has_changed_gateway","ap_response","details","cservice_map","features","optionalInfo","appScenario","attributes","userAttributes","enablePublishedUserList","maxSubscription","subscribeAudioFilterTopN","enablePublishAudioFilter","enableUserLicenseCheck","enableRTX","join_ts","string_uid","aesmode","aespassword","aes_mode","aes_secret","aes_encrypt","aessalt","aes_salt","defaultVideoStream","default_video_stream","getRejoinMessage","isSignalRecover","recover","setClientRole","useLocalAccessPoint","setLocalAPVersion","multiIP","uploadStats","getSignalRTT","File","Request","sendBeacon","Element","toStringTag","lastModified","elements","disabled","matches","files","selected","checked","getAll","_asNative","_blob","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","querySelectorAll","jC","FC","BC","GC","WC","HC","KC","YC","qC","areaCode","excludedArea","JC","XC","zC","QC","command","seq","requestId","service_name","json_body","responseTime","servers","addressList","wss","workerToken","serviceName","responseDetail","serverIp","ZC","$C","rv","http3","tv","iv","ev","serviceIds","gatewayInfo","proxyInfo","sucess","apServerAddr","turnServerAddrList","Set","nv","request_bodies","service_ids","gateway_ip","vocs_ip","vos_ip","ov","sv","av","cv","lv","dv","uv","cipher_method","system","system_general","test_tags","apUrl","hv","pv","_v","Ev","mv","fv","startGetConfigDistribute","interval","stopGetConfigDistribute","updateConfigDistribute","mutex","mutableParamsRead","limit_bitrate","handleBitrateLimit","cacheGlobalParameterConfig","configs","getBitrateLimit","uplink","max_bitrate","min_bitrate","getLowStreamConfigDistribute","low_stream_uplink","__priority","__expires","expires","localStorage","setItem","Sv","Tv","gv","startPingPong","serviceMode","actionType","serverCode","workerType","handleWebSocketOpen","handleWebSocketMessage","reqId","commandReqId","sdkVersion","allocate","clientRequest","serverResponse","handleResponseError","tryNextAddress","changeAddress","Rv","Iv","Cv","wsRetryConfig","transcodingUsers","userCount","watermark","backgroundImage","transcodingConfig","connection","requestByUser","tid","streamingTasks","taskId","startLiveStreamingTask","onLiveStreamError","setInjectStreamConfig","injectConfig","injectLoopTimes","autoDestroyTime","acceptImageTimeout","taskMutex","loopTimes","uapResponse","isStartingStreamingTask","lastTaskId","retryTimeout","statusError","stopLiveStreamingTask","abortTask","onInjectStatusChange","resetAllTask","terminate","onLiveStreamWarning","handlePublishStreamServer","handleInjectStreamServerStatus","serverStatus","hasUrl","vv","setSrcChannelInfo","srcChannelMediaInfo","addDestChannelInfo","destChannelMediaInfos","removeDestChannelInfo","getSrcChannelMediaInfo","getDestChannelMediaInfo","yv","Av","startHeartBeatCheck","dispose","onOpen","onMessage","isConnect","waitStatus","clearHeartBeatCheck","sendPing","heartBeatTimer","Ov","prevChannelMediaConfig","sendStartRelayMessage","_resolution","sendUpdateMessage","genMessage","sendStopRelayMessage","onStatus","onReconnect","setVideoProfile","Nv","toBlob","bv","arrayBuffer","wv","Dv","Pv","videoElementStatus","_videoElementStatus","isGettingVideoDimensions","videoElement","startGetVideoDimensions","onFirstVideoFrameDecoded","cacheVideoElement","timeUpdatedCount","lastTimeUpdatedTime","freezeTime","playbackTime","freezeTimeCounterList","HTMLVideoElement","getVideoElement","getContainerElement","parentElement","updateConfig","initVideoElement","updateVideoTrack","handleAutoPlayFailed","mirror","getCurrentFrame","ImageData","drawImage","getImageData","resetVideoElement","videoElementCheckInterval","Lv","handleVideoEvents","contains","presentationTime","renderFreezeAccTime","requestVideoFrameCallback","poster","fit","objectFit","load","kv","slot","createElements","container","getCurrentFrameToUint8Array","overflow","isKeepLastFrame","mountedVideoElement","unmountedVideoElement","Mv","cameraId","Uv","screenSourceType","electronScreenSourceId","xv","AGC","autoGainControl","AEC","echoCancellation","ANS","noiseSuppression","googHighpassFilter","channelCount","Vv","jv","COVERED","POSITION","SIZE","STYLE","UNMOUNTED","INVALID_HTML_ELEMENT","Fv","Bv","Gv","Wv","Hv","Kv","Yv","qv","Jv","Xv","zv","Qv","Zv","$v","ey","ty","iy","ny","ry","oy","sy","ay","cy","dy","uy","ly","hy","py","_y","Ey","my","fy","Sy","Ty","gy","documentElement","clientWidth","clientHeight","getComputedStyle","getStyle","opacity","checkPropertyUpToAllParentNodes","checkCssVisibleProperty","bottom","getBoundingClientRect","getClientWidth","getClientHeight","clientMin","_clientSize","checkSizeIsVisible","elementFromPoint","getPointPositionList","checkCoverForAPoint","visible","HTMLElement","checkElementIsMountedOnDom","checkActualCssVisibleIncludeInherit","getSizeAboutClient","checkElementCover","returnHiddenResult","checkActualSize","checkSizeOfPartInClient","nodeName","Ry","Iy","Cy","_player","_previousVideoVisibleStatus","updateMediaStreamTrackResolution","_scalabiltyMode","_optimizationMode","_hints","updateBitrateFromProfile","setEncoderConfiguration","getElementById","_videoVisibleTimer","_clearPreviousVideoVisibleStatus","getVideoElementVisibleStatus","_forceBitrateLimit","getCurrentFrameData","setScalabiltyMode","checkOneElementVisible","vy","tryResumeVideoForIOS15_16WeChat","yy","hasVideo","_video_enabled_","_video_muted_","_video_added_","hasAudio","_audio_enabled_","_audio_muted_","_audio_added_","_audioTrack","_videoTrack","_uintid","Ay","Oy","Ny","try","by","wy","Dy","Py","Ly","ky","My","Uy","xy","Vy","jy","Fy","By","Gy","Wy","Hy","Ky","Yy","qy","Jy","Xy","zy","Qy","Zy","$y","eA","tA","iA","nA","rA","oA","sA","aA","cA","dA","uA","lA","hA","pA","_A","EA","mA","fA","SA","TA","gA","RA","IA","CA","vA","yA","AA","OA","NA","bA","wA","DA","PA","LA","kA","MA","UA","xA","VA","jA","FA","BA","GA","WA","HA","KA","YA","qA","JA","XA","zA","QA","ZA","$A","eO","tO","iO","nO","QObject","rO","oO","sO","aO","cO","dO","uO","lO","hO","pO","_O","EO","findChild","mO","fO","SO","TO","CO","gO","RO","IO","keyFor","useSetter","useSimple","vO","yO","AO","OO","NO","bO","wrapped","wO","_invoke","DO","PO","LO","kO","MO","UO","xO","VO","jO","mediaDescriptions","media","extmaps","rtpMap","encodingName","audioCodecs","videoCodecs","audioExtensions","videoExtensions","FO","iceUfrag","icePwd","BO","ssrcGroups","semantic","ssrcIds","GO","componentId","connectionAddress","extension","candidates","hashFunction","ZO","setup","WO","mslabel","msid","HO","fmtp","minptime","useinbandfec","maxaveragebitrate","maxplaybackrate","KO","unrecognized","attField","attValue","YO","qO","extensionName","JO","entry","rtcpFeedbacks","remb","XO","zO","QO","recv","sendrecv","$O","eN","tN","Parser","Printer","ORIGIN","SESSION_NAME","INFORMATION","URI","EMAIL","PHONE","CONNECTION","BANDWIDTH","TIME","REPEAT","ZONE_ADJUSTMENTS","KEY","ATTRIBUTE","MEDIA","consumeText","consumeUnicastAddress","consumeTill","consumeOneOrMore","consumeSpace","consumeIP4Address","consumeDecimalUChar","consumeIP6Address","consumeHexpart","consumeHexseq","consumeHex4","consumeFQDN","consumeExtnAddr","consumeMulticastAddress","consumeIP4MulticastAddress","consumeIP6MulticastAddress","consumeInteger","consumeTTL","consumeToken","consumeTime","consumeAddress","consumeTypedTime","consumeRepeatInterval","consumePort","consume","probeEOL","records","parseLine","currentLine","parseVersion","parseOrigin","parseSessionName","parseInformation","parseUri","parseEmail","parsePhone","parseConnection","parseBandWidth","parseTimeFields","parseKey","parseSessionAttribute","parseMediaDescription","sessionName","information","emails","phones","bandwidths","timeFields","getCurrentRecord","line","cur","extractOneOrMore","_cur","parseMediaAttributes","parseZone","extract","consumeSpaceForRecord","time","typedTime","back","parseRepeat","parseTypedTime","repeatInterval","typedTimes","parseTime","stopTime","bwtype","bandwidth","sessId","sessVersion","nettype","addrtype","unicastAddress","parseMedia","parseFmt","protos","fmts","repeats","zones","parseConnections","connections","consumeAttributeSpace","atEnd","peekChar","peek","parseIceUfrag","parseIcePwd","iceOptions","extensionAttributes","parseSetup","groups","identities","digested","parseGroup","parseIceLite","parseTlsId","parseIdentity","parseMsidSemantic","ignored","identificationTag","tlsId","assertionValue","extensions","identifierList","applyForAll","msidSemantic","imageattr","msids","remoteCandidatesList","rids","rtcpFeedbackWildcards","parseRemoteCandidate","parseEndOfCandidates","parseRtpmap","parsePtime","parseMaxPtime","parseDirection","parseSSRC","parseRTCPMux","parseRTCPMuxOnly","parseRTCPRsize","parseRTCP","parseMid","parseImageAttr","parseRid","parseSimulcast","parseSctpPort","parseMaxMessageSize","parseSSRCGroup","relAddr","relPort","endOfCandidates","encodingParameters","ptime","maxPtime","parseFmtParameters","additional","rtcpMux","rtcpMuxOnly","rtcpRsize","appdata","simulcast","sctpPort","mid","eol","printVersion","printOrigin","printSessionName","printInformation","printUri","printEmail","printPhone","printConnection","printBandwidth","printTimeFields","printKey","printSessionAttributes","printMediaDescription","zoneAdjustments","printAttributes","printMedia","printConnections","printMediaAttributes","printIceUfrag","printIcePwd","printIceOptions","printFingerprints","printExtmap","printSetup","printUnrecognized","printGroups","printMsidSemantic","printIceLite","printTlsId","printIdentity","printRTCP","printCandidates","printRemoteCandidatesList","printEndOfCandidates","printMid","printRTPRelated","printPtime","printMaxPtime","printDirection","printSSRCGroups","printSSRC","printRTCPMux","printRTCPMuxOnly","printRTCPRsize","printMSId","printImageattr","printRid","printSimulcast","printSCTPPort","printMaxMessageSize","printRTCPFeedback","printRtpMap","printFmtp","iN","remoteIceParameters","remoteDtlsParameters","remoteRTPCapabilities","remoteSetup","localCapabilities","sdkCodec","mungMediaDesc","sessionDesc","currentMidIndex","batchSend","ssrcMsg","stopSending","mute","unmute","receive","mungRecvMediaDsec","stopReceiving","updateCandidates","restartICE","predictReceivingMids","updateRecvMedia","bumpMid","updateTrackLabel","getSSRC","nN","rN","oN","sN","RTCStatsReport","aN","diffMean","cN","dN","actualEncoded","transmit","sendPacketLossRate","recvPacketLossRate","selectedCandidatePair","localCandidate","remoteCandidate","uN","firsCount","nacksCount","plisCount","framesDecodeInterval","packetLostRate","qpSumPerFrame","lN","frameCount","rttMs","hN","pN","jitterMs","receivedFrames","droppedFrames","concealedSamples","_N","EN","mN","intervalTimer","updateInterval","getSelectedCandidatePair","local","remote","setVideoIsReady","videoIsReady","setVideoIsReady2","videoIsReady2","getVideoIsReady","setIsFirstAudioDecoded","calcLossRate","lossRateWindowStats","lossRateInterval","fN","SN","TN","_getStats","statsResponsesToObjects","_stats","processSSRCStats","processBandwidthStats","googActualEncBitrate","targetEncoded","googTargetEncBitrate","retransmit","googRetransmitBitrate","googTransmitBitrate","sendBandwidth","googAvailableSendBandwidth","googCodecName","adaptionChangeReason","googCpuLimitedResolution","googBandwidthLimitedResolution","googAvgEncodeMs","googFrameWidthInput","googFrameWidthSent","googFrameHeightInput","googFrameHeightSent","googFrameRateInput","googFirReceived","googNacksReceived","googPlisReceived","framesEncoded","bytesSent","packetsSent","googRtt","lastDecodeVideoReceiverStats","targetDelayMs","googTargetDelayMs","renderDelayMs","googRenderDelayMs","currentDelayMs","googCurrentDelayMs","minPlayoutDelayMs","googMinPlayoutDelayMs","decodeMs","googDecodeMs","maxDecodeMs","googMaxDecodeMs","googFrameWidthReceived","googFrameHeightReceived","googFrameRateReceived","decodedFrame","googFrameRateDecoded","googFrameRateOutput","googJitterBufferMs","googFirsSent","googNacksSent","googPlisSent","framesDecoded","bytesReceived","packetsReceived","isFirstVideoReceived","onFirstVideoReceived","isFirstVideoDecoded","onFirstVideoDecoded","freezeRateLimit","abs","audioOutputLevel","decodingCNG","googDecodingCNG","decodingCTN","googDecodingCTN","decodingCTSG","googDecodingCTSG","decodingNormal","googDecodingNormal","decodingPLC","googDecodingPLC","decodingPLCCNG","googDecodingPLCCNG","expandRate","googExpandRate","accelerateRate","googAccelerateRate","preemptiveExpandRate","googPreemptiveExpandRate","secondaryDecodedRate","googSecondaryDecodedRate","speechExpandRate","googSpeechExpandRate","preferredJitterBufferMs","googPreferredJitterBufferMs","googJitterReceived","isFirstAudioReceived","onFirstAudioReceived","isFirstAudioDecoded","onFirstAudioDecoded","audioInputLevel","aecReturnLoss","googEchoCancellationReturnLoss","aecReturnLossEnhancement","googEchoCancellationReturnLossEnhancement","residualEchoLikelihood","googResidualEchoLikelihood","residualEchoLikelihoodRecentMax","googResidualEchoLikelihoodRecentMax","gN","RN","IN","processAudioOutboundStats","processVideoOutboundStats","processAudioInboundStats","processVideoInboundStats","selectedCandidatePairId","processCandidatePairStats","updateSendBitrate","localCandidateId","remoteCandidateId","availableOutgoingBitrate","currentRoundTripTime","processCandidateStats","onSelectedLocalCandidateChanged","onSelectedRemoteCandidateChanged","jitter","processAudioTrackReceiverStats","codecId","getCodecFromCodecStats","firCount","nackCount","pliCount","totalInterFrameDelay","totalSquaredInterFrameDelay","lastVideoFramesDecode","firstVideoDecodedTimeout","isFirstVideoDecodedTimeout","onFirstVideoDecodedTimeout","qpSum","count","rate","totalDecodeTime","processVideoTrackReceiverStats","framerateMean","mediaBytesSent","retransmittedBytesSent","mediaBytesRetransmit","totalEncodedBytesTarget","mediaBytesTargetEncode","qualityLimitationReason","totalEncodeTime","lastEncoderMs","lastFrameCount","lastEncoderTime","lastQpSum","mediaSourceId","processVideoMediaSource","processVideoTrackSenderStats","processRemoteInboundStats","findRemoteStatsId","processAudioMediaSource","processAudioTrackSenderStats","framesPerSecond","audioLevel","framesSent","frameWidth","frameHeight","lastVideoFramesSent","framesReceived","jitterBufferDelay","jitterBufferEmittedCount","lastVideoFramesRecv","framesReceivedCount","lastVideoJBDelay","echoReturnLoss","echoReturnLossEnhancement","removedSamplesForAcceleration","totalSamplesReceived","totalSamplesDuration","lastAudioJBDelay","roundTripTime","mimeType","CN","vN","yN","AN","ON","NN","peerConnectionState","peerConnection","currentLocalDescription","currentRemoteDescription","resolvePCConfiguration","googDscp","statsFilter","bindPCEvents","bindStatsEvents","establishPromise","establish","useRTX","initialOffer","offerSDP","remoteSDP","replaceTrack","mungSendOfferSDP","applySendEncodings","localSSRC","iceTransportPolicy","setConfiguration","iceRestart","onConnectionStateChange","unbindPCEvents","unbindStatsEvents","setStatsRemoteVideoIsReady","oniceconnectionstatechange","onICEConnectionStateChange","onconnectionstatechange","onicecandidate","localCandidateCount","allCandidatesReceived","onsignalingstatechange","onicecandidateerror","ontrack","turnServerConfigToIceServers","credential","credentialType","degradationPreference","networkPriority","bN","wN","DN","PN","LN","kN","_localCapabilities","_rtpCapabilities","_candidates","_iceParameters","_dtlsParameters","preloadRemoteMedia","updateBundleMids","findPreloadMediaDesc","firefoxSsrcMidMap","mungSendMediaDesc","needExchangeSDP","findAvailableMediaIndex","createOrRecycleSendMedia","mids","muteRemote","unmuteRemote","createOrRecycleRecvMedia","findFirstClosedMedia","MN","UN","xN","VN","dtlsTransportState","logSDPExchange","descriptionStart","tryBindTransportEvents","applySimulcastForFirefox","applySimulcastEncodings","mungReceiveAnswerSDP","tryUnbindTransportEvents","transportEventReceiver","isVP8Simulcast","iceTransport","encodedInsertableStreams","onDTLSTransportStateChange","onDTLSTransportError","onICETransportStateChange","onselectedcandidatepairchange","high","medium","adaptivePtime","jN","FN","framerate","captureStream","requestFrame","BN","GN","WN","HN","KN","YN","qN","JN","XN","zN","QN","ZN","$N","eb","tb","_userId","_uintId","_destroy","_isDestroyed","ib","nb","_played","rb","ob","sb","startUploadTransportStats","uploadTransportStarted","transportStatsUploadInterval","requestStats","uploadTransportStats","startUploadExtensionUsageStats","uploadExtensionUsageStarted","extensionUsageStatsUploadInterval","connectionInterval","requestAllTracks","requestRemoteMedia","remoteUidCount","totalTs","requestUpload","usageStats","startUploadUplinkStats","uploadUnplinkStarted","uplinkStatsUploadInterval","uploadUplinkStats","lastStats","uplinkRelatedStatsUploadInterval","uploadRelatedUplinkStats","uplinkDenoiserStatsUploadInterval","uploadDenoiserStats","uplinkExtensionStatsUploadInterval","uploadExtensionStats","connectionType","requestLocalMedia","A_vstd","A_fhs","A_frs","A_fws","A_ac","A_lvps","A_nr","A_aem","toFixed","A_fhi","A_fwi","A_fri","A_rb","A_teb","A_aeb","A_tb","A_asb","A_astd","A_ail","A_apil","A_ecrl","A_ecrle","isVideoMute","frameRateInput","frameRateSent","_external","getDenoiserStats","stopUploadUplinkStats","startUploadDownlinkStats","uploadDownlinkStarted","downlinkStatsUploadInterval","uploadDownlinkStats","downlinkRelatedStatsUploadInterval","uploadRelatedDownlinkStats","downlinkExtensionStatsUploadInterval","uploadDownlinkExtensionStats","A_frr","A_fhr","A_fwr","A_frd","A_fro","A_jbm","A_cdm","A_fs","A_ns","A_ps","A_vrtd","A_vrft","A_vrrft","A_rvps","sqrt","A_ifdsd","_videoSSRC","A_aol","A_apol","A_artd","A_jr","A_raps","A_cs","_audioSSRC","requestVideoIsReady","peerId","frameRateReceived","frameRateDecoded","isAudioMute","frameReceived","frameDropped","stopUploadDownlinkStats","stopUploadTransportStats","stopUploadExtensionUsageStats","ab","db","ub","lb","hb","pb","updateRemoteRTPCapabilities","Eb","mb","fb","getP2PConnectionParams","Sb","Tb","gb","Rb","Ib","dcId","dataChannel","ordered","maxPacketLifeTime","_p2pConnection","_nvMedia","getLocalRtpCapabilities","closeSignal","reveiveByRTCMedia","batchReceive","muteLocal","unmuteLocal","unbindConnectionEvents","updateRemoteConnect","setRemoteRtpCapabilities","updateSendParameters","getRemoteSSRC","Cb","vb","yb","Ab","Ob","Nb","bb","filterTobeMutedTracks","createMuteMessage","filterTobeUnmutedTracks","handleReplaceTrack","createUnmuteMessage","localTrackMap","isPlanB","statsUploader","bindStatsUploaderEvents","shouldForwardP2PCreation","bindConnectionEvents","_pcStatsUploadType","_isFirstConnected","_isInRestartIce","_isStartRestartIce","peerConnectionStart","getEstablishParams","throwIfTrackTypeNotMatch","pendingLocalTracks","pubId","filterTobePublishedTracks","tryToUnmuteAudio","doPublish","bindLocalTrackEvents","createGatewayPublishMessage","unbindLocalTrackEvents","mapPubResToRemoteConfig","assignLocalTracks","publishLowStream","getLowVideoTrack","pendingRemoteTracks","filterTobeUnpublishedTracks","doUnpublish","createGatewayUnpublishMessage","withdrawLocalTracks","remoteUserMap","bindRemoteTrackEvents","massSubscribeNoLock","rtxSsrcId","filterTobeUnSubscribedTracks","createUnsubscribeMessage","withdrawRemoteTracks","unbindRemoteTrackEvents","massUnsubscribeNoLock","createUnsubscribeAllMessage","unmuteRemoteNoLock","getAllTracks","reportPublishEvent","reportSubscribeEvent","unbindAllRemoteTrackEvents","unbindRtpTransceiver","iceFailedCount","dtlsFailedCount","hasLocalMedia","hasRemoteMedia","getAudioLevels","setPendingRemoteMedia","hasPendingRemoteMedia","reportPCDisconnectedOrFailed","getUplinkNetworkQuality","getDownlinkNetworkQuality","handleMuteLocalTrack","bindLocalAudioTrackEvents","unbindLocalAudioTrackEvents","addListener","handleGetLocalVideoStats","handleUnmuteLocalTrack","handleUpdateVideoEncoder","handleSetOptimizationMode","handleGetLocalAudioStats","handleGetRemoteVideoStats","handleGetRemoteAudioStats","DTX","hq","lq","speech","keyMetrics","peerConnectionEnd","_restartTimer","reportPCStats","_restartStates","requestReconnect","iceConnectionEnd","reportVideoFirstFrameDecoded","setBitrateLimit","isP2PDisconnected","unbindStatsUploaderEvents","disconnectForReconnect","canPublishLowStream","iceconnectionsate","dtlsstate","connectionstate","intSucc","selectedLocalCandidateProtocol","selectedLocalCandidateType","selectedLocalCandidateAddress","selectedRemoteCandidateProtocol","selectedRemoteCandidateType","selectedRemoteCandidateAddress","restartCnt","videowidth","videoheight","requestAPEnd","requestAPStart","subscribeEnd","subscribeStart","streamAdded","resetConnection","wb","Db","Pb","Lb","SET_SESSION_ID","SET_P2P_ID","SET_DC_ID","SET_UID","SET_PUB_ID","SET_CLOUD_PROXY_SERVER_MODE","KEY_METRIC_CLIENT_CREATED","KEY_METRIC_JOIN_START","AVOID_JOIN_START","KEY_METRIC_JOIN_END","KEY_METRIC_REQUEST_AP_START","KEY_METRIC_REQUEST_AP_END","KEY_METRIC_JOIN_GATEWAY_START","KEY_METRIC_JOIN_GATEWAY_END","KEY_METRIC_PEER_CONNECTION_START","KEY_METRIC_PEER_CONNECTION_END","KEY_METRIC_DESCRIPTION_START","KEY_METRIC_ICE_CONNECTION_END","KEY_METRIC_SIGNAL_CHANNEL_OPEN","KEY_METRIC_PUBLISH","KEY_METRIC_SUBSCRIBE","RECORD_JOIN_CHANNEL_SERVICE","RESET_JOIN_CHANNEL_SERVICE_RECORDS","RESET_KEY_METRICS","SET_USE_DATACHANNEL","kb","subId","joinChannelServiceRecords","cloudProxyServerMode","dispatch","clientCreated","metric","joinStart","joinEnd","publishStart","publishEnd","firstFrame","firstDecoded","massSubscribe","cloudProxyMode","resetJoinChannelServiceRecords","resetKeyMetrics","Mb","Ub","xb","Vb","Xb","dw","iw","uw","fileSize","qb","jpg","$b","networkType","osType","sequence","callbackData","jpgEncryption","requestType","scorePorn","aw","scoreSexy","scoreNeutral","scene","ossFilePrefix","serviceVendor","Bb","limit","nw","zb","subarray","jb","Zb","cw","msg","tw","Gb","Fb","Wb","sw","requestScene","callbackUrl","rw","Qb","Hb","Kb","Float64Array","Yb","low","unsigned","Jb","ew","ow","lw","importKey","hw","pw","_w","Ew","inspectType","_inspectType","_inspectMode","quality","_quality","qualityTimer","qualityRatio","inspectTimer","requestToInspectImage","_inspectId","inspectInterval","inspectIntervalMinimum","workerMessageLengthLimit","extraInfo","inspectStartTime","workerManagerConnection","_innerConnectionState","handleWorkerManagerEvents","workerConnection","handleWorkerEvents","_connectInfo","_cancelTokenSource","requestAP","connectWorkerManager","wmSequence","_needWorkUrlOnly","portWss","connectWorker","porn","sexy","neutral","generateRequestData","getCurrentFrameImage","intToLong","mw","gw","Dw","Ow","Lw","Tw","yw","fw","Iw","ww","Aw","Pw","Sw","Nw","Rw","Cw","vw","bw","kw","Mw","Uw","xw","Vw","jw","Hw","Fw","Bw","Kw","Gw","Ww","Yw","qw","Jw","_qualityTimer","_qualityRatio","_moderationTimer","_moderationId","_moderationInterval","_moderationIntervalMinimum","_workerMessageLengthLimit","_moderationStartTime","_workerConnection","inspectImage","appToken","appTicket","_ticket","_uploadNum","_uploadFailedNum","_uploadTimer","_sequence","_moderationMode","Xw","zw","Qw","Zw","$w","eD","tD","iD","nD","rD","oD","sD","aD","cD","dD","uD","lD","hD","pD","_D","ED","mD","fD","SD","TD","gD","RD","CD","vD","yD","AD","OD","ND","bD","wD","DD","PD","LD","kD","MD","UD","xD","_gateway","remoteUsers","_users","localTracks","_p2pChannel","_uid","_channelName","isStringUID","_joinInfo","unpublish","_clientId","_trust_in_room_","_handleRemoveStream","_remoteStreamTypeCacheMap","_streamFallbackTypeCacheMap","_trust_audio_stream_added_state_","_trust_video_stream_added_state_","_cname","_audioOrtc","_rtxSsrcId","_videoOrtc","remoteMediaSsrcChanged","_subscribe","_trust_audio_enabled_state_","_trust_video_enabled_state_","_trust_audio_mute_state_","_trust_video_mute_state_","returnValue","leave","_networkQualitySensitivity","setTurnServer","_configDistribute","_handleP2PChannelEvents","_handleGatewayEvents","_handleGatewaySignalEvents","_numberOfJoinCount","isHttps","_leaveMutex","_joinAndNotLeaveYet","_turnServer","_proxyServer","_cloudProxyServerMode","_license","_useLocalAccessPoint","_remoteDefaultVideoStreamType","_setLocalAPVersion","_uintUid","_encryptionMode","_encryptionSecret","_encryptionSalt","_startSession","_axiosCancelSource","updateBitrateLimit","_joinGateway","_networkQualityInterval","_handleUpdateNetworkQuality","_handleBeforeUnload","_reset","_publishMutex","awaitConfigDistributeComplete","_publishHighStream","_subscribeMutex","hasRemoteMediaWithLock","_defaultStreamFallbackType","setStreamFallbackOption","globalLock","video_error_code","audio_error_code","massUnsubscribe","setLowStreamParameter","_lowStreamParameter","_isDualStreamEnabled","_publishLowStream","unpublishLowStream","setLicense","startProxyServer","stopProxyServer","setLocalAccessPointsV2","accessPoints","cds","setLocalAccessPoints","setDefaultRemoteVideoStreamType","setRemoteVideoStreamType","setEncryptionConfig","_renewTokenMutex","renewToken","enableAudioVolumeIndicator","_audioVolumeIndicationInterval","_liveRawStreamingClient","_liveTranscodeStreamingClient","_createLiveStreamingClient","setLiveTranscoding","setTranscodingConfig","_createChannelMediaRelayClient","startChannelMediaRelay","updateChannelMediaRelay","stopChannelMediaRelay","sendStreamMessage","sendMetadata","metadata","sendCustomReportMessage","getLocalAudioStats","getRemoteAudioStats","getLocalVideoStats","getRemoteVideoStats","getRemoteNetworkQuality","pickSVCLayer","_injectStreamingClient","_channelMediaRelayClient","_inspect","_moderation","setImageModeration","muteLocalTrack","_userOfflineTimeout","_streamRemovedTimeout","setRemoteDefaultVideoStreamType","republish","_handleUserOffline","_handleMuteStream","_handleSetStreamLocalEnable","_handleResetAddStream","streamType","startP2PConnection","preConnect","_handleUserOnline","_handleAddAudioOrVideoStream","_handleP2PLost","onStreamMessage","_handleTokenWillExpire","proxy","video_rtx","reconnectPC","reSubscribe","getKeyMetrics","handleVideoInspectEvents","handleImageModerationEvents","trackMediaType","getJoinChannelServiceRecords","setPublishAudioFilterEnabled","VD","_currentState","audioBuffer","startPlayOffset","startPlayTime","createWebAudioDiagram","currentPlaybackSpeed","pausePlayTime","createSourceNode","startSourceNode","playbackRate","handleSourceNodeEnded","loop","currentLoopCount","cycle","jD","FD","FileReader","onload","readAsArrayBuffer","decodeAudioData","BD","GD","WD","optimizationMode","contentHint","HD","KD","YD","initPeers","peerPair","audioPlayerElement","iceGatheringState","localDescription","onicegatheringstatechange","mozCaptureStream","createMediaElementSource","getElement","getTracksFromMediaElement","switchSdp","qD","JD","XD","zD","processExternalMediaAEC","_doesEnvironmentNeedAEC","units","startEchoCancellation","QD","ZD","$D","eP","tP","_cspEventHandlerPointer","blockedURI","onSecurityPolicyViolation","WebGLRenderingContext","CanvasCaptureMediaStreamTrack","getItem","__CLIENT_LIST__","__TRACK_LIST__","BUILD","setParameter","getParameter","getSupportedCodec","checkSystemRequirements","getDevices","getMicrophones","getRecordingDevices","getCameras","getCamerasDevices","getElectronScreenSources","getPlaybackDevices","getSpeakers","createClient","createCameraVideoTrack","scalabiltyMode","createCustomVideoTrack","mediaStreamTrack","createScreenVideoTrack","createMicrophoneAndCameraTracks","createMicrophoneAudioTrack","createCustomAudioTrack","createBufferSourceAudioTrack","AudioBuffer","cacheOnlineFile","setAppType","isInteger","createChannelMediaRelayConfiguration","checkAudioTrackIsActive","deviceLabel","maxVolumeLevel","checkVideoTrackIsActive","changedPicNum","setArea","audioElementPlayCenter","registerExtensions","__registered__","hookLog","extLog","reporter","hookApiInvoke","extApiInvoke","ChannelMediaRelayError","ChannelMediaRelayEvent","ChannelMediaRelayState","RemoteStreamFallbackType","RemoteStreamType","ConnectionDisconnectedReason","AudienceLatencyLevelType","_onSecurityPolicyViolation","onCameraChanged","onMicrophoneChanged","onPlaybackDeviceChanged","__ARTC__","AgoraRTC$1","DevicePlatform","DeviceService","platform_","getDevicePlatform","isIOS","isVRHeadset","opera","LoggerLevel","Logger","level_","getLevel","SessionStorageService","isSessionStorageSupported","sessionStorage","removeItem","cache","supported","Stream","clientInfo","texture","userMuteVideo","userMuteAudio","tracks","setMuted","getAudioLevel","childElementCount","update","StreamServiceMode","StreamService","editorStreams","editorStreams$","editorScreens","editorScreens$","local$","screen$","remotes","remotes$","peers$","combineLatest","datas","orderedRemotes","screenUid","peekAudioLevel","order","distinctUntilChanged","URL","createObjectURL","oncanplay","fakePublisherStream","fakeAttendeeStream","fakeSmartDeviceStream","fakePublisherScreen","fakeAttendeeScreen","publisherStreamId","publisherStream","streams$","attendeeStreamId","attendeeStream","getEditorStreams$","getEditorScreens$","AgoraService","events","broadcast","defaultDevices","AGORA","previousMuteAudio_","channelState","channelSnapshot","onException","onUserJoined","onUserLeft","onUserPublished","onUserUnpublished","onUserInfoUpdated","onVolumeIndicator","onTokenPrivilegeWillExpire","onTokenPrivilegeDidExpire","patchState","devices","videos","audios","membersCount","isHostRole","isAudienceRole","addStreamDevice","removeStreamDevice","devices$","defaultVideos","defaultAudios","AgoraRTC","preferences","connecting","channelNameLink","getChannelNameLink","rtcToken$","connect$","membersCount$","channelId","messageClient","getChannelMemberCount","counters","observeMemberCount","unobserveMemberCount","membersCountSubscription","client","AgoraRTM","createInstance","logFilter","LOG_FILTER_OFF","getUniqueUserId","connected","rtmToken$","joinMessageChannel","autoDetectDevice","createMediaStream","login","createChannel","getMembers","members","broadcastMessage","detectDevices","getVideoOptions","crossOrigin","hls","Hls","attachMedia","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","getAudioOptions","loadLevel","levels","inputDevices","streamID","createLocalStreamWithOptions","publishLocalStream","setUserState","clearLocalUserAttributes","closeLocalStream","closeScreenStream","leaveMessageChannel","leaveClient","leaveScreenClient","logout","unmuteVideo","cameraMuted","broadcastEvent","muteVideo","unmuteAudio","audioMuted","muteAudio","setAudio","toggleMode","setChannelState","toggleNavInfo","showNavInfo","requestControl","controllingId","sendRequestControl","controlling","spying","requestSpy","spyingId","sendRequestSpy","dismissControl","skipAttributes","sendRequestControlDismiss","dismissSpy","sendRequestSpyDismiss","toggleControl","dismissedControllingId","toggleSpy","dismissedSpyingId","toggleSilence","silencing","newMessageId","navToView","keepOrientation","useLastOrientation","getSessionStats","getSystemStats","BatteryLevel","onMessageSent","setChannelSnapshot","messageId","getChannelAttributes","getChannelAttributesByKeys","mappedAttributes","getChannelMessages","lastUpdateTs","messages","addOrUpdateChannelAttributes","enableNotificationToChannelMembers","getInitialSession","getChannelSession","session","snapshot","channelSession","getChannelState","partialState","getChannelSnapshot","partialSnapshot","char","addOrUpdateChannelMessages","date","deleteChannelAttributesByKeys","addOrUpdateLocalUserAttributes","getUserState","getUserAttributes","checkBroadcastMessage","out","peerAdd","peerRemove","classList","remoteRemove","hosted","remoteAdd","remoteSetClientInfo","attr","toggleScreen","screenClient","createScreenStream","createScreenClient","screenJoin","onScreenError","onScreenStreamPublished","onScreenStreamUnpublished","screenClientId","createStream","setScreenProfile","onStopScreenSharing","publishScreenStream","checkRtcTryJoin","devices_","constraints","legacyKey","ChatMessage","clientId_","shortName","getPayload","AgoraChatComponent","typings_","rows","showEmoji","demo","checkTypings","pushMessage","typingBegin","typingEnd","groupedMessages","getFakeList","updateMessages","agora","getSingleton","onView","onDestroy","secureMessage","secureText","createMessage","onKeyDown","shiftKey","onToggleEmoji","onSelectEmoji","unsecureText","textContent","scrollToBottom","scrollView","scrollTop","scrollHeight","removeTyping","recursive","typings","lastMessage","typing","randomMessage","createRandomMessage","others","getRandomMessage","AgoraCheckComponent","ModalEvent","ModalResolveEvent","ModalRejectEvent","ModalService","hasModal","hasModal_","modal","busy$","iframe","getTemplate$","getNode","modal$","events$","div","Subject","LocalStorageService","isLocalStorageSupported","AgoraChecklistService","shouldCheckAudio","shouldCheckVideo","checklist","https","rtc","rtm","checklist$","isChecked","check$","delay","checkBrowserEvent$","checkHttpsEvent$","checkAudioEvent$","checkVideoEvent$","checkRtcEvent$","checkRtmEvent$","checkBrowser$","checkHttps$","checkAudio$","checkVideo$","checkRtcConnection","checkRtc$","checkRtmConnection","checkRtm$","AgoraConfigureFirewallModalComponent","AgoraChecklistComponent","busy","checkEvent$","onNext","openHttps","showFirewallConfiguration","open$","AudioStreamService","context_","analyser","analyser_","streamOrElement","sources_","removeSourceKey","addSource","frame$","withLatestFrom","_ref","deltaTime","getByteFrequencyData","finalize","removeSource","clipped","meter","audioMeterCreate","_ref2","checkClipping","clipLevel","averaging","clipLag","audioMeterProcess","audioMeterClip","audioMeterDispose","clipping","lastClip","bufferLength","sum","rms","previous","Observable","requestAnimationFrame","frame","expand","step$","share","AgoraDevicePreviewComponent","video_","change","initStream","audio_","hasPreview","initialized_","onLoadedMetadata","preview","bars","fill","bar","analyzeData","loadingStream_","frequencySubscription","frequency$","frequency","AgoraDeviceComponent","initForm","videoOptions","audioOptions","onStreamDidChange","onStream","onEnter","ViewType","WaitingRoom","Panorama","PanoramaGrid","Room3d","Model","Media","ViewItemType","Nav","Plane","CurvedPlane","Texture","View","updateIndices","isValidText","abstract","isNavMove","navigable","filterViewItem","mapViewItem","tiles","mapViewTile","originalItems","lastOrientation","latitude","longitude","allowedProps","pathItems","shortType","publisherStreamIndex","attendeeStreamIndex","smartDeviceStream","publisherScreenIndex","attendeeScreenIndex","asset","file","PanoramaView","PanoramaGridView","flipAxes","invertAxes","folder","axes","indices","Vector2","index_","updateCurrentItems","index$","mapTiles","getTileIndex","hasTile","getTile","Room3DView","ModelView","MediaView","ViewItem","links","firstLink","hasPanel","NavViewItem","ViewTile","mapView","view","mapPath","DEFAULT_PATH","PathService","paths","paths$","path$","pathGet$","selectedPath","currentPath","put$","delete$","AgoraLinkComponent","selfServiceTourRoute","getCurrentPath$","onLoad","pathOptions","onGenerateMeetingId","$event","meetingIdRoles","onInputDidChange","onCopyToClipBoard","replaceWithLink","AgoraLoginComponent","friendlyMessage","replaceWithUser","AgoraNameComponent","AgoraStreamComponent","videoMuted","videoMuted_","audioMuted_","streamId_","stream_","player","playerId","shouldUseResumeGesture","removeAttribute","vrContainer","vrContainer_","videoNode","videoNode_","setMediaStream","mediaStream","onToggleControl","onToggleSpy","Navmap","mapNavmap","NavmapService","active$","navmap","GtmService","dataLayer","push_","ToastType","ToastPosition","ToastEvent","toast","ToastResolveEvent","ToastRejectEvent","ToastService","acceptMessage","rejectMessage","toast$","ModalOutletComponent","modal_","modalNode","busy_","TryInARModalComponent","parentInstance","getUrl","EXT_IMAGE","EXT_VIDEO","EXT_MODEL","AssetType","Image","PublisherStream","AttendeeStream","PublisherScreen","AttendeeScreen","SmartDeviceStream","AssetGroupType","ImageOrVideo","STREAM_TYPES","assetIsStream","assetGroupTypeFromItem","assetPayloadFromGroupTypeId","groupTypeId","groupType","assetTypeById","Asset","assetTypeFromPath","defaultMediaAsset","mapAsset","DEFAULT_WAITING_ROOM","likes","liked","orientation","ViewService","dataViews","views","validViews","pathViews","validPathViews","action$_","currentView","getDataView","data$_","dataUrl","getValidPathId","initialViewId","getFirstPathId","getWaitingRoom","setDataAndPath","waitingRoom","view$","hosted$","prefetchAssets","getPrefetchAssets","data$","viewById$","items$_","WishlistService","items$","getItems","itemId","MediaLoaderEvent","loader","MediaLoaderPlayEvent","MediaLoaderPauseEvent","MediaLoaderDisposeEvent","MediaLoaderTimeUpdateEvent","MediaLoaderTimeSetEvent","MediaLoader","TextureLoader","getLoader","isMutedStream","isVideo","isPublisherStream","isAttendeeStream","isSmartDeviceStream","isPublisherScreen","isAttendeeScreen","isPlayableVideo","isAutoplayVideo","muted_","toggle","subscription","volumeMuted","onCanPlay","disposed","VideoTexture","minFilter","LinearFilter","magFilter","mapping","UVMapping","needsUpdate","HAVE_FUTURE_DATA","playsInline","silent","onTimeUpdate","onEnded","ontimeupdate","loadTexture","wrapS","RepeatWrapping","wrapT","progress","seekable","Geometry","defaultGeometry","defaultGeometry_","BoxBufferGeometry","planeGeometry","planeGeometry_","PlaneBufferGeometry","sphereGeometry","sphereGeometry_","SphereBufferGeometry","panoramaGeometry","panoramaGeometry_","Vector3","Host","origin_","renderer","isPresenting","getCamera","camera","localToWorld","fov","aspect","fitOffset","factor","atan","heightDistance","zoom","widthDistance","Interactive","hittest","raycaster","down","dirty","freezed","intersections","intersectObjects","hit","lastIntersectedObject","point","over","depthTest","FreezableMesh","Mesh","freezed_","__lookupGetter__","geometry","material","MeshBasicMaterial","color","unfreeze","EmittableMesh","InteractiveMesh","over_","down_","isInteractiveMesh","RGBELoader","DataTextureLoader","manager","HalfFloatType","rgbe_error","rgbe_error_code","fgets","lineLimit","len","Uint16Array","RGBEByteToRGBFloat","sourceArray","sourceOffset","destArray","destOffset","scale","RGBEByteToRGBHalf","DataUtils","toHalfFloat","byteArray","rgbe_header_info","gamma_re","exposure_re","format_re","dimensions_re","header","comments","programtype","gamma","exposure","RGBE_ReadHeader","image_rgba_data","scanline_width","data_rgba","ptr_end","rgbeStart","scanline_buffer","num_scanlines","ptr","isEncodedRun","byteValue","RGBE_ReadPixels_RLE","numElements","FloatType","floatArray","halfArray","setDataType","onProgress","texData","LinearEncoding","generateMipmaps","flipY","KeyboardService","keydown$_","keyup$_","keys$_","keydown$","keyup$","key$_","regexp","typing$_","key$","LOADER_UID","LoaderService","progress$","ref","loaded","total","switchLoaders","switchAll","subject","PrefetchServiceEvent","PrefetchService","worker_","Worker","worker","takeWhile","load$","Rect","rect","r1","r2","rect_","getClientRects","boundingRect","setCenter","setSize","center","intersect","intersectRect","intersection_","scroll","COLORS","AvatarElement","headGeometry","headGeometry_","WebGLRenderer","setClearColor","setPixelRatio","devicePixelRatio","toneMapping","ACESFilmicToneMapping","outputEncoding","sRGBEncoding","domElement","PerspectiveCamera","lookAt","Scene","light","PointLight","addHead","getRemoteById","canvas","ctx","CanvasTexture","MeshStandardMaterial","chalk","render","tick_","quaternion","vol","sin","smile","cos","fillStyle","fillRect","beginPath","arc","closePath","moveTo","bezierCurveTo","defaultTexture","defaultTexture_","gridTexture","gridTexture_","MediaPlayMesh","textureOff","textureOn","getTextureOff","transparent","playing_","getTextureOn","onOut","getMaterial","colorOff","Color","getHex","colorOn","parentRatio","disposeMaterial","disposable","onOver","gsap","ease","Power2","easeInOut","MediaZoomMesh","zoomed","zoomed_","Object3D","onToggle","VERTEX_SHADER","FRAGMENT_CHROMA_KEY_SHADER","MediaMesh","useChromaKey","ShaderMaterial","depthWrite","toneMapped","vertexShader","fragmentShader","uniforms","mapResolution","mapTween","playMap","playMapResolution","playMapTween","playMapColor","fragDepth","chromaKeyColor","assetType","matcher","matchType","getTypeMatcher","getChromaKeyMaterial","editing","editing_","getMaterialByItem","getUniformsByItem","tempPosition","tempRotation","isAutoplayLoop","mediaLoader","onZoomed","addPlayBtn","addZoomBtn","userData","tick","playBtn","zoomBtn","onAppear","makePlayMap","imageSmoothingEnabled","imageSmoothingQuality","linkedPlayId","onUpdate","onDisappear","overwrite","setPlayingState","setZoomedState","setCurrentTime","disposeMediaLoader","removePlayBtn","removeZoomBtn","updateByItem","updateFromItem","fromArray","rotation","updateZoom","originalPosition","originalScale","originalQuaternion","copy","ratio","updateObjectMatrix","mat","projectionMatrix","multiplyScalar","distance","getDistanceToCamera","getWorldDirection","DragPoint","DragEvent","DragDownEvent","strength","speed","DragMoveEvent","DragUpEvent","upEvent","DragService","MouseEvent","clientX","clientY","TouchEvent","touches","pageX","pageY","downEvent","button","originalEvent","getPosition","dismiss$","moveEvent","innerWidth","innerHeight","stopImmediatePropagation","dismissEvent","down$","move$","up$","OrbitMode","OrbitEvent","OrbitMoveEvent","orbitMoveEvent","orbitDragEvent","orbitResizeEvent","OrbitService","dolly","dolly_","clampedDolly","clamp","markAsDirty","getDollyValue","zoom_","getZoomValue","ZOOM_MAX","mode_","controlled","silenced","spyed","isMediaView","locked","radius","inertia","Euler","updatePosition","updateTarget","setLongitudeLatitude","setOrientation","getOrientation","phi","degToRad","theta","observe$","keys$","Shift","Control","flip","walk","heading","headingTheta","atan2","headingLongitude","MathUtils","radToDeg","differenceLongitude","differenceLatitude","tween","onComplete","walkComplete","headingLatitude","worldToLocal","acos","setVRCamera","Quaternion","applyQuaternion","isDirty","cameraGroup","updateProjectionMatrix","ImageServiceEvent","ImageService","isCors","auditTime","PanoramaLoader","cubeRenderTarget","cubeRenderTarget_","texture_","loadPublisherStreamBackground","loadAttendeeStreamBackground","loadVideoBackground","loadHlslVideoBackground","loadRgbeBackground","loadBackgroundImageService","progressRef","getRef","setProgress","revokeObjectURL","UnsignedByteType","onPlaying","isSupported","onPublisherStreamId","getPublisherStreamId$","onAttendeeStreamId","getAttendeeStreamId$","onStreamId","getStreamId$","onCubeMapDispose","BoxGeometry","getBlackMaterial","mesh","matrixWorld","copyPosition","cubeMap","isVideoTexture","updateCubeMapEquirectangularTexture","side","BackSide","fog","getShaderMaterial","cloneUniforms","ShaderLib","cube","EquirectangularReflectionMapping","toCubeMap","flipEnvMap","isCubeTexture","_needsFlipEnvMap","deleteAttribute","makeEnvMap","WebGLCubeRenderTarget","CubeUVReflectionMapping","RGBAFormat","setCubeMapEquirectangularTexture","mapTextureMapping","shader","tEquirect","blending","NoBlending","CubeCamera","previousMinFilter","LinearMipmapLinearFilter","dst","property","isColor","isMatrix3","isMatrix4","isVector2","isVector3","isVector4","isTexture","isQuaternion","CubeReflectionMapping","EquirectangularRefractionMapping","CubeRefractionMapping","onexit","uTween","crossfade","getLocalizedAsset","locale","localizedAsset","currentAsset","rgbe","PhoneStreamElement","setRemote","sx","addStreamTexture","PhoneElement","phone","Group","PointerElement","sub","setPosition","TeleportElement","gravity","controllerPosition","controllerDirection","currentPosition","targetPosition","BufferGeometry","vertices","BufferAttribute","lineMaterial","LineBasicMaterial","vertexColors","AdditiveBlending","Line","addToController","controller","currentController","removeFromController","getWorldPosition","getPositionT","addScaledVector","vertex","XRStatus","VRService","service_","status$","state_","array","onSessionStarted","onSessionEnded","session$","currentSession","isSessionSupported","toggleVR","optionalFeatures","requestSession","isDisabled","getLabel","updateState","world","Gamepad","gamepad","buttons","updateButtons","updateAxes","pressed","GamepadButton","axis","GamepadAxis","feedback","actuators","hapticActuators","pulse","GLTFLoader","Loader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","scope","resourcePath","LoaderUtils","extractUrlBase","itemStart","_onError","itemError","itemEnd","FileLoader","setResponseType","requestHeader","setWithCredentials","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","content","decodeText","BINARY_EXTENSION_HEADER_MAGIC","KHR_BINARY_GLTF","GLTFBinaryExtension","GLTFParser","fileLoader","extensionsUsed","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","parseAsync","GLTFRegistry","objects","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","cacheKey","lightDef","lights","lightNode","range","DirectionalLight","SpotLight","spot","innerConeAngle","outerConeAngle","angle","penumbra","decay","intensity","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","materialIndex","materials","MeshPhysicalMaterial","extendMaterialParams","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","textureIndex","textureDef","loadTextureImage","textureLoader","handler","getHandler","detectSupport","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","decoder","ready","byteOffset","stride","byteStride","decodeGltfBuffer","BINARY_EXTENSION_CHUNK_TYPES","headerView","magic","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","extendTexture","texCoord","repeat","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","uniformName","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","TangentSpaceNormalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","Interpolant","parameterPositions","sampleValues","resultBuffer","copySampleValue_","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t1","stride2","stride3","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","_q","GLTFCubicSplineQuaternionInterpolant","WEBGL_CONSTANTS","Int8Array","Int16Array","Uint32Array","WEBGL_FILTERS","NearestFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","WEBGL_WRAPPINGS","ClampToEdgeWrapping","MirroredRepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","ALPHA_MODES","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","associations","primitiveCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","createImageBitmap","ImageBitmapLoader","setCrossOrigin","_invokeAll","ext","beforeRoot","scenes","animations","cameras","afterRoot","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","updateMappings","original","mappings","_invokeOne","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","resolveURL","bufferViewDef","accessorIndex","sparse","pendingBufferViews","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","bufferAttribute","ibSlice","ibCacheKey","InterleavedBuffer","InterleavedBufferAttribute","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sourceIndex","sourceDef","sampler","loadImageSource","samplers","webkitURL","sourceURI","isObjectURL","blob","isImageBitmapLoader","imageBitmap","mapName","mapDef","gltfReference","assignFinalMaterial","useDerivativeTangents","tangent","useVertexColors","useFlatShading","normal","isPoints","pointsMaterial","PointsMaterial","Material","sizeAttenuation","isLine","cachedMaterial","flatShading","uv2","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","alphaTest","alphaCutoff","normalTexture","occlusionTexture","emissiveFactor","emissiveTexture","sheenColorMap","specularColorMap","originalName","sanitizedName","PropertyBinding","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","addPrimitiveAttributes","cached","geometryPromise","meshIndex","FrontSide","results","geometries","SkinnedMesh","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LineSegments","LineLoop","Points","morphAttributes","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","OrthographicCamera","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","output","inputAccessors","outputAccessors","targets","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","traverse","outputArray","scaled","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","createNodeMesh","isMesh","meshPromise","Bone","matrix","Matrix4","applyMatrix4","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","reducedAssociations","reduceAssociations","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","Skeleton","assignAttributeAccessor","gltfAttributeName","setIndex","box","Box3","boxScale","maxDisplacement","vector","expandByVector","boundingBox","sphere","Sphere","getCenter","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","hasMorphColor","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","morphPositions","morphNormals","morphColors","morphTargetsRelative","addMorphTargets","drawMode","getIndex","numberOfTriangles","newIndices","getX","newGeometry","Constants","Handedness","LEFT","RIGHT","ComponentState","DEFAULT","TOUCHED","PRESSED","ComponentProperty","BUTTON","X_AXIS","Y_AXIS","STATE","ComponentType","TRIGGER","SQUEEZE","TOUCHPAD","THUMBSTICK","ButtonTouchThreshold","AxisTouchThreshold","VisualResponseProperty","TRANSFORM","VISIBILITY","defaultComponentValues","xAxis","yAxis","fetchJsonFile","fetchProfile","xrInputSource","basePath","defaultProfile","getAssetPath","supportedProfilesList","fetchProfilesList","profileId","supportedProfile","profilePath","deprecated","assetPath","layout","handedness","layouts","VisualResponse","visualResponseDescription","componentProperty","valueNodeName","valueNodeProperty","minNodeName","maxNodeName","updateFromComponent","normalizedXAxis","normalizedYAxis","normalizeAxes","componentDescription","visualResponses","gamepadIndices","rootNodeName","touchPointNodeName","responseName","visualResponse","updateFromGamepad","gamepadButton","MotionController","assetUrl","layoutDescription","gripSpace","targetRaySpace","XRControllerModel","motionController","setEnvironmentMap","updateMatrixWorld","valueNode","minNode","maxNode","MotionControllerConstants","slerpQuaternions","lerpVectors","addAssetSceneToControllerModel","controllerModel","touchPointNode","getObjectByName","SphereGeometry","findNodes","XRControllerModelFactory","gltfLoader","_assetCache","createControllerModel","targetRayMode","cachedAsset","ZERO","DOWN","CONTROL_INFO","WorldComponent","error_","view_","setView","debugging","lockedOrXR","showMenu","showPointer","menu_","loading","avatars","createScene","addListeners","animate","removeListeners","setAnimationLoop","mouse","controllerMatrix_","controllerWorldPosition_","controllerWorldDirection_","worldRect","fromNode","cameraRect","offsetWidth","offsetHeight","orbitService","logarithmicDepthBuffer","powerPreference","insertBefore","Raycaster","setFromCamera","addEnvironment","panoramaIntersectObjects","indicator","light1","light2","light3","light4","ambient","AmbientLight","addControllers","complete","toggleLights","direct","filename","isHdr","background","setBackground","addOffCanvasScene","avatar","removeOffCanvasScene","updateOffCanvasScene","zoomedId","onUpdateAsset","requestInfoResult","gridIndex","onViewAssetDidChange","setViewOrientation","controllerGroup","teleport","controllers","controllerModelFactory","addController","showPhone","live","getController","setController","onPress","onRelease","onModelUp","onLeft","onRight","onAxis","onModelDistance","isSelecting","buildController","controllerGrip","getControllerGrip","Float32BufferAttribute","RingBufferGeometry","translate","updateRaycasterXR","identity","extractRotation","ray","setFromMatrixPosition","repos","tx","delta","ticker","navWithKeys","vrService","raycasterXRHitTest","velocity","ArrowUp","ArrowDown","ArrowRight","axisY","applyAxisAngle","ArrowLeft","manhattanLength","navIntersectObjects","lerp","tan","updateRaycasterMouse","w2","h2","raycasterDesktopHitTest","dragItem","onDragMove","intersectionPoint","intersectionNormal","face","resizeItem","controlEvent$","onMouseDown","viewHit","spherical","isTouchDevice","showPanel","onMouseMove","onMouseUp","onDragEnd","dragEnd","onResizeEnd","resizeEnd","checkSelectedItem","onMouseWheel","deltaY","wheelDeltaY","Power4","easeOut","onOrientationDidChange","onVRStarted","onVREnded","onVRStateDidChange","onMenuNav","navTo","onMenuToggle","onNavOver","shouldShowPanel","onNavOut","onNavDown","onNavLink","linkIndex","navLink","msMaxTouchPoints","onModelDown","onObjectDown","tempTarget","tempParent","onPanelDown","onPlayMedia","onZoomMedia","onCurrentTimeMedia","onPlayModel","actionIndex","onGridMove","onGridNav","setSnapshot","getSnapshot","sendSetSnapshot","control$","getService","setSession","removeMenu","ModelComponent","getContainer","onCreate","onMount","onDismount","disposeObject","rxcompId","mounth","dismount","setVisible","isInteractiveSprite","isSprite","calculateScaleAndPosition","getScroll","getTween","ModelEditableComponent","setHelper","RADIUS","showHelper","helper","BoxHelper","updateHelper","setFromObject","NavModeType","ModelNavComponent","hidden_","isMobile_","texturePoint","texturePointImportant","textureMove","textureMoveImportant","textureInfo","textureInfoImportant","textureWishlist","textureWishlistAdded","important","getTextureMoveImportant","getTextureMove","getTextureInfoImportant","getTextureInfo","getTexturePointImportant","getTexturePoint","added","getTextureWishlistAdded","getTextureWishlist","font","measureText","textAlign","textBaseline","strokeStyle","lineWidth","lineJoin","miterLimit","strokeText","fillText","hook","getNavMode","hidden","updateVisibility","isHidden","isAnimated","isMobile","setScale","icon","onCreateSprites","mount","opacityIdle","opacityOver","opacityDown","yoyo","shouldNavToLink","normalizedPosition","distanceToSquared","onRemoveSprite","getTexture","SpriteMaterial","Sprite","titleMaterial","titleTexture","getTitleTexture","sprite","AgoraComponent","meetingUrl_","isVirtualTourUser","isEmbed","isSelfServiceTour","isNavigable","isBackButtonVisible","isSelfServiceProposition","isSelfServiceSupport","showNavInfoToggler","hasNavInfo","uiClass","remoteScreen","hasScreenViewItem","remoteClass","remoteScreen_","previousView","resolveUser","getLinkRole","linkRole","initWithUser","overrideUser$","userGuard","userGuardRedirect","setNextStatus","getPathId","getMode","getMeetingName","initAgora","viewObserver$","hostedView$","setNavmap","userType","loadNavmaps","navmapGet$","toggleNavmap","showNavmap","onNavmapItem","onNavTo","loadAndConnect","checkSelfServiceProposition","checkSelfServiceAudio","isChecked$","orderedRemotes$","openSupportRequestDialog","onRemoteNavTo","hidePanels","setViewLike$","showLove","chatDirty","fullscreen$","onChecked","onLink","onName","sharedMeetingId","log$","leaveChannel","toggle$","toggleCamera","toggleAudio","toggleVolume","toggleFullScreen","fullScreen","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","fullscreenElement","toggleChat","onChatClose","onToggleSilence","addLike","viewLike$","skipTimeout","tryInAr","openInAR","selfServiceSupportRequest$","AssetService","formData","xhr","uploads","fromUrl","assetUpdate$","assetCreate$","localizedAssetUpdate$","localizedAssetCreate$","current","previousId","previousFile","currentId","currentFile","EditorService","tileItemCreate$","itemCreate$","tileItemUpdate$","itemUpdate$","tileItemDelete$","itemDelete$","currentItem","CurvedPlaneModalComponent","inferItemCreate$","ItemModelModalComponent","MediaModalComponent","viewCreate$","ModelModalComponent","NavModalComponent","useHooks","hookExtra","viewIdOptions$","onViewIdDidChange","navAutoUpdateTitle","selectedOption","currentTitle","PanoramaGridModalComponent","PanoramaModalComponent","PathAddModalComponent","pathCreate$","PathEditModalComponent","parseViews","onToggleView","pathUpdate$","onSelectAll","onSelectNone","PlaneModalComponent","RemoveModalComponent","onRemove","onCancel","Room3DModalComponent","SETTINGS","EditorComponent","settings","aside","initState","editorView$","onAddPath","addPath","onEditPath","editPath","onDuplicatePath","onDeletePath","pathDelete$","deletePath","onSelectPath","isPathSelected","onToggleAside","onToggleSettings","onSelectSetting","onViewHit","onViewHitted","viewHitSubscription","inferItemUpdate$","onWorldSelect","selectedItem","onOpenModal","addView","onAsideSelect","currentTile","onAsideUpdate","assetDidChange","onAsideDelete","inferItemDelete$","inferItemDeleteResult$","viewDelete$","deleteView","GenericService","page$","GenericComponent","page","currentLanguagePage$","LayoutComponent","languageService","setLanguage","setLanguage$","toggleLanguages","TryInARComponent","missingAr","missingUsdz","missingGltf","usdzSrc","getUsdzSrc","getGltfSrc","modelViewerNode","getModelViewerNode","addARScripts","script","usdz","getViewId","environmentImage","skyboxImage","gltfSrc","AppComponent","setRoute","MIME_IMAGE","MIME_VIDEO","MIME_MODEL","MIME_STREAM","AssetPipe","isModel","ControlRequestModalComponent","onAccept","onReject","DropDirective","Directive","expression","outputFunction","makeFunction","DROPDOWN_ID","DropdownDirective","dropdown","id_","nextId","opened","onClick","onDocumentClick","openDropdown","closeDropdown","dropdown$","addDocumentListeners","dropped","removeDocumentListeners","DropdownItemDirective","ToastOutletComponent","lastToast","getClass","AsideComponent","viewTypes","getKeys","viewItemTypes","setSupportedViewTypes","setSupportedViewItemTypes","supportedViewTypes","supportedViewType","supportedViewItemTypes","supportedViewItemType","setMode","viewTypeName","viewItemTypeName","onDelete","MENU_UID","MenuService","getMenu$","menu$_","parentId","menu$","mapMenuItems","typeName","mapMenuItem","DropService","isPlatformBrowser","dataTransfer","previews","change$","uploads$","read$","upload$","reader","reader$","resize$","resized","readAsDataURL","resize_","img","ControlComponent","ControlAssetComponent","accept","drop$","createOrUpdateAsset$","ControlMenuComponent","FormArray","dropdownId","onAddItem","createMenuItem$","itemToFormGroup","onRemoveItem","onRemoveControl","deleteMenuItem$","onLinkItem","onLinkControl","onItemUp","onItemDown","onUpControl","insert","onDownControl","updateMenuItem$","switchSubjects_","onTextDidChange","hasOption","onDropped","MenuBuilderComponent","menuToControls","controlsToMenu","updateMenu$","subitems","pushItem","menuItem","NavmapItemModalComponent","NavmapModalComponent","navmapCreate$","NavmapBuilderComponent","onSet","NavmapModes","ControlEvent","ControlDownEvent","ControlMoveEvent","ControlUpEvent","NavmapEditComponent","insert$","onToggleMode","onMoveItem","diff","item_","navmapUpdate$","navmapDelete$","UpdateViewItemComponent","originalItem","hasChromaKeyColor","doUpdateForm","doUpdateItem","getFlagsDidChange","getAssetDidChange","flagsDidChange","formArray","removeKey","onAssetTypeDidChange","currentType","asset$","inferItemUpdateResult$","getTitle","onAddLink","onRemoveLink","msec","UpdateViewTileComponent","UpdateViewComponent","doUpdateView","orbit$","didChange","usdzDidChange","gltfDidChange","viewUpdate$","factories","pipes","EditorModule","Module","imports","declarations","IframeModalComponent","EnvPipe","keypath","FlagPipe","UploadItem","uploading","UploadEvent","UploadStartEvent","UploadCompleteEvent","UploadAssetEvent","UploadService","concurrent$","uploadItems","uploadItem$","delayWhen","addItems","newItems","dropArea","files$","file$","uploadFile$","ControlAssetsComponent","uploadCount","multiple","hasFiles","onUpload","onItemPause","onItemResume","onItemCancel","onItemRemove","GenericModalComponent","ControlCheckboxComponent","linksSubject","links$","ControlCustomSelectComponent","typing$","word","scrollToWord","scrollTo","offsetTop","isMultiple","ControlLinkComponent","onInputDidBlur","ControlLocalizedAssetComponent","localizedValue","currentLanguage","createOrUpdateLocalizedAsset$","ControlModelComponent","assetDelete$","ControlNumberComponent","precision","increment","updateValue","ControlPasswordComponent","ControlSelectComponent","ControlTextComponent","ControlTextareaComponent","ControlVectorComponent","DisabledDirective","ErrorsComponent","InputValueComponent","increment$","keyCode","sign","setValue","TestComponent","onTest","onReset","ValueDirective","HtmlPipe","unescapes","rx","IdDirective","LanguageComponent","LazyCache","cache_","LazyDirective","input$","lazy$","lazy","observer_","readySubject_","observerSubject_","IntersectionObserver","isIntersecting","unobserve","intersection$","MessagePipe","urlify","breakLines","ModalComponent","RouterLinkDirective","routerLink_","routerLink$","getSegments","regExp","matchAll","RouteSegment","SupportRequestModalComponent","SvgIconStructure","name_","xmlns","createElementNS","setAttributeNS","replaceChild","TitleDirective","title_","UploadItemComponent","onPause","onResume","HlsDirective","hls_","VirtualItem","Context","$key","$value","last","even","odd","VirtualMode","VirtualStructure","getExpressionTokens","virtualFunction","iterable","gutter","containerWidth","containerHeight","cols","cachedRects","cachedInstances","cacheNodes","update$","visibleItems","updateView","scroll$","updateForward","highestHeight","getWidth","getGutter","col","getCol","getHeight","getLeft","cachedNode","removeNode","removeIndex","parentContainer","getCols","updateNode","createNode","clonedNode","cloneNode","forItemContext","top1","bottom1","top2","bottom2","overflowY","expressions","virtualExpressions","keyValueMatches","indexExpressions","MediaPlayerComponent","media$","drag$","dragging","initialProgress","onPlay","onTrack","currentTarget","screenX","PANEL_RADIUS","PANORAMA_RADIUS","ModelBannerComponent","updateBanner","createBanner","getCanvasTexture","wrapY","CylinderBufferGeometry","banners","clearRect","ModelCurvedPlaneComponent","getCurvedPanelGeometry","onMeshDown","onMeshPlaying","onMeshZoomed","onMeshCurrentTime","disposableMesh","addMeshListeners","removeMeshListeners","radius_","height_","arc_","take","rotateY","DebugService","setMessage","ModelDebugComponent","FontLoader","fontLoader","message_","setText","textGroup","debugService","createText","loadFont","getFontLoader","ModelGridComponent","textureOver","coords","coords_","tileMap","previousTile","previousUniforms","currentUniforms","coords__","getCoords","outerTileSize","row","dx","COLS","ROWS","moveToIndex","addTiles","innerTileSize","rotateX","mapOver","getOverTexture","textureA","textureB","showTiles","ix","addHitArea","onGroundOver","onGroundMove","onGroundDown","onGroundOut","ground","move","MenuButton","geometry_","ModelMenuComponent","FRAGMENT_SHADER","resolutionA","resolutionB","getTextureA","getTextureB","getY","writeText","setFont","lineHeight","FONT_SIZE","LINE_HEIGHT","lines","getLines","lineCount","words","BackButton","loading_","onDown","progressIndicator","strokeDashoffset","menuGroup","rootItems","getModelMenu$","addMenu","backItem","stagger","getGrid","amount","removeButtons","removeToggler","addToggler","toggler","_taskCache","DRACOLoader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","setDecoderPath","setDecoderConfig","setWorkerLimit","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","taskKey","cachedTask","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","_createGeometry","_releaseTask","geometryData","_loadLibrary","_initDecoder","useJS","WebAssembly","librariesPending","libraries","jsContent","wasmBinary","DRACOWorker","lastIndexOf","_taskCosts","_taskLoad","decodeAttribute","draco","dracoGeometry","attributeType","numComponents","num_components","numValues","num_points","dataType","DT_FLOAT32","DT_INT8","DT_INT16","Int32Array","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","getDracoDataType","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","_free","onModuleLoaded","DracoDecoderModule","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","error_msg","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numIndices","num_faces","GetTrianglesUInt32Array","decodeIndex","ModelModelComponent","loadGlb","onGlbLoaded","glb","progressEvent","parseAnimations","dummy","endY","makeInteractive","actions","clock","Clock","mixer","AnimationMixer","timeScale","animation","clipAction","setEffectiveTimeScale","setEffectiveWeight","setLoop","LoopRepeat","onClipToggle","setSingleAction","setMultiAction","halt","previousClip","getDelta","descriptors","interactiveDescriptors","freezableDescriptors","emittableDescriptors","getInteractiveDescriptors","FreezableSprite","EmittableSprite","InteractiveSprite","ModelPanelComponent","textureWidth","textureHeight","viewed","linkNodes","linkNode","offsetLeft","mouseEvent","movementX","movementY","relatedTarget","screenY","imagesLoaded","promises","cors","panelTexture","useCORS","ModelPictureComponent","ModelPlaneComponent","ModelProgressComponent","visible_","updateProgress","show","hide","inner","createMesh","ModelRoomComponent","transparentMaterial","transparentMaterial_","makeTransparent","ModelTextComponent","AppModule","CoreModule","FormModule","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"export const CHUNK_REMOTE = /* html */`\r\n<!-- remote sidebar -->\r\n<div class=\"group--remote\" [class]=\"remoteClass\" *if=\"state.live\">\r\n\t<div class=\"agora-stream\" (toggleControl)=\"onToggleControl($event)\" (toggleSpy)=\"onToggleSpy($event)\" agora-stream [stream]=\"remote\" type=\"remote\" *for=\"let remote of remotes\">\r\n\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t<div class=\"agora-stream__info\" [class]=\"{ spyed: state.spying == streamId, controlling: state.controlling == streamId }\">\r\n\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t<div class=\"id\" [innerHTML]=\"stream.clientInfo.name || streamId\" *if=\"stream.clientInfo\"></div>\r\n\t\t\t<button type=\"button\" class=\"btn--control\" [title]=\"'title_control' | label\" (click)=\"onToggleControl(streamId)\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t<svg class=\"control\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#control\"></use></svg>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"btn--spy\" [title]=\"'title_spy' | label\" (click)=\"onToggleSpy(streamId)\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#spy\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"group--members\" *if=\"state.mode == 'virtual-tour'\">\r\n\t\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t\t</div>\r\n\t\t<div class=\"credits\">\r\n\t\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<!-- remote screen -->\r\n<div class=\"group--remote-screen\" *if=\"remoteScreen\">\r\n\t<div class=\"agora-stream\" agora-stream [stream]=\"remoteScreen\" type=\"remote\">\r\n\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t<div class=\"agora-stream__info\">\r\n\t\t\t<div class=\"id\" [innerHTML]=\"stream.clientInfo.name || streamId\" *if=\"stream.clientInfo\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_SERVICE = /* html */`\r\n<!-- service -->\r\n<div class=\"group--service\">\r\n\t<button type=\"button\" class=\"btn--back\" [title]=\"'title_back' | label\" (click)=\"onBack($event)\" *if=\"isBackButtonVisible\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#arrow-prev\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--view-mode\" [title]=\"'title_view_mode' | label\" (click)=\"toggleMode($event)\" *if=\"state.mode != 'embed'\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.mode == 'virtual-tour'\"><use xlink:href=\"#live-meeting\"></use></svg>\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.mode == 'live-meeting'\"><use xlink:href=\"#virtual-tour\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--volume\" [title]=\"'title_volume' | label\" [class]=\"{ muted: state.volumeMuted }\" (click)=\"toggleVolume($event)\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.volumeMuted\"><use xlink:href=\"#volume-on\"></use></svg>\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.volumeMuted\"><use xlink:href=\"#volume-off\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--fullscreen\" [title]=\"'title_fullscreen' | label\" [class]=\"{ muted: state.fullScreen }\" (click)=\"toggleFullScreen($event)\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.fullScreen\"><use xlink:href=\"#fullscreen-on\"></use></svg>\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.fullScreen\"><use xlink:href=\"#fullscreen-off\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--navmap\" [title]=\"'title_navmap' | label\" [class]=\"{ active: state.showNavmap }\" (click)=\"toggleNavmap($event)\" *if=\"navmap && state.mode != 'live-meeting'\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#navmap\"></use></svg>\r\n\t</button>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_LOCAL = /* html */`\r\n<!-- local streams -->\r\n<div class=\"group--local\" [class]=\"{ publisher: state.role == 'publisher', viewer: state.role == 'viewer' }\" *if=\"state.live\">\r\n\t<button type=\"button\" class=\"btn--silence\" [title]=\"'title_silence' | label\" [class]=\"{ active: state.silencing }\" (click)=\"onToggleSilence()\" *if=\"state.role === 'publisher'\">\r\n\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--control\" [title]=\"'title_control' | label\" [class]=\"{ active: state.controlling == state.uid }\" (click)=\"onToggleControl(state.uid)\" *if=\"state.role == 'publisher'\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#control\"></use></svg>\r\n\t</button>\r\n\t<div class=\"agora-stream\" *if=\"!local\"></div>\r\n\t<div class=\"agora-stream\" agora-stream [stream]=\"local\" type=\"local\" *if=\"local\">\r\n\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t<div class=\"agora-stream__info\">\r\n\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"agora-stream agora-stream--screen\" agora-stream [stream]=\"screen\" type=\"local\" *if=\"screen && hasScreenViewItem\">\r\n\t\t<div class=\"agora-stream__player\"></div>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_LOCAL_SMART_DEVICE = /* html */`\r\n<!-- local streams -->\r\n<div class=\"group--local\" [class]=\"{ publisher: state.role == 'publisher', viewer: state.role == 'viewer' }\" *if=\"state.live\">\r\n\t<div class=\"agora-stream\" agora-stream [stream]=\"local\" type=\"local\" *if=\"local\">\r\n\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t<div class=\"agora-stream__info\">\r\n\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_CONTROLS = /* html */`\r\n<!-- controls -->\r\n<div class=\"group--controls\" *if=\"state.live\">\r\n\t<div class=\"group--actions\">\r\n\t\t<button type=\"button\" class=\"btn--call\" [title]=\"'title_disconnect' | label\" (click)=\"disconnect()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#call\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--cam\" [title]=\"'title_mute_camera' | label\" [class]=\"{ muted: state.cameraMuted, disabled: !local }\" (click)=\"toggleCamera()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--mic\" [title]=\"'title_mute_mic' | label\" [class]=\"{ muted: state.audioMuted, disabled: !local || silenced }\" (click)=\"toggleAudio()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--screen\" [title]=\"'title_share_screen' | label\" [class]=\"{ active: screen }\" (click)=\"toggleScreen()\" *if=\"('screenShare' | flag) && (state.role == 'publisher' || state.role == 'attendee' || controlling)\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#screen\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--chat\" [title]=\"'title_chat' | label\" [class]=\"{ active: state.chatDirty }\" (click)=\"toggleChat()\" *if=\"('chat' | flag)\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#chat\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--navinfo\" [title]=\"'title_navinfo' | label\" [class]=\"{ active: state.showNavInfo }\" (click)=\"toggleNavInfo()\" *if=\"showNavInfoToggler\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#navinfo\"></use></svg>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_CONTROLS_SMART_DEVICE = /* html */`\r\n<!-- controls -->\r\n<div class=\"group--controls\" *if=\"state.live\">\r\n\t<div class=\"group--actions\">\r\n\t\t<button type=\"button\" class=\"btn--call\" [title]=\"'title_disconnect' | label\" (click)=\"disconnect()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#call\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--cam\" [title]=\"'title_mute_camera' | label\" [class]=\"{ muted: state.cameraMuted, disabled: !local }\" (click)=\"toggleCamera()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam\"></use></svg>\r\n\t\t</button>\r\n\t\t<button type=\"button\" class=\"btn--mic\" [title]=\"'title_mute_mic' | label\" [class]=\"{ muted: state.audioMuted, disabled: !local || silenced }\" (click)=\"toggleAudio()\">\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic\"></use></svg>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_MEMBERS = /* html */`\r\n<!-- members -->\r\n<div class=\"group--members\" *if=\"state.mode == 'live-meeting'\">\r\n\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t</div>\r\n\t<div class=\"credits\">\r\n\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t</a>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_MEMBERS_SMART_DEVICE = /* html */`\r\n<!-- members -->\r\n<div class=\"group--members\">\r\n\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t</div>\r\n\t<div class=\"credits\">\r\n\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t</a>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_MEDIA = /* html */`\r\n<!-- media -->\r\n<div class=\"group--media\" media-player>\r\n\t<button type=\"button\" class=\"btn--play\" [title]=\"'title_play' | label\" (click)=\"onPlay()\" *if=\"!playing\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#play\"></use></svg>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--pause\" [title]=\"'title_pause' | label\" (click)=\"onPause()\" *if=\"playing\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#pause\"></use></svg>\r\n\t</button>\r\n\t<div class=\"track\" (click)=\"onTrack($event)\">\r\n\t\t<div class=\"track__progress\" [style]=\"{ transform: 'scale(' + this.progress + ', 1)'}\"></div>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_AR_VR = /* html */`\r\n<!-- ar-vr -->\r\n<div class=\"group--ar-vr\">\r\n\t<button type=\"button\" class=\"btn--ar\" [title]=\"'title_ar' | label\" [href]=\"view?.ar\" (click)=\"tryInAr()\" *if=\"view?.ar\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#ar\"></use></svg> <span>Try in AR</span>\r\n\t</button>\r\n\t<button type=\"button\" class=\"btn--vr\" [title]=\"'title_vr' | label\" [class]=\"{ disabled: vrService.isDisabled() }\" (click)=\"vrService.toggleVR()\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#vr\"></use></svg> <span [innerHTML]=\"vrService.getLabel()\"></span>\r\n\t</button>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_LIKE = /* html */`\r\n<!-- like -->\r\n<div class=\"group--heart\" *if=\"view && ('like' | flag)\">\r\n\t<svg class=\"love\" [class]=\"{ active: view.showLove }\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#heart\"></use></svg>\r\n\t<button type=\"button\" class=\"btn--heart\" [class]=\"{ active: view.showLove }\" (click)=\"addLike($event)\">\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#heart\"></use></svg>\r\n\t\t<span class=\"badge\" [innerHTML]=\"view.likes\" *if=\"view.likes\"></span>\r\n\t</button>\r\n</div>\r\n<div class=\"group--spacer\" *if=\"!view || !('like' | flag)\"></div>\r\n`;\r\n\r\nexport const CHUNK_CHAT = /* html */`\r\n<!-- chat -->\r\n<div class=\"group--chat\" *if=\"state.chat\" agora-chat (close)=\"onChatClose()\"></div>\r\n`;\r\n\r\nexport const CHUNK_LOCK = /* html */`\r\n<!-- lock -->\r\n<div class=\"ui__lock\" [class]=\"{ spying: spying }\" *if=\"locked || controlling\"></div>\r\n`;\r\n\r\nexport const CHUNK_NAVMAP = /* html */`\r\n<!-- navmap -->\r\n<div class=\"group--navmap\" *if=\"navmap && state.showNavmap && state.mode != 'live-meeting'\">\r\n\t<img draggable=\"false\" [src]=\"navmap.asset | asset\" *if=\"navmap.asset\" />\r\n\t<div class=\"navmap__item\" [style]=\"{ left: item.position[0] * 100 + '%', top: item.position[1] * 100 + '%' }\" (click)=\"onNavmapItem(item)\" *for=\"let item of navmap.items\">\r\n\t\t<img draggable=\"false\" [src]=\"'textures/ui/nav-point.png' | asset\" />\r\n\t\t<div class=\"title\" [innerHTML]=\"item.title\" *if=\"item.title\"></div>\r\n\t</div>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_BACKGROUND = /* html */`\r\n<!-- background -->\r\n<div class=\"background\" [class]=\"{ 'background--image': ('background.image' | env), 'background--video': ('background.video' | env) }\" *if=\"state.status != 'connected'\">\r\n\t<img [src]=\"'background.image' | env | asset\" *if=\"'background.image' | env\" />\r\n\t<video [src]=\"'background.video' | env | asset\" *if=\"'background.video' | env\" oncanplay=\"this.muted = true; this.classList.add('ready');\" playsinline autoplay muted loop></video>\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_LOGO = /* html */`\r\n<!-- logo -->\r\n<a class=\"btn--logo\" [routerLink]=\"':lang.access' | route\" *if=\"state.status != 'connected'\">\r\n\t<img [src]=\"'logo' | env\" *if=\"'logo' | env\" />\r\n\t<svg viewBox=\"0 0 270 98\" *if=\"!('logo' | env)\"><use xlink:href=\"#b-here\"></use></svg>\r\n</a>\r\n`;\r\n\r\nexport const CHUNK_CREDITS = /* html */`\r\n<!-- credits -->\r\n<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\" *if=\"state.status != 'connected'\">\r\n\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n</a>\r\n`;\r\n\r\nexport const CHUNK_COPYRIGHT = /* html */`\r\n<!-- copyright -->\r\n<span *if=\"'gdprRoutes' | flag\"> <span [innerHTML]=\"'copyright' | label\"></span> <span *if=\"'privacy_policy' | label\">-</span> <a [routerLink]=\"':lang.privacy' | route\" class=\"btn--colophon\" [innerHTML]=\"'privacy_policy' | label\"></a> <span *if=\"'terms_of_service' | label\">-</span> <a [routerLink]=\"':lang.terms' | route\" class=\"btn--colophon\" [innerHTML]=\"'terms_of_service' | label\"></a></span>\r\n`;\r\n\r\nexport const CHUNK_LANGUAGE = /* html */`\r\n<!-- language -->\r\n<div class=\"group--language\" language *if=\"state.status != 'connected'\"></div>\r\n`;\r\n\r\nexport const CHUNK_VIRTUAL_TOUR = /* html */`\r\n<!-- Virtual Tour -->\r\n<div class=\"ui virtual-tour\" [class]=\"uiClass\" *if=\"state.status == 'connected' && isVirtualTourUser\">\r\n\t<!-- world -->\r\n\t<div class=\"ui__body\">\r\n\t\t<div class=\"world\" world [view]=\"view\" [views]=\"pathViews\" (navTo)=\"onNavTo($event)\" (navLink)=\"onNavLink($event)\"></div>\r\n\t</div>\r\n\t${CHUNK_REMOTE}\r\n\t<div class=\"group--header\">\r\n\t\t${CHUNK_SERVICE}\r\n\t\t${CHUNK_LOCAL}\r\n\t</div>\r\n\t<div class=\"group--footer\">\r\n\t\t${CHUNK_CONTROLS}\r\n\t\t${CHUNK_MEDIA}\r\n\t\t${CHUNK_AR_VR}\r\n\t\t${CHUNK_LIKE}\r\n\t</div>\r\n\t${CHUNK_MEMBERS}\r\n\t${CHUNK_CHAT}\r\n\t${CHUNK_LOCK}\r\n\t${CHUNK_NAVMAP}\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_SMART_DEVICE = /* html */`\r\n<!-- Smart Device -->\r\n<div class=\"ui remotes\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.role == 'smart-device'\">\r\n\t<div class=\"ui__body\"></div>\r\n\t<!-- remote sidebar -->\r\n\t<div class=\"group--remote\" [class]=\"'group--remote--' + remotes.length\" *if=\"state.live\">\r\n\t\t<div class=\"agora-stream\" (toggleSpy)=\"onToggleSpy($event)\" agora-stream [stream]=\"remote\" type=\"remote\" *for=\"let remote of remotes\">\r\n\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t<div class=\"id\" [innerHTML]=\"stream.clientInfo.name || streamId\" *if=\"stream.clientInfo\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- remote screen -->\r\n\t<div class=\"group--remote-screen\" *if=\"remoteScreen && !hasScreenViewItem\">\r\n\t\t<div class=\"agora-stream\" agora-stream [stream]=\"remoteScreen\" type=\"remote\">\r\n\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t<div class=\"id\" [innerHTML]=\"stream.clientInfo.name || streamId\" *if=\"stream.clientInfo\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"group--header\">\r\n\t\t${CHUNK_LOCAL_SMART_DEVICE}\r\n\t</div>\r\n\t<div class=\"group--footer\">\r\n\t\t${CHUNK_CONTROLS_SMART_DEVICE}\r\n\t</div>\r\n\t${CHUNK_MEMBERS_SMART_DEVICE}\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_SELF_SERVICE_TOUR = /* html */`\r\n<!-- Self Service Tour -->\r\n<div class=\"ui\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.mode == 'self-service-tour'\">\r\n\t<!-- world -->\r\n\t<div class=\"ui__body\">\r\n\t\t<div class=\"world\" world [view]=\"view\" [views]=\"pathViews\" (navTo)=\"onNavTo($event)\" (navLink)=\"onNavLink($event)\"></div>\r\n\t</div>\r\n\t<div class=\"group--header\">\r\n\t\t${CHUNK_SERVICE}\r\n\t</div>\r\n\t<div class=\"group--footer\">\r\n\t\t<div class=\"group--spacer\"></div>\r\n\t\t${CHUNK_MEDIA}\r\n\t\t${CHUNK_AR_VR}\r\n\t\t${CHUNK_LIKE}\r\n\t</div>\r\n\t${CHUNK_NAVMAP}\r\n</div>\r\n`;\r\n\r\nexport const CHUNK_EMBED = /* html */`\r\n<!-- Embed -->\r\n<div class=\"ui\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.mode == 'embed'\">\r\n\t<!-- world -->\r\n\t<div class=\"ui__body\">\r\n\t\t<div class=\"world\" world [view]=\"view\" [views]=\"pathViews\" (navTo)=\"onNavTo($event)\" (navLink)=\"onNavLink($event)\"></div>\r\n\t</div>\r\n\t<div class=\"group--header\">\r\n\t\t${CHUNK_SERVICE}\r\n\t</div>\r\n\t<div class=\"group--footer\">\r\n\t\t<div class=\"group--spacer\"></div>\r\n\t\t${CHUNK_MEDIA}\r\n\t\t${CHUNK_AR_VR}\r\n\t\t${CHUNK_LIKE}\r\n\t</div>\r\n</div>\r\n`;\r\n","\r\nexport class Utils {\r\n\r\n\tstatic merge(target, source) {\r\n\t\t// override null values\r\n\t\tif (source === null) {\r\n\t\t\treturn source;\r\n\t\t}\r\n\t\t// assign new values\r\n\t\tif (!target) {\r\n\t\t\tif (source && typeof source === 'object') {\r\n\t\t\t\treturn Object.assign({}, source);\r\n\t\t\t} else {\r\n\t\t\t\treturn source;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// merge objects\r\n\t\tif (source && typeof source === 'object') {\r\n\t\t\tObject.keys(source).forEach(key => {\r\n\t\t\t\tconst value = source[key];\r\n\t\t\t\tif (typeof value === 'object' && !Array.isArray(value)) {\r\n\t\t\t\t\ttarget[key] = this.merge(target[key], value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget[key] = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n}\r\n","import { environmentServed } from './environment.served';\r\nimport { environmentStatic } from './environment.static';\r\nimport { Utils } from './utils/utils';\r\n\r\nexport const NODE = (typeof module !== 'undefined' && module.exports);\r\nexport const PARAMS = NODE ? { get: () => { } } : new URLSearchParams(window.location.search);\r\nexport const DEBUG = false || (PARAMS.get('debug') != null);\r\nexport const BASE_HREF = NODE ? null : document.querySelector('base').getAttribute('href');\r\nexport const HEROKU = NODE ? false : (window && window.location.host.indexOf('herokuapp') !== -1);\r\nexport const VERCEL = NODE ? false : (window && window.location.host.indexOf('vercel.app') !== -1);\r\nexport const DEPLOYED = HEROKU || VERCEL;\r\nexport const STATIC = NODE ? false : (DEPLOYED || (window && (window.location.port === '41789' || window.location.port === '5000' || window.location.port === '6443' || window.location.host === 'actarian.github.io')));\r\nexport const DEVELOPMENT = NODE ? false : (window && ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1);\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION,\r\n};\r\n\r\nexport class Environment {\r\n\r\n\tget STATIC() {\r\n\t\treturn ENV.STATIC;\r\n\t}\r\n\tset STATIC(STATIC) {\r\n\t\tENV.STATIC = (STATIC === true || STATIC === 'true');\r\n\t\tconsole.log('Environment.STATIC.set', ENV.STATIC);\r\n\t}\r\n\r\n\tget href() {\r\n\t\tif (DEPLOYED) {\r\n\t\t\treturn this.githubDocs;\r\n\t\t} else {\r\n\t\t\treturn this.assets;\r\n\t\t}\r\n\t}\r\n\r\n\tgetAbsoluteUrl(path, params) {\r\n\t\tlet url = `${window.location.origin}${path}`;\r\n\t\t// let url = `${window.location.protocol}//${window.location.host}${path}`;\r\n\t\tObject.keys(params).forEach(key => {\r\n\t\t\turl = url.replace(`$${key}`, params[key]);\r\n\t\t});\r\n\t\treturn url;\r\n\t}\r\n\r\n\tgetPath(path) {\r\n\t\treturn this.isLocal(path) ? (this.href + path) : path;\r\n\t}\r\n\r\n\tisLocal(path) {\r\n\t\treturn path.indexOf('://') === -1;\r\n\t}\r\n\r\n\tmerge(options) {\r\n\t\tif (options) {\r\n\t\t\tUtils.merge(this, options);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst defaultOptions = {\r\n\tport: 5000,\r\n\t// fontFamily: 'GT Walsheim, sans-serif',\r\n\tfontFamily: 'Work Sans, sans-serif',\r\n\tcolors: {\r\n\t\tmenuBackground: '#000000',\r\n\t\tmenuForeground: '#ffffff',\r\n\t\tmenuOverBackground: '#0099ff',\r\n\t\tmenuOverForeground: '#ffffff',\r\n\t\tmenuBackBackground: '#0099ff',\r\n\t\tmenuBackForeground: '#000000',\r\n\t\tmenuBackOverBackground: '#0099ff',\r\n\t\tmenuBackOverForeground: '#ffffff',\r\n\t},\r\n\teditor: {\r\n\t\tdisabledViewTypes: ['waiting-room', 'room-3d', 'media'],\r\n\t\tdisabledViewItemTypes: ['texture'],\r\n\t},\r\n\trenderOrder: {\r\n\t\tpanorama: 0,\r\n\t\troom: 10,\r\n\t\tplane: 20,\r\n\t\ttile: 30,\r\n\t\tmodel: 40,\r\n\t\tbanner: 50,\r\n\t\tnav: 60,\r\n\t\tpanel: 70,\r\n\t\tmenu: 80,\r\n\t\tdebug: 90,\r\n\t\tpointer: 100,\r\n\t},\r\n};\r\n\r\nconst defaultAppOptions = {\r\n\tchannelName: 'BHere',\r\n\tflags: {\r\n\t\theroku: HEROKU,\r\n\t\tvercel: VERCEL,\r\n\t\tdeployed: DEPLOYED,\r\n\t},\r\n\tnavs: {\r\n\t\ticonMinScale: 1,\r\n\t\ticonMaxScale: 1.4,\r\n\t},\r\n\turl: {},\r\n\tlanguages: ['it', 'en'],\r\n\tdefaultLanguage: 'it',\r\n\tlabels: {},\r\n\tdata: {},\r\n\tfields: [],\r\n};\r\n\r\nconst environmentOptions = window.STATIC ? environmentStatic : environmentServed;\r\n\r\nlet options = Object.assign(defaultOptions, defaultAppOptions, environmentOptions);\r\noptions = Utils.merge(options, window.bhere);\r\n\r\nexport const environment = new Environment(options);\r\n\r\nconsole.log('environment', environment);\r\n","\r\nexport const environmentStatic = {\r\n\tappKey: '8b0cae93d47a44e48e97e7fd0404be4e',\r\n\tchannelName: 'BHere',\r\n\tflags: {\r\n\t\tproduction: false,\r\n\t\tuseProxy: true,\r\n\t\tuseToken: false,\r\n\t\tusePrefetch: true,\r\n\t\tuseExtendedUserInfo: true,\r\n\t\tuseEncryptedUrl: true,\r\n\t\tgdprRoutes: true,\r\n\t\tselfService: true,\r\n\t\tguidedTourRequest: true,\r\n\t\tguidedTourAccess: true,\r\n\t\tssoLogin: false,\r\n\t\tssoRegister: false,\r\n\t\teditor: true,\r\n\t\teditorAssetScreen: true,\r\n\t\tmenu: true,\r\n\t\tmenuEmbed: true,\r\n\t\tnavmaps: true,\r\n\t\tscreenShare: true,\r\n\t\tchat: true,\r\n\t\tar: true,\r\n\t\tlike: true,\r\n\t\thideNavInfo: true,\r\n\t\tuseIframe: true,\r\n\t\tattendee: true,\r\n\t\tstreamer: true,\r\n\t\tviewer: true,\r\n\t\tsmartDevice: true,\r\n\t\tselfServiceProposition: false,\r\n\t\tnavInfoAnimated: false,\r\n\t\tnavInfoImportantAnimated: false,\r\n\t\tnavMoveAnimated: true,\r\n\t\tnavMoveImportantAnimated: true,\r\n\t\tnavPointAnimated: false,\r\n\t\tnavPointImportantAnimated: false,\r\n\t\tnavTitleAnimated: false,\r\n\t\tnavTitleImportantAnimated: false,\r\n\t\tnavTransparentAnimated: true,\r\n\t\tnavTransparentImportantAnimated: true,\r\n\t\tuseTextureEnvironment: true,\r\n\t\tusePaths: true,\r\n\t\tantialias: true,\r\n\t\talpha: false,\r\n\t\tpremultipliedAlpha: false,\r\n\t},\r\n\tsso: {\r\n\t\tissuer: 'bhere-sso',\r\n\t\torigin: 'http://localhost:3010',\r\n\t\tloginUrl: 'http://localhost:3010/sso/login?redirectUrl={redirectUrl}',\r\n\t\tlogoutUrl: 'http://localhost:3010/sso/logout?redirectUrl={redirectUrl}',\r\n\t\tregisterUrl: 'http://localhost:3010/sso/register?redirectUrl={redirectUrl}',\r\n\t\tverifyTokenUrl: 'http://localhost:3010/sso/verifytoken?verifyToken={verifytoken}',\r\n\t},\r\n\tnavs: {\r\n\t\ticonMinScale: 1,\r\n\t\ticonMaxScale: 1.4,\r\n\t},\r\n\tprofiles: {\r\n\t\t// streamer: \"480p_1\", // 640 x 480 x 15\r\n\t\tstreamer: '480p_2', // 640 x 480 x 30\r\n\t\t// streamer: \"480p_3\", // 480 x 480 x 15\r\n\t\t// streamer: \"480p_4\", // 640 x 480 x 30\r\n\t\t// streamer: \"480p_6\", // 480 x 480 x 30\r\n\t\t// streamer: \"480p_8\", // 848, 480 x 15\r\n\t\t// streamer: \"480p_9\", // 848, 480 x 30\r\n\t\t// streamer: \"480p_10\", // 640 x 480 x 10\r\n\t\t// streamer: \"720p_1\", // 1280 x 720 x 15\r\n\t\t// streamer: \"720p_2\", // 1280 x 720 x 30\r\n\t\t// streamer: \"720p_3\", // 1280 x 720 x 30\r\n\t\t// streamer: \"720p_5\", // 960 x 720 x 15\r\n\t\t// streamer: \"720p_6\", // 960 x 720 x 30\r\n\t\t// streamer: \"1080p_1\", // 1920 x 1080 x 15\r\n\t\t// streamer: \"1080p_2\", // 1920 x 1080 x 30\r\n\t\t// streamer: \"1080p_3\", // 1920 x 1080 x 30\r\n\t\t// streamer: \"1080p_5\", // 1920 x 1080 x 60\r\n\r\n\t\t// attendee: \"720p_2\", // 1920 x 1080 x 30\r\n\t\tattendee: '1080p_2', // 1920 x 1080 x 30\r\n\r\n\t\t// publisher: \"720p_2\", // 1920 x 1080 x 30\r\n\t\tpublisher: '1080p_2', // 1920 x 1080 x 30\r\n\r\n\t\t// screen: \"480p_1\", // 640 × 480 x 5\r\n\t\t// screen: \"480p_2\", // 640 × 480 x 30\r\n\t\t// screen: \"720p_1\", // 1280 × 720 x 5\r\n\t\t// screen: \"720p_2\", // 1280 × 720 x 30\r\n\t\t// screen: \"1080p_1\", // 1920 × 1080 x 5\r\n\t\tscreen: '1080p_2', // 1920 × 1080 30\r\n\t},\r\n\tlogo: null,\r\n\t/*\r\n\tbackground: {\r\n\t\t// image: 'img/background.jpg',\r\n\t\tvideo: 'img/background.mp4',\r\n\t},\r\n\t*/\r\n\tselfServiceAudio: null, // 'audio/self-service.mp3',\r\n\tcolors: {\r\n\t\tmenuBackground: '#000000',\r\n\t\tmenuForeground: '#ffffff',\r\n\t\tmenuOverBackground: '#0099ff',\r\n\t\tmenuOverForeground: '#ffffff',\r\n\t\tmenuBackBackground: '#0099ff',\r\n\t\tmenuBackForeground: '#000000',\r\n\t\tmenuBackOverBackground: '#0099ff',\r\n\t\tmenuBackOverForeground: '#ffffff',\r\n\t},\r\n\teditor: {\r\n\t\tdisabledViewTypes: ['waiting-room'],\r\n\t\tdisabledViewItemTypes: ['texture'],\r\n\t},\r\n\tassets: '/docs/',\r\n\tdist: '/dist/',\r\n\tworkers: {\r\n\t\timage: './js/workers/image.service.worker.js',\r\n\t\tprefetch: './js/workers/prefetch.service.worker.js',\r\n\t},\r\n\ttextures: {\r\n\t\tenvMap: 'textures/envMap/studio_small_03_2k.hdr',\r\n\t\tgrid: 'textures/grid/grid.jpg',\r\n\t},\r\n\ttoneMappingExposure: 1,\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/b-here/beta-bhere-sso/docs/',\r\n\ttemplate: {\r\n\t\temail: {\r\n\t\t\tsupportRequest: '/email/support-request.html',\r\n\t\t},\r\n\t},\r\n};\r\n","\r\nexport const environmentServed = {\r\n\tappKey: '8b0cae93d47a44e48e97e7fd0404be4e',\r\n\tchannelName: 'BHere',\r\n\tflags: {\r\n\t\tproduction: true,\r\n\t\tuseProxy: false,\r\n\t\tuseToken: false,\r\n\t\tusePrefetch: true,\r\n\t\tuseExtendedUserInfo: false,\r\n\t\tuseEncryptedUrl: false,\r\n\t\tgdprRoutes: false,\r\n\t\tselfService: true,\r\n\t\tguidedTourRequest: true,\r\n\t\tguidedTourAccess: true,\r\n\t\tssoLogin: false,\r\n\t\tssoRegister: false,\r\n\t\teditor: false,\r\n\t\teditorAssetScreen: false,\r\n\t\tmenu: true,\r\n\t\tmenuEmbed: false,\r\n\t\tnavmaps: false,\r\n\t\tscreenShare: false,\r\n\t\tchat: false,\r\n\t\tar: true,\r\n\t\tlike: true,\r\n\t\thideNavInfo: true,\r\n\t\tuseIframe: true,\r\n\t\tattendee: true,\r\n\t\tstreamer: true,\r\n\t\tviewer: true,\r\n\t\tsmartDevice: true,\r\n\t\tselfServiceProposition: false,\r\n\t\tnavInfoAnimated: false,\r\n\t\tnavInfoImportantAnimated: false,\r\n\t\tnavMoveAnimated: false,\r\n\t\tnavMoveImportantAnimated: false,\r\n\t\tnavPointAnimated: false,\r\n\t\tnavPointImportantAnimated: false,\r\n\t\tnavTitleAnimated: false,\r\n\t\tnavTitleImportantAnimated: false,\r\n\t\tnavTransparentAnimated: false,\r\n\t\tnavTransparentImportantAnimated: false,\r\n\t\tuseTextureEnvironment: true,\r\n\t\tusePaths: false,\r\n\t\tantialias: true,\r\n\t\talpha: false,\r\n\t\tpremultipliedAlpha: false,\r\n\t\t// maxQuality: false,\r\n\t},\r\n\tnavs: {\r\n\t\ticonMinScale: 1,\r\n\t\ticonMaxScale: 1.4,\r\n\t},\r\n\tprofiles: {\r\n\t\t// streamer: \"480p_1\", // 640 x 480 x 15\r\n\t\tstreamer: '480p_2', // 640 x 480 x 30\r\n\t\t// streamer: \"480p_3\", // 480 x 480 x 15\r\n\t\t// streamer: \"480p_4\", // 640 x 480 x 30\r\n\t\t// streamer: \"480p_6\", // 480 x 480 x 30\r\n\t\t// streamer: \"480p_8\", // 848, 480 x 15\r\n\t\t// streamer: \"480p_9\", // 848, 480 x 30\r\n\t\t// streamer: \"480p_10\", // 640 x 480 x 10\r\n\t\t// streamer: \"720p_1\", // 1280 x 720 x 15\r\n\t\t// streamer: \"720p_2\", // 1280 x 720 x 30\r\n\t\t// streamer: \"720p_3\", // 1280 x 720 x 30\r\n\t\t// streamer: \"720p_5\", // 960 x 720 x 15\r\n\t\t// streamer: \"720p_6\", // 960 x 720 x 30\r\n\t\t// streamer: \"1080p_1\", // 1920 x 1080 x 15\r\n\t\t// streamer: \"1080p_2\", // 1920 x 1080 x 30\r\n\t\t// streamer: \"1080p_3\", // 1920 x 1080 x 30\r\n\t\t// streamer: \"1080p_5\", // 1920 x 1080 x 60\r\n\r\n\t\t// attendee: \"720p_2\", // 1920 x 1080 x 30\r\n\t\tattendee: '1080p_2', // 1920 x 1080 x 30\r\n\r\n\t\t// publisher: \"720p_2\", // 1920 x 1080 x 30\r\n\t\tpublisher: '1080p_2', // 1920 x 1080 x 30\r\n\r\n\t\t// screen: \"480p_1\", // 640 × 480 x 5\r\n\t\t// screen: \"480p_2\", // 640 × 480 x 30\r\n\t\t// screen: \"720p_1\", // 1280 × 720 x 5\r\n\t\tscreen: '720p_2', // 1280 × 720 x 30\r\n\t\t// screen: \"1080p_1\", // 1920 × 1080 x 5\r\n\t\t// screen: \"1080p_2\", // 1920 × 1080 30\r\n\t},\r\n\tlogo: null,\r\n\t/*\r\n\tbackground: {\r\n\t\t// image: 'img/background.jpg',\r\n\t\tvideo: 'img/background.mp4',\r\n\t},\r\n\t*/\r\n\tselfServiceAudio: null, // 'audio/self-service.mp3',\r\n\tcolors: {\r\n\t\tmenuBackground: '#000000',\r\n\t\tmenuForeground: '#ffffff',\r\n\t\tmenuOverBackground: '#0099ff',\r\n\t\tmenuOverForeground: '#ffffff',\r\n\t\tmenuBackBackground: '#0099ff',\r\n\t\tmenuBackForeground: '#000000',\r\n\t\tmenuBackOverBackground: '#0099ff',\r\n\t\tmenuBackOverForeground: '#ffffff',\r\n\t},\r\n\teditor: {\r\n\t\tdisabledViewTypes: ['waiting-room', 'room-3d', 'media'],\r\n\t\tdisabledViewItemTypes: ['texture'],\r\n\t},\r\n\tassets: '/Modules/B-Here/Client/docs/',\r\n\tdist: '/Modules/B-Here/Client/dist/',\r\n\tworkers: {\r\n\t\timage: '/Modules/B-Here/Client/docs/js/workers/image.service.worker.js',\r\n\t\tprefetch: '/Modules/B-Here/Client/docs/js/workers/prefetch.service.worker.js',\r\n\t},\r\n\ttextures: {\r\n\t\tenvMap: 'textures/envMap/studio_small_03_2k.hdr',\r\n\t\tgrid: 'textures/grid/grid.jpg',\r\n\t},\r\n\ttoneMappingExposure: 1,\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/b-here/beta-bhere-sso/docs/',\r\n\ttemplate: {\r\n\t\temail: {\r\n\t\t\tsupportRequest: '/template/modules/b-here/email/support-request.cshtml',\r\n\t\t},\r\n\t},\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export type arrayFormat = 'none' | 'brackets' | 'index'\nexport type booleanFormat = 'none' | 'string' | 'unicode' | 'empty-true'\nexport type nullFormat = 'default' | 'string' | 'hidden'\n\nexport interface IOptions {\n  arrayFormat?: arrayFormat\n  booleanFormat?: booleanFormat\n  nullFormat?: nullFormat\n}\n\nexport interface IFinalOptions {\n  arrayFormat: arrayFormat\n  booleanFormat: booleanFormat\n  nullFormat: nullFormat\n}\n\nexport const makeOptions = (opts: IOptions = {}): IFinalOptions => ({\n  arrayFormat: opts.arrayFormat || 'none',\n  booleanFormat: opts.booleanFormat || 'none',\n  nullFormat: opts.nullFormat || 'default'\n})\n\nconst encodeValue = (value: any): string => encodeURIComponent(value)\n\nconst decodeValue = (value: string): string => decodeURIComponent(value)\n\nconst encodeBoolean = (\n  name: string,\n  value: boolean,\n  opts: IFinalOptions\n): string => {\n  if (opts.booleanFormat === 'empty-true' && value) {\n    return name\n  }\n\n  let encodedValue\n\n  if (opts.booleanFormat === 'unicode') {\n    encodedValue = value ? '✓' : '✗'\n  } else {\n    encodedValue = value.toString()\n  }\n\n  return `${name}=${encodedValue}`\n}\n\nconst encodeNull = (name: string, opts: IFinalOptions): string => {\n  if (opts.nullFormat === 'hidden') {\n    return ''\n  }\n\n  if (opts.nullFormat === 'string') {\n    return `${name}=null`\n  }\n\n  return name\n}\n\ntype nameEncoder = (val: string, index: number) => string\n\nconst getNameEncoder = (opts: IFinalOptions): nameEncoder => {\n  if (opts.arrayFormat === 'index') {\n    return (name: string, index: number): string => `${name}[${index}]`\n  }\n\n  if (opts.arrayFormat === 'brackets') {\n    return (name: string): string => `${name}[]`\n  }\n\n  return (name: string): string => name\n}\n\nexport const encodeArray = (\n  name: string,\n  arr: any[],\n  opts: IFinalOptions\n): string => {\n  const encodeName = getNameEncoder(opts)\n\n  return arr\n    .map((val, index) => `${encodeName(name, index)}=${encodeValue(val)}`)\n    .join('&')\n}\n\nexport const encode = (\n  name: string,\n  value: any,\n  opts: IFinalOptions\n): string => {\n  if (value === null) {\n    return encodeNull(name, opts)\n  }\n\n  if (typeof value === 'boolean') {\n    return encodeBoolean(name, value, opts)\n  }\n\n  if (Array.isArray(value)) {\n    return encodeArray(name, value, opts)\n  }\n\n  return `${name}=${encodeValue(value)}`\n}\n\nexport const decode = (\n  value: any,\n  opts: IFinalOptions\n): boolean | string | null => {\n  if (value === undefined) {\n    return opts.booleanFormat === 'empty-true' ? true : null\n  }\n\n  if (opts.booleanFormat === 'string') {\n    if (value === 'true') {\n      return true\n    }\n    if (value === 'false') {\n      return false\n    }\n  }\n\n  if (opts.booleanFormat === 'unicode') {\n    if (decodeValue(value) === '✓') {\n      return true\n    }\n    if (decodeValue(value) === '✗') {\n      return false\n    }\n  }\n\n  if (opts.nullFormat === 'string') {\n    if (value === 'null') {\n      return null\n    }\n  }\n\n  return decodeValue(value)\n}\n","export const getSearch = (path: string): string => {\n  const pos = path.indexOf('?')\n\n  if (pos === -1) {\n    return path\n  }\n\n  return path.slice(pos + 1)\n}\n\nexport const isSerialisable = (val: any): boolean => val !== undefined\n\nexport interface IParsedName {\n  hasBrackets: boolean\n  name: string\n}\n\nexport const parseName = (name: string): IParsedName => {\n  const bracketPosition = name.indexOf('[')\n  const hasBrackets = bracketPosition !== -1\n\n  return {\n    hasBrackets,\n    name: hasBrackets ? name.slice(0, bracketPosition) : name\n  }\n}\n","import { decode, encode, IOptions, makeOptions } from './encode'\nimport { getSearch, isSerialisable, parseName } from './utils'\n\nexport { IOptions }\n\nexport type SearchParams = Record<\n  string,\n  string | boolean | null | Array<string | boolean | null> | undefined\n>\n\n/**\n * Parse a querystring and return an object of parameters\n */\nexport const parse = <T extends Record<string, any> = SearchParams>(\n  path: string,\n  opts?: IOptions\n): T => {\n  const options = makeOptions(opts)\n\n  return getSearch(path)\n    .split('&')\n    .reduce<Record<string, any>>((params, param) => {\n      const [rawName, value] = param.split('=')\n      const { hasBrackets, name } = parseName(rawName)\n      const currentValue = params[name]\n      const decodedValue = decode(value, options)\n\n      if (currentValue === undefined) {\n        params[name] = hasBrackets ? [decodedValue] : decodedValue\n      } else {\n        params[name] = (Array.isArray(currentValue)\n          ? currentValue\n          : [currentValue]\n        ).concat(decodedValue)\n      }\n\n      return params\n    }, {}) as T\n}\n\n/**\n * Build a querystring from an object of parameters\n */\nexport const build = <T extends Record<string, any> = SearchParams>(\n  params: T,\n  opts?: IOptions\n): string => {\n  const options = makeOptions(opts)\n\n  return Object.keys(params)\n    .filter(paramName => isSerialisable(params[paramName]))\n    .map(paramName => encode(paramName, params[paramName], options))\n    .filter(Boolean)\n    .join('&')\n}\n\nexport interface IOmitResponse {\n  querystring: string\n  removedParams: object\n}\n\n/**\n * Remove a list of parameters from a querystring\n */\nexport const omit = (\n  path: string,\n  paramsToOmit: string[],\n  opts?: IOptions\n): IOmitResponse => {\n  const options = makeOptions(opts)\n  const searchPart = getSearch(path)\n  if (searchPart === '') {\n    return {\n      querystring: '',\n      removedParams: {}\n    }\n  }\n\n  const [kept, removed] = path.split('&').reduce<[string[], string[]]>(\n    ([left, right]: [string[], string[]], chunk: string) => {\n      const rawName = chunk.split('=')[0]\n      const { name } = parseName(rawName)\n\n      return paramsToOmit.indexOf(name) === -1\n        ? [left.concat(chunk), right]\n        : [left, right.concat(chunk)]\n    },\n    [[], []]\n  )\n\n  return {\n    querystring: kept.join('&'),\n    removedParams: parse(removed.join('&'), options)\n  }\n}\n\nexport interface IKeepResponse {\n  querystring: string\n  keptParams: object\n}\n\n/**\n * Remove a list of parameters from a querystring\n */\nexport const keep = (\n  path: string,\n  paramsToKeep: string[],\n  opts?: IOptions\n): IKeepResponse => {\n  const options = makeOptions(opts)\n  const searchPart = getSearch(path)\n  if (searchPart === '') {\n    return {\n      keptParams: {},\n      querystring: ''\n    }\n  }\n\n  const kept = path.split('&').reduce<string[]>((acc, chunk: string) => {\n    const rawName = chunk.split('=')[0]\n    const { name } = parseName(rawName)\n\n    if (paramsToKeep.includes(name)) {\n      acc.push(chunk)\n    }\n\n    return acc\n  }, [])\n\n  return {\n    keptParams: parse(kept.join('&'), options),\n    querystring: kept.join('&')\n  }\n}\n","/**\n * We encode using encodeURIComponent but we want to\n * preserver certain characters which are commonly used\n * (sub delimiters and ':')\n * \n * https://www.ietf.org/rfc/rfc3986.txt\n * \n * reserved    = gen-delims / sub-delims\n * \n * gen-delims  = \":\" / \"/\" / \"?\" / \"#\" / \"[\" / \"]\" / \"@\"\n * \n * sub-delims  = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\"\n              / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n */\n\nconst excludeSubDelimiters = /[^!$'()*+,;|:]/g\n\nexport type URLParamsEncodingType =\n  | 'default'\n  | 'uri'\n  | 'uriComponent'\n  | 'none'\n  | 'legacy'\n\nexport const encodeURIComponentExcludingSubDelims = (segment: string): string =>\n  segment.replace(excludeSubDelimiters, match => encodeURIComponent(match))\n\nconst encodingMethods: Record<\n  URLParamsEncodingType,\n  (param: string) => string\n> = {\n  default: encodeURIComponentExcludingSubDelims,\n  uri: encodeURI,\n  uriComponent: encodeURIComponent,\n  none: val => val,\n  legacy: encodeURI\n}\n\nconst decodingMethods: Record<\n  URLParamsEncodingType,\n  (param: string) => string\n> = {\n  default: decodeURIComponent,\n  uri: decodeURI,\n  uriComponent: decodeURIComponent,\n  none: val => val,\n  legacy: decodeURIComponent\n}\n\nexport const encodeParam = (\n  param: string | number | boolean,\n  encoding: URLParamsEncodingType,\n  isSpatParam: boolean\n): string => {\n  const encoder =\n    encodingMethods[encoding] || encodeURIComponentExcludingSubDelims\n\n  if (isSpatParam) {\n    return String(param)\n      .split('/')\n      .map(encoder)\n      .join('/')\n  }\n\n  return encoder(String(param))\n}\n\nexport const decodeParam = (\n  param: string,\n  encoding: URLParamsEncodingType\n): string => (decodingMethods[encoding] || decodeURIComponent)(param)\n","export const defaultOrConstrained = (match: string): string =>\n  '(' +\n  (match ? match.replace(/(^<|>$)/g, '') : \"[a-zA-Z0-9-_.~%':|=+\\\\*@$]+\") +\n  ')'\n\nexport type RegExpFactory = (match: any) => RegExp\n\nexport interface IRule {\n  /* The name of the rule */\n  name: string\n  /* The regular expression used to find a token in a path definition */\n  pattern: RegExp\n  /* The derived regular expression to match a path */\n  regex?: RegExp | RegExpFactory\n}\n\nconst rules: IRule[] = [\n  {\n    name: 'url-parameter',\n    pattern: /^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,\n    regex: (match: RegExpMatchArray) =>\n      new RegExp(defaultOrConstrained(match[2]))\n  },\n  {\n    name: 'url-parameter-splat',\n    pattern: /^\\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,\n    regex: /([^?]*)/\n  },\n  {\n    name: 'url-parameter-matrix',\n    pattern: /^;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,\n    regex: (match: RegExpMatchArray) =>\n      new RegExp(';' + match[1] + '=' + defaultOrConstrained(match[2]))\n  },\n  {\n    name: 'query-parameter',\n    pattern: /^(?:\\?|&)(?::)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/\n  },\n  {\n    name: 'delimiter',\n    pattern: /^(\\/|\\?)/,\n    regex: (match: RegExpMatchArray) => new RegExp('\\\\' + match[0])\n  },\n  {\n    name: 'sub-delimiter',\n    pattern: /^(!|&|-|_|\\.|;)/,\n    regex: (match: RegExpMatchArray) => new RegExp(match[0])\n  },\n  {\n    name: 'fragment',\n    pattern: /^([0-9a-zA-Z]+)/,\n    regex: (match: RegExpMatchArray) => new RegExp(match[0])\n  }\n]\n\nexport default rules\n","import rules from './rules'\n\nexport interface Token {\n  type: string\n  match: string\n  val: any\n  otherVal: any\n  regex?: RegExp\n}\n\nconst tokenise = (str: string, tokens: Token[] = []): Token[] => {\n  // Look for a matching rule\n  const matched = rules.some(rule => {\n    const match = str.match(rule.pattern)\n    if (!match) {\n      return false\n    }\n\n    tokens.push({\n      type: rule.name,\n      match: match[0],\n      val: match.slice(1, 2),\n      otherVal: match.slice(2),\n      regex: rule.regex instanceof Function ? rule.regex(match) : rule.regex\n    })\n\n    if (match[0].length < str.length) {\n      tokens = tokenise(str.substr(match[0].length), tokens)\n    }\n    return true\n  })\n\n  // If no rules matched, throw an error (possible malformed path)\n  if (!matched) {\n    throw new Error(`Could not parse path '${str}'`)\n  }\n\n  return tokens\n}\n\nexport default tokenise\n","import {\n  build as buildQueryParams,\n  IOptions,\n  parse as parseQueryParams\n} from 'search-params'\n\nimport { URLParamsEncodingType, decodeParam, encodeParam } from './encoding'\nimport { defaultOrConstrained } from './rules'\nimport tokenise, { Token } from './tokeniser'\n\nexport { URLParamsEncodingType }\n\nconst exists = (val: any) => val !== undefined && val !== null\n\nconst optTrailingSlash = (source: string, strictTrailingSlash: boolean) => {\n  if (strictTrailingSlash) {\n    return source\n  }\n\n  if (source === '\\\\/') {\n    return source\n  }\n\n  return source.replace(/\\\\\\/$/, '') + '(?:\\\\/)?'\n}\n\nconst upToDelimiter = (source: string, delimiter?: boolean) => {\n  if (!delimiter) {\n    return source\n  }\n\n  return /(\\/)$/.test(source) ? source : source + '(\\\\/|\\\\?|\\\\.|;|$)'\n}\n\nconst appendQueryParam = (\n  params: Record<string, any>,\n  param: string,\n  val = ''\n) => {\n  const existingVal = params[param]\n\n  if (existingVal === undefined) {\n    params[param] = val\n  } else {\n    params[param] = Array.isArray(existingVal)\n      ? existingVal.concat(val)\n      : [existingVal, val]\n  }\n\n  return params\n}\n\nexport interface PathOptions {\n  /**\n   * Query parameters buiding and matching options, see\n   * https://github.com/troch/search-params#options\n   */\n  queryParams?: IOptions\n  /**\n   * Specifies the method used to encode URL parameters:\n   *   - `'default': `encodeURIComponent` and `decodeURIComponent`\n   *      are used but some characters to encode and decode URL parameters,\n   *      but some characters are preserved when encoding\n   *      (sub-delimiters: `+`, `:`, `'`, `!`, `,`, `;`, `'*'`).\n   *   - `'uriComponent'`: use `encodeURIComponent` and `decodeURIComponent`\n   *      for encoding and decoding URL parameters.\n   *   - `'uri'`: use `encodeURI` and `decodeURI for encoding amd decoding\n   *      URL parameters.\n   *   - `'none'`: no encoding or decoding is performed\n   *   - `'legacy'`: the approach for version 5.x and below (not recoomended)\n   */\n  urlParamsEncoding?: URLParamsEncodingType\n}\n\nexport interface InternalPathOptions {\n  queryParams?: IOptions\n  urlParamsEncoding: URLParamsEncodingType\n}\n\nconst defaultOptions: InternalPathOptions = {\n  urlParamsEncoding: 'default'\n}\n\nexport interface PathPartialTestOptions extends PathOptions {\n  caseSensitive?: boolean\n  delimited?: boolean\n}\n\nexport interface PathTestOptions extends PathOptions {\n  caseSensitive?: boolean\n  strictTrailingSlash?: boolean\n}\n\nexport interface PathBuildOptions extends PathOptions {\n  ignoreConstraints?: boolean\n  ignoreSearch?: boolean\n}\n\nexport type TestMatch<\n  T extends Record<string, any> = Record<string, any>\n> = T | null\n\nexport class Path<T extends Record<string, any> = Record<string, any>> {\n  public static createPath<T extends Record<string, any> = Record<string, any>>(\n    path: string,\n    options?: PathOptions\n  ) {\n    return new Path<T>(path, options)\n  }\n\n  public path: string\n  public tokens: Token[]\n  public hasUrlParams: boolean\n  public hasSpatParam: boolean\n  public hasMatrixParams: boolean\n  public hasQueryParams: boolean\n  public options: InternalPathOptions\n  public spatParams: string[]\n  public urlParams: string[]\n  public queryParams: string[]\n  public params: string[]\n  public source: string\n\n  constructor(path: string, options?: PathOptions) {\n    if (!path) {\n      throw new Error('Missing path in Path constructor')\n    }\n    this.path = path\n    this.options = {\n      ...defaultOptions,\n      ...options\n    }\n    this.tokens = tokenise(path)\n\n    this.hasUrlParams =\n      this.tokens.filter(t => /^url-parameter/.test(t.type)).length > 0\n    this.hasSpatParam =\n      this.tokens.filter(t => /splat$/.test(t.type)).length > 0\n    this.hasMatrixParams =\n      this.tokens.filter(t => /matrix$/.test(t.type)).length > 0\n    this.hasQueryParams =\n      this.tokens.filter(t => /^query-parameter/.test(t.type)).length > 0\n    // Extract named parameters from tokens\n    this.spatParams = this.getParams('url-parameter-splat')\n    this.urlParams = this.getParams(/^url-parameter/)\n    // Query params\n    this.queryParams = this.getParams('query-parameter')\n    // All params\n    this.params = this.urlParams.concat(this.queryParams)\n    // Check if hasQueryParams\n    // Regular expressions for url part only (full and partial match)\n    this.source = this.tokens\n      .filter(t => t.regex !== undefined)\n      .map(t => t.regex!.source)\n      .join('')\n  }\n\n  public isQueryParam(name: string): boolean {\n    return this.queryParams.indexOf(name) !== -1\n  }\n\n  public isSpatParam(name: string): boolean {\n    return this.spatParams.indexOf(name) !== -1\n  }\n\n  public test(path: string, opts?: PathTestOptions): TestMatch<T> {\n    const options = {\n      caseSensitive: false,\n      strictTrailingSlash: false,\n      ...this.options,\n      ...opts\n    } as const\n    // trailingSlash: falsy => non optional, truthy => optional\n    const source = optTrailingSlash(this.source, options.strictTrailingSlash)\n    // Check if exact match\n    const match = this.urlTest(\n      path,\n      source + (this.hasQueryParams ? '(\\\\?.*$|$)' : '$'),\n      options.caseSensitive,\n      options.urlParamsEncoding\n    )\n    // If no match, or no query params, no need to go further\n    if (!match || !this.hasQueryParams) {\n      return match\n    }\n    // Extract query params\n    const queryParams = parseQueryParams(path, options.queryParams)\n    const unexpectedQueryParams = Object.keys(queryParams).filter(\n      p => !this.isQueryParam(p)\n    )\n\n    if (unexpectedQueryParams.length === 0) {\n      // Extend url match\n      Object.keys(queryParams).forEach(\n        // @ts-ignore\n        p => (match[p] = (queryParams as any)[p])\n      )\n\n      return match\n    }\n\n    return null\n  }\n\n  public partialTest(\n    path: string,\n    opts?: PathPartialTestOptions\n  ): TestMatch<T> {\n    const options = {\n      caseSensitive: false,\n      delimited: true,\n      ...this.options,\n      ...opts\n    } as const\n    // Check if partial match (start of given path matches regex)\n    // trailingSlash: falsy => non optional, truthy => optional\n    const source = upToDelimiter(this.source, options.delimited)\n    const match = this.urlTest(\n      path,\n      source,\n      options.caseSensitive,\n      options.urlParamsEncoding\n    )\n\n    if (!match) {\n      return match\n    }\n\n    if (!this.hasQueryParams) {\n      return match\n    }\n\n    const queryParams = parseQueryParams(path, options.queryParams)\n\n    Object.keys(queryParams)\n      .filter(p => this.isQueryParam(p))\n      .forEach(p => appendQueryParam(match, p, (queryParams as any)[p]))\n\n    return match\n  }\n\n  public build(params: T = {} as T, opts?: PathBuildOptions): string {\n    const options = {\n      ignoreConstraints: false,\n      ignoreSearch: false,\n      queryParams: {},\n      ...this.options,\n      ...opts\n    } as const\n    const encodedUrlParams = Object.keys(params)\n      .filter(p => !this.isQueryParam(p))\n      .reduce<Record<string, any>>((acc, key) => {\n        if (!exists(params[key])) {\n          return acc\n        }\n\n        const val = params[key]\n        const isSpatParam = this.isSpatParam(key)\n\n        if (typeof val === 'boolean') {\n          acc[key] = val\n        } else if (Array.isArray(val)) {\n          acc[key] = val.map(v =>\n            encodeParam(v, options.urlParamsEncoding, isSpatParam)\n          )\n        } else {\n          acc[key] = encodeParam(val, options.urlParamsEncoding, isSpatParam)\n        }\n\n        return acc\n      }, {})\n\n    // Check all params are provided (not search parameters which are optional)\n    if (this.urlParams.some(p => !exists(params[p]))) {\n      const missingParameters = this.urlParams.filter(p => !exists(params[p]))\n      throw new Error(\n        \"Cannot build path: '\" +\n          this.path +\n          \"' requires missing parameters { \" +\n          missingParameters.join(', ') +\n          ' }'\n      )\n    }\n\n    // Check constraints\n    if (!options.ignoreConstraints) {\n      const constraintsPassed = this.tokens\n        .filter(t => /^url-parameter/.test(t.type) && !/-splat$/.test(t.type))\n        .every(t =>\n          new RegExp('^' + defaultOrConstrained(t.otherVal[0]) + '$').test(\n            encodedUrlParams[t.val]\n          )\n        )\n\n      if (!constraintsPassed) {\n        throw new Error(\n          `Some parameters of '${this.path}' are of invalid format`\n        )\n      }\n    }\n\n    const base = this.tokens\n      .filter(t => /^query-parameter/.test(t.type) === false)\n      .map(t => {\n        if (t.type === 'url-parameter-matrix') {\n          return `;${t.val}=${encodedUrlParams[t.val[0]]}`\n        }\n\n        return /^url-parameter/.test(t.type)\n          ? encodedUrlParams[t.val[0]]\n          : t.match\n      })\n      .join('')\n\n    if (options.ignoreSearch) {\n      return base\n    }\n\n    const searchParams = this.queryParams\n      .filter(p => Object.keys(params).indexOf(p) !== -1)\n      .reduce<Record<string, any>>((sparams, paramName) => {\n        sparams[paramName] = params[paramName]\n        return sparams\n      }, {})\n    const searchPart = buildQueryParams(searchParams, options.queryParams)\n\n    return searchPart ? base + '?' + searchPart : base\n  }\n\n  private getParams(type: string | RegExp): string[] {\n    const predicate =\n      type instanceof RegExp\n        ? (t: Token) => type.test(t.type)\n        : (t: Token) => t.type === type\n\n    return this.tokens.filter(predicate).map(t => t.val[0])\n  }\n\n  private urlTest(\n    path: string,\n    source: string,\n    caseSensitive: boolean,\n    urlParamsEncoding: URLParamsEncodingType\n  ): TestMatch<T> {\n    const regex = new RegExp('^' + source, caseSensitive ? '' : 'i')\n    const match = path.match(regex)\n    if (!match) {\n      return null\n    } else if (!this.urlParams.length) {\n      return {} as T\n    }\n    // Reduce named params to key-value pairs\n    return match\n      .slice(1, this.urlParams.length + 1)\n      .reduce<Record<string, any>>((params, m, i) => {\n        params[this.urlParams[i]] = decodeParam(m, urlParamsEncoding)\n        return params\n      }, {}) as T\n  }\n}\n\nexport default Path\n","import { build } from 'search-params'\nimport {\n  BuildOptions,\n  MatchResponse,\n  RouteNode,\n  RouteNodeState,\n  RouteNodeStateMeta\n} from './RouteNode'\n\nexport const getMetaFromSegments = (\n  segments: RouteNode[]\n): RouteNodeStateMeta => {\n  let accName = ''\n\n  return segments.reduce<RouteNodeStateMeta>((meta, segment) => {\n    const urlParams =\n      segment.parser?.urlParams.reduce<Record<string, any>>((params, p) => {\n        params[p] = 'url'\n        return params\n      }, {}) ?? {}\n\n    const allParams =\n      segment.parser?.queryParams.reduce<Record<string, any>>((params, p) => {\n        params[p] = 'query'\n        return params\n      }, urlParams) ?? {}\n\n    if (segment.name !== undefined) {\n      accName = accName ? accName + '.' + segment.name : segment.name\n      meta[accName] = allParams\n    }\n    return meta\n  }, {})\n}\n\nexport const buildStateFromMatch = (\n  match: MatchResponse\n): RouteNodeState | null => {\n  if (!match || !match.segments || !match.segments.length) {\n    return null\n  }\n\n  const name = match.segments\n    .map(segment => segment.name)\n    .filter(name => name)\n    .join('.')\n  const params = match.params\n\n  return {\n    name,\n    params,\n    meta: getMetaFromSegments(match.segments)\n  }\n}\n\nexport const buildPathFromSegments = (\n  segments: RouteNode[],\n  params: Record<string, any> = {},\n  options: BuildOptions = {}\n) => {\n  const { queryParamsMode = 'default', trailingSlashMode = 'default' } = options\n  const searchParams: string[] = []\n  const nonSearchParams: string[] = []\n\n  for (const segment of segments) {\n    const { parser } = segment\n\n    if (parser) {\n      searchParams.push(...parser.queryParams)\n      nonSearchParams.push(...parser.urlParams)\n      nonSearchParams.push(...parser.spatParams)\n    }\n  }\n\n  if (queryParamsMode === 'loose') {\n    const extraParams = Object.keys(params).reduce<string[]>(\n      (acc, p) =>\n        searchParams.indexOf(p) === -1 && nonSearchParams.indexOf(p) === -1\n          ? acc.concat(p)\n          : acc,\n      []\n    )\n    searchParams.push(...extraParams)\n  }\n\n  const searchParamsObject = searchParams.reduce<Record<string, any>>(\n    (acc, paramName) => {\n      if (Object.keys(params).indexOf(paramName) !== -1) {\n        acc[paramName] = params[paramName]\n      }\n\n      return acc\n    },\n    {}\n  )\n\n  const searchPart = build(searchParamsObject, options.queryParams)\n\n  const path = segments\n    .reduce<string>((path, segment) => {\n      const segmentPath =\n        segment.parser?.build(params, {\n          ignoreSearch: true,\n          queryParams: options.queryParams,\n          urlParamsEncoding: options.urlParamsEncoding\n        }) ?? ''\n\n      return segment.absolute ? segmentPath : path + segmentPath\n    }, '')\n    // remove repeated slashes\n    .replace(/\\/\\/{1,}/g, '/')\n\n  let finalPath = path\n\n  if (trailingSlashMode === 'always') {\n    finalPath = /\\/$/.test(path) ? path : `${path}/`\n  } else if (trailingSlashMode === 'never' && path !== '/') {\n    finalPath = /\\/$/.test(path) ? path.slice(0, -1) : path\n  }\n\n  return finalPath + (searchPart ? '?' + searchPart : '')\n}\n\nexport const getPathFromSegments = (segments: RouteNode[]): string | null =>\n  segments ? segments.map(segment => segment.path).join('') : null\n","import { omit, parse } from 'search-params'\nimport { MatchOptions, MatchResponse, RouteNode } from './RouteNode'\nimport { TestMatch } from 'path-parser'\n\nconst getPath = (path: string): string => path.split('?')[0]\n\nconst getSearch = (path: string): string => path.split('?')[1] || ''\n\nconst matchChildren = (\n  nodes: RouteNode[],\n  pathSegment: string,\n  currentMatch: MatchResponse,\n  options: MatchOptions = {},\n  consumedBefore?: string\n): MatchResponse | null => {\n  const {\n    queryParamsMode = 'default',\n    strictTrailingSlash = false,\n    strongMatching = true,\n    caseSensitive = false\n  } = options\n  const isRoot = nodes.length === 1 && nodes[0].name === ''\n  // for (child of node.children) {\n  for (const child of nodes) {\n    // Partially match path\n    let match: TestMatch | null = null\n    let remainingPath\n    let segment = pathSegment\n\n    if (consumedBefore === '/' && child.path === '/') {\n      // when we encounter repeating slashes we add the slash\n      // back to the URL to make it de facto pathless\n      segment = '/' + pathSegment\n    }\n\n    if (!child.children.length) {\n      match = child.parser!.test(segment, {\n        caseSensitive,\n        strictTrailingSlash,\n        queryParams: options.queryParams,\n        urlParamsEncoding: options.urlParamsEncoding\n      })\n    }\n\n    if (!match) {\n      match = child.parser!.partialTest(segment, {\n        delimited: strongMatching,\n        caseSensitive,\n        queryParams: options.queryParams,\n        urlParamsEncoding: options.urlParamsEncoding\n      })\n    }\n\n    if (match) {\n      // Remove consumed segment from path\n      let consumedPath = child.parser!.build(match, {\n        ignoreSearch: true,\n        urlParamsEncoding: options.urlParamsEncoding\n      })\n\n      if (!strictTrailingSlash && !child.children.length) {\n        consumedPath = consumedPath.replace(/\\/$/, '')\n      }\n\n      // Can't create a regexp from the path because it might contain a\n      // regexp character.\n      if (segment.toLowerCase().indexOf(consumedPath.toLowerCase()) === 0) {\n        remainingPath = segment.slice(consumedPath.length)\n      } else {\n        remainingPath = segment\n      }\n\n      if (!strictTrailingSlash && !child.children.length) {\n        remainingPath = remainingPath.replace(/^\\/\\?/, '?')\n      }\n\n      const { querystring } = omit(\n        getSearch(segment.replace(consumedPath, '')),\n        child.parser!.queryParams,\n        options.queryParams\n      )\n      remainingPath =\n        getPath(remainingPath) + (querystring ? `?${querystring}` : '')\n      if (\n        !strictTrailingSlash &&\n        !isRoot &&\n        remainingPath === '/' &&\n        !/\\/$/.test(consumedPath)\n      ) {\n        remainingPath = ''\n      }\n\n      currentMatch.segments.push(child)\n      Object.keys(match).forEach(\n        param => (currentMatch.params[param] = match![param])\n      )\n\n      if (!isRoot && !remainingPath.length) {\n        // fully matched\n        return currentMatch\n      }\n      if (\n        !isRoot &&\n        queryParamsMode !== 'strict' &&\n        remainingPath.indexOf('?') === 0\n      ) {\n        // unmatched queryParams in non strict mode\n        const remainingQueryParams = parse(\n          remainingPath.slice(1),\n          options.queryParams\n        ) as any\n\n        Object.keys(remainingQueryParams).forEach(\n          name => (currentMatch.params[name] = remainingQueryParams[name])\n        )\n        return currentMatch\n      }\n      // Continue matching on non absolute children\n      const children = child.getNonAbsoluteChildren()\n      // If no children to match against but unmatched path left\n      if (!children.length) {\n        return null\n      }\n      // Else: remaining path and children\n      return matchChildren(\n        children,\n        remainingPath,\n        currentMatch,\n        options,\n        consumedPath\n      )\n    }\n  }\n\n  return null\n}\n\nexport default matchChildren\n","import { RouteNode } from './RouteNode'\n\nexport default function sortChildren(children: RouteNode[]) {\n  const originalChildren = children.slice(0)\n\n  return children.sort(sortPredicate(originalChildren))\n}\n\nconst sortPredicate = (originalChildren: RouteNode[]) => (\n  left: RouteNode,\n  right: RouteNode\n): number => {\n  const leftPath = left.path\n    .replace(/<.*?>/g, '')\n    .split('?')[0]\n    .replace(/(.+)\\/$/, '$1')\n  const rightPath = right.path\n    .replace(/<.*?>/g, '')\n    .split('?')[0]\n    .replace(/(.+)\\/$/, '$1')\n\n  // '/' last\n  if (leftPath === '/') {\n    return 1\n  }\n  if (rightPath === '/') {\n    return -1\n  }\n  // Spat params last\n  if (left.parser?.hasSpatParam) {\n    return 1\n  }\n  if (right.parser?.hasSpatParam) {\n    return -1\n  }\n  // No spat, number of segments (less segments last)\n  const leftSegments = (leftPath.match(/\\//g) || []).length\n  const rightSegments = (rightPath.match(/\\//g) || []).length\n  if (leftSegments < rightSegments) {\n    return 1\n  }\n  if (leftSegments > rightSegments) {\n    return -1\n  }\n  // Same number of segments, number of URL params ascending\n  const leftParamsCount = left.parser?.urlParams.length ?? 0\n  const rightParamsCount = right.parser?.urlParams.length ?? 0\n  if (leftParamsCount < rightParamsCount) {\n    return -1\n  }\n  if (leftParamsCount > rightParamsCount) {\n    return 1\n  }\n  // Same number of segments and params, last segment length descending\n  const leftParamLength = (leftPath.split('/').slice(-1)[0] || '').length\n  const rightParamLength = (rightPath.split('/').slice(-1)[0] || '').length\n  if (leftParamLength < rightParamLength) {\n    return 1\n  }\n  if (leftParamLength > rightParamLength) {\n    return -1\n  }\n  // Same last segment length, preserve definition order. Note that we\n  // cannot just return 0, as sort is not guaranteed to be a stable sort.\n  return originalChildren.indexOf(left) - originalChildren.indexOf(right)\n}\n","import { Path, URLParamsEncodingType } from 'path-parser'\nimport { IOptions as QueryParamsOptions } from 'search-params'\n\nimport {\n  buildPathFromSegments,\n  buildStateFromMatch,\n  getMetaFromSegments,\n  getPathFromSegments\n} from './helpers'\nimport matchChildren from './matchChildren'\nimport sortChildren from './sortChildren'\n\nexport interface RouteDefinition {\n  name: string\n  path: string\n  [key: string]: any\n}\nexport type Route = RouteNode | RouteDefinition\nexport type Callback = (...args: any[]) => void\nexport type TrailingSlashMode = 'default' | 'never' | 'always'\nexport type QueryParamsMode = 'default' | 'strict' | 'loose'\n\nexport interface BuildOptions {\n  trailingSlashMode?: TrailingSlashMode\n  queryParamsMode?: QueryParamsMode\n  queryParams?: QueryParamsOptions\n  urlParamsEncoding?: URLParamsEncodingType\n}\n\nexport interface MatchOptions {\n  caseSensitive?: boolean\n  trailingSlashMode?: TrailingSlashMode\n  queryParamsMode?: QueryParamsMode\n  queryParams?: QueryParamsOptions\n  strictTrailingSlash?: boolean\n  strongMatching?: boolean\n  urlParamsEncoding?: URLParamsEncodingType\n}\n\nexport { QueryParamsOptions }\n\nexport interface MatchResponse {\n  segments: RouteNode[]\n  params: Record<string, any>\n}\n\nexport interface RouteNodeStateMeta {\n  [routeName: string]: {\n    [routeParams: string]: 'query' | 'url'\n  }\n}\n\nexport interface RouteNodeState {\n  name: string\n  params: Record<string, any>\n  meta: RouteNodeStateMeta\n}\n\nexport interface RouteNodeOptions {\n  finalSort?: boolean\n  onAdd?: Callback\n  parent?: RouteNode\n  sort?: boolean\n}\n\nexport class RouteNode {\n  public name: string\n  public absolute: boolean\n  public path: string\n  public parser: Path | null\n  public children: RouteNode[]\n  public parent?: RouteNode\n\n  constructor(\n    name: string = '',\n    path: string = '',\n    childRoutes: Route[] = [],\n    options: RouteNodeOptions = {}\n  ) {\n    this.name = name\n    this.absolute = /^~/.test(path)\n    this.path = this.absolute ? path.slice(1) : path\n\n    this.parser = this.path ? new Path(this.path) : null\n    this.children = []\n    this.parent = options.parent\n\n    this.checkParents()\n\n    this.add(\n      childRoutes,\n      options.onAdd,\n      options.finalSort ? false : options.sort !== false\n    )\n\n    if (options.finalSort) {\n      this.sortDescendants()\n    }\n\n    return this\n  }\n\n  public getParentSegments(segments: RouteNode[] = []): RouteNode[] {\n    return this.parent && this.parent.parser\n      ? this.parent.getParentSegments(segments.concat(this.parent))\n      : segments.reverse()\n  }\n\n  public setParent(parent: RouteNode) {\n    this.parent = parent\n    this.checkParents()\n  }\n\n  public setPath(path: string = '') {\n    this.path = path\n    this.parser = path ? new Path(path) : null\n  }\n\n  public add(\n    route: Route | Route[],\n    cb?: Callback,\n    sort: boolean = true\n  ): this {\n    if (route === undefined || route === null) {\n      return this\n    }\n\n    if (route instanceof Array) {\n      route.forEach(r => this.add(r, cb, sort))\n      return this\n    }\n\n    if (!(route instanceof RouteNode) && !(route instanceof Object)) {\n      throw new Error(\n        'RouteNode.add() expects routes to be an Object or an instance of RouteNode.'\n      )\n    } else if (route instanceof RouteNode) {\n      route.setParent(this)\n      this.addRouteNode(route, sort)\n    } else {\n      if (!route.name || !route.path) {\n        throw new Error(\n          'RouteNode.add() expects routes to have a name and a path defined.'\n        )\n      }\n\n      const routeNode = new RouteNode(route.name, route.path, route.children, {\n        finalSort: false,\n        onAdd: cb,\n        parent: this,\n        sort\n      })\n      const fullName = routeNode\n        .getParentSegments([routeNode])\n        .map(_ => _.name)\n        .join('.')\n      if (cb) {\n        cb({\n          ...route,\n          name: fullName\n        })\n      }\n      this.addRouteNode(routeNode, sort)\n    }\n\n    return this\n  }\n\n  public addNode(name: string, path: string) {\n    this.add(new RouteNode(name, path))\n    return this\n  }\n\n  public getPath(routeName: string): string | null {\n    const segmentsByName = this.getSegmentsByName(routeName)\n\n    return segmentsByName ? getPathFromSegments(segmentsByName) : null\n  }\n\n  public getNonAbsoluteChildren(): RouteNode[] {\n    return this.children.filter(child => !child.absolute)\n  }\n\n  public sortChildren() {\n    if (this.children.length) {\n      sortChildren(this.children)\n    }\n  }\n\n  public sortDescendants() {\n    this.sortChildren()\n    this.children.forEach(child => child.sortDescendants())\n  }\n\n  public buildPath(\n    routeName: string,\n    params: Record<string, any> = {},\n    options: BuildOptions = {}\n  ): string {\n    const segments = this.getSegmentsByName(routeName)\n\n    if (!segments) {\n      throw new Error(`[route-node][buildPath] '{routeName}' is not defined`)\n    }\n\n    return buildPathFromSegments(segments, params, options)\n  }\n\n  public buildState(\n    name: string,\n    params: Record<string, any> = {}\n  ): RouteNodeState | null {\n    const segments = this.getSegmentsByName(name)\n\n    if (!segments || !segments.length) {\n      return null\n    }\n\n    return {\n      name,\n      params,\n      meta: getMetaFromSegments(segments)\n    }\n  }\n\n  public matchPath(\n    path: string,\n    options: MatchOptions = {}\n  ): RouteNodeState | null {\n    if (path === '' && !options.strictTrailingSlash) {\n      path = '/'\n    }\n\n    const match = this.getSegmentsMatchingPath(path, options)\n\n    if (!match) {\n      return null\n    }\n\n    const matchedSegments = match.segments\n\n    if (matchedSegments[0].absolute) {\n      const firstSegmentParams = matchedSegments[0].getParentSegments()\n\n      matchedSegments.reverse()\n      matchedSegments.push(...firstSegmentParams)\n      matchedSegments.reverse()\n    }\n\n    const lastSegment = matchedSegments[matchedSegments.length - 1]\n    const lastSegmentSlashChild = lastSegment.findSlashChild()\n\n    if (lastSegmentSlashChild) {\n      matchedSegments.push(lastSegmentSlashChild)\n    }\n\n    return buildStateFromMatch(match)\n  }\n\n  private addRouteNode(route: RouteNode, sort: boolean = true): this {\n    const names = route.name.split('.')\n\n    if (names.length === 1) {\n      // Check duplicated routes\n      if (this.children.map(child => child.name).indexOf(route.name) !== -1) {\n        throw new Error(\n          `Alias \"${route.name}\" is already defined in route node`\n        )\n      }\n\n      // Check duplicated paths\n      if (this.children.map(child => child.path).indexOf(route.path) !== -1) {\n        throw new Error(`Path \"${route.path}\" is already defined in route node`)\n      }\n\n      this.children.push(route)\n\n      if (sort) {\n        this.sortChildren()\n      }\n    } else {\n      // Locate parent node\n      const segments = this.getSegmentsByName(names.slice(0, -1).join('.'))\n      if (segments) {\n        route.name = names[names.length - 1]\n        segments[segments.length - 1].add(route)\n      } else {\n        throw new Error(\n          `Could not add route named '${route.name}', parent is missing.`\n        )\n      }\n    }\n\n    return this\n  }\n\n  private checkParents() {\n    if (this.absolute && this.hasParentsParams()) {\n      throw new Error(\n        '[RouteNode] A RouteNode with an abolute path cannot have parents with route parameters'\n      )\n    }\n  }\n\n  private hasParentsParams(): boolean {\n    if (this.parent && this.parent.parser) {\n      const parser = this.parent.parser\n      const hasParams =\n        parser.hasUrlParams ||\n        parser.hasSpatParam ||\n        parser.hasMatrixParams ||\n        parser.hasQueryParams\n\n      return hasParams || this.parent.hasParentsParams()\n    }\n\n    return false\n  }\n\n  private findAbsoluteChildren(): RouteNode[] {\n    return this.children.reduce<RouteNode[]>(\n      (absoluteChildren, child) =>\n        absoluteChildren\n          .concat(child.absolute ? child : [])\n          .concat(child.findAbsoluteChildren()),\n      []\n    )\n  }\n\n  private findSlashChild(): RouteNode | undefined {\n    const slashChildren = this.getNonAbsoluteChildren().filter(\n      child => child.parser && /^\\/(\\?|$)/.test(child.parser.path)\n    )\n\n    return slashChildren[0]\n  }\n\n  private getSegmentsByName(routeName: string): RouteNode[] | null {\n    const findSegmentByName = (name: string, routes: RouteNode[]) => {\n      const filteredRoutes = routes.filter(r => r.name === name)\n      return filteredRoutes.length ? filteredRoutes[0] : undefined\n    }\n    const segments: RouteNode[] = []\n    let routes = this.parser ? [this] : this.children\n    const names = (this.parser ? [''] : []).concat(routeName.split('.'))\n\n    const matched = names.every(name => {\n      const segment = findSegmentByName(name, routes)\n      if (segment) {\n        routes = segment.children\n        segments.push(segment)\n        return true\n      }\n      return false\n    })\n\n    return matched ? segments : null\n  }\n\n  private getSegmentsMatchingPath(\n    path: string,\n    options: MatchOptions\n  ): MatchResponse | null {\n    const topLevelNodes = this.parser ? [this] : this.children\n    const startingNodes = topLevelNodes.reduce<RouteNode[]>(\n      (nodes, node) => nodes.concat(node, node.findAbsoluteChildren()),\n      []\n    )\n\n    const currentMatch = {\n      segments: [],\n      params: {}\n    }\n\n    const finalMatch = matchChildren(startingNodes, path, currentMatch, options)\n\n    if (\n      finalMatch &&\n      finalMatch.segments.length === 1 &&\n      finalMatch.segments[0].name === ''\n    ) {\n      return null\n    }\n\n    return finalMatch\n  }\n}\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","var nameToIDs = function (name) {\r\n    return name\r\n        .split('.')\r\n        .reduce(function (ids, name) {\r\n        return ids.concat(ids.length ? ids[ids.length - 1] + '.' + name : name);\r\n    }, []);\r\n};\r\nvar exists = function (val) { return val !== undefined && val !== null; };\r\nvar hasMetaParams = function (state) { return state && state.meta && state.meta.params; };\r\nvar extractSegmentParams = function (name, state) {\r\n    if (!hasMetaParams(state) || !exists(state.meta.params[name]))\r\n        return {};\r\n    return Object.keys(state.meta.params[name]).reduce(function (params, p) {\r\n        params[p] = state.params[p];\r\n        return params;\r\n    }, {});\r\n};\r\nfunction transitionPath(toState, fromState) {\r\n    var toStateOptions = (toState.meta && toState.meta && toState.meta.options) || {};\r\n    var fromStateIds = fromState ? nameToIDs(fromState.name) : [];\r\n    var toStateIds = nameToIDs(toState.name);\r\n    var maxI = Math.min(fromStateIds.length, toStateIds.length);\r\n    function pointOfDifference() {\r\n        var i;\r\n        var _loop_1 = function () {\r\n            var left = fromStateIds[i];\r\n            var right = toStateIds[i];\r\n            if (left !== right)\r\n                return { value: i };\r\n            var leftParams = extractSegmentParams(left, toState);\r\n            var rightParams = extractSegmentParams(right, fromState);\r\n            if (Object.keys(leftParams).length !==\r\n                Object.keys(rightParams).length)\r\n                return { value: i };\r\n            if (Object.keys(leftParams).length === 0)\r\n                return \"continue\";\r\n            var different = Object.keys(leftParams).some(function (p) { return rightParams[p] !== leftParams[p]; });\r\n            if (different) {\r\n                return { value: i };\r\n            }\r\n        };\r\n        for (i = 0; i < maxI; i += 1) {\r\n            var state_1 = _loop_1();\r\n            if (typeof state_1 === \"object\")\r\n                return state_1.value;\r\n        }\r\n        return i;\r\n    }\r\n    var i;\r\n    if (!fromState || toStateOptions.reload) {\r\n        i = 0;\r\n    }\r\n    else if (!hasMetaParams(fromState) && !hasMetaParams(toState)) {\r\n        i = 0;\r\n    }\r\n    else {\r\n        i = pointOfDifference();\r\n    }\r\n    var toDeactivate = fromStateIds.slice(i).reverse();\r\n    var toActivate = toStateIds.slice(i);\r\n    var intersection = fromState && i > 0 ? fromStateIds[i - 1] : '';\r\n    return {\r\n        intersection: intersection,\r\n        toDeactivate: toDeactivate,\r\n        toActivate: toActivate\r\n    };\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nfunction shouldUpdateNode(nodeName) {\r\n    return function (toState, fromSate) {\r\n        var _a = transitionPath(toState, fromSate), intersection = _a.intersection, toActivate = _a.toActivate, toDeactivateReversed = _a.toDeactivate;\r\n        var toDeactivate = __spreadArrays(toDeactivateReversed).reverse();\r\n        if (toState.meta.options && toState.meta.options.reload) {\r\n            return true;\r\n        }\r\n        if (nodeName === intersection) {\r\n            return true;\r\n        }\r\n        if (toActivate.indexOf(nodeName) === -1) {\r\n            return false;\r\n        }\r\n        var matching = true;\r\n        for (var i = 0; i < toActivate.length; i += 1) {\r\n            var activatedSegment = toActivate[i];\r\n            var sameLevelDeactivatedSegment = toDeactivate[i];\r\n            matching = activatedSegment === sameLevelDeactivatedSegment;\r\n            if (matching && activatedSegment === nodeName) {\r\n                return true;\r\n            }\r\n            if (!matching) {\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n}\n\nexport default transitionPath;\nexport { nameToIDs, shouldUpdateNode };\n","import { RouteNode } from 'route-node';\nexport { RouteNode } from 'route-node';\nimport $$observable from 'symbol-observable';\nimport transitionPath, { nameToIDs } from 'router5-transition-path';\nexport { default as transitionPath } from 'router5-transition-path';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultOptions = {\r\n    trailingSlashMode: 'default',\r\n    queryParamsMode: 'default',\r\n    strictTrailingSlash: false,\r\n    autoCleanUp: true,\r\n    allowNotFound: false,\r\n    strongMatching: true,\r\n    rewritePathOnMatch: true,\r\n    caseSensitive: false,\r\n    urlParamsEncoding: 'default'\r\n};\r\nfunction withOptions(options) {\r\n    return function (router) {\r\n        var routerOptions = __assign(__assign({}, defaultOptions), options);\r\n        router.getOptions = function () { return routerOptions; };\r\n        router.setOption = function (option, value) {\r\n            routerOptions[option] = value;\r\n            return router;\r\n        };\r\n        return router;\r\n    };\r\n}\n\nvar errorCodes = {\r\n    ROUTER_NOT_STARTED: 'NOT_STARTED',\r\n    NO_START_PATH_OR_STATE: 'NO_START_PATH_OR_STATE',\r\n    ROUTER_ALREADY_STARTED: 'ALREADY_STARTED',\r\n    ROUTE_NOT_FOUND: 'ROUTE_NOT_FOUND',\r\n    SAME_STATES: 'SAME_STATES',\r\n    CANNOT_DEACTIVATE: 'CANNOT_DEACTIVATE',\r\n    CANNOT_ACTIVATE: 'CANNOT_ACTIVATE',\r\n    TRANSITION_ERR: 'TRANSITION_ERR',\r\n    TRANSITION_CANCELLED: 'CANCELLED'\r\n};\r\nvar constants = {\r\n    UNKNOWN_ROUTE: '@@router5/UNKNOWN_ROUTE',\r\n    ROUTER_START: '$start',\r\n    ROUTER_STOP: '$stop',\r\n    TRANSITION_START: '$$start',\r\n    TRANSITION_CANCEL: '$$cancel',\r\n    TRANSITION_SUCCESS: '$$success',\r\n    TRANSITION_ERROR: '$$error'\r\n};\n\nfunction withRoutes(routes) {\r\n    return function (router) {\r\n        router.forward = function (fromRoute, toRoute) {\r\n            router.config.forwardMap[fromRoute] = toRoute;\r\n            return router;\r\n        };\r\n        var rootNode = routes instanceof RouteNode\r\n            ? routes\r\n            : new RouteNode('', '', routes, { onAdd: onRouteAdded });\r\n        function onRouteAdded(route) {\r\n            if (route.canActivate)\r\n                router.canActivate(route.name, route.canActivate);\r\n            if (route.forwardTo)\r\n                router.forward(route.name, route.forwardTo);\r\n            if (route.decodeParams)\r\n                router.config.decoders[route.name] = route.decodeParams;\r\n            if (route.encodeParams)\r\n                router.config.encoders[route.name] = route.encodeParams;\r\n            if (route.defaultParams)\r\n                router.config.defaultParams[route.name] = route.defaultParams;\r\n        }\r\n        router.rootNode = rootNode;\r\n        router.add = function (routes, finalSort) {\r\n            rootNode.add(routes, onRouteAdded, !finalSort);\r\n            if (finalSort) {\r\n                rootNode.sortDescendants();\r\n            }\r\n            return router;\r\n        };\r\n        router.addNode = function (name, path, canActivateHandler) {\r\n            rootNode.addNode(name, path);\r\n            if (canActivateHandler)\r\n                router.canActivate(name, canActivateHandler);\r\n            return router;\r\n        };\r\n        router.isActive = function (name, params, strictEquality, ignoreQueryParams) {\r\n            if (params === void 0) { params = {}; }\r\n            if (strictEquality === void 0) { strictEquality = false; }\r\n            if (ignoreQueryParams === void 0) { ignoreQueryParams = true; }\r\n            var activeState = router.getState();\r\n            if (!activeState)\r\n                return false;\r\n            if (strictEquality || activeState.name === name) {\r\n                return router.areStatesEqual(router.makeState(name, params), activeState, ignoreQueryParams);\r\n            }\r\n            return router.areStatesDescendants(router.makeState(name, params), activeState);\r\n        };\r\n        router.buildPath = function (route, params) {\r\n            if (route === constants.UNKNOWN_ROUTE) {\r\n                return params.path;\r\n            }\r\n            var paramsWithDefault = __assign(__assign({}, router.config.defaultParams[route]), params);\r\n            var _a = router.getOptions(), trailingSlashMode = _a.trailingSlashMode, queryParamsMode = _a.queryParamsMode, queryParams = _a.queryParams;\r\n            var encodedParams = router.config.encoders[route]\r\n                ? router.config.encoders[route](paramsWithDefault)\r\n                : paramsWithDefault;\r\n            return router.rootNode.buildPath(route, encodedParams, {\r\n                trailingSlashMode: trailingSlashMode,\r\n                queryParamsMode: queryParamsMode,\r\n                queryParams: queryParams,\r\n                urlParamsEncoding: router.getOptions().urlParamsEncoding\r\n            });\r\n        };\r\n        router.matchPath = function (path, source) {\r\n            var options = router.getOptions();\r\n            var match = router.rootNode.matchPath(path, options);\r\n            if (match) {\r\n                var name_1 = match.name, params = match.params, meta = match.meta;\r\n                var decodedParams = router.config.decoders[name_1]\r\n                    ? router.config.decoders[name_1](params)\r\n                    : params;\r\n                var _a = router.forwardState(name_1, decodedParams), routeName = _a.name, routeParams = _a.params;\r\n                var builtPath = options.rewritePathOnMatch === false\r\n                    ? path\r\n                    : router.buildPath(routeName, routeParams);\r\n                return router.makeState(routeName, routeParams, builtPath, {\r\n                    params: meta,\r\n                    source: source\r\n                });\r\n            }\r\n            return null;\r\n        };\r\n        router.setRootPath = function (rootPath) {\r\n            router.rootNode.setPath(rootPath);\r\n        };\r\n        return router;\r\n    };\r\n}\n\nfunction withDependencies(dependencies) {\r\n    return function (router) {\r\n        var routerDependencies = dependencies;\r\n        router.setDependency = function (dependencyName, dependency) {\r\n            routerDependencies[dependencyName] = dependency;\r\n            return router;\r\n        };\r\n        router.setDependencies = function (deps) {\r\n            Object.keys(deps).forEach(function (name) {\r\n                return router.setDependency(name, deps[name]);\r\n            });\r\n            return router;\r\n        };\r\n        router.getDependencies = function () { return routerDependencies; };\r\n        router.getInjectables = function () { return [router, router.getDependencies()]; };\r\n        router.executeFactory = function (factoryFunction) {\r\n            return factoryFunction.apply(void 0, router.getInjectables());\r\n        };\r\n        return router;\r\n    };\r\n}\n\nfunction withState(router) {\r\n    var stateId = 0;\r\n    var routerState = null;\r\n    router.getState = function () { return routerState; };\r\n    router.setState = function (state) {\r\n        routerState = state;\r\n    };\r\n    router.makeState = function (name, params, path, meta, forceId) { return ({\r\n        name: name,\r\n        params: __assign(__assign({}, router.config.defaultParams[name]), params),\r\n        path: path,\r\n        meta: meta\r\n            ? __assign(__assign({}, meta), { id: forceId === undefined ? ++stateId : forceId }) : undefined\r\n    }); };\r\n    router.makeNotFoundState = function (path, options) {\r\n        return router.makeState(constants.UNKNOWN_ROUTE, { path: path }, path, {\r\n            options: options\r\n        });\r\n    };\r\n    router.areStatesEqual = function (state1, state2, ignoreQueryParams) {\r\n        if (ignoreQueryParams === void 0) { ignoreQueryParams = true; }\r\n        if (state1.name !== state2.name)\r\n            return false;\r\n        var getUrlParams = function (name) {\r\n            return router.rootNode\r\n                //@ts-ignore\r\n                .getSegmentsByName(name)\r\n                .map(function (segment) { return segment.parser['urlParams']; })\r\n                .reduce(function (params, p) { return params.concat(p); }, []);\r\n        };\r\n        var state1Params = ignoreQueryParams\r\n            ? getUrlParams(state1.name)\r\n            : Object.keys(state1.params);\r\n        var state2Params = ignoreQueryParams\r\n            ? getUrlParams(state2.name)\r\n            : Object.keys(state2.params);\r\n        return (state1Params.length === state2Params.length &&\r\n            state1Params.every(function (p) { return state1.params[p] === state2.params[p]; }));\r\n    };\r\n    router.areStatesDescendants = function (parentState, childState) {\r\n        var regex = new RegExp('^' + parentState.name + '\\\\.(.*)$');\r\n        if (!regex.test(childState.name))\r\n            return false;\r\n        // If child state name extends parent state name, and all parent state params\r\n        // are in child state params.\r\n        return Object.keys(parentState.params).every(function (p) { return parentState.params[p] === childState.params[p]; });\r\n    };\r\n    router.forwardState = function (routeName, routeParams) {\r\n        var name = router.config.forwardMap[routeName] || routeName;\r\n        var params = __assign(__assign(__assign({}, router.config.defaultParams[routeName]), router.config.defaultParams[name]), routeParams);\r\n        return {\r\n            name: name,\r\n            params: params\r\n        };\r\n    };\r\n    router.buildState = function (routeName, routeParams) {\r\n        var _a = router.forwardState(routeName, routeParams), name = _a.name, params = _a.params;\r\n        return router.rootNode.buildState(name, params);\r\n    };\r\n    return router;\r\n}\n\nvar eventsMap = {\r\n    onStart: constants.ROUTER_START,\r\n    onStop: constants.ROUTER_STOP,\r\n    onTransitionSuccess: constants.TRANSITION_SUCCESS,\r\n    onTransitionStart: constants.TRANSITION_START,\r\n    onTransitionError: constants.TRANSITION_ERROR,\r\n    onTransitionCancel: constants.TRANSITION_CANCEL\r\n};\r\nfunction withPlugins(router) {\r\n    var routerPlugins = [];\r\n    router.getPlugins = function () { return routerPlugins; };\r\n    router.usePlugin = function () {\r\n        var plugins = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            plugins[_i] = arguments[_i];\r\n        }\r\n        var removePluginFns = plugins.map(function (plugin) {\r\n            routerPlugins.push(plugin);\r\n            return startPlugin(plugin);\r\n        });\r\n        return function () {\r\n            routerPlugins = routerPlugins.filter(function (plugin) { return plugins.indexOf(plugin) === -1; });\r\n            removePluginFns.forEach(function (removePlugin) { return removePlugin(); });\r\n        };\r\n    };\r\n    function startPlugin(plugin) {\r\n        var appliedPlugin = router.executeFactory(plugin);\r\n        var removeEventListeners = Object.keys(eventsMap)\r\n            .map(function (methodName) {\r\n            if (appliedPlugin[methodName]) {\r\n                return router.addEventListener(eventsMap[methodName], appliedPlugin[methodName]);\r\n            }\r\n        })\r\n            .filter(Boolean);\r\n        return function () {\r\n            removeEventListeners.forEach(function (removeListener) { return removeListener(); });\r\n            if (appliedPlugin.teardown) {\r\n                appliedPlugin.teardown();\r\n            }\r\n        };\r\n    }\r\n    return router;\r\n}\n\nfunction withMiddleware(router) {\r\n    var middlewareFactories = [];\r\n    var middlewareFunctions = [];\r\n    router.useMiddleware = function () {\r\n        var middlewares = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            middlewares[_i] = arguments[_i];\r\n        }\r\n        var removePluginFns = middlewares.map(function (middleware) {\r\n            var middlewareFunction = router.executeFactory(middleware);\r\n            middlewareFactories.push(middleware);\r\n            middlewareFunctions.push(middlewareFunction);\r\n            return function () {\r\n                middlewareFactories = middlewareFactories.filter(function (m) { return m !== middleware; });\r\n                middlewareFunctions = middlewareFunctions.filter(function (m) { return m !== middlewareFunction; });\r\n            };\r\n        });\r\n        return function () { return removePluginFns.forEach(function (fn) { return fn(); }); };\r\n    };\r\n    router.clearMiddleware = function () {\r\n        middlewareFactories = [];\r\n        middlewareFunctions = [];\r\n        return router;\r\n    };\r\n    router.getMiddlewareFactories = function () { return middlewareFactories; };\r\n    router.getMiddlewareFunctions = function () { return middlewareFunctions; };\r\n    return router;\r\n}\n\nfunction withObservability(router) {\r\n    var callbacks = {};\r\n    router.invokeEventListeners = function (eventName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        (callbacks[eventName] || []).forEach(function (cb) { return cb.apply(void 0, args); });\r\n    };\r\n    router.removeEventListener = function (eventName, cb) {\r\n        callbacks[eventName] = callbacks[eventName].filter(function (_cb) { return _cb !== cb; });\r\n    };\r\n    router.addEventListener = function (eventName, cb) {\r\n        callbacks[eventName] = (callbacks[eventName] || []).concat(cb);\r\n        return function () { return router.removeEventListener(eventName, cb); };\r\n    };\r\n    function subscribe(listener) {\r\n        var isObject = typeof listener === 'object';\r\n        var finalListener = isObject ? listener.next.bind(listener) : listener;\r\n        var unsubscribeHandler = router.addEventListener(constants.TRANSITION_SUCCESS, function (toState, fromState) {\r\n            finalListener({\r\n                route: toState,\r\n                previousRoute: fromState\r\n            });\r\n        });\r\n        return isObject\r\n            ? { unsubscribe: unsubscribeHandler }\r\n            : unsubscribeHandler;\r\n    }\r\n    function observable() {\r\n        var _a;\r\n        return _a = {\r\n                subscribe: function (observer) {\r\n                    if (typeof observer !== 'object' || observer === null) {\r\n                        throw new TypeError('Expected the observer to be an object.');\r\n                    }\r\n                    return subscribe(observer);\r\n                }\r\n            },\r\n            _a[$$observable] = function () {\r\n                return this;\r\n            },\r\n            _a;\r\n    }\r\n    router.subscribe = subscribe;\r\n    //@ts-ignore\r\n    router[$$observable] = observable;\r\n    //@ts-ignore\r\n    router['@@observable'] = observable;\r\n    return router;\r\n}\n\nfunction resolve(functions, _a, callback) {\r\n    var isCancelled = _a.isCancelled, toState = _a.toState, fromState = _a.fromState, _b = _a.errorKey, errorKey = _b === void 0 ? undefined : _b;\r\n    var remainingFunctions = Array.isArray(functions)\r\n        ? functions\r\n        : Object.keys(functions);\r\n    var isState = function (obj) {\r\n        return typeof obj === 'object' &&\r\n            obj.name !== undefined &&\r\n            obj.params !== undefined &&\r\n            obj.path !== undefined;\r\n    };\r\n    var hasStateChanged = function (toState, fromState) {\r\n        return fromState.name !== toState.name ||\r\n            fromState.params !== toState.params ||\r\n            fromState.path !== toState.path;\r\n    };\r\n    var mergeStates = function (toState, fromState) { return (__assign(__assign(__assign({}, fromState), toState), { meta: __assign(__assign({}, fromState.meta), toState.meta) })); };\r\n    var processFn = function (stepFn, errBase, state, _done) {\r\n        var done = function (err, newState) {\r\n            if (err) {\r\n                _done(err);\r\n            }\r\n            else if (newState && newState !== state && isState(newState)) {\r\n                if (hasStateChanged(newState, state)) {\r\n                    console.error('[router5][transition] Warning: state values (name, params, path) were changed during transition process.');\r\n                }\r\n                _done(null, mergeStates(newState, state));\r\n            }\r\n            else {\r\n                _done(null, state);\r\n            }\r\n        };\r\n        var res = stepFn.call(null, state, fromState, done);\r\n        if (isCancelled()) {\r\n            done(null);\r\n        }\r\n        else if (typeof res === 'boolean') {\r\n            done(res ? null : errBase);\r\n        }\r\n        else if (isState(res)) {\r\n            done(null, res);\r\n        }\r\n        else if (res && typeof res.then === 'function') {\r\n            res.then(function (resVal) {\r\n                if (resVal instanceof Error)\r\n                    done({ error: resVal }, null);\r\n                else\r\n                    done(null, resVal);\r\n            }, function (err) {\r\n                if (err instanceof Error) {\r\n                    console.error(err.stack || err);\r\n                    done(__assign(__assign({}, errBase), { promiseError: err }), null);\r\n                }\r\n                else {\r\n                    done(typeof err === 'object'\r\n                        ? __assign(__assign({}, errBase), err) : errBase, null);\r\n                }\r\n            });\r\n        }\r\n        // else: wait for done to be called\r\n    };\r\n    var next = function (err, state) {\r\n        var _a;\r\n        if (isCancelled()) {\r\n            callback();\r\n        }\r\n        else if (err) {\r\n            callback(err);\r\n        }\r\n        else {\r\n            if (!remainingFunctions.length) {\r\n                callback(null, state);\r\n            }\r\n            else {\r\n                var isMapped = typeof remainingFunctions[0] === 'string';\r\n                var errBase = errorKey && isMapped\r\n                    ? (_a = {}, _a[errorKey] = remainingFunctions[0], _a) : {};\r\n                var stepFn = isMapped\r\n                    ? functions[remainingFunctions[0]]\r\n                    : remainingFunctions[0];\r\n                remainingFunctions = remainingFunctions.slice(1);\r\n                processFn(stepFn, errBase, state, next);\r\n            }\r\n        }\r\n    };\r\n    next(null, toState);\r\n}\n\nfunction transition(router, toState, fromState, opts, callback) {\r\n    var cancelled = false;\r\n    var completed = false;\r\n    var options = router.getOptions();\r\n    var _a = router.getLifecycleFunctions(), canDeactivateFunctions = _a[0], canActivateFunctions = _a[1];\r\n    var middlewareFunctions = router.getMiddlewareFunctions();\r\n    var isCancelled = function () { return cancelled; };\r\n    var cancel = function () {\r\n        if (!cancelled && !completed) {\r\n            cancelled = true;\r\n            callback({ code: errorCodes.TRANSITION_CANCELLED }, null);\r\n        }\r\n    };\r\n    var done = function (err, state) {\r\n        completed = true;\r\n        if (isCancelled()) {\r\n            return;\r\n        }\r\n        if (!err && options.autoCleanUp) {\r\n            var activeSegments_1 = nameToIDs(toState.name);\r\n            Object.keys(canDeactivateFunctions).forEach(function (name) {\r\n                if (activeSegments_1.indexOf(name) === -1)\r\n                    router.clearCanDeactivate(name);\r\n            });\r\n        }\r\n        callback(err, state || toState);\r\n    };\r\n    var makeError = function (base, err) { return (__assign(__assign({}, base), (err instanceof Object ? err : { error: err }))); };\r\n    var isUnknownRoute = toState.name === constants.UNKNOWN_ROUTE;\r\n    var asyncBase = { isCancelled: isCancelled, toState: toState, fromState: fromState };\r\n    var _b = transitionPath(toState, fromState), toDeactivate = _b.toDeactivate, toActivate = _b.toActivate;\r\n    var canDeactivate = !fromState || opts.forceDeactivate\r\n        ? []\r\n        : function (toState, fromState, cb) {\r\n            var canDeactivateFunctionMap = toDeactivate\r\n                .filter(function (name) { return canDeactivateFunctions[name]; })\r\n                .reduce(function (fnMap, name) {\r\n                var _a;\r\n                return (__assign(__assign({}, fnMap), (_a = {}, _a[name] = canDeactivateFunctions[name], _a)));\r\n            }, {});\r\n            resolve(canDeactivateFunctionMap, __assign(__assign({}, asyncBase), { errorKey: 'segment' }), function (err) {\r\n                return cb(err\r\n                    ? makeError({ code: errorCodes.CANNOT_DEACTIVATE }, err)\r\n                    : null);\r\n            });\r\n        };\r\n    var canActivate = isUnknownRoute\r\n        ? []\r\n        : function (toState, fromState, cb) {\r\n            var canActivateFunctionMap = toActivate\r\n                .filter(function (name) { return canActivateFunctions[name]; })\r\n                .reduce(function (fnMap, name) {\r\n                var _a;\r\n                return (__assign(__assign({}, fnMap), (_a = {}, _a[name] = canActivateFunctions[name], _a)));\r\n            }, {});\r\n            resolve(canActivateFunctionMap, __assign(__assign({}, asyncBase), { errorKey: 'segment' }), function (err) {\r\n                return cb(err\r\n                    ? makeError({ code: errorCodes.CANNOT_ACTIVATE }, err)\r\n                    : null);\r\n            });\r\n        };\r\n    var middleware = !middlewareFunctions.length\r\n        ? []\r\n        : function (toState, fromState, cb) {\r\n            return resolve(middlewareFunctions, __assign({}, asyncBase), function (err, state) {\r\n                return cb(err\r\n                    ? makeError({ code: errorCodes.TRANSITION_ERR }, err)\r\n                    : null, state || toState);\r\n            });\r\n        };\r\n    var pipeline = []\r\n        .concat(canDeactivate)\r\n        .concat(canActivate)\r\n        .concat(middleware);\r\n    resolve(pipeline, asyncBase, done);\r\n    return cancel;\r\n}\n\nvar noop = function () { };\r\nfunction withNavigation(router) {\r\n    var cancelCurrentTransition;\r\n    router.navigate = navigate;\r\n    router.navigate = navigate;\r\n    router.navigateToDefault = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var opts = typeof args[0] === 'object' ? args[0] : {};\r\n        var done = args.length === 2\r\n            ? args[1]\r\n            : typeof args[0] === 'function'\r\n                ? args[0]\r\n                : noop;\r\n        var options = router.getOptions();\r\n        if (options.defaultRoute) {\r\n            return navigate(options.defaultRoute, options.defaultParams, opts, done);\r\n        }\r\n        return function () { };\r\n    };\r\n    router.cancel = function () {\r\n        if (cancelCurrentTransition) {\r\n            cancelCurrentTransition('navigate');\r\n            cancelCurrentTransition = null;\r\n        }\r\n        return router;\r\n    };\r\n    function navigate() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var name = args[0];\r\n        var lastArg = args[args.length - 1];\r\n        var done = typeof lastArg === 'function' ? lastArg : noop;\r\n        var params = typeof args[1] === 'object' ? args[1] : {};\r\n        var opts = typeof args[2] === 'object' ? args[2] : {};\r\n        if (!router.isStarted()) {\r\n            done({ code: errorCodes.ROUTER_NOT_STARTED });\r\n            return;\r\n        }\r\n        var route = router.buildState(name, params);\r\n        if (!route) {\r\n            var err = { code: errorCodes.ROUTE_NOT_FOUND };\r\n            done(err);\r\n            router.invokeEventListeners(constants.TRANSITION_ERROR, null, router.getState(), err);\r\n            return;\r\n        }\r\n        var toState = router.makeState(route.name, route.params, router.buildPath(route.name, route.params), { params: route.meta, options: opts });\r\n        var sameStates = router.getState()\r\n            ? router.areStatesEqual(router.getState(), toState, false)\r\n            : false;\r\n        // Do not proceed further if states are the same and no reload\r\n        // (no deactivation and no callbacks)\r\n        if (sameStates && !opts.reload && !opts.force) {\r\n            var err = { code: errorCodes.SAME_STATES };\r\n            done(err);\r\n            router.invokeEventListeners(constants.TRANSITION_ERROR, toState, router.getState(), err);\r\n            return;\r\n        }\r\n        var fromState = router.getState();\r\n        if (opts.skipTransition) {\r\n            done(null, toState);\r\n            return noop;\r\n        }\r\n        // Transition\r\n        return router.transitionToState(toState, fromState, opts, function (err, state) {\r\n            if (err) {\r\n                if (err.redirect) {\r\n                    var _a = err.redirect, name_1 = _a.name, params_1 = _a.params;\r\n                    navigate(name_1, params_1, __assign(__assign({}, opts), { force: true, redirected: true }), done);\r\n                }\r\n                else {\r\n                    done(err);\r\n                }\r\n            }\r\n            else {\r\n                router.invokeEventListeners(constants.TRANSITION_SUCCESS, state, fromState, opts);\r\n                done(null, state);\r\n            }\r\n        });\r\n    }\r\n    router.transitionToState = function (toState, fromState, options, done) {\r\n        if (options === void 0) { options = {}; }\r\n        if (done === void 0) { done = noop; }\r\n        router.cancel();\r\n        router.invokeEventListeners(constants.TRANSITION_START, toState, fromState);\r\n        cancelCurrentTransition = transition(router, toState, fromState, options, function (err, state) {\r\n            cancelCurrentTransition = null;\r\n            state = state || toState;\r\n            if (err) {\r\n                if (err.code === errorCodes.TRANSITION_CANCELLED) {\r\n                    router.invokeEventListeners(constants.TRANSITION_CANCEL, toState, fromState);\r\n                }\r\n                else {\r\n                    router.invokeEventListeners(constants.TRANSITION_ERROR, toState, fromState, err);\r\n                }\r\n                done(err);\r\n            }\r\n            else {\r\n                router.setState(state);\r\n                done(null, state);\r\n            }\r\n        });\r\n        return cancelCurrentTransition;\r\n    };\r\n    return router;\r\n}\n\nvar noop$1 = function () { };\r\nfunction withRouterLifecycle(router) {\r\n    var started = false;\r\n    router.isStarted = function () { return started; };\r\n    //@ts-ignore\r\n    router.start = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var options = router.getOptions();\r\n        var lastArg = args[args.length - 1];\r\n        var done = typeof lastArg === 'function' ? lastArg : noop$1;\r\n        var startPathOrState = typeof args[0] !== 'function' ? args[0] : undefined;\r\n        if (started) {\r\n            done({ code: errorCodes.ROUTER_ALREADY_STARTED });\r\n            return router;\r\n        }\r\n        var startPath, startState;\r\n        started = true;\r\n        router.invokeEventListeners(constants.ROUTER_START);\r\n        // callback\r\n        var cb = function (err, state, invokeErrCb) {\r\n            if (invokeErrCb === void 0) { invokeErrCb = true; }\r\n            if (!err)\r\n                router.invokeEventListeners(constants.TRANSITION_SUCCESS, state, null, { replace: true });\r\n            if (err && invokeErrCb)\r\n                router.invokeEventListeners(constants.TRANSITION_ERROR, state, null, err);\r\n            done(err, state);\r\n        };\r\n        if (startPathOrState === undefined && !options.defaultRoute) {\r\n            return cb({ code: errorCodes.NO_START_PATH_OR_STATE });\r\n        }\r\n        if (typeof startPathOrState === 'string') {\r\n            startPath = startPathOrState;\r\n        }\r\n        else if (typeof startPathOrState === 'object') {\r\n            startState = startPathOrState;\r\n        }\r\n        if (!startState) {\r\n            // If no supplied start state, get start state\r\n            startState =\r\n                startPath === undefined ? null : router.matchPath(startPath);\r\n            // Navigate to default function\r\n            var navigateToDefault_1 = function () {\r\n                return router.navigateToDefault({ replace: true }, done);\r\n            };\r\n            var redirect_1 = function (route) {\r\n                return router.navigate(route.name, route.params, { replace: true, reload: true, redirected: true }, done);\r\n            };\r\n            var transitionToState = function (state) {\r\n                router.transitionToState(state, router.getState(), {}, function (err, state) {\r\n                    if (!err)\r\n                        cb(null, state);\r\n                    else if (err.redirect)\r\n                        redirect_1(err.redirect);\r\n                    else if (options.defaultRoute)\r\n                        navigateToDefault_1();\r\n                    else\r\n                        cb(err, null, false);\r\n                });\r\n            };\r\n            // If matched start path\r\n            if (startState) {\r\n                transitionToState(startState);\r\n            }\r\n            else if (options.defaultRoute) {\r\n                // If default, navigate to default\r\n                navigateToDefault_1();\r\n            }\r\n            else if (options.allowNotFound) {\r\n                transitionToState(router.makeNotFoundState(startPath, { replace: true }));\r\n            }\r\n            else {\r\n                // No start match, no default => do nothing\r\n                cb({ code: errorCodes.ROUTE_NOT_FOUND, path: startPath }, null);\r\n            }\r\n        }\r\n        else {\r\n            // Initialise router with provided start state\r\n            router.setState(startState);\r\n            cb(null, startState);\r\n        }\r\n        return router;\r\n    };\r\n    router.stop = function () {\r\n        if (started) {\r\n            router.setState(null);\r\n            started = false;\r\n            router.invokeEventListeners(constants.ROUTER_STOP);\r\n        }\r\n        return router;\r\n    };\r\n    return router;\r\n}\n\nvar toFunction = function (val) { return (typeof val === 'function' ? val : function () { return function () { return val; }; }); };\r\nfunction withRouteLifecycle(router) {\r\n    var canDeactivateFactories = {};\r\n    var canActivateFactories = {};\r\n    var canDeactivateFunctions = {};\r\n    var canActivateFunctions = {};\r\n    router.getLifecycleFactories = function () {\r\n        return [canDeactivateFactories, canActivateFactories];\r\n    };\r\n    router.getLifecycleFunctions = function () {\r\n        return [canDeactivateFunctions, canActivateFunctions];\r\n    };\r\n    router.canDeactivate = function (name, canDeactivateHandler) {\r\n        var factory = toFunction(canDeactivateHandler);\r\n        canDeactivateFactories[name] = factory;\r\n        canDeactivateFunctions[name] = router.executeFactory(factory);\r\n        return router;\r\n    };\r\n    router.clearCanDeactivate = function (name) {\r\n        canDeactivateFactories[name] = undefined;\r\n        canDeactivateFunctions[name] = undefined;\r\n        return router;\r\n    };\r\n    router.canActivate = function (name, canActivateHandler) {\r\n        var factory = toFunction(canActivateHandler);\r\n        canActivateFactories[name] = factory;\r\n        canActivateFunctions[name] = router.executeFactory(factory);\r\n        return router;\r\n    };\r\n    return router;\r\n}\n\nvar pipe = function () {\r\n    var fns = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        fns[_i] = arguments[_i];\r\n    }\r\n    return function (arg) {\r\n        return fns.reduce(function (prev, fn) { return fn(prev); }, arg);\r\n    };\r\n};\r\nvar createRouter = function (routes, options, dependencies) {\r\n    if (routes === void 0) { routes = []; }\r\n    if (options === void 0) { options = {}; }\r\n    if (dependencies === void 0) { dependencies = {}; }\r\n    var config = {\r\n        decoders: {},\r\n        encoders: {},\r\n        defaultParams: {},\r\n        forwardMap: {}\r\n    };\r\n    return pipe(withOptions(options), withDependencies(dependencies), withObservability, withState, withRouterLifecycle, withRouteLifecycle, withNavigation, withPlugins, withMiddleware, withRoutes(routes))({ config: config });\r\n};\n\nfunction cloneRouter(router, dependencies) {\r\n    var clonedRouter = createRouter(router.rootNode, router.getOptions(), dependencies);\r\n    clonedRouter.useMiddleware.apply(clonedRouter, router.getMiddlewareFactories());\r\n    clonedRouter.usePlugin.apply(clonedRouter, router.getPlugins());\r\n    clonedRouter.config = router.config;\r\n    var _a = router.getLifecycleFactories(), canDeactivateFactories = _a[0], canActivateFactories = _a[1];\r\n    Object.keys(canDeactivateFactories).forEach(function (name) {\r\n        return clonedRouter.canDeactivate(name, canDeactivateFactories[name]);\r\n    });\r\n    Object.keys(canActivateFactories).forEach(function (name) {\r\n        return clonedRouter.canActivate(name, canActivateFactories[name]);\r\n    });\r\n    return clonedRouter;\r\n}\n\nexport default createRouter;\nexport { cloneRouter, constants, createRouter, errorCodes };\n","import { errorCodes, constants } from 'router5';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar value = function (arg) { return function () { return arg; }; };\r\nvar noop = function () { };\r\nvar isBrowser = typeof window !== 'undefined' && window.history;\r\nvar getBase = function () { return window.location.pathname; };\r\nvar supportsPopStateOnHashChange = function () {\r\n    return window.navigator.userAgent.indexOf('Trident') === -1;\r\n};\r\nvar pushState = function (state, title, path) {\r\n    return window.history.pushState(state, title, path);\r\n};\r\nvar replaceState = function (state, title, path) {\r\n    return window.history.replaceState(state, title, path);\r\n};\r\nvar addPopstateListener = function (fn, opts) {\r\n    var shouldAddHashChangeListener = opts.useHash && !supportsPopStateOnHashChange();\r\n    window.addEventListener('popstate', fn);\r\n    if (shouldAddHashChangeListener) {\r\n        window.addEventListener('hashchange', fn);\r\n    }\r\n    return function () {\r\n        window.removeEventListener('popstate', fn);\r\n        if (shouldAddHashChangeListener) {\r\n            window.removeEventListener('hashchange', fn);\r\n        }\r\n    };\r\n};\r\nvar getLocation = function (opts) {\r\n    var path = opts.useHash\r\n        ? window.location.hash.replace(new RegExp('^#' + opts.hashPrefix), '')\r\n        : window.location.pathname.replace(new RegExp('^' + opts.base), '');\r\n    // Fix issue with browsers that don't URL encode characters (Edge)\r\n    var correctedPath = safelyEncodePath(path);\r\n    return (correctedPath || '/') + window.location.search;\r\n};\r\nvar safelyEncodePath = function (path) {\r\n    try {\r\n        return encodeURI(decodeURI(path));\r\n    }\r\n    catch (_) {\r\n        return path;\r\n    }\r\n};\r\nvar getState = function () { return window.history.state; };\r\nvar getHash = function () { return window.location.hash; };\r\nvar browser = {};\r\nif (isBrowser) {\r\n    browser = {\r\n        getBase: getBase,\r\n        pushState: pushState,\r\n        replaceState: replaceState,\r\n        addPopstateListener: addPopstateListener,\r\n        getLocation: getLocation,\r\n        getState: getState,\r\n        getHash: getHash\r\n    };\r\n}\r\nelse {\r\n    browser = {\r\n        getBase: value(''),\r\n        pushState: noop,\r\n        replaceState: noop,\r\n        addPopstateListener: noop,\r\n        getLocation: value(''),\r\n        getState: value(null),\r\n        getHash: value('')\r\n    };\r\n}\r\nvar safeBrowser = browser;\n\nvar defaultOptions = {\r\n    forceDeactivate: true,\r\n    useHash: false,\r\n    hashPrefix: '',\r\n    base: '',\r\n    mergeState: false,\r\n    preserveHash: true\r\n};\r\nvar source = 'popstate';\r\nfunction browserPluginFactory(opts, browser) {\r\n    if (browser === void 0) { browser = safeBrowser; }\r\n    var options = __assign(__assign({}, defaultOptions), opts);\r\n    var transitionOptions = {\r\n        forceDeactivate: options.forceDeactivate,\r\n        source: source\r\n    };\r\n    var removePopStateListener;\r\n    return function browserPlugin(router) {\r\n        var routerOptions = router.getOptions();\r\n        var routerStart = router.start;\r\n        router.buildUrl = function (route, params) {\r\n            var base = options.base || '';\r\n            var prefix = options.useHash ? \"#\" + options.hashPrefix : '';\r\n            var path = router.buildPath(route, params);\r\n            return base + prefix + path;\r\n        };\r\n        var urlToPath = function (url) {\r\n            var match = url.match(/^(?:http|https):\\/\\/(?:[0-9a-z_\\-.:]+?)(?=\\/)(.*)$/);\r\n            var path = match ? match[1] : url;\r\n            var pathParts = path.match(/^(.+?)(#.+?)?(\\?.+)?$/);\r\n            if (!pathParts)\r\n                throw new Error(\"[router5] Could not parse url \" + url);\r\n            var pathname = pathParts[1];\r\n            var hash = pathParts[2] || '';\r\n            var search = pathParts[3] || '';\r\n            return ((options.useHash\r\n                ? hash.replace(new RegExp('^#' + options.hashPrefix), '')\r\n                : options.base\r\n                    ? pathname.replace(new RegExp('^' + options.base), '')\r\n                    : pathname) + search);\r\n        };\r\n        router.matchUrl = function (url) { return router.matchPath(urlToPath(url)); };\r\n        router.start = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (args.length === 0 || typeof args[0] === 'function') {\r\n                routerStart.apply(void 0, __spreadArrays([browser.getLocation(options)], args));\r\n            }\r\n            else {\r\n                routerStart.apply(void 0, args);\r\n            }\r\n            return router;\r\n        };\r\n        router.replaceHistoryState = function (name, params, title) {\r\n            if (params === void 0) { params = {}; }\r\n            if (title === void 0) { title = ''; }\r\n            var route = router.buildState(name, params);\r\n            var state = router.makeState(route.name, route.params, router.buildPath(route.name, route.params), { params: route.meta });\r\n            var url = router.buildUrl(name, params);\r\n            router.lastKnownState = state;\r\n            browser.replaceState(state, title, url);\r\n        };\r\n        function updateBrowserState(state, url, replace) {\r\n            var trimmedState = state\r\n                ? {\r\n                    meta: state.meta,\r\n                    name: state.name,\r\n                    params: state.params,\r\n                    path: state.path\r\n                }\r\n                : state;\r\n            var finalState = options.mergeState === true\r\n                ? __assign(__assign({}, browser.getState()), trimmedState) : trimmedState;\r\n            if (replace)\r\n                browser.replaceState(finalState, '', url);\r\n            else\r\n                browser.pushState(finalState, '', url);\r\n        }\r\n        function onPopState(evt) {\r\n            var routerState = router.getState();\r\n            // Do nothing if no state or if last know state is poped state (it should never happen)\r\n            var newState = !evt.state || !evt.state.name;\r\n            var state = newState\r\n                ? router.matchPath(browser.getLocation(options), source)\r\n                : router.makeState(evt.state.name, evt.state.params, evt.state.path, __assign(__assign({}, evt.state.meta), { source: source }), evt.state.meta.id);\r\n            var defaultRoute = routerOptions.defaultRoute, defaultParams = routerOptions.defaultParams;\r\n            if (!state) {\r\n                // If current state is already the default route, we will have a double entry\r\n                // Navigating back and forth will emit SAME_STATES error\r\n                defaultRoute &&\r\n                    router.navigateToDefault(__assign(__assign({}, transitionOptions), { reload: true, replace: true }));\r\n                return;\r\n            }\r\n            if (routerState &&\r\n                router.areStatesEqual(state, routerState, false)) {\r\n                return;\r\n            }\r\n            router.transitionToState(state, routerState, transitionOptions, function (err, toState) {\r\n                if (err) {\r\n                    if (err.redirect) {\r\n                        var _a = err.redirect, name_1 = _a.name, params = _a.params;\r\n                        router.navigate(name_1, params, __assign(__assign({}, transitionOptions), { replace: true, force: true, redirected: true }));\r\n                    }\r\n                    else if (err.code === errorCodes.CANNOT_DEACTIVATE) {\r\n                        var url = router.buildUrl(routerState.name, routerState.params);\r\n                        if (!newState) {\r\n                            // Keep history state unchanged but use current URL\r\n                            updateBrowserState(state, url, true);\r\n                        }\r\n                        // else do nothing or history will be messed up\r\n                        // TODO: history.back()?\r\n                    }\r\n                    else {\r\n                        // Force navigation to default state\r\n                        defaultRoute &&\r\n                            router.navigate(defaultRoute, defaultParams, __assign(__assign({}, transitionOptions), { reload: true, replace: true }));\r\n                    }\r\n                }\r\n                else {\r\n                    router.invokeEventListeners(constants.TRANSITION_SUCCESS, toState, routerState, { replace: true });\r\n                }\r\n            });\r\n        }\r\n        function onStart() {\r\n            if (options.useHash && !options.base) {\r\n                // Guess base\r\n                options.base = browser.getBase();\r\n            }\r\n            removePopStateListener = browser.addPopstateListener(onPopState, options);\r\n        }\r\n        function teardown() {\r\n            if (removePopStateListener) {\r\n                removePopStateListener();\r\n                removePopStateListener = undefined;\r\n            }\r\n        }\r\n        function onTransitionSuccess(toState, fromState, opts) {\r\n            var historyState = browser.getState();\r\n            var hasState = historyState &&\r\n                historyState.meta &&\r\n                historyState.name &&\r\n                historyState.params;\r\n            var statesAreEqual = fromState && router.areStatesEqual(fromState, toState, false);\r\n            var replace = opts.replace || !hasState || statesAreEqual;\r\n            var url = router.buildUrl(toState.name, toState.params);\r\n            if (fromState === null &&\r\n                options.useHash === false &&\r\n                options.preserveHash === true) {\r\n                url += browser.getHash();\r\n            }\r\n            updateBrowserState(toState, url, replace);\r\n        }\r\n        return {\r\n            onStart: onStart,\r\n            onStop: teardown,\r\n            teardown: teardown,\r\n            onTransitionSuccess: onTransitionSuccess,\r\n            onPopState: onPopState\r\n        };\r\n    };\r\n}\n\nexport default browserPluginFactory;\n","import createRouter from 'router5';\r\nimport browserPlugin from 'router5-plugin-browser';\r\nimport { EMPTY, from } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\n\r\nexport class RouterService {\r\n\r\n\tstatic routes = [];\r\n\r\n\tstatic router_ = null;\r\n\tstatic get router() {\r\n\t\treturn this.router_;\r\n\t}\r\n\r\n\tstatic get route() {\r\n\t\tlet route = null;\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\troute = router.getState();\r\n\t\t\t// console.log('RouterService.get.route', route);\r\n\t\t}\r\n\t\treturn route;\r\n\t}\r\n\r\n\t/*\r\n\tstatic event$_ = new Subject();\r\n\tstatic event$() {\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\treturn from(router).pipe(\r\n\t\t\t\tstartWith({ route: router.getState(), previousRoute: null }),\r\n\t\t\t\ttap(event => {\r\n\t\t\t\t\t// console.log('RouterService.event$', event);\r\n\t\t\t\t\tthis.event$_.next(event);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\tstatic useBrowser(routes) {\r\n\t\tif (!(Array.isArray(routes) && routes.length)) {\r\n\t\t\tthis.event$ = EMPTY;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.routes = routes;\r\n\t\tconst router = createRouter(routes, {\r\n\t\t\tallowNotFound: false,\r\n\t\t\tautoCleanUp: true,\r\n\t\t\tdefaultRoute: 'index',\r\n\t\t\tdefaultParams: {},\r\n\t\t\tqueryParams: {\r\n\t\t\t\tarrayFormat: 'default',\r\n\t\t\t\tnullFormat: 'default',\r\n\t\t\t\tbooleanFormat: 'default',\r\n\t\t\t},\r\n\t\t\tqueryParamsMode: 'default',\r\n\t\t\ttrailingSlashMode: 'default',\r\n\t\t\tstrictTrailingSlash: false,\r\n\t\t\tcaseSensitive: false,\r\n\t\t\turlParamsEncoding: 'default',\r\n\t\t});\r\n\t\tthis.router_ = router;\r\n\t\trouter.usePlugin(browserPlugin({\r\n\t\t\tuseHash: false,\r\n\t\t}));\r\n\t\trouter.start();\r\n\t\tthis.event$ = from(router).pipe(\r\n\t\t\tstartWith({ route: router.getState(), previousRoute: null }),\r\n\t\t\t// tap(event => { console.log('RouterService.event$', event); }),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic useBrowser$(routes) {\r\n\t\tthis.useBrowser(routes);\r\n\t\treturn this.event$;\r\n\t}\r\n\r\n\tstatic setRouterLink(routerLink = 'it.access', routeParams = null, options = { reload: true }) {\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\t// router.matchUrl(routerLink);\r\n\t\t\ttry {\r\n\t\t\t\trouter.navigate(routerLink, routeParams, options);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.setRouterLink.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('RouterService.setRouterLink', router, routerLink, routeParams, options);\r\n\t}\r\n\r\n\tstatic replaceHistoryState(name, params) {\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\t// router.matchUrl(routerLink);\r\n\t\t\ttry {\r\n\t\t\t\trouter.replaceHistoryState(name, params);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.replaceHistoryState.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic setCurrentParams(params) {\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\ttry {\r\n\t\t\t\tconst route = this.route;\r\n\t\t\t\tif (route) {\r\n\t\t\t\t\trouter.replaceHistoryState(route.name, params);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.setCurrentParams.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic buildPath(route, params = null) {\r\n\t\tlet path = null;\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\ttry {\r\n\t\t\t\tpath = router.buildPath(route, params);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.buildPath.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('RouterService.buildPath', path, route, params);\r\n\t\t// router.buildUrl(routeName, routeParams)\r\n\t\treturn path;\r\n\t}\r\n\r\n\tstatic buildUrl(routeName, routeParams = null) {\r\n\t\tlet url = null;\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\ttry {\r\n\t\t\t\turl = router.buildUrl(routeName, routeParams);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.buildUrl.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('RouterService.buildUrl', url, routeName, routeParams);\r\n\t\treturn url;\r\n\t}\r\n\r\n\tstatic isActive(name, params, strictEquality = false, ignoreQueryParams = true) {\r\n\t\tlet active = false;\r\n\t\tconst router = this.router_;\r\n\t\tif (router) {\r\n\t\t\ttry {\r\n\t\t\t\tactive = router.isActive(name, params, strictEquality, ignoreQueryParams);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('RouterService.isActive.error', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('RouterService.isActive', active, name, params, strictEquality, ignoreQueryParams);\r\n\t\treturn active;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport default class StateService {\r\n\tstatic state$ = new BehaviorSubject({});\r\n\tstatic set state(state) {\r\n\t\tthis.state$.next(state);\r\n\t}\r\n\tstatic get state() {\r\n\t\treturn this.state$.getValue();\r\n\t}\r\n\tstatic patchState(state) {\r\n\t\tstate = Object.assign({}, this.state, state);\r\n\t\tthis.state = state;\r\n\t}\r\n}\r\n","\r\nexport const RoleType = {\r\n\tPublisher: 'publisher',\r\n\tAttendee: 'attendee',\r\n\tStreamer: 'streamer',\r\n\tViewer: 'viewer',\r\n\tSmartDevice: 'smart-device',\r\n\tSelfService: 'self-service',\r\n\tEmbed: 'embed',\r\n};\r\n\r\nexport class User {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n","import StateService from '../state/state.service';\r\nimport { RoleType } from '../user/user';\r\n\r\nexport const MEETING_ID_VALIDATOR = /^\\d{9}-\\d{4}-\\d{13}(-\\d+)?$/;\r\n\r\nexport class MeetingId {\r\n\r\n\tget roleIndex() {\r\n\t\treturn MeetingId.getRoleIndex(this.role);\r\n\t}\r\n\tset roleIndex(roleIndex) {\r\n\t\tconst roleIndex_ = MeetingId.getRoleIndex(this.role);\r\n\t\tif (roleIndex_ !== roleIndex) {\r\n\t\t\tconst key = Object.keys(RoleType)[roleIndex];\r\n\t\t\tthis.role = RoleType[key];\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\tthis.userId = StateService.state.user ? StateService.state.user.id : 0;\r\n\t\tthis.role = StateService.state.role || RoleType.Viewer;\r\n\t\tthis.timestamp = new Date().valueOf().toString();\r\n\t\tthis.pathId = null;\r\n\t\t// this.timestamp = (performance.now() * 10000000000000).toString();\r\n\t\tif (typeof options === 'string') {\r\n\t\t\tif (options.match(MEETING_ID_VALIDATOR)) {\r\n\t\t\t\toptions = MeetingId.decompose(options);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn('MeetingId', 'invalid meetingId', options);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof options === 'object') {\r\n\t\t\tif (options.id) {\r\n\t\t\t\tthis.id = options.id;\r\n\t\t\t}\r\n\t\t\tif (options.userId) {\r\n\t\t\t\tthis.userId = options.userId;\r\n\t\t\t}\r\n\t\t\tif (options.role) {\r\n\t\t\t\tthis.role = options.role;\r\n\t\t\t}\r\n\t\t\tif (options.roleIndex) {\r\n\t\t\t\tthis.roleIndex = options.roleIndex;\r\n\t\t\t}\r\n\t\t\tif (options.timestamp) {\r\n\t\t\t\tthis.timestamp = options.timestamp;\r\n\t\t\t}\r\n\t\t\tif (options.pathId) {\r\n\t\t\t\tthis.pathId = options.pathId;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('MeetingId', this);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn MeetingId.compose(this.userId, this.roleIndex, this.timestamp, this.pathId);\r\n\t}\r\n\r\n\ttoRoles() {\r\n\t\tconst userId = this.userId;\r\n\t\tconst timestamp = this.timestamp;\r\n\t\tconst pathId = this.pathId;\r\n\t\treturn {\r\n\t\t\tid: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.Publisher), timestamp, pathId),\r\n\t\t\tidAttendee: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.Attendee), timestamp, pathId),\r\n\t\t\tidStreamer: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.Streamer), timestamp, pathId),\r\n\t\t\tidViewer: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.Viewer), timestamp, pathId),\r\n\t\t\tidSmartDevice: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.SmartDevice), timestamp, pathId),\r\n\t\t\tidSelfService: MeetingId.compose(userId, MeetingId.getRoleIndex(RoleType.SelfService), timestamp, pathId),\r\n\t\t};\r\n\t}\r\n\r\n\tstatic compose(userId, roleIndex, timestamp, pathId) {\r\n\t\treturn `${MeetingId.padded(userId, 9)}-${MeetingId.padded(roleIndex, 4)}-${timestamp}${pathId ? `-${pathId}` : ''}`;\r\n\t}\r\n\r\n\tstatic decompose(meetingId) {\r\n\t\tconst components = meetingId.split('-');\r\n\t\treturn {\r\n\t\t\tuserId: parseInt(components[0]),\r\n\t\t\troleIndex: parseInt(components[1]),\r\n\t\t\ttimestamp: parseInt(components[2]),\r\n\t\t\tpathId: components[3] ? parseInt(components[3]) : null,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic generateMeetingId() {\r\n\t\tconst meetingId = new MeetingId();\r\n\t\treturn meetingId.toRoles();\r\n\t}\r\n\r\n\tstatic getRoleIndex(role) {\r\n\t\treturn Object.keys(RoleType).reduce((p, c, i) => {\r\n\t\t\treturn RoleType[c] === role ? i : p;\r\n\t\t}, -1);\r\n\t}\r\n\r\n\tstatic padded(num, size) {\r\n\t\tconst s = '000000000' + num;\r\n\t\treturn s.substr(s.length - size);\r\n\t}\r\n}\r\n","import { environment } from '../environment';\r\nimport { RouterService } from '../router/router.service';\r\nimport { MeetingId } from './meeting-id';\r\n\r\nexport class MeetingUrl {\r\n\r\n\tget meetingId() {\r\n\t\treturn this.link ? new MeetingId(this.link) : null;\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\t/*\r\n\t\tthis.link = LocationService.get('link') || null;\r\n\t\tthis.name = LocationService.get('name') || null;\r\n\t\tthis.firstName = LocationService.get('firstName') || null;\r\n\t\tthis.lastName = LocationService.get('lastName') || null;\r\n\t\tthis.email = LocationService.get('email') || null;\r\n\t\tthis.role = LocationService.get('role') || null;\r\n\t\tthis.viewId = LocationService.has('viewId') ? parseInt(LocationService.get('viewId')) : null;\r\n\t\tthis.pathId = LocationService.has('pathId') ? parseInt(LocationService.get('pathId')) : null;\r\n\t\tthis.embedViewId = LocationService.has('embedViewId') ? parseInt(LocationService.get('embedViewId')) : null;\r\n\t\tthis.support = LocationService.has('support') ? (LocationService.get('support') === 'true') : false;\r\n\t\t*/\r\n\t\toptions = options || window.location.href;\r\n\t\tif (typeof options === 'string') {\r\n\t\t\toptions = MeetingUrl.decompose(options);\r\n\t\t}\r\n\t\tif (typeof options === 'object') {\r\n\t\t\tObject.assign(this, options);\r\n\t\t\tif (options.user) {\r\n\t\t\t\tconst name = MeetingUrl.getName(options.user);\r\n\t\t\t\tif (name) {\r\n\t\t\t\t\tthis.name = name;\r\n\t\t\t\t}\r\n\t\t\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\t\t\tconst firstName = MeetingUrl.getFirstName(options.user);\r\n\t\t\t\t\tif (firstName) {\r\n\t\t\t\t\t\tthis.firstName = firstName;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst lastName = MeetingUrl.getLastName(options.user);\r\n\t\t\t\t\tif (lastName) {\r\n\t\t\t\t\t\tthis.lastName = lastName;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst email = MeetingUrl.getEmail(options.user);\r\n\t\t\t\t\tif (email) {\r\n\t\t\t\t\t\tthis.email = email;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (options.name) {\r\n\t\t\t\tthis.name = options.name;\r\n\t\t\t}\r\n\t\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\t\tif (options.firstName) {\r\n\t\t\t\t\tthis.firstName = options.firstName;\r\n\t\t\t\t}\r\n\t\t\t\tif (options.lastName) {\r\n\t\t\t\t\tthis.lastName = options.lastName;\r\n\t\t\t\t}\r\n\t\t\t\tif (options.email) {\r\n\t\t\t\t\tthis.email = options.email;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.link = this.link || null;\r\n\t\tthis.name = this.name || null;\r\n\t\tthis.firstName = this.firstName || null;\r\n\t\tthis.lastName = this.lastName || null;\r\n\t\tthis.email = this.email || null;\r\n\t\tthis.role = this.role || null;\r\n\t\tthis.viewId = this.viewId || null;\r\n\t\tthis.pathId = this.pathId || null;\r\n\t\tthis.embedViewId = this.embedViewId || null;\r\n\t\tthis.support = this.support || false;\r\n\t\t// console.log('MeetingUrl', this);\r\n\t}\r\n\r\n\ttoParams(shareable = false) {\r\n\t\tlet params = {};\r\n\t\tif (this.link) {\r\n\t\t\tparams.link = this.link;\r\n\t\t}\r\n\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\tif (this.firstName) {\r\n\t\t\t\tparams.firstName = this.firstName;\r\n\t\t\t}\r\n\t\t\tif (this.lastName) {\r\n\t\t\t\tparams.lastName = this.lastName;\r\n\t\t\t}\r\n\t\t\tif (this.email) {\r\n\t\t\t\tparams.email = this.email;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.name) {\r\n\t\t\t\tparams.name = this.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.role && !shareable) {\r\n\t\t\tparams.role = this.role;\r\n\t\t}\r\n\t\tif (this.viewId) {\r\n\t\t\tparams.viewId = this.viewId;\r\n\t\t}\r\n\t\tif (this.pathId) {\r\n\t\t\tparams.pathId = this.pathId;\r\n\t\t}\r\n\t\tif (this.support) {\r\n\t\t\tparams.support = this.support;\r\n\t\t}\r\n\t\tif (environment.flags.useEncryptedUrl) {\r\n\t\t\tparams = {\r\n\t\t\t\tp: MeetingUrl.encrypt(params),\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn params;\r\n\t}\r\n\r\n\ttoString(shareable = false) {\r\n\t\tlet components;\r\n\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\tcomponents = {\r\n\t\t\t\tlink: this.link,\r\n\t\t\t\tfirstName: this.firstName,\r\n\t\t\t\tlastName: this.lastName,\r\n\t\t\t\temail: this.email,\r\n\t\t\t\trole: shareable ? null : this.role,\r\n\t\t\t\tviewId: this.viewId,\r\n\t\t\t\tpathId: this.pathId,\r\n\t\t\t\tsupport: this.support,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tcomponents = {\r\n\t\t\t\tlink: this.link,\r\n\t\t\t\tname: this.name,\r\n\t\t\t\trole: shareable ? null : this.role,\r\n\t\t\t\tviewId: this.viewId,\r\n\t\t\t\tpathId: this.pathId,\r\n\t\t\t\tsupport: this.support,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn MeetingUrl.compose(components);\r\n\t}\r\n\r\n\ttoUrl() {\r\n\t\tconst params = this.toParams();\r\n\t\treturn MeetingUrl.getCurrentUrl(params);\r\n\t}\r\n\r\n\ttoAccessCodeUrl() {\r\n\t\tconst params = this.toParams();\r\n\t\treturn MeetingUrl.getAccessCodeUrl(params);\r\n\t}\r\n\r\n\ttoGuidedTourUrl() {\r\n\t\tconst params = this.toParams();\r\n\t\treturn MeetingUrl.getGuidedTourUrl(params);\r\n\t}\r\n\r\n\tcopyToClipBoard(asAccessCode = false) {\r\n\t\tconst input = document.createElement('input');\r\n\t\tinput.style.position = 'absolute';\r\n\t\tinput.style.top = '1000vh';\r\n\t\t// input.style.visibility = 'hidden';\r\n\t\tdocument.querySelector('body').appendChild(input);\r\n\t\tconst params = this.toParams(true);\r\n\t\tinput.value = window.location.origin + (asAccessCode ? MeetingUrl.getAccessCodeUrl(params) : MeetingUrl.getGuidedTourUrl(params));\r\n\t\tinput.focus();\r\n\t\tinput.select();\r\n\t\tinput.setSelectionRange(0, 99999);\r\n\t\tdocument.execCommand('copy');\r\n\t\tinput.parentNode.removeChild(input);\r\n\t\talert(`link copiato!\\n ${input.value}`);\r\n\t}\r\n\r\n\treplaceUrl() {\r\n\t\tRouterService.setCurrentParams(this.toParams());\r\n\t}\r\n\r\n\tstatic replaceWithOptions(options) {\r\n\t\tconst currentOptions = MeetingUrl.decompose(window.location.href);\r\n\t\tconst meetingUrl = new MeetingUrl(Object.assign(currentOptions, options));\r\n\t\tmeetingUrl.replaceUrl();\r\n\t\treturn meetingUrl;\r\n\t}\r\n\r\n\tstatic replaceWithUser(user) {\r\n\t\treturn this.replaceWithOptions({ user });\r\n\t}\r\n\r\n\tstatic replaceWithName(name) {\r\n\t\treturn this.replaceWithOptions({ name });\r\n\t}\r\n\r\n\tstatic replaceWithLink(link) {\r\n\t\treturn this.replaceWithOptions({ link });\r\n\t}\r\n\r\n\tstatic getCurrentUrl(params = null) {\r\n\t\tconst route = RouterService.route;\r\n\t\tif (route) {\r\n\t\t\tconst routeName = route.name;\r\n\t\t\t// console.log('MeetingUrl.getCurrentUrl', routeName);\r\n\t\t\treturn RouterService.buildUrl(routeName, params);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getAccessCodeUrl(params = null) {\r\n\t\tconst route = RouterService.route;\r\n\t\tif (route) {\r\n\t\t\tconst routeName = `${route.params.lang}.accessCode`;\r\n\t\t\t// console.log('MeetingUrl.getAccessCodeUrl', routeName);\r\n\t\t\treturn RouterService.buildUrl(routeName, params);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getGuidedTourUrl(params = null) {\r\n\t\tconst route = RouterService.route;\r\n\t\tif (route) {\r\n\t\t\tconst routeName = `${route.params.lang}.guidedTour`;\r\n\t\t\t// console.log('MeetingUrl.getGuidedTourUrl', routeName);\r\n\t\t\treturn RouterService.buildUrl(routeName, params);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getName(user) {\r\n\t\treturn (user && user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : null);\r\n\t}\r\n\r\n\tstatic getFirstName(user) {\r\n\t\treturn (user && user.firstName ? user.firstName : null);\r\n\t}\r\n\r\n\tstatic getLastName(user) {\r\n\t\treturn (user && user.lastName ? user.lastName : null);\r\n\t}\r\n\r\n\tstatic getEmail(user) {\r\n\t\treturn (user && user.email ? user.email : null);\r\n\t}\r\n\r\n\tstatic compose(components) {\r\n\t\tif (environment.flags.useEncryptedUrl) {\r\n\t\t\tconst p = MeetingUrl.encrypt(components);\r\n\t\t\treturn `?p=${p}`;\r\n\t\t} else {\r\n\t\t\tcomponents = Object.keys(components).map(key => {\r\n\t\t\t\treturn { key, value: components[key] };\r\n\t\t\t}).filter(x => x.value != null && x.value !== false).map(x => `${x.key}=${x.value}`);\r\n\t\t\treturn `?${components.join('&')}`;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic decompose(url) {\r\n\t\tlet components = {};\r\n\t\tif (environment.flags.useEncryptedUrl) {\r\n\t\t\tconst params = new URLSearchParams(url.split('?')[1]);\r\n\t\t\tif (params.has('p')) {\r\n\t\t\t\tcomponents = MeetingUrl.decrypt(params.get('p'));\r\n\t\t\t}\r\n\t\t} else if (url.indexOf('?') > -1) {\r\n\t\t\tconst params = new URLSearchParams(url.split('?')[1]);\r\n\t\t\tparams.forEach((value, key) => {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'viewId':\r\n\t\t\t\t\tcase 'pathId':\r\n\t\t\t\t\tcase 'embedViewId':\r\n\t\t\t\t\t\tvalue = value ? parseInt(value) : null;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'support':\r\n\t\t\t\t\t\tvalue = value ? (value === 'true') : false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcomponents[key] = value;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn components;\r\n\t}\r\n\r\n\tstatic decrypt(p) {\r\n\t\treturn JSON.parse(window.atob(p));\r\n\t}\r\n\r\n\tstatic encrypt(params) {\r\n\t\treturn window.btoa(JSON.stringify(params));\r\n\t}\r\n\r\n\tstatic validateParams(components) {\r\n\t\tif (environment.flags.useEncryptedUrl) {\r\n\t\t\tconst p = MeetingUrl.encrypt(components);\r\n\t\t\treturn { p };\r\n\t\t} else {\r\n\t\t\treturn components;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { getContext, Structure } from 'rxcomp';\r\nimport { EMPTY, of } from 'rxjs';\r\nimport { map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\n// import View, { EnterTransition, LeaveTransition, OnceTransition } from '../core/view';\r\n// import { transitionOnce, transitionOnced } from '../transition/transition';\r\nimport { RouterService } from './router.service';\r\n\r\nconst SKIP_FACTORY_CHECK = true;\r\n\r\nexport class RouterOutletStructure extends Structure {\r\n\r\n\t// host;\r\n\t// outlet;\r\n\t// element;\r\n\t// instance;\r\n\t// route$_ = new ReplaySubject(1);\r\n\r\n\tgetFactory(route) {\r\n\t\tlet factory = null;\r\n\t\tconst routes = RouterService.routes;\r\n\t\tconst originalRoute = routes.find(x => x.name === route.name);\r\n\t\tif (originalRoute) {\r\n\t\t\tfactory = originalRoute.factory;\r\n\t\t}\r\n\t\t// console.log('RouterOutletStructure.getFactory', originalRoute, routes, route);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.route$().pipe(\r\n\t\t\tswitchMap(route => this.factory$(route)),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RouterOutletStructure.route$', event);\r\n\t\t});\r\n\t\t/*\r\n\t\tthis.route$().pipe(\r\n\t\t\tswitchMap(snapshot => this.factory$(snapshot)),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {\r\n\t\t\t// console.log(`RouterOutletStructure ActivatedRoutes: [\"${RouterService.flatRoutes.filter(x => x.snapshot).map(x => x.snapshot?.extractedUrl).join('\", \"')}\"]`);\r\n\t\t});\r\n\t\tif (this.host) {\r\n\t\t\tthis.route$_.next(this.host.route.childRoute);\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\troute$() {\r\n\t\treturn RouterService.event$.pipe(\r\n\t\t\tmap(event => {\r\n\t\t\t\tconst route = event.route;\r\n\t\t\t\tthis.route = route;\r\n\t\t\t\t// console.log('RouterOutletStructure.route', route);\r\n\t\t\t\treturn route;\r\n\t\t\t}),\r\n\t\t);\r\n\t\t/*\r\n\t\tconst routes = this.routes;\r\n\t\t// console.log('RouterOutletStructure.route$', routes);\r\n\t\tif (routes) {\r\n\t\t\treturn RouterService.useBrowser$(routes).pipe(\r\n\t\t\t\tmap(event => {\r\n\t\t\t\t\t// console.log('RouterOutletStructure.route$', event);\r\n\t\t\t\t\treturn event.route;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\tfactory$(route) {\r\n\t\tconst factory = this.getFactory(route);\r\n\t\t// console.log('RouterOutletStructure.factory$', route, factory);\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tif (SKIP_FACTORY_CHECK || this.factory_ !== factory) {\r\n\t\t\tthis.factory_ = factory;\r\n\t\t\treturn of(factory).pipe(\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tif (this.element) {\r\n\t\t\t\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\t\t\t\tmodule.remove(this.element, this);\r\n\t\t\t\t\t\tthis.element = undefined;\r\n\t\t\t\t\t\tthis.instance = undefined;\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tmap(() => {\r\n\t\t\t\t\tif (factory && factory.meta.template) {\r\n\t\t\t\t\t\tlet element = document.createElement('div');\r\n\t\t\t\t\t\telement.innerHTML = factory.meta.template;\r\n\t\t\t\t\t\tif (element.children.length === 1) {\r\n\t\t\t\t\t\t\telement = element.firstElementChild;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.appendChild(element);\r\n\t\t\t\t\t\tconst instance = module.makeInstance(element, factory, factory.meta.selector, this, undefined, { route });\r\n\t\t\t\t\t\tmodule.compile(element, instance);\r\n\t\t\t\t\t\tthis.instance = instance;\r\n\t\t\t\t\t\tthis.element = element;\r\n\t\t\t\t\t\treturn { element, instance };\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\t/*\r\n\t\tif (this.host) {\r\n\t\t\tthis.route$_.next(this.host.route.childRoute);\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\troute$() {\r\n\t\tconst source = this.host ? this.route$_ : RouterService.route$;\r\n\t\treturn source.pipe(\r\n\t\t\tfilter((snapshot) => {\r\n\t\t\t\tthis.route_ = snapshot; // !!!\r\n\t\t\t\tif (this.snapshot_ && snapshot && this.snapshot_.component === snapshot.component) {\r\n\t\t\t\t\tthis.snapshot_.next(snapshot);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.snapshot_ = snapshot;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tfactory$(snapshot) {\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst factory = snapshot.component;\r\n\t\tif (this.factory_ !== factory) {\r\n\t\t\tthis.factory_ = factory;\r\n\t\t\treturn this.onLeave$_(snapshot, this.element, this.instance).pipe(\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tif (this.element) {\r\n\t\t\t\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t\t\t\t\tmodule.remove(this.element, this);\r\n\t\t\t\t\t\tthis.element = undefined;\r\n\t\t\t\t\t\tthis.instance = undefined;\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tswitchMap(() => {\r\n\t\t\t\t\tif (snapshot && factory && factory.meta.template) {\r\n\t\t\t\t\t\tlet element = document.createElement('div');\r\n\t\t\t\t\t\telement.innerHTML = factory.meta.template;\r\n\t\t\t\t\t\tif (element.children.length === 1) {\r\n\t\t\t\t\t\t\telement = element.firstElementChild;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.appendChild(element);\r\n\t\t\t\t\t\tconst instance = module.makeInstance(element, factory, factory.meta.selector, this, undefined, { route: snapshot });\r\n\t\t\t\t\t\tmodule.compile(element, instance);\r\n\t\t\t\t\t\tthis.instance = instance;\r\n\t\t\t\t\t\tthis.element = element;\r\n\t\t\t\t\t\tsnapshot.element = element;\r\n\t\t\t\t\t\treturn this.onOnce$_(snapshot, element, instance).pipe(\r\n\t\t\t\t\t\t\tswitchMap(() => {\r\n\t\t\t\t\t\t\t\treturn this.onEnter$_(snapshot, element, instance);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn of(void 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(void 0);\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tonOnce$_(snapshot, element, instance) {\r\n\t\tif (!transitionOnced() && instance instanceof View && element) {\r\n\t\t\ttransitionOnce();\r\n\t\t\tconst factory = instance.constructor;\r\n\t\t\tconst transition = factory.transitions.find((x) => x instanceof OnceTransition && x.matcher(snapshot.previousRoute?.path));\r\n\t\t\treturn transition ? asObservable([element, snapshot.previousRoute], transition.callback.bind(instance)) : of(void 0);\r\n\t\t} else {\r\n\t\t\treturn of(void 0);\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter$_(snapshot, element, instance) {\r\n\t\tif (instance instanceof View && element) {\r\n\t\t\tconst factory = instance.constructor;\r\n\t\t\tconst transition = factory.transitions.find((x) => x instanceof EnterTransition && x.matcher(snapshot.previousRoute?.path));\r\n\t\t\treturn transition ? asObservable([element, snapshot.previousRoute], transition.callback.bind(instance)) : of(void 0);\r\n\t\t} else {\r\n\t\t\treturn of(void 0);\r\n\t\t}\r\n\t}\r\n\r\n\tonLeave$_(snapshot, element, instance) {\r\n\t\tif (instance instanceof View && element) {\r\n\t\t\tconst factory = instance.constructor;\r\n\t\t\tconst transition = factory.transitions.find((x) => x instanceof LeaveTransition && x.matcher(snapshot?.path));\r\n\t\t\treturn transition ? asObservable([element, snapshot], transition.callback.bind(instance)) : of(void 0);\r\n\t\t} else {\r\n\t\t\treturn of(void 0);\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\tstatic meta = {\r\n\t\tselector: 'router-outlet,[router-outlet]',\r\n\t\thosts: { host: RouterOutletStructure },\r\n\t};\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { CHUNK_BACKGROUND, CHUNK_CREDITS, CHUNK_LANGUAGE, CHUNK_LOGO } from '../agora/agora.component.chunks';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\n// import { RouterService } from '../router/router.service';\r\n\r\nexport default class AccessCodeComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.state = {};\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tif (!meetingUrl.link) {\r\n\t\t\t// !!!\r\n\t\t\t// RouterService.setRouterLink(MeetingUrl.getGuidedTourUrl());\r\n\t\t\twindow.location.href = window.location.origin + MeetingUrl.getGuidedTourUrl();\r\n\t\t} else {\r\n\t\t\tconst url = meetingUrl.toGuidedTourUrl();\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst qrcode = new QRious({\r\n\t\t\t\telement: node.querySelector('.qrcode'),\r\n\t\t\t\tvalue: url,\r\n\t\t\t\tsize: 256,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nAccessCodeComponent.meta = {\r\n\tselector: '[access-code-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"page page--access-code\">\r\n\t\t\t${CHUNK_BACKGROUND}\r\n\t\t\t<!-- access-code -->\r\n\t\t\t<div class=\"ui ui--info ui--info-centered\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"'access_code_title' | label\"></div>\r\n\t\t\t\t\t\t<div class=\"picture\">\r\n\t\t\t\t\t\t\t<canvas class=\"qrcode\"></canvas>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t${CHUNK_LOGO}\r\n\t\t\t${CHUNK_CREDITS}\r\n\t\t\t${CHUNK_LANGUAGE}\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormAbstractCollectionDirective, FormControl, FormGroup, Validators } from 'rxcomp-form';\r\n\r\nexport default class ControlsComponent extends Component {\r\n\r\n\tget group() {\r\n\t\tif (this.formGroup) {\r\n\t\t\treturn this.formGroup;\r\n\t\t} else {\r\n\t\t\tif (!this.host) {\r\n\t\t\t\tthrow ('missing form collection');\r\n\t\t\t}\r\n\t\t\treturn this.host.control;\r\n\t\t}\r\n\t}\r\n\r\n\tgetControl(name) {\r\n\t\treturn this.group.get(name);\r\n\t}\r\n}\r\n\r\nControlsComponent.meta = {\r\n\tselector: '[controls]',\r\n\tinputs: ['formGroup', 'fields'],\r\n\thosts: { host: FormAbstractCollectionDirective },\r\n\ttemplate: /* html */`\r\n\t\t<div *for=\"let field of fields\">\r\n\t\t\t<div *if=\"['text', 'email', 'url'].indexOf(field.type) !== -1\" control-text [control]=\"getControl(field.name)\" [label]=\"field.label | label\"></div>\r\n\t\t\t<div *if=\"field.type == 'select'\" control-select [control]=\"getControl(field.name)\" [label]=\"field.label | label\"></div>\r\n\t\t\t<div *if=\"field.type == 'custom-select'\" control-custom-select [control]=\"getControl(field.name)\" [label]=\"field.label | label\"></div>\r\n\t\t\t<div *if=\"field.type == 'textarea'\" control-textarea [control]=\"getControl(field.name)\" [label]=\"field.label | label\"></div>\r\n\t\t\t<div *if=\"field.type == 'checkbox'\" control-checkbox [control]=\"getControl(field.name)\" [label]=\"field.label | label\"></div>\r\n\t\t\t<input *if=\"field.type == 'hidden'\" [name]=\"field.name\" [formControl]=\"getControl(field.name)\" value=\"\" type=\"text\" style=\"display:none !important;\" />\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nexport function fieldsToFormControls(fields) {\r\n\tconst controls = fields.reduce((p, c, i) => {\r\n\t\tconst validators = [];\r\n\t\tif (c.required) {\r\n\t\t\tvalidators.push(c.type === 'checkbox' ? Validators.RequiredTrueValidator() : Validators.RequiredValidator());\r\n\t\t}\r\n\t\tif (c.type === 'email') {\r\n\t\t\tvalidators.push(Validators.EmailValidator());\r\n\t\t}\r\n\t\tif (c.type === 'url') {\r\n\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\tvalidators.push(Validators.PatternValidator('(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})'));\r\n\t\t}\r\n\t\tif (c.pattern != null) {\r\n\t\t\tvalidators.push(Validators.PatternValidator(c.pattern));\r\n\t\t}\r\n\t\tp[c.name] = new FormControl((c.value != null ? c.value : null), validators);\r\n\t\tif (c.type === 'select' || c.type === 'custom-select') {\r\n\t\t\tconst options = (c.options || []).slice();\r\n\t\t\toptions.unshift({ id: null, name: 'select' }); // LabelPipe.transform('select')\r\n\t\t\tp[c.name].options = options;\r\n\t\t}\r\n\t\treturn p;\r\n\t}, {});\r\n\treturn controls;\r\n}\r\n\r\nexport function fieldsToFormGroup(fields) {\r\n\treturn new FormGroup(fieldsToFormControls(fields));\r\n}\r\n\r\nexport function patchFields(fields, form) {\r\n\tconst testValues = fields.reduce((p, c, i) => {\r\n\t\tif (c.test) {\r\n\t\t\tp[c.name] = c.test;\r\n\t\t}\r\n\t\treturn p;\r\n\t}, {});\r\n\tform.patch(testValues);\r\n}\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../environment';\r\n\r\nexport class LabelPipe extends Pipe {\r\n\r\n\tstatic get labels() {\r\n\t\treturn environment.labels;\r\n\t}\r\n\r\n\tstatic transform(key) {\r\n\t\tswitch (key) {\r\n\t\t\tcase '@copy':\r\n\t\t\t\treturn this.getCopy();\r\n\t\t}\r\n\t\tconst labels = LabelPipe.labels;\r\n\t\tlet label = labels[key] != null ? labels[key] : key; // `#${key}#`;\r\n\t\tif (typeof label === 'string' && label.indexOf('@copy') !== -1) {\r\n\t\t\tlabel = label.replace('@copy', this.getCopy());\r\n\t\t}\r\n\t\treturn label;\r\n\t}\r\n\r\n\tstatic getKeys(...keys) {\r\n\t\treturn LabelPipe.transform(keys.map(x => x.replace('-', '_')).join('_'));\r\n\t}\r\n\r\n\tstatic getCopy() {\r\n\t\treturn `©${new Date().getFullYear()}`;\r\n\t}\r\n}\r\n\r\nLabelPipe.meta = {\r\n\tname: 'label',\r\n};\r\n","export default class LocationService {\r\n\r\n\tstatic has(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.has', params);\r\n\t\treturn params.has(key);\r\n\t}\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.pushParams(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic delete(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.has', params);\r\n\t\tif (params.has(key)) {\r\n\t\t\tparams.delete(key);\r\n\t\t\tthis.pushParams(params);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic pushParams(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic replace(from, to) {\r\n\t\tconst history = window.history;\r\n\t\tif (history && history.replaceState) {\r\n\t\t\tconst location = window.location;\r\n\t\t\tconst title = document.title;\r\n\t\t\tif (location.pathname === '/') {\r\n\t\t\t\tconst url = location.origin + to + location.search;\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t} else if (location.href.indexOf(from) !== -1) {\r\n\t\t\t\tconst url = location.href.replace(from, to);\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, from } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport LocationService from '../location/location.service';\r\nimport { RouterService } from '../router/router.service';\r\nimport { Utils } from '../utils/utils';\r\n\r\nexport class LanguageService {\r\n\r\n\tstatic languages = this.getDefaultLanguages();\r\n\tstatic lang$ = new BehaviorSubject(this.getDefaultLanguage());\r\n\tstatic get lang() {\r\n\t\treturn this.lang$.getValue();\r\n\t}\r\n\tstatic set lang(lang) {\r\n\t\tif (this.lang !== lang) {\r\n\t\t\tthis.lang$.next(lang);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic setAlternates(language, alternates) {\r\n\t\tthis.languages = alternates;\r\n\t\tthis.lang = language;\r\n\t\t// console.log('LanguageService.setAlternates', language, alternates);\r\n\t}\r\n\r\n\tstatic setRoute(route, routes) {\r\n\t\tconst language = route.params.lang;\r\n\t\t// console.log('LanguageService.setRoute', route, route.path, language);\r\n\t\tconst alternates = environment.languages.map(lang => {\r\n\t\t\tconst title = lang === 'it' ? 'Italiano' : 'English';\r\n\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\tconst alternateName = route.name.replace(new RegExp(`(^${language}$)|(^${language}\\.)`), (match, g1, g2, offset) => {\r\n\t\t\t\t// console.log('LanguageService.match', match, g1, g2, offset);\r\n\t\t\t\treturn g1 ? lang : `${lang}.`;\r\n\t\t\t});\r\n\t\t\tconst alternate = routes.find(x => x.name === alternateName);\r\n\t\t\t// console.log('LanguageService.alternate', lang, alternateName, alternate);\r\n\t\t\tif (alternate) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: alternate.name,\r\n\t\t\t\t\tparams: route.params,\r\n\t\t\t\t\thref: alternate.path,\r\n\t\t\t\t\tlang: alternate.defaultParams.lang,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}).filter(x => x !== null);\r\n\t\tthis.setAlternates(language, alternates);\r\n\t}\r\n\r\n\tstatic get hasLanguages() {\r\n\t\treturn this.languages.length > 1;\r\n\t}\r\n\r\n\tstatic get activeLanguage() {\r\n\t\treturn this.languages.find(language => language.lang === this.lang);\r\n\t}\r\n\r\n\tstatic getDefaultLanguages() {\r\n\t\treturn environment.alternates || [];\r\n\t}\r\n\r\n\tstatic getDefaultLanguage() {\r\n\t\treturn environment.defaultLanguage || (this.languages ? this.languages[0].lang : null);\r\n\t}\r\n\r\n\tstatic setLanguage(language) {\r\n\t\tthis.lang = language.lang;\r\n\t}\r\n\r\n\tstatic setLanguage$(language) {\r\n\t\tif (typeof language === 'string') {\r\n\t\t\tlanguage = this.languages.find(x => x.lang === language);\r\n\t\t}\r\n\t\tif (!language) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst url = (environment.flags.production ? `/api/${language.lang}/labels/` : `./api/${language.lang}/labels.json`);\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.json();\r\n\t\t})).pipe(\r\n\t\t\ttap(labels => {\r\n\t\t\t\tenvironment.labels = labels;\r\n\t\t\t\tRouterService.replaceHistoryState(language.name, language.params);\r\n\t\t\t\tconst from = this.activeLanguage.href.split('?')[0];\r\n\t\t\t\tconst to = language.href.split('?')[0];\r\n\t\t\t\tLocationService.replace(from, to);\r\n\t\t\t\tthis.lang = language.lang;\r\n\t\t\t}),\r\n\t\t);\r\n\t\t/*\r\n\t\treturn of(language).pipe(\r\n\t\t\ttap(language => {\r\n\t\t\t\t// LabelPipe.setLabels();\r\n\t\t\t\tLocationService.replace(this.activeLanguage.href, language.href);\r\n\t\t\t\tthis.lang = language.lang;\r\n\t\t\t}),\r\n\t\t);\r\n\t\t*/\r\n\t}\r\n\r\n\tstatic setLanguage$_(language) {\r\n\t\treturn from(fetch(language.href).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t})).pipe(\r\n\t\t\ttap(html => {\r\n\t\t\t\t// console.log('html', html);\r\n\t\t\t\tconst labelsMatch = /(window\\.labels\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (labelsMatch) {\r\n\t\t\t\t\t// console.log('labels', labelsMatch[0]);\r\n\t\t\t\t\tnew Function(labelsMatch[0]).call(window);\r\n\t\t\t\t\tLabelPipe.setLabels();\r\n\t\t\t\t}\r\n\t\t\t\tconst bhereMatch = /(window\\.bhere\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (bhereMatch) {\r\n\t\t\t\t\t// console.log('bhere', bhereMatch[0]);\r\n\t\t\t\t\tconst data = {};\r\n\t\t\t\t\tnew Function(bhereMatch[0].replace('window', 'this')).call(data);\r\n\t\t\t\t\tif (data.bhere) {\r\n\t\t\t\t\t\tUtils.merge(environment, data.bhere);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tLocationService.replace(this.activeLanguage.href, language.href);\r\n\t\t\t\t// console.log(environment.labels);\r\n\t\t\t\tthis.lang = language.lang;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic toggleLanguages() {\r\n\t\tthis.showLanguages = !this.showLanguages;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n}\r\n","import { Pipe } from 'rxcomp';\r\nimport { LanguageService } from '../language/language.service';\r\n\r\nexport class RoutePipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\treturn key.replace(':lang', LanguageService.lang);\r\n\t}\r\n\r\n}\r\n\r\nRoutePipe.meta = {\r\n\tname: 'route',\r\n};\r\n","import { environment } from '../environment';\r\nimport { RoleType } from '../user/user';\r\n\r\nexport const USE_AUTODETECT = false;\r\nexport const USE_VOLUME_INDICATOR = false;\r\nexport const USE_RTM = true;\r\n\r\nexport const VIDEO_PROFILES = [\r\n\t/*\r\n\t['120p_1', 160, 120, 15, 65, false]],\r\n\t['120p_3', 120, 120, 15, 50, false]],\r\n\t['180p_1', 320, 180, 15, 140, false]],\r\n\t['180p_3', 180, 180, 15, 100, false]],\r\n\t['180p_4', 240, 180, 15, 120, false]],\r\n\t['240p_1', 320, 240, 15, 200, false]],\r\n\t['240p_3', 240, 240, 15, 140, false]],\r\n\t['240p_4', 424, 240, 15, 220, false]],\r\n\t['360p_1', 640, 360, 15, 400, false]],\r\n\t['360p_3', 360, 360, 15, 260, false]],\r\n\t['360p_4', 640, 360, 30, 600, false]],\r\n\t['360p_6', 360, 360, 30, 400, false]],\r\n\t['360p_7', 480, 360, 15, 320, false]],\r\n\t['360p_8', 480, 360, 30, 490, false]],\r\n\t['360p_9', 640, 360, 15, 800, false]],\r\n\t['360p_10', 640, 360, 24, 800, false]],\r\n\t['360p_11', 640, 360, 24, 1000, false]],\r\n\t*/\r\n\t['480p_1', 640, 480, 15, 500, true],\r\n\t['480p_2', 640, 480, 30, 1000, true],\r\n\t['480p_3', 480, 480, 15, 400, true],\r\n\t['480p_4', 640, 480, 30, 750, true],\r\n\t['480p_6', 480, 480, 30, 600, true],\r\n\t['480p_8', 848, 480, 15, 610, true],\r\n\t['480p_9', 848, 480, 30, 930, true],\r\n\t['480p_10', 640, 480, 10, 400, true],\r\n\t['720p_1', 1280, 720, 15, 1130, true],\r\n\t['720p_2', 1280, 720, 30, 2000, true],\r\n\t['720p_3', 1280, 720, 30, 1710, true],\r\n\t['720p_5', 960, 720, 15, 910, true],\r\n\t['720p_6', 960, 720, 30, 1380, true],\r\n\t['1080p_1', 1920, 1080, 15, 2080, false],\r\n\t['1080p_2', 1920, 1080, 30, 3000, false],\r\n\t['1080p_3', 1920, 1080, 30, 3150, false],\r\n\t['1080p_5', 1920, 1080, 60, 4780, false],\r\n];\r\n\r\nexport const StreamQualities = VIDEO_PROFILES.map(a => {\r\n\treturn {\r\n\t\tprofile: a[0],\r\n\t\tresolution: {\r\n\t\t\twidth: a[1],\r\n\t\t\theight: a[2],\r\n\t\t},\r\n\t\tframeRate: {\r\n\t\t\tmin: a[3],\r\n\t\t\tmax: a[3],\r\n\t\t},\r\n\t\tbitrate: {\r\n\t\t\tmin: a[4],\r\n\t\t\tmax: a[4],\r\n\t\t},\r\n\t\tcompatible: a[5],\r\n\t};\r\n});\r\n\r\n/*\r\nexport const StreamQualities = [{\r\n\t// id: 1,\r\n\t// name: '4K 2160p 3840x2160',\r\n\tprofile: '4K',\r\n\tresolution: {\r\n\t\twidth: 3840,\r\n\t\theight: 2160\r\n\t},\r\n\tframeRate: {\r\n\t\tmin: 15,\r\n\t\tmax: 30\r\n\t},\r\n\tbitrate: {\r\n\t\tmin: 8910,\r\n\t\tmax: 13500\r\n\t}\r\n}, {\r\n\t// id: 2,\r\n\t// name: 'HD 1440p 2560×1440',\r\n\tprofile: '1440p',\r\n\tresolution: {\r\n\t\twidth: 2560,\r\n\t\theight: 1440\r\n\t},\r\n\tframeRate: {\r\n\t\tmin: 15,\r\n\t\tmax: 30\r\n\t},\r\n\tbitrate: {\r\n\t\tmin: 4850,\r\n\t\tmax: 7350\r\n\t}\r\n}, {\r\n\t// id: 3,\r\n\t// name: 'HD 1080p 1920x1080',\r\n\tprofile: '1080p',\r\n\tresolution: {\r\n\t\twidth: 1920,\r\n\t\theight: 1080\r\n\t},\r\n\tframeRate: {\r\n\t\tmin: 15,\r\n\t\tmax: 30\r\n\t},\r\n\tbitrate: {\r\n\t\tmin: 2080,\r\n\t\tmax: 4780\r\n\t}\r\n}, {\r\n\t// id: 4,\r\n\t// name: 'LOW 720p 1280x720',\r\n\tprofile: '720p_3',\r\n\tresolution: {\r\n\t\twidth: 1280,\r\n\t\theight: 720\r\n\t},\r\n\tframeRate: {\r\n\t\tmin: 15,\r\n\t\tmax: 30\r\n\t},\r\n\tbitrate: {\r\n\t\tmin: 1130,\r\n\t\tmax: 1710\r\n\t}\r\n}, {\r\n\t// id: 5,\r\n\t// name: 'LOWEST 240p 320x240',\r\n\tprofile: '240p_1',\r\n\tresolution: {\r\n\t\twidth: 320,\r\n\t\theight: 240\r\n\t},\r\n\tframeRate: {\r\n\t\tmin: 15,\r\n\t\tmax: 15\r\n\t},\r\n\tbitrate: {\r\n\t\tmin: 140,\r\n\t\tmax: 200\r\n\t}\r\n}];\r\n*/\r\n\r\nexport function getStreamQuality(state) {\r\n\tlet profile = environment.profiles.streamer;\r\n\tswitch (state.role) {\r\n\t\tcase RoleType.Publisher:\r\n\t\tcase RoleType.SmartDevice:\r\n\t\t\tprofile = environment.profiles.publisher || environment.profiles.streamer;\r\n\t\t\tbreak;\r\n\t\tcase RoleType.Attendee:\r\n\t\t\tprofile = environment.profiles.attendee || environment.profiles.streamer;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t}\r\n\treturn StreamQualities.find(x => x.profile === profile);\r\n}\r\n\r\n/*\r\nexport function getStreamQuality(state) {\r\n\tconst lowestQuality = StreamQualities[StreamQualities.length - 1];\r\n\tconst highestQuality = environment.flags.maxQuality ? StreamQualities[0] : StreamQualities[StreamQualities.length - 2];\r\n\treturn (state.role === RoleType.Publisher || state.role === RoleType.SmartDevice) ? highestQuality : lowestQuality;\r\n}\r\n*/\r\n\r\nexport const AgoraStatus = {\r\n\tIdle: 'idle',\r\n\tChecklist: 'checklist',\r\n\tLink: 'link',\r\n\tLogin: 'login',\r\n\tName: 'name',\r\n\tDevice: 'device',\r\n\tShouldConnect: 'should-connect',\r\n\tConnecting: 'connecting',\r\n\tConnected: 'connected',\r\n\tDisconnected: 'disconnected',\r\n};\r\n\r\nexport const MessageType = {\r\n\tAddLike: 'addLike',\r\n\tAgoraEvent: 'agoraEvent',\r\n\tChannelMembers: 'channelMembers',\r\n\tChatMessage: 'chatMessage',\r\n\tChatTypingBegin: 'chatTypingBegin',\r\n\tChatTypingEnd: 'chatTypingEnd',\r\n\tControlInfo: 'controlInfo',\r\n\tCurrentTimeMedia: 'currentTimeMedia',\r\n\tMenuToggle: 'menuToggle',\r\n\tMode: 'mode',\r\n\tNavInfo: 'navInfo',\r\n\tNavLink: 'navLink',\r\n\tNavLinkClose: 'navLinkClose',\r\n\tNavToGrid: 'navToGrid',\r\n\tNavToView: 'navToView',\r\n\tPing: 'ping',\r\n\tPlayMedia: 'playMedia',\r\n\tPlayModel: 'playModel',\r\n\tRemoteSilencing: 'remoteSilencing',\r\n\tRequestControl: 'requestControl',\r\n\tRequestControlDismiss: 'requestControlDismiss',\r\n\tRequestSpy: 'requestSpy',\r\n\tRequestSpyDismiss: 'requestSpyDismiss',\r\n\tSelectItem: 'selectItem',\r\n\tSetSnapshot: 'setSnapshot',\r\n\tShowPanel: 'showPanel',\r\n\tSlideChange: 'slideChange',\r\n\tSupportRequest: 'supportRequest',\r\n\tSupportRequestAccepted: 'supportRequestAccepted',\r\n\tSupportRequestRejected: 'supportRequestRejected',\r\n\tVREnded: 'vrEnded',\r\n\tVRStarted: 'vrStarted',\r\n\tVRState: 'vrState',\r\n\tZoomMedia: 'zoomMedia',\r\n};\r\n\r\nexport const UIMode = {\r\n\tVirtualTour: 'virtual-tour',\r\n\tLiveMeeting: 'live-meeting',\r\n\tSelfServiceTour: 'self-service-tour',\r\n\tEmbed: 'embed',\r\n\tNone: 'none',\r\n};\r\n\r\nexport class AgoraEvent {\r\n\tconstructor(options) {\r\n\t\tObject.assign(this, options);\r\n\t}\r\n}\r\nexport class AgoraPeerEvent extends AgoraEvent { }\r\nexport class AgoraRemoteEvent extends AgoraEvent { }\r\nexport class AgoraUserInfoUpdateEvent extends AgoraEvent { }\r\nexport class AgoraMuteVideoEvent extends AgoraEvent { }\r\nexport class AgoraUnmuteVideoEvent extends AgoraEvent { }\r\nexport class AgoraMuteAudioEvent extends AgoraEvent { }\r\nexport class AgoraUnmuteAudioEvent extends AgoraEvent { }\r\nexport class AgoraVolumeLevelsEvent extends AgoraEvent { }\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nexport class HttpResponse {\r\n\r\n\tget static() {\r\n\t\treturn this.url.indexOf('.json') === this.url.length - 5;\r\n\t}\r\n\r\n\tconstructor(response) {\r\n\t\tthis.data = null;\r\n\t\tif (response) {\r\n\t\t\tthis.url = response.url;\r\n\t\t\tthis.status = response.status;\r\n\t\t\tthis.statusText = response.statusText;\r\n\t\t\tthis.ok = response.ok;\r\n\t\t\tthis.redirected = response.redirected;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\t// url = this.getUrl(url, format);\r\n\t\treturn from(fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined,\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn typedResponse;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\t\treturn Promise.reject(data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\t// !!! todo mapping response.data\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tconst body = (data && methods.indexOf(method) !== -1) ? JSON.stringify(data) : undefined;\r\n\t\tconst queryString = (data && methods.indexOf(method) !== -1) ? Object.keys(data).map(function(key) {\r\n\t\t\treturn key + '=' + encodeURI(data[key]);\r\n\t\t}).join('&') : undefined;\r\n\t\tif (queryString) {\r\n\t\t\turl = `${url}?${queryString}`;\r\n\t\t}\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: body,\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = new HttpResponse(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && format === 'json' && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else if (format === 'blob') {\r\n\t\t\t\t\ttypedResponse = response.blob();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\tresponse_.data = data;\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch(error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(this.getError(error, response_));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.status) {\r\n\t\t\terror.status = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\t// console.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, of } from 'rxjs';\r\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\r\nimport { UIMode } from '../agora/agora.types';\r\nimport { environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RoleType, User } from './user';\r\n\r\nexport class UserService {\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\treturn HttpService.get$('/api/user/me').pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\t// console.log('UserService.me$.error', error);\r\n\t\t\t\tif (error.status === 404 || error.statusCode === 404) {\r\n\t\t\t\t\treturn of(null);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow (error);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn HttpService.post$('/api/user/login', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\ttap((user) => this.setUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn HttpService.get$('/api/user/logout').pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\ttap((user) => this.setUser(null)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic guidedTour$(payload) {\r\n\t\treturn HttpService.post$('/api/user/guided-tour', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\ttap((user) => this.setUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic selfServiceTour$(payload) {\r\n\t\treturn HttpService.post$('/api/user/self-service-tour', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\ttap((user) => this.setUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic selfServiceSupportRequest$(user, meetingId, link) {\r\n\t\tconst payload = { user, meetingId, link };\r\n\t\treturn HttpService.post$('/api/user/self-service-support-request', payload).pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tif (!environment.flags.production) {\r\n\t\t\t\t\tfetch(environment.template.email.supportRequest)\r\n\t\t\t\t\t\t.then(response => response.text())\r\n\t\t\t\t\t\t.then(html => {\r\n\t\t\t\t\t\t\thtml = html.replace('{{username}}', MeetingUrl.getName(user));\r\n\t\t\t\t\t\t\thtml = html.replace('{{href}}', link);\r\n\t\t\t\t\t\t\tconst parser = new DOMParser();\r\n\t\t\t\t\t\t\tconst newDocument = parser.parseFromString(html, 'text/html');\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t// const newWindow = window.open(window.location.origin + environment.template.email.supportRequest, '_blank');\r\n\t\t\t\t\t\t\t\tconst newWindow = window.open();\r\n\t\t\t\t\t\t\t\tnewWindow.document.head.innerHTML = newDocument.querySelector('head').innerHTML;\r\n\t\t\t\t\t\t\t\tnewWindow.document.body.innerHTML = newDocument.querySelector('body').innerHTML;\r\n\t\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic resolve$(payload, status) {\r\n\t\tif (status === 'login') {\r\n\t\t\treturn this.login$(payload);\r\n\t\t}\r\n\t\tif (status === 'guided-tour') {\r\n\t\t\treturn this.guidedTour$(payload);\r\n\t\t}\r\n\t\tif (status === 'self-service-tour') {\r\n\t\t\treturn this.selfServiceTour$(payload);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic log$(payload) {\r\n\t\treturn HttpService.post$('/api/user/log', payload);\r\n\t}\r\n\r\n\tstatic temporaryUser$(roleType = RoleType.Embed) {\r\n\t\treturn of({\r\n\t\t\tid: this.uuid(),\r\n\t\t\ttype: roleType,\r\n\t\t\tusername: roleType,\r\n\t\t\t// firstName: 'Jhon',\r\n\t\t\t// lastName: 'Appleseed',\r\n\t\t}).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\t// console.log('UserService.temporaryUser$', user);\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic overrideUser$(roleType = RoleType.Embed) {\r\n\t\treturn this.me$().pipe(\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tuser.type = roleType;\r\n\t\t\t\t\tuser.username = roleType;\r\n\t\t\t\t\treturn this.user$;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.temporaryUser$(roleType);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic uuid() {\r\n\t\treturn new Date().getTime();\r\n\t\t// return parseInt(process.hrtime.bigint().toString());\r\n\t}\r\n\r\n\t/*\r\n\tstatic retrieve$(payload) {\r\n\t\treturn HttpService.post$('/api/user/retrievepassword', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn HttpService.post$('/api/user/register', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update(payload) {\r\n\t\treturn HttpService.post$('/api/user/updateprofile', payload).pipe(\r\n\t\t\tmap((user) => this.mapUser(user)),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\tstatic mapUser(user) {\r\n\t\treturn new User(user);\r\n\t}\r\n\r\n\tstatic getMode(role) {\r\n\t\tlet mode;\r\n\t\tswitch (role) {\r\n\t\t\tcase RoleType.Attendee:\r\n\t\t\tcase RoleType.Streamer:\r\n\t\t\tcase RoleType.Viewer:\r\n\t\t\tcase RoleType.Publisher:\r\n\t\t\t\tmode = UIMode.VirtualTour;\r\n\t\t\t\tbreak;\r\n\t\t\tcase RoleType.SelfService:\r\n\t\t\t\tmode = UIMode.SelfServiceTour;\r\n\t\t\t\tbreak;\r\n\t\t\tcase RoleType.SmartDevice:\r\n\t\t\t\tmode = UIMode.LiveMeeting;\r\n\t\t\t\tbreak;\r\n\t\t\tcase RoleType.Embed:\r\n\t\t\t\tmode = UIMode.Embed;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tmode = UIMode.None;\r\n\t\t}\r\n\t\t// console.log('UserService.getMode', role, mode);\r\n\t\treturn mode;\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$ = new BehaviorSubject(null);\r\n","import { forkJoin, fromEvent, of } from 'rxjs';\r\nimport { catchError, filter, first, map, shareReplay, switchMap, tap } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport StateService from '../state/state.service';\r\n\r\nlet UID = 0;\r\n\r\nexport class WebhookEvent {\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n\r\n\ttoJson() {\r\n\t\treturn JSON.stringify(this);\r\n\t}\r\n\r\n\tstatic newEvent(action, data, extra) {\r\n\t\tconsole.log('WebhookEvent.newEvent', action, data, extra);\r\n\t\tconst event = new WebhookEvent();\r\n\t\tconst timestamp = new Date().getTime();\r\n\t\tevent.timestamp = timestamp;\r\n\t\tevent.id = `${timestamp}-${++UID}`;\r\n\t\tevent.action = action;\r\n\t\tevent.data = data;\r\n\t\tif (extra) {\r\n\t\t\tevent.extra = typeof extra === 'string' ? JSON.parse(extra) : extra;\r\n\t\t}\r\n\t\tif (StateService.state.link) {\r\n\t\t\t// ( meetingId, userSessionId, userRole, fullName, itemId, skuId, action:InfoPoint  )\r\n\t\t\tevent.meetingId = StateService.state.link;\r\n\t\t\tevent.userSessionId = StateService.state.uid;\r\n\t\t\tevent.userRole = StateService.state.role;\r\n\t\t\tevent.fullName = StateService.state.name;\r\n\t\t}\r\n\t\treturn event;\r\n\t}\r\n\r\n\tstatic parseEvent(event) {\r\n\t\tif (event && 'data' in event) {\r\n\t\t\tconst message = typeof event.data === 'string' ? JSON.parse(event.data) : event.data;\r\n\t\t\tif ('action' in message) {\r\n\t\t\t\treturn new WebhookEvent(message);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\nexport class WebhookService {\r\n\r\n\tstatic event$_ = fromEvent(window, 'message').pipe(\r\n\t\tmap(event => {\r\n\t\t\tconst parsedEvent = WebhookEvent.parseEvent(event);\r\n\t\t\treturn parsedEvent;\r\n\t\t}),\r\n\t\tfilter(x => x !== null),\r\n\t\tshareReplay(1),\r\n\t);\r\n\r\n\tstatic internal$_(event) {\r\n\t\treturn of(event).pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconsole.log('WebhookService.internal$_.postMessage', event);\r\n\t\t\t\tif (window.parent) {\r\n\t\t\t\t\twindow.parent.postMessage(event.action, event.toJson());\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\treturn this.event$_.pipe(\r\n\t\t\t\t\tfilter(event => event.id === event.id),\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\tmap(response => {\r\n\t\t\t\tconsole.log('WebhookService.internal$_.handleResponse_', event, response);\r\n\t\t\t\treturn this.handleResponse_(event, response);\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn this.handleError_(event, error);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic send$_(uri, event) {\r\n\t\treturn HttpService.post$(uri, event).pipe(\r\n\t\t\tmap(response => {\r\n\t\t\t\treturn this.handleResponse_(event, response);\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn this.handleError_(event, error);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic send$(action, payload, extra) {\r\n\t\tconsole.log('WebhookService.send$', action, payload, extra);\r\n\t\tif (this.enabled) {\r\n\t\t\tconst event = WebhookEvent.newEvent(action, payload, extra);\r\n\t\t\tconst uris = environment.webhook.uris;\r\n\t\t\tconst observables = uris.map(x => x === 'internal' ? this.internal$_(event) : this.send$_(x, event));\r\n\t\t\treturn forkJoin(observables);\r\n\t\t\t/*\r\n\t\t\treturn combineLatest(observables).pipe(\r\n\t\t\t\tmap(results => {\r\n\t\t\t\t\tconst result = results.find((x, i) => uris[i] !== 'internal');\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t\treturn merge(observables);\r\n\t\t\t*/\r\n\t\t} else {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic handleResponse_(event, remoteResponse) {\r\n\t\tconsole.log('WebhookService.handleResponse_', remoteResponse);\r\n\t\tconst response = Object.assign({}, event);\r\n\t\tresponse.remoteStatus = 1;\r\n\t\tresponse.remoteResponse = remoteResponse;\r\n\t\treturn response;\r\n\t}\r\n\r\n\tstatic handleError_(event, error) {\r\n\t\tconst response = Object.assign({}, event);\r\n\t\tresponse.remoteStatus = 0;\r\n\t\tresponse.remoteError = error;\r\n\t\treturn of(response);\r\n\t}\r\n\r\n\tstatic get enabled() {\r\n\t\tconst webhook = environment.webhook;\r\n\t\tconst enabled = webhook && webhook.uris && webhook.uris.length > 0;\r\n\t\tif (enabled) {\r\n\t\t\twebhook.methods = webhook.methods || {};\r\n\t\t\twebhook.methods.nav = webhook.methods.nav || [];\r\n\t\t}\r\n\t\treturn enabled;\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\n// import { UserService } from './user/user.service';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { CHUNK_COPYRIGHT, CHUNK_CREDITS, CHUNK_LANGUAGE } from '../agora/agora.component.chunks';\r\nimport { STATIC, environment } from '../environment';\r\nimport { fieldsToFormGroup, patchFields } from '../forms/controls.component';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RoutePipe } from '../router/route.pipe';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport { RouterService } from '../router/router.service';\r\nimport { UserService } from '../user/user.service';\r\nimport { WebhookService } from '../webhook/webhook.service';\r\n\r\nexport default class AccessComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log('AccessComponent.onInit');\r\n\t\tthis.state = {\r\n\t\t\tstatus: 'access',\r\n\t\t};\r\n\r\n\t\twindow.onSSOPopupClose = (status) => {\r\n\t\t\tif (status === 'success') {\r\n\t\t\t\talert('Login Successful');\r\n\t\t\t\tUserService.me$().pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe((user) => {\r\n\t\t\t\t\t// console.log('AccessComponent.onInit.onSSOPopupClose', user);\r\n\t\t\t\t\tconst routeUrl = RoutePipe.transform(':lang.selfServiceTour');\r\n\t\t\t\t\tconst pathId = environment.pathMapper && environment.pathMapper.ssoLogin ? environment.pathMapper.ssoLogin(user) : null;\r\n\t\t\t\t\tif (pathId) {\r\n\t\t\t\t\t\tRouterService.setRouterLink(routeUrl, MeetingUrl.validateParams({ pathId }));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tRouterService.setRouterLink(routeUrl);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\talert('Login Failed');\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tonSelfServiceTourRequest() {\r\n\t\tthis.initRequestForm();\r\n\t\tthis.state.status = 'self-service-tour';\r\n\t\tthis.pushChanges();\r\n\t\tif (STATIC && window.navigator.userAgent.indexOf('OculusBrowser') !== -1) {\r\n\t\t\tthis.test();\r\n\t\t\tthis.onSubmit();\r\n\t\t}\r\n\t}\r\n\r\n\tonGuidedTourRequest() {\r\n\t\tthis.initRequestForm();\r\n\t\tthis.state.status = 'guided-tour';\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSSOLogin(event) {\r\n\t\tconst loginUrl = `${location.protocol}//${location.host}/sso/login`;\r\n\t\twindow.open(loginUrl, 'BHere | SSO Login', 'left=20,top=20,width=600,height=600,toolbar=1,resizable=0');\r\n\t\tevent.preventDefault();\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonSSORegister(event) {\r\n\t\tconst loginUrl = `${location.protocol}//${location.host}/sso/register`;\r\n\t\twindow.open(loginUrl, 'BHere | SSO Register', 'left=20,top=20,width=600,height=600,toolbar=1,resizable=0');\r\n\t\tevent.preventDefault();\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonGuidedTourAccess() {\r\n\t\tUserService.logout$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(() => {\r\n\t\t\tRouterService.setRouterLink(RoutePipe.transform(':lang.guidedTour'));\r\n\t\t});\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.initLoginForm();\r\n\t\tthis.state.status = 'login';\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tinitRequestForm() {\r\n\t\tif (this.formSubscription) {\r\n\t\t\tthis.formSubscription.unsubscribe();\r\n\t\t}\r\n\r\n\t\tconst data = this.data = environment.data || {\r\n\t\t\troles: [\r\n\t\t\t\t{ id: 1, name: 'Show room' },\r\n\t\t\t\t{ id: 2, name: 'Architetto' },\r\n\t\t\t\t{ id: 3, name: 'Interior designer' },\r\n\t\t\t\t{ id: 4, name: 'Privato' },\r\n\t\t\t\t{ id: 5, name: 'Altro' },\r\n\t\t\t],\r\n\t\t};\r\n\r\n\t\tconst fields = this.fields = environment.fields || [\r\n\t\t\t{ type: 'text', name: 'firstName', label: 'access_first_name', required: true, test: 'Jhon' },\r\n\t\t\t{ type: 'text', name: 'lastName', label: 'access_last_name', required: true, test: 'Appleseed' },\r\n\t\t\t{ type: 'email', name: 'email', label: 'access_email', required: true, test: 'jhonappleseed@gmail.com' },\r\n\t\t\t{ type: 'custom-select', name: 'role', label: 'access_role', required: true, options: data.roles, test: data.roles[0].id },\r\n\t\t\t{ type: 'checkbox', name: 'privacy', label: 'access_privacy_disclaimer', required: true, test: true },\r\n\t\t];\r\n\r\n\t\tfields.push(\r\n\t\t\t{ type: 'hidden', name: 'checkField', value: '', test: '' },\r\n\t\t);\r\n\r\n\t\tif (environment.antiforgery) {\r\n\t\t\tfields.push(\r\n\t\t\t\t{ type: 'none', name: 'checkRequest', value: environment.antiforgery, test: environment.antiforgery },\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst form = this.form = fieldsToFormGroup(fields);\r\n\r\n\t\tconst controls = this.controls = form.controls;\r\n\r\n\t\tthis.formSubscription = form.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.error = null;\r\n\t}\r\n\r\n\tinitLoginForm() {\r\n\t\tif (this.formSubscription) {\r\n\t\t\tthis.formSubscription.unsubscribe();\r\n\t\t}\r\n\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tusername: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery || '',\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = this.controls = form.controls;\r\n\r\n\t\tthis.formSubscription = form.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.error = null;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tif (this.state.status === 'login') {\r\n\t\t\tthis.form.patch({\r\n\t\t\t\tusername: 'publisher',\r\n\t\t\t\tpassword: 'publisher',\r\n\t\t\t\tcheckRequest: window.antiforgery || '',\r\n\t\t\t\tcheckField: '',\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tpatchFields(this.fields, this.form);\r\n\t\t}\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tthis.state.status = 'access';\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst payload = this.form.value;\r\n\t\t\tconst webhookPayload = { ...payload };\r\n\t\t\tconst controls = this.controls;\r\n\t\t\tObject.keys(webhookPayload).forEach(key => {\r\n\t\t\t\tif (controls[key].options) {\r\n\t\t\t\t\tconst options = controls[key].options;\r\n\t\t\t\t\twebhookPayload[key] = options.find(option => option.id === webhookPayload[key]).name;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst status = this.state.status;\r\n\t\t\tUserService.resolve$(payload, status).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(user => {\r\n\t\t\t\tconsole.log('!!!');\r\n\t\t\t\tconsole.log('AccessComponent.onSubmit', user);\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase 'guided-tour':\r\n\t\t\t\t\t\tthis.onHandleHook('GuidedTour', webhookPayload).pipe(\r\n\t\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t\t).subscribe(response => {\r\n\t\t\t\t\t\t\tthis.state.status = 'guided-tour-success';\r\n\t\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'self-service-tour':\r\n\t\t\t\t\t\tthis.onHandleHook('SelfServiceTour', webhookPayload).pipe(\r\n\t\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t\t).subscribe(response => {\r\n\t\t\t\t\t\t\tconst routeUrl = RoutePipe.transform(':lang.selfServiceTour');\r\n\t\t\t\t\t\t\tconst pathId = environment.pathMapper && environment.pathMapper.selfService ? environment.pathMapper.selfService(user) : null;\r\n\t\t\t\t\t\t\tif (pathId) {\r\n\t\t\t\t\t\t\t\tRouterService.setRouterLink(routeUrl, MeetingUrl.validateParams({ pathId }));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tRouterService.setRouterLink(routeUrl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'login':\r\n\t\t\t\t\t\tRouterService.setRouterLink(RoutePipe.transform(':lang.guidedTour'));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('AccessComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tonHandleHook(action, values) {\r\n\t\tconst payload = values;\r\n\t\tconst extra = null;\r\n\t\treturn WebhookService.send$(action, payload, extra);\r\n\t}\r\n\r\n}\r\n\r\nAccessComponent.meta = {\r\n\tselector: '[access-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /*html*/ `\r\n\t\t<div class=\"page page--access\">\r\n\t\t\t<!-- background -->\r\n\t\t\t<div class=\"background\" [class]=\"{ 'background--image': ('background.image' | env), 'background--video': ('background.video' | env) }\" *if=\"state.status != 'connected'\">\r\n\t\t\t\t<img [src]=\"'background.image' | env | asset\" *if=\"'background.image' | env\" />\r\n\t\t\t\t<video [src]=\"'background.video' | env | asset\" *if=\"'background.video' | env\" oncanplay=\"this.muted = true; this.classList.add('ready');\" playsinline autoplay muted loop></video>\r\n\t\t\t</div>\r\n\t\t\t<!-- access -->\r\n\t\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'access'\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"'access_title' | label\"></div>\r\n\t\t\t\t\t\t<div *if=\"'selfService' | flag\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--next\" (click)=\"onSelfServiceTourRequest($event)\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_tour' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *if=\"'guidedTourRequest' | flag\">\r\n\t\t\t\t\t\t\t<div class=\"info\" [innerHTML]=\"'access_or' | label\"></div>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--next\" (click)=\"onGuidedTourRequest($event)\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_guided_tour' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *if=\"'guidedTourAccess' | flag\">\r\n\t\t\t\t\t\t\t<div class=\"info\" [innerHTML]=\"'access_has_meeting_id' | label\"></div>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--next\" (click)=\"onGuidedTourAccess($event)\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_guided_tour_cta' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *if=\"'ssoLogin' | flag\">\r\n\t\t\t\t\t\t\t<div class=\"info\" [innerHTML]=\"'access_sso_login_info' | label\"></div>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--next\" (click)=\"onSSOLogin($event)\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_sso_login_cta' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *if=\"'ssoRegister' | flag\">\r\n\t\t\t\t\t\t\t<div class=\"info\" [innerHTML]=\"'access_sso_register_info' | label\"></div>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--next\" (click)=\"onSSORegister($event)\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_sso_register_cta' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- guided-tour -->\r\n\t\t\t<div class=\"ui ui--info\" *if=\"state.status == 'self-service-tour' || state.status == 'guided-tour'\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t\t\t\t<div class=\"title\" *if=\"state.status == 'self-service-tour'\" [innerHTML]=\"'access_fill_fields' | label\"></div>\r\n\t\t\t\t\t\t\t<div class=\"title\" *if=\"state.status == 'guided-tour'\" [innerHTML]=\"'access_guided_tour_request' | label\"></div>\r\n\t\t\t\t\t\t\t<!-- controls -->\r\n\t\t\t\t\t\t\t<div controls [formGroup]=\"form\" [fields]=\"fields\"></div>\r\n\t\t\t\t\t\t\t<div class=\"group--error\" *if=\"error\">\r\n\t\t\t\t\t\t\t\t<span class=\"status-code\" [innerHTML]=\"error.statusCode\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"status-message\" [innerHTML]=\"error.statusMessage\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"friendly-message\" [innerHTML]=\"error.friendlyMessage\"></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <div class=\"info\" *if=\"isValid()\" [innerHTML]=\"'access_take_part' | label\"></div> -->\r\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t\t\t\t<span *if=\"!form.submitted\" [innerHTML]=\"'access_send' | label\"></span>\r\n\t\t\t\t\t\t\t\t<span *if=\"form.submitted\" [innerHTML]=\"'access_sent' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onBack($event)\">\r\n\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#arrow-prev\"></use></svg>\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_back' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<test-component [form]=\"form\" (test)=\"test($event)\" (reset)=\"reset($event)\"></test-component>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- guided-tour success -->\r\n\t\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'guided-tour-success'\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"'access_request_sent' | label\"></div>\r\n\t\t\t\t\t\t<div class=\"info\" [innerHTML]=\"'access_info_request' | label\"></div>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onBack($event)\">\r\n\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#arrow-prev\"></use></svg>\r\n\t\t\t\t\t\t\t<span [innerHTML]=\"'access_back' | label\"></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- login -->\r\n\t\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'login'\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"'access_login' | label\"></div>\r\n\t\t\t\t\t\t\t<input name=\"checkField\" [formControl]=\"controls.checkField\" value=\"\" type=\"text\" style=\"display:none !important;\" />\r\n\t\t\t\t\t\t\t<div control-text [control]=\"controls.username\" [label]=\"'access_username' | label\"></div>\r\n\t\t\t\t\t\t\t<div control-password [control]=\"controls.password\" [label]=\"'access_password' | label\"></div>\r\n\t\t\t\t\t\t\t<div class=\"group--error\" *if=\"error\">\r\n\t\t\t\t\t\t\t\t<span class=\"status-code\" [innerHTML]=\"error.statusCode\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"status-message\" [innerHTML]=\"error.statusMessage\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"friendly-message\" [innerHTML]=\"error.friendlyMessage\"></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"info\" *if=\"isValid()\" [innerHTML]=\"'access_cta' | label\"></div>\r\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_cta' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onBack($event)\">\r\n\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#arrow-prev\"></use></svg>\r\n\t\t\t\t\t\t\t\t<span [innerHTML]=\"'access_back' | label\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<test-component [form]=\"form\" (test)=\"test($event)\" (reset)=\"reset($event)\"></test-component>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<header>\r\n\t\t\t\t<!-- logo -->\r\n\t\t\t\t<div class=\"btn--logo\" (click)=\"onBack($event)\">\r\n\t\t\t\t\t<img [src]=\"'logo' | env\" *if=\"'logo' | env\" />\r\n\t\t\t\t\t<svg viewBox=\"0 0 270 98\" *if=\"!('logo' | env)\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t${CHUNK_LANGUAGE}\r\n\t\t\t</header>\r\n\t\t\t<footer>\r\n\t\t\t\t<span class=\"group--colophon\" *if=\"state.status != 'connected'\">\r\n\t\t\t\t\t${CHUNK_CREDITS}\r\n\t\t\t\t\t${CHUNK_COPYRIGHT}\r\n\t\t\t\t</span>\r\n\t\t\t\t<!-- login -->\r\n\t\t\t\t<button type=\"button\" class=\"btn--absolute\" (click)=\"onLogin($event)\" *if=\"state.status == 'access'\">\r\n\t\t\t\t\t<span [innerHTML]=\"'access_cta' | label\"></span> <svg class=\"lock\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#lock\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\n\r\nexport class EmojiService {\r\n\r\n\tstatic emoji$() {\r\n\t\tif (EmojiService.items_ != null) {\r\n\t\t\treturn of(EmojiService.items_);\r\n\t\t}\r\n\t\treturn HttpService.get$(`${environment.assets}api/emoji/emoji.json`).pipe(\r\n\t\t\tmap(items => {\r\n\t\t\t\t// items = items.slice(0, Math.min(80, items.length));\r\n\t\t\t\tEmojiService.items_ = items;\r\n\t\t\t\treturn items;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { EmojiService } from '../emoji/emoji.service';\r\n\r\nexport default class AgoraChatEmojiComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.items = [];\r\n\t\tEmojiService.emoji$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(items => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.items = items;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}, 1);\r\n\t\t});\r\n\t}\r\n\r\n\tonSelect(item) {\r\n\t\tthis.emoji.next(item);\r\n\t}\r\n\r\n\tonClose(_) {\r\n\t\tthis.close.next();\r\n\t}\r\n\r\n}\r\n\r\nAgoraChatEmojiComponent.meta = {\r\n\tselector: '[agora-chat-emoji]',\r\n\toutputs: ['emoji', 'close'],\r\n};\r\n","import { ReplaySubject } from 'rxjs';\r\n\r\nexport class MessageService {\r\n\tstatic message$ = new ReplaySubject(1);\r\n\tstatic message(message) {\r\n\t\tthis.message$.next(message);\r\n\t}\r\n\r\n\tstatic in$ = new ReplaySubject(1);\r\n\tstatic in(message) {\r\n\t\t// console.log('MessageService.in', message);\r\n\t\tthis.in$.next(message);\r\n\t}\r\n\tstatic send = MessageService.in;\r\n\tstatic sendBack(message) {\r\n\t\tmessage = Object.assign({}, message, { remoteId: message.clientId });\r\n\t\t// console.log('MessageService.sendBack', message);\r\n\t\tthis.in$.next(message);\r\n\t}\r\n\r\n\tstatic out$ = new ReplaySubject(1);\r\n\tstatic out(message) {\r\n\t\tthis.out$.next(message);\r\n\t}\r\n}\r\n","/**\n * AgoraWebSDK_N-v4.18.2-0-g8d83af1d-dirty Copyright AgoraInc.\n */\n\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).AgoraRTC=t()}(this,(function(){\"use strict\";function e(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(\"default\"!==i&&!(i in e)){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(e)}var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},i=function(e){try{return!!e()}catch(e){return!0}},n=!i((function(){var e=function(){}.bind();return\"function\"!=typeof e||e.hasOwnProperty(\"prototype\")})),r=n,o=Function.prototype,s=o.bind,a=o.call,c=r&&s.bind(a,a),d=r?function(e){return e&&c(e)}:function(e){return e&&function(){return a.apply(e,arguments)}},u=d({}.isPrototypeOf),l=function(e){return e&&e.Math==Math&&e},h=l(\"object\"==typeof globalThis&&globalThis)||l(\"object\"==typeof window&&window)||l(\"object\"==typeof self&&self)||l(\"object\"==typeof t&&t)||function(){return this}()||Function(\"return this\")(),p=n,_=Function.prototype,E=_.apply,m=_.call,f=\"object\"==typeof Reflect&&Reflect.apply||(p?m.bind(E):function(){return m.apply(E,arguments)}),S=function(e){return\"function\"==typeof e},T={},g=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),R=n,I=Function.prototype.call,C=R?I.bind(I):function(){return I.apply(I,arguments)},v={},y={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,O=A&&!y.call({1:2},1);v.f=O?function(e){var t=A(this,e);return!!t&&t.enumerable}:y;var N,b,w=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},D=d,P=D({}.toString),L=D(\"\".slice),k=function(e){return L(P(e),8,-1)},M=d,U=i,x=k,V=h.Object,j=M(\"\".split),F=U((function(){return!V(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==x(e)?j(e,\"\"):V(e)}:V,B=h.TypeError,G=function(e){if(null==e)throw B(\"Can't call method on \"+e);return e},W=F,H=G,K=function(e){return W(H(e))},Y=S,q=function(e){return\"object\"==typeof e?null!==e:Y(e)},J={},X=J,z=h,Q=S,Z=function(e){return Q(e)?e:void 0},$=function(e,t){return arguments.length<2?Z(X[e])||Z(z[e]):X[e]&&X[e][t]||z[e]&&z[e][t]},ee=$(\"navigator\",\"userAgent\")||\"\",te=h,ie=ee,ne=te.process,re=te.Deno,oe=ne&&ne.versions||re&&re.version,se=oe&&oe.v8;se&&(b=(N=se.split(\".\"))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!b&&ie&&(!(N=ie.match(/Edge\\/(\\d+)/))||N[1]>=74)&&(N=ie.match(/Chrome\\/(\\d+)/))&&(b=+N[1]);var ae=b,ce=ae,de=i,ue=!!Object.getOwnPropertySymbols&&!de((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ce&&ce<41})),le=ue&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,he=$,pe=S,_e=u,Ee=le,me=h.Object,fe=Ee?function(e){return\"symbol\"==typeof e}:function(e){var t=he(\"Symbol\");return pe(t)&&_e(t.prototype,me(e))},Se=h.String,Te=function(e){try{return Se(e)}catch(e){return\"Object\"}},ge=S,Re=Te,Ie=h.TypeError,Ce=function(e){if(ge(e))return e;throw Ie(Re(e)+\" is not a function\")},ve=Ce,ye=function(e,t){var i=e[t];return null==i?void 0:ve(i)},Ae=C,Oe=S,Ne=q,be=h.TypeError,we={exports:{}},De=h,Pe=Object.defineProperty,Le=function(e,t){try{Pe(De,e,{value:t,configurable:!0,writable:!0})}catch(i){De[e]=t}return t},ke=\"__core-js_shared__\",Me=h[ke]||Le(ke,{}),Ue=Me;(we.exports=function(e,t){return Ue[e]||(Ue[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.20.3\",mode:\"pure\",copyright:\"© 2014-2022 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var xe=G,Ve=h.Object,je=function(e){return Ve(xe(e))},Fe=je,Be=d({}.hasOwnProperty),Ge=Object.hasOwn||function(e,t){return Be(Fe(e),t)},We=d,He=0,Ke=Math.random(),Ye=We(1..toString),qe=function(e){return\"Symbol(\"+(void 0===e?\"\":e)+\")_\"+Ye(++He+Ke,36)},Je=h,Xe=we.exports,ze=Ge,Qe=qe,Ze=ue,$e=le,et=Xe(\"wks\"),tt=Je.Symbol,it=tt&&tt.for,nt=$e?tt:tt&&tt.withoutSetter||Qe,rt=function(e){if(!ze(et,e)||!Ze&&\"string\"!=typeof et[e]){var t=\"Symbol.\"+e;Ze&&ze(tt,e)?et[e]=tt[e]:et[e]=$e&&it?it(t):nt(t)}return et[e]},ot=C,st=q,at=fe,ct=ye,dt=function(e,t){var i,n;if(\"string\"===t&&Oe(i=e.toString)&&!Ne(n=Ae(i,e)))return n;if(Oe(i=e.valueOf)&&!Ne(n=Ae(i,e)))return n;if(\"string\"!==t&&Oe(i=e.toString)&&!Ne(n=Ae(i,e)))return n;throw be(\"Can't convert object to primitive value\")},ut=rt,lt=h.TypeError,ht=ut(\"toPrimitive\"),pt=function(e,t){if(!st(e)||at(e))return e;var i,n=ct(e,ht);if(n){if(void 0===t&&(t=\"default\"),i=ot(n,e,t),!st(i)||at(i))return i;throw lt(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),dt(e,t)},_t=fe,Et=function(e){var t=pt(e,\"string\");return _t(t)?t:t+\"\"},mt=q,ft=h.document,St=mt(ft)&&mt(ft.createElement),Tt=function(e){return St?ft.createElement(e):{}},gt=Tt,Rt=!g&&!i((function(){return 7!=Object.defineProperty(gt(\"div\"),\"a\",{get:function(){return 7}}).a})),It=g,Ct=C,vt=v,yt=w,At=K,Ot=Et,Nt=Ge,bt=Rt,wt=Object.getOwnPropertyDescriptor;T.f=It?wt:function(e,t){if(e=At(e),t=Ot(t),bt)try{return wt(e,t)}catch(e){}if(Nt(e,t))return yt(!Ct(vt.f,e,t),e[t])};var Dt=i,Pt=S,Lt=/#|\\.prototype\\./,kt=function(e,t){var i=Ut[Mt(e)];return i==Vt||i!=xt&&(Pt(t)?Dt(t):!!t)},Mt=kt.normalize=function(e){return String(e).replace(Lt,\".\").toLowerCase()},Ut=kt.data={},xt=kt.NATIVE=\"N\",Vt=kt.POLYFILL=\"P\",jt=kt,Ft=Ce,Bt=n,Gt=d(d.bind),Wt=function(e,t){return Ft(e),void 0===t?e:Bt?Gt(e,t):function(){return e.apply(t,arguments)}},Ht={},Kt=g&&i((function(){return 42!=Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype})),Yt=h,qt=q,Jt=Yt.String,Xt=Yt.TypeError,zt=function(e){if(qt(e))return e;throw Xt(Jt(e)+\" is not an object\")},Qt=g,Zt=Rt,$t=Kt,ei=zt,ti=Et,ii=h.TypeError,ni=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,oi=\"enumerable\",si=\"configurable\",ai=\"writable\";Ht.f=Qt?$t?function(e,t,i){if(ei(e),t=ti(t),ei(i),\"function\"==typeof e&&\"prototype\"===t&&\"value\"in i&&ai in i&&!i.writable){var n=ri(e,t);n&&n.writable&&(e[t]=i.value,i={configurable:si in i?i.configurable:n.configurable,enumerable:oi in i?i.enumerable:n.enumerable,writable:!1})}return ni(e,t,i)}:ni:function(e,t,i){if(ei(e),t=ti(t),ei(i),Zt)try{return ni(e,t,i)}catch(e){}if(\"get\"in i||\"set\"in i)throw ii(\"Accessors not supported\");return\"value\"in i&&(e[t]=i.value),e};var ci=Ht,di=w,ui=g?function(e,t,i){return ci.f(e,t,di(1,i))}:function(e,t,i){return e[t]=i,e},li=h,hi=f,pi=d,_i=S,Ei=T.f,mi=jt,fi=J,Si=Wt,Ti=ui,gi=Ge,Ri=function(e){var t=function(i,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,n)}return new e(i,n,r)}return hi(e,this,arguments)};return t.prototype=e.prototype,t},Ii=function(e,t){var i,n,r,o,s,a,c,d,u=e.target,l=e.global,h=e.stat,p=e.proto,_=l?li:h?li[u]:(li[u]||{}).prototype,E=l?fi:fi[u]||Ti(fi,u,{})[u],m=E.prototype;for(r in t)i=!mi(l?r:u+(h?\".\":\"#\")+r,e.forced)&&_&&gi(_,r),s=E[r],i&&(a=e.noTargetGet?(d=Ei(_,r))&&d.value:_[r]),o=i&&a?a:t[r],i&&typeof s==typeof o||(c=e.bind&&i?Si(o,li):e.wrap&&i?Ri(o):p&&_i(o)?pi(o):o,(e.sham||o&&o.sham||s&&s.sham)&&Ti(c,\"sham\",!0),Ti(E,r,c),p&&(gi(fi,n=u+\"Prototype\")||Ti(fi,n,{}),Ti(fi[n],r,o),e.real&&m&&!m[r]&&Ti(m,r,o)))},Ci=Math.ceil,vi=Math.floor,yi=function(e){var t=+e;return t!=t||0===t?0:(t>0?vi:Ci)(t)},Ai=yi,Oi=Math.min,Ni=function(e){return e>0?Oi(Ai(e),9007199254740991):0},bi=function(e){return Ni(e.length)},wi=Ce,Di=je,Pi=F,Li=bi,ki=h.TypeError,Mi=function(e){return function(t,i,n,r){wi(i);var o=Di(t),s=Pi(o),a=Li(o),c=e?a-1:0,d=e?-1:1;if(n<2)for(;;){if(c in s){r=s[c],c+=d;break}if(c+=d,e?c<0:a<=c)throw ki(\"Reduce of empty array with no initial value\")}for(;e?c>=0:a>c;c+=d)c in s&&(r=i(r,s[c],c,o));return r}},Ui={left:Mi(!1),right:Mi(!0)},xi=i,Vi=function(e,t){var i=[][e];return!!i&&xi((function(){i.call(null,t||function(){throw 1},1)}))},ji=\"process\"==k(h.process),Fi=Ui.left,Bi=ae,Gi=ji;Ii({target:\"Array\",proto:!0,forced:!Vi(\"reduce\")||!Gi&&Bi>79&&Bi<83},{reduce:function(e){var t=arguments.length;return Fi(this,e,t,t>1?arguments[1]:void 0)}});var Wi=J,Hi=function(e){return Wi[e+\"Prototype\"]},Ki=Hi(\"Array\").reduce,Yi=u,qi=Ki,Ji=Array.prototype,Xi=function(e){var t=e.reduce;return e===Ji||Yi(Ji,e)&&t===Ji.reduce?qi:t},zi=Xi;let Qi=!0,Zi=!0;function $i(e,t,i){const n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function en(e,t,i){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);const o=e=>{const t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),r.apply(this,[e,o])};const o=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(i))return o.apply(this,arguments);const n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,\"on\"+t,{get(){return this[\"_on\"+t]},set(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}function tn(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(Qi=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function nn(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(Zi=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function rn(){if(\"object\"==typeof window){if(Qi)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function on(e,t){Zi&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function sn(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser=\"Not a browser.\",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser=\"firefox\",t.version=$i(i.userAgent,/Firefox\\/(\\d+)\\./,1);else if(i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser=\"chrome\",t.version=$i(i.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!i.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser=\"Not a supported browser.\",t;t.browser=\"safari\",t.version=$i(i.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&\"currentDirection\"in e.RTCRtpTransceiver.prototype}return t}function an(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function cn(e){var t;return an(e)?zi(t=Object.keys(e)).call(t,(function(t,i){const n=an(e[i]),r=n?cn(e[i]):e[i],o=n&&!Object.keys(r).length;return void 0===r||o?t:Object.assign(t,{[i]:r})}),{}):e}function dn(e,t,i){const n=i?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(null===t)return r;const o=[];return e.forEach(e=>{\"track\"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(i=>{i.type===n&&i.trackId===t.id&&function e(t,i,n){i&&!n.has(i.id)&&(n.set(i.id,i),Object.keys(i).forEach(r=>{r.endsWith(\"Id\")?e(t,t.get(i[r]),n):r.endsWith(\"Ids\")&&i[r].forEach(i=>{e(t,t.get(i),n)})}))}(e,i,r)})}),r}var un=we.exports,ln=qe,hn=un(\"keys\"),pn=function(e){return hn[e]||(hn[e]=ln(e))},_n=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),En=h,mn=Ge,fn=S,Sn=je,Tn=_n,gn=pn(\"IE_PROTO\"),Rn=En.Object,In=Rn.prototype,Cn=Tn?Rn.getPrototypeOf:function(e){var t=Sn(e);if(mn(t,gn))return t[gn];var i=t.constructor;return fn(i)&&t instanceof i?i.prototype:t instanceof Rn?In:null},vn=h,yn=S,An=vn.String,On=vn.TypeError,Nn=d,bn=zt,wn=function(e){if(\"object\"==typeof e||yn(e))return e;throw On(\"Can't set \"+An(e)+\" as a prototype\")},Dn=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,i={};try{(e=Nn(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return bn(i),wn(n),t?e(i,n):i.__proto__=n,i}}():void 0),Pn={},Ln=yi,kn=Math.max,Mn=Math.min,Un=function(e,t){var i=Ln(e);return i<0?kn(i+t,0):Mn(i,t)},xn=K,Vn=Un,jn=bi,Fn=function(e){return function(t,i,n){var r,o=xn(t),s=jn(o),a=Vn(n,s);if(e&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===i)return e||a||0;return!e&&-1}},Bn={includes:Fn(!0),indexOf:Fn(!1)},Gn={},Wn=Ge,Hn=K,Kn=Bn.indexOf,Yn=Gn,qn=d([].push),Jn=function(e,t){var i,n=Hn(e),r=0,o=[];for(i in n)!Wn(Yn,i)&&Wn(n,i)&&qn(o,i);for(;t.length>r;)Wn(n,i=t[r++])&&(~Kn(o,i)||qn(o,i));return o},Xn=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],zn=Jn,Qn=Xn.concat(\"length\",\"prototype\");Pn.f=Object.getOwnPropertyNames||function(e){return zn(e,Qn)};var Zn={};Zn.f=Object.getOwnPropertySymbols;var $n=$,er=Pn,tr=Zn,ir=zt,nr=d([].concat),rr=$n(\"Reflect\",\"ownKeys\")||function(e){var t=er.f(ir(e)),i=tr.f;return i?nr(t,i(e)):t},or=Ge,sr=rr,ar=T,cr=Ht,dr={},ur=Jn,lr=Xn,hr=Object.keys||function(e){return ur(e,lr)},pr=g,_r=Kt,Er=Ht,mr=zt,fr=K,Sr=hr;dr.f=pr&&!_r?Object.defineProperties:function(e,t){mr(e);for(var i,n=fr(t),r=Sr(t),o=r.length,s=0;o>s;)Er.f(e,i=r[s++],n[i]);return e};var Tr,gr=$(\"document\",\"documentElement\"),Rr=zt,Ir=dr,Cr=Xn,vr=Gn,yr=gr,Ar=Tt,Or=pn(\"IE_PROTO\"),Nr=function(){},br=function(e){return\"<script>\"+e+\"</\"+\"script>\"},wr=function(e){e.write(br(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},Dr=function(){try{Tr=new ActiveXObject(\"htmlfile\")}catch(e){}var e,t;Dr=\"undefined\"!=typeof document?document.domain&&Tr?wr(Tr):((t=Ar(\"iframe\")).style.display=\"none\",yr.appendChild(t),t.src=String(\"javascript:\"),(e=t.contentWindow.document).open(),e.write(br(\"document.F=Object\")),e.close(),e.F):wr(Tr);for(var i=Cr.length;i--;)delete Dr.prototype[Cr[i]];return Dr()};vr[Or]=!0;var Pr=Object.create||function(e,t){var i;return null!==e?(Nr.prototype=Rr(e),i=new Nr,Nr.prototype=null,i[Or]=e):i=Dr(),void 0===t?i:Ir.f(i,t)},Lr=d(\"\".replace),kr=String(Error(\"zxcasd\").stack),Mr=/\\n\\s*at [^:]*:[^\\n]*/,Ur=Mr.test(kr),xr=q,Vr=ui,jr={},Fr=jr,Br=rt(\"iterator\"),Gr=Array.prototype,Wr={};Wr[rt(\"toStringTag\")]=\"z\";var Hr=\"[object z]\"===String(Wr),Kr=h,Yr=Hr,qr=S,Jr=k,Xr=rt(\"toStringTag\"),zr=Kr.Object,Qr=\"Arguments\"==Jr(function(){return arguments}()),Zr=Yr?Jr:function(e){var t,i,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=zr(e),Xr))?i:Qr?Jr(t):\"Object\"==(n=Jr(t))&&qr(t.callee)?\"Arguments\":n},$r=Zr,eo=ye,to=jr,io=rt(\"iterator\"),no=function(e){if(null!=e)return eo(e,io)||eo(e,\"@@iterator\")||to[$r(e)]},ro=C,oo=Ce,so=zt,ao=Te,co=no,uo=h.TypeError,lo=C,ho=zt,po=ye,_o=Wt,Eo=C,mo=zt,fo=Te,So=function(e){return void 0!==e&&(Fr.Array===e||Gr[Br]===e)},To=bi,go=u,Ro=function(e,t){var i=arguments.length<2?co(e):t;if(oo(i))return so(ro(i,e));throw uo(ao(e)+\" is not iterable\")},Io=no,Co=function(e,t,i){var n,r;ho(e);try{if(!(n=po(e,\"return\"))){if(\"throw\"===t)throw i;return i}n=lo(n,e)}catch(e){r=!0,n=e}if(\"throw\"===t)throw i;if(r)throw n;return ho(n),i},vo=h.TypeError,yo=function(e,t){this.stopped=e,this.result=t},Ao=yo.prototype,Oo=function(e,t,i){var n,r,o,s,a,c,d,u=i&&i.that,l=!(!i||!i.AS_ENTRIES),h=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),_=_o(t,u),E=function(e){return n&&Co(n,\"normal\",e),new yo(!0,e)},m=function(e){return l?(mo(e),p?_(e[0],e[1],E):_(e[0],e[1])):p?_(e,E):_(e)};if(h)n=e;else{if(!(r=Io(e)))throw vo(fo(e)+\" is not iterable\");if(So(r)){for(o=0,s=To(e);s>o;o++)if((a=m(e[o]))&&go(Ao,a))return a;return new yo(!1)}n=Ro(e,r)}for(c=n.next;!(d=Eo(c,n)).done;){try{a=m(d.value)}catch(e){Co(n,\"throw\",e)}if(\"object\"==typeof a&&a&&go(Ao,a))return a}return new yo(!1)},No=Zr,bo=h.String,wo=function(e){if(\"Symbol\"===No(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return bo(e)},Do=wo,Po=w,Lo=!i((function(){var e=Error(\"a\");return!(\"stack\"in e)||(Object.defineProperty(e,\"stack\",Po(1,7)),7!==e.stack)})),ko=Ii,Mo=h,Uo=u,xo=Cn,Vo=Dn,jo=function(e,t,i){for(var n=sr(t),r=cr.f,o=ar.f,s=0;s<n.length;s++){var a=n[s];or(e,a)||i&&or(i,a)||r(e,a,o(t,a))}},Fo=Pr,Bo=ui,Go=w,Wo=function(e,t){if(Ur&&\"string\"==typeof e)for(;t--;)e=Lr(e,Mr,\"\");return e},Ho=function(e,t){xr(t)&&\"cause\"in t&&Vr(e,\"cause\",t.cause)},Ko=Oo,Yo=function(e,t){return void 0===e?arguments.length<2?\"\":t:Do(e)},qo=Lo,Jo=rt(\"toStringTag\"),Xo=Mo.Error,zo=[].push,Qo=function(e,t){var i,n=arguments.length>2?arguments[2]:void 0,r=Uo(Zo,this);Vo?i=Vo(new Xo,r?xo(this):Zo):(i=r?this:Fo(Zo),Bo(i,Jo,\"Error\")),void 0!==t&&Bo(i,\"message\",Yo(t)),qo&&Bo(i,\"stack\",Wo(i.stack,1)),Ho(i,n);var o=[];return Ko(e,zo,{that:o}),Bo(i,\"errors\",o),i};Vo?Vo(Qo,Xo):jo(Qo,Xo,{name:!0});var Zo=Qo.prototype=Fo(Xo.prototype,{constructor:Go(1,Qo),message:Go(1,\"\"),name:Go(1,\"AggregateError\")});ko({global:!0},{AggregateError:Qo});var $o=S,es=Me,ts=d(Function.toString);$o(es.inspectSource)||(es.inspectSource=function(e){return ts(e)});var is,ns,rs,os=es.inspectSource,ss=S,as=os,cs=h.WeakMap,ds=ss(cs)&&/native code/.test(as(cs)),us=h,ls=d,hs=q,ps=ui,_s=Ge,Es=Me,ms=pn,fs=Gn,Ss=\"Object already initialized\",Ts=us.TypeError,gs=us.WeakMap;if(ds||Es.state){var Rs=Es.state||(Es.state=new gs),Is=ls(Rs.get),Cs=ls(Rs.has),vs=ls(Rs.set);is=function(e,t){if(Cs(Rs,e))throw new Ts(Ss);return t.facade=e,vs(Rs,e,t),t},ns=function(e){return Is(Rs,e)||{}},rs=function(e){return Cs(Rs,e)}}else{var ys=ms(\"state\");fs[ys]=!0,is=function(e,t){if(_s(e,ys))throw new Ts(Ss);return t.facade=e,ps(e,ys,t),t},ns=function(e){return _s(e,ys)?e[ys]:{}},rs=function(e){return _s(e,ys)}}var As,Os,Ns,bs={set:is,get:ns,has:rs,enforce:function(e){return rs(e)?ns(e):is(e,{})},getterFor:function(e){return function(t){var i;if(!hs(t)||(i=ns(t)).type!==e)throw Ts(\"Incompatible receiver, \"+e+\" required\");return i}}},ws=g,Ds=Ge,Ps=Function.prototype,Ls=ws&&Object.getOwnPropertyDescriptor,ks=Ds(Ps,\"name\"),Ms={EXISTS:ks,PROPER:ks&&\"something\"===function(){}.name,CONFIGURABLE:ks&&(!ws||ws&&Ls(Ps,\"name\").configurable)},Us=ui,xs=function(e,t,i,n){n&&n.enumerable?e[t]=i:Us(e,t,i)},Vs=i,js=S,Fs=Pr,Bs=Cn,Gs=xs,Ws=rt(\"iterator\"),Hs=!1;[].keys&&(\"next\"in(Ns=[].keys())?(Os=Bs(Bs(Ns)))!==Object.prototype&&(As=Os):Hs=!0);var Ks=null==As||Vs((function(){var e={};return As[Ws].call(e)!==e}));js((As=Ks?{}:Fs(As))[Ws])||Gs(As,Ws,(function(){return this}));var Ys={IteratorPrototype:As,BUGGY_SAFARI_ITERATORS:Hs},qs=Zr,Js=Hr?{}.toString:function(){return\"[object \"+qs(this)+\"]\"},Xs=Hr,zs=Ht.f,Qs=ui,Zs=Ge,$s=Js,ea=rt(\"toStringTag\"),ta=function(e,t,i,n){if(e){var r=i?e:e.prototype;Zs(r,ea)||zs(r,ea,{configurable:!0,value:t}),n&&!Xs&&Qs(r,\"toString\",$s)}},ia=Ys.IteratorPrototype,na=Pr,ra=w,oa=ta,sa=jr,aa=function(){return this},ca=Ii,da=C,ua=function(e,t,i,n){var r=t+\" Iterator\";return e.prototype=na(ia,{next:ra(+!n,i)}),oa(e,r,!1,!0),sa[r]=aa,e},la=Cn,ha=ta,pa=xs,_a=jr,Ea=Ms.PROPER,ma=Ys.BUGGY_SAFARI_ITERATORS,fa=rt(\"iterator\"),Sa=\"keys\",Ta=\"values\",ga=\"entries\",Ra=function(){return this},Ia=function(e,t,i,n,r,o,s){ua(i,t,n);var a,c,d,u=function(e){if(e===r&&E)return E;if(!ma&&e in p)return p[e];switch(e){case Sa:case Ta:case ga:return function(){return new i(this,e)}}return function(){return new i(this)}},l=t+\" Iterator\",h=!1,p=e.prototype,_=p[fa]||p[\"@@iterator\"]||r&&p[r],E=!ma&&_||u(r),m=\"Array\"==t&&p.entries||_;if(m&&(a=la(m.call(new e)))!==Object.prototype&&a.next&&(ha(a,l,!0,!0),_a[l]=Ra),Ea&&r==Ta&&_&&_.name!==Ta&&(h=!0,E=function(){return da(_,this)}),r)if(c={values:u(Ta),keys:o?E:u(Sa),entries:u(ga)},s)for(d in c)(ma||h||!(d in p))&&pa(p,d,c[d]);else ca({target:t,proto:!0,forced:ma||h},c);return s&&p[fa]!==E&&pa(p,fa,E,{name:r}),_a[t]=E,c},Ca=K,va=jr,ya=bs;Ht.f;var Aa=Ia,Oa=\"Array Iterator\",Na=ya.set,ba=ya.getterFor(Oa);Aa(Array,\"Array\",(function(e,t){Na(this,{type:Oa,target:Ca(e),index:0,kind:t})}),(function(){var e=ba(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):\"keys\"==i?{value:n,done:!1}:\"values\"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),\"values\"),va.Arguments=va.Array;var wa=h.Promise,Da=xs,Pa=$,La=Ht,ka=g,Ma=rt(\"species\"),Ua=u,xa=h.TypeError,Va=rt(\"iterator\"),ja=!1;try{var Fa=0,Ba={next:function(){return{done:!!Fa++}},return:function(){ja=!0}};Ba[Va]=function(){return this},Array.from(Ba,(function(){throw 2}))}catch(e){}var Ga=d,Wa=i,Ha=S,Ka=Zr,Ya=os,qa=function(){},Ja=[],Xa=$(\"Reflect\",\"construct\"),za=/^\\s*(?:class|function)\\b/,Qa=Ga(za.exec),Za=!za.exec(qa),$a=function(e){if(!Ha(e))return!1;try{return Xa(qa,Ja,e),!0}catch(e){return!1}},ec=function(e){if(!Ha(e))return!1;switch(Ka(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return Za||!!Qa(za,Ya(e))}catch(e){return!0}};ec.sham=!0;var tc,ic,nc,rc,oc=!Xa||Wa((function(){var e;return $a($a.call)||!$a(Object)||!$a((function(){e=!0}))||e}))?ec:$a,sc=oc,ac=Te,cc=h.TypeError,dc=zt,uc=function(e){if(sc(e))return e;throw cc(ac(e)+\" is not a constructor\")},lc=rt(\"species\"),hc=function(e,t){var i,n=dc(e).constructor;return void 0===n||null==(i=dc(n)[lc])?t:uc(i)},pc=d([].slice),_c=/(?:ipad|iphone|ipod).*applewebkit/i.test(ee),Ec=h,mc=f,fc=Wt,Sc=S,Tc=Ge,gc=i,Rc=gr,Ic=pc,Cc=Tt,vc=_c,yc=ji,Ac=Ec.setImmediate,Oc=Ec.clearImmediate,Nc=Ec.process,bc=Ec.Dispatch,wc=Ec.Function,Dc=Ec.MessageChannel,Pc=Ec.String,Lc=0,kc={},Mc=\"onreadystatechange\";try{tc=Ec.location}catch(e){}var Uc=function(e){if(Tc(kc,e)){var t=kc[e];delete kc[e],t()}},xc=function(e){return function(){Uc(e)}},Vc=function(e){Uc(e.data)},jc=function(e){Ec.postMessage(Pc(e),tc.protocol+\"//\"+tc.host)};Ac&&Oc||(Ac=function(e){var t=Ic(arguments,1);return kc[++Lc]=function(){mc(Sc(e)?e:wc(e),void 0,t)},ic(Lc),Lc},Oc=function(e){delete kc[e]},yc?ic=function(e){Nc.nextTick(xc(e))}:bc&&bc.now?ic=function(e){bc.now(xc(e))}:Dc&&!vc?(rc=(nc=new Dc).port2,nc.port1.onmessage=Vc,ic=fc(rc.postMessage,rc)):Ec.addEventListener&&Sc(Ec.postMessage)&&!Ec.importScripts&&tc&&\"file:\"!==tc.protocol&&!gc(jc)?(ic=jc,Ec.addEventListener(\"message\",Vc,!1)):ic=Mc in Cc(\"script\")?function(e){Rc.appendChild(Cc(\"script\")).onreadystatechange=function(){Rc.removeChild(this),Uc(e)}}:function(e){setTimeout(xc(e),0)});var Fc,Bc,Gc,Wc,Hc,Kc,Yc,qc,Jc={set:Ac,clear:Oc},Xc=h,zc=/ipad|iphone|ipod/i.test(ee)&&void 0!==Xc.Pebble,Qc=/web0s(?!.*chrome)/i.test(ee),Zc=h,$c=Wt,ed=T.f,td=Jc.set,id=_c,nd=zc,rd=Qc,od=ji,sd=Zc.MutationObserver||Zc.WebKitMutationObserver,ad=Zc.document,cd=Zc.process,dd=Zc.Promise,ud=ed(Zc,\"queueMicrotask\"),ld=ud&&ud.value;ld||(Fc=function(){var e,t;for(od&&(e=cd.domain)&&e.exit();Bc;){t=Bc.fn,Bc=Bc.next;try{t()}catch(e){throw Bc?Wc():Gc=void 0,e}}Gc=void 0,e&&e.enter()},id||od||rd||!sd||!ad?!nd&&dd&&dd.resolve?((Yc=dd.resolve(void 0)).constructor=dd,qc=$c(Yc.then,Yc),Wc=function(){qc(Fc)}):od?Wc=function(){cd.nextTick(Fc)}:(td=$c(td,Zc),Wc=function(){td(Fc)}):(Hc=!0,Kc=ad.createTextNode(\"\"),new sd(Fc).observe(Kc,{characterData:!0}),Wc=function(){Kc.data=Hc=!Hc}));var hd=ld||function(e){var t={fn:e,next:void 0};Gc&&(Gc.next=t),Bc||(Bc=t,Wc()),Gc=t},pd={},_d=Ce,Ed=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError(\"Bad Promise constructor\");t=e,i=n})),this.resolve=_d(t),this.reject=_d(i)};pd.f=function(e){return new Ed(e)};var md=zt,fd=q,Sd=pd,Td=function(e,t){if(md(e),fd(t)&&t.constructor===e)return t;var i=Sd.f(e);return(0,i.resolve)(t),i.promise},gd=h,Rd=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Id=function(){this.head=null,this.tail=null};Id.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Cd,vd,yd,Ad=\"object\"==typeof window,Od=Ii,Nd=h,bd=$,wd=C,Dd=wa,Pd=function(e,t,i){for(var n in t)i&&i.unsafe&&e[n]?e[n]=t[n]:Da(e,n,t[n],i);return e},Ld=ta,kd=function(e){var t=Pa(e),i=La.f;ka&&t&&!t[Ma]&&i(t,Ma,{configurable:!0,get:function(){return this}})},Md=Ce,Ud=S,xd=q,Vd=function(e,t){if(Ua(t,e))return e;throw xa(\"Incorrect invocation\")},jd=os,Fd=Oo,Bd=function(e,t){if(!t&&!ja)return!1;var i=!1;try{var n={};n[Va]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},Gd=hc,Wd=Jc.set,Hd=hd,Kd=Td,Yd=function(e,t){var i=gd.console;i&&i.error&&(1==arguments.length?i.error(e):i.error(e,t))},qd=pd,Jd=Rd,Xd=Id,zd=bs,Qd=jt,Zd=Ad,$d=ji,eu=ae,tu=rt(\"species\"),iu=\"Promise\",nu=zd.getterFor(iu),ru=zd.set,ou=zd.getterFor(iu),su=Dd&&Dd.prototype,au=Dd,cu=su,du=Nd.TypeError,uu=Nd.document,lu=Nd.process,hu=qd.f,pu=hu,_u=!!(uu&&uu.createEvent&&Nd.dispatchEvent),Eu=Ud(Nd.PromiseRejectionEvent),mu=\"unhandledrejection\",fu=Qd(iu,(function(){var e=jd(au),t=e!==String(au);if(!t&&66===eu)return!0;if(!cu.finally)return!0;if(eu>=51&&/native code/.test(e))return!1;var i=new au((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(i.constructor={})[tu]=n,!(i.then((function(){}))instanceof n)||!t&&Zd&&!Eu})),Su=fu||!Bd((function(e){au.all(e).catch((function(){}))})),Tu=function(e){var t;return!(!xd(e)||!Ud(t=e.then))&&t},gu=function(e,t){var i,n,r,o=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,d=e.reject,u=e.domain;try{a?(s||(2===t.rejection&&yu(t),t.rejection=1),!0===a?i=o:(u&&u.enter(),i=a(o),u&&(u.exit(),r=!0)),i===e.promise?d(du(\"Promise-chain cycle\")):(n=Tu(i))?wd(n,i,c,d):c(i)):d(o)}catch(e){u&&!r&&u.exit(),d(e)}},Ru=function(e,t){e.notified||(e.notified=!0,Hd((function(){for(var i,n=e.reactions;i=n.get();)gu(i,e);e.notified=!1,t&&!e.rejection&&Cu(e)})))},Iu=function(e,t,i){var n,r;_u?((n=uu.createEvent(\"Event\")).promise=t,n.reason=i,n.initEvent(e,!1,!0),Nd.dispatchEvent(n)):n={promise:t,reason:i},!Eu&&(r=Nd[\"on\"+e])?r(n):e===mu&&Yd(\"Unhandled promise rejection\",i)},Cu=function(e){wd(Wd,Nd,(function(){var t,i=e.facade,n=e.value;if(vu(e)&&(t=Jd((function(){$d?lu.emit(\"unhandledRejection\",n,i):Iu(mu,i,n)})),e.rejection=$d||vu(e)?2:1,t.error))throw t.value}))},vu=function(e){return 1!==e.rejection&&!e.parent},yu=function(e){wd(Wd,Nd,(function(){var t=e.facade;$d?lu.emit(\"rejectionHandled\",t):Iu(\"rejectionhandled\",t,e.value)}))},Au=function(e,t,i){return function(n){e(t,n,i)}},Ou=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,Ru(e,!0))},Nu=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw du(\"Promise can't be resolved itself\");var n=Tu(t);n?Hd((function(){var i={done:!1};try{wd(n,t,Au(Nu,i,e),Au(Ou,i,e))}catch(t){Ou(i,t,e)}})):(e.value=t,e.state=1,Ru(e,!1))}catch(t){Ou({done:!1},t,e)}}};fu&&(cu=(au=function(e){Vd(this,cu),Md(e),wd(Cd,this);var t=nu(this);try{e(Au(Nu,t),Au(Ou,t))}catch(e){Ou(t,e)}}).prototype,(Cd=function(e){ru(this,{type:iu,done:!1,notified:!1,parent:!1,reactions:new Xd,rejection:!1,state:0,value:void 0})}).prototype=Pd(cu,{then:function(e,t){var i=ou(this),n=hu(Gd(this,au));return i.parent=!0,n.ok=!Ud(e)||e,n.fail=Ud(t)&&t,n.domain=$d?lu.domain:void 0,0==i.state?i.reactions.add(n):Hd((function(){gu(n,i)})),n.promise},catch:function(e){return this.then(void 0,e)}}),vd=function(){var e=new Cd,t=nu(e);this.promise=e,this.resolve=Au(Nu,t),this.reject=Au(Ou,t)},qd.f=hu=function(e){return e===au||e===yd?new vd(e):pu(e)}),Od({global:!0,wrap:!0,forced:fu},{Promise:au}),Ld(au,iu,!1,!0),kd(iu),yd=bd(iu),Od({target:iu,stat:!0,forced:fu},{reject:function(e){var t=hu(this);return wd(t.reject,void 0,e),t.promise}}),Od({target:iu,stat:!0,forced:true},{resolve:function(e){return Kd(this===yd?au:this,e)}}),Od({target:iu,stat:!0,forced:Su},{all:function(e){var t=this,i=hu(t),n=i.resolve,r=i.reject,o=Jd((function(){var i=Md(t.resolve),o=[],s=0,a=1;Fd(e,(function(e){var c=s++,d=!1;a++,wd(i,t,e).then((function(e){d||(d=!0,o[c]=e,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise},race:function(e){var t=this,i=hu(t),n=i.reject,r=Jd((function(){var r=Md(t.resolve);Fd(e,(function(e){wd(r,t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var bu=C,wu=Ce,Du=pd,Pu=Rd,Lu=Oo;Ii({target:\"Promise\",stat:!0},{allSettled:function(e){var t=this,i=Du.f(t),n=i.resolve,r=i.reject,o=Pu((function(){var i=wu(t.resolve),r=[],o=0,s=1;Lu(e,(function(e){var a=o++,c=!1;s++,bu(i,t,e).then((function(e){c||(c=!0,r[a]={status:\"fulfilled\",value:e},--s||n(r))}),(function(e){c||(c=!0,r[a]={status:\"rejected\",reason:e},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var ku=Ce,Mu=$,Uu=C,xu=pd,Vu=Rd,ju=Oo,Fu=\"No one promise resolved\";Ii({target:\"Promise\",stat:!0},{any:function(e){var t=this,i=Mu(\"AggregateError\"),n=xu.f(t),r=n.resolve,o=n.reject,s=Vu((function(){var n=ku(t.resolve),s=[],a=0,c=1,d=!1;ju(e,(function(e){var u=a++,l=!1;c++,Uu(n,t,e).then((function(e){l||d||(d=!0,r(e))}),(function(e){l||d||(l=!0,s[u]=e,--c||o(new i(s,Fu)))}))})),--c||o(new i(s,Fu))}));return s.error&&o(s.value),n.promise}});var Bu=wa,Gu=$,Wu=S,Hu=hc,Ku=Td;Ii({target:\"Promise\",proto:!0,real:!0,forced:!!Bu&&i((function(){Bu.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Hu(this,Gu(\"Promise\")),i=Wu(e);return this.then(i?function(i){return Ku(t,e()).then((function(){return i}))}:e,i?function(i){return Ku(t,e()).then((function(){throw i}))}:e)}});var Yu=d,qu=yi,Ju=wo,Xu=G,zu=Yu(\"\".charAt),Qu=Yu(\"\".charCodeAt),Zu=Yu(\"\".slice),$u=function(e){return function(t,i){var n,r,o=Ju(Xu(t)),s=qu(i),a=o.length;return s<0||s>=a?e?\"\":void 0:(n=Qu(o,s))<55296||n>56319||s+1===a||(r=Qu(o,s+1))<56320||r>57343?e?zu(o,s):n:e?Zu(o,s,s+2):r-56320+(n-55296<<10)+65536}},el={codeAt:$u(!1),charAt:$u(!0)}.charAt,tl=wo,il=bs,nl=Ia,rl=\"String Iterator\",ol=il.set,sl=il.getterFor(rl);nl(String,\"String\",(function(e){ol(this,{type:rl,string:tl(e),index:0})}),(function(){var e,t=sl(this),i=t.string,n=t.index;return n>=i.length?{value:void 0,done:!0}:(e=el(i,n),t.index+=e.length,{value:e,done:!1})}));var al=J.Promise,cl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},dl=h,ul=Zr,ll=ui,hl=jr,pl=rt(\"toStringTag\");for(var _l in cl){var El=dl[_l],ml=El&&El.prototype;ml&&ul(ml)!==pl&&ll(ml,pl,_l),hl[_l]=hl.Array}var fl=al,Sl=fl;const Tl=rn;function gl(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const n=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(i=>{if(\"require\"===i||\"advanced\"===i||\"mediaSource\"===i)return;const n=\"object\"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&\"number\"==typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};\"number\"==typeof n.ideal?(e[r(\"min\",i)]=n.ideal,t.optional.push(e),e={},e[r(\"max\",i)]=n.ideal,t.optional.push(e)):(e[r(\"\",i)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&\"number\"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",i)]=n.exact):[\"min\",\"max\"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"==typeof e.audio){const t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),t(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"==typeof e.video){let o=e.video.facingMode;o=o&&(\"object\"==typeof o?o:{ideal:o});const s=t.version<66;if(o&&(\"user\"===o.exact||\"environment\"===o.exact||\"user\"===o.ideal||\"environment\"===o.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,\"environment\"===o.exact||\"environment\"===o.ideal?t=[\"back\",\"rear\"]:\"user\"!==o.exact&&\"user\"!==o.ideal||(t=[\"front\"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let s=(i=i.filter(e=>\"videoinput\"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&i.length&&t.includes(\"back\")&&(s=i[i.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=n(e.video),Tl(\"chrome: \"+JSON.stringify(e)),r(e)})}e.video=n(e.video)}return Tl(\"chrome: \"+JSON.stringify(e)),r(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(i.getUserMedia=function(e,t,n){r(e,e=>{i.webkitGetUserMedia(e,t,e=>{n&&n(o(e))})})}.bind(i),i.mediaDevices.getUserMedia){const e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException(\"\",\"NotFoundError\");return e},e=>Sl.reject(o(e))))}}}function Rl(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Il(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener(\"addtrack\",i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};const r=new Event(\"track\");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};const r=new Event(\"track\");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else en(e,\"track\",e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e))}function Cl(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function vl(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,n]=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach(e=>{const i={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},o=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const n=function(e){i(o(r(e)))};return t.apply(this,[n,e])}return new Sl((e,i)=>{t.apply(this,[function(t){e(o(r(t)))},i])}).then(i,n)}}function yl(e){if(!(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!(\"getStats\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>dn(t,e.track,!0))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),en(e,\"track\",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>dn(t,e.track,!1))}}if(!(\"getStats\"in e.RTCRtpSender.prototype)||!(\"getStats\"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,i,n;return this.getSenders().forEach(i=>{i.track===e&&(t?n=!0:t=i)}),this.getReceivers().forEach(t=>(t.track===e&&(i?n=!0:i=t),t.track===e)),n||t&&i?Sl.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():i?i.getStats():Sl.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return t.apply(this,arguments)}}function Al(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")});const t=this.getSenders();i.apply(this,arguments);const n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function Ol(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Al(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}),!this._reverseStreams[t.id]){const i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,\"g\"),n.id)}),new RTCSessionDescription({type:t.type,sdp:i})}function s(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,\"g\"),r.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");const r=this.getSenders().find(e=>e.track===t);if(r)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[i.id];if(o)o.addTrack(t),Sl.resolve().then(()=>{this.dispatchEvent(new Event(\"negotiationneeded\"))});else{const n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},[\"createOffer\",\"createAnswer\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&\"function\"==typeof arguments[0]?i.apply(this,[t=>{const i=o(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>o(this,e))}};e.RTCPeerConnection.prototype[t]=n[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=s(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get(){const e=c.get.apply(this);return\"\"===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(e._pc===this))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function Nl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function bl(e,t){en(e,\"negotiationneeded\",e=>{const i=e.target;if(!(t.version<72||i.getConfiguration&&\"plan-b\"===i.getConfiguration().sdpSemantics)||\"stable\"===i.signalingState)return e})}var wl=Object.freeze({__proto__:null,shimMediaStream:Rl,shimOnTrack:Il,shimGetSendersWithDtmf:Cl,shimGetStats:vl,shimSenderReceiverGetStats:yl,shimAddTrackRemoveTrackWithNative:Al,shimAddTrackRemoveTrack:Ol,shimPeerConnection:Nl,fixNegotiationNeeded:bl,shimGetUserMedia:gl,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{const n=i.video&&i.video.width,r=i.video&&i.video.height,o=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)})}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))}});function Dl(e,t){const i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){on(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return\"object\"==typeof i&&\"object\"==typeof i.audio&&(i=JSON.parse(JSON.stringify(i)),e(i.audio,\"autoGainControl\",\"mozAutoGainControl\"),e(i.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),t(i)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const i=t.apply(this,arguments);return e(i,\"mozAutoGainControl\",\"autoGainControl\"),e(i,\"mozNoiseSuppression\",\"noiseSuppression\"),i}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return\"audio\"===this.kind&&\"object\"==typeof i&&(i=JSON.parse(JSON.stringify(i)),e(i,\"autoGainControl\",\"mozAutoGainControl\"),e(i,\"noiseSuppression\",\"mozNoiseSuppression\")),t.apply(this,[i])}}}}function Pl(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function Ll(e,t){if(\"object\"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const i={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,o]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(r,o)}}function kl(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Sl.resolve(new Map)}}function Ml(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),en(e,\"track\",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ul(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){on(\"removeStream\",\"removeTrack\"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function xl(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Vl(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const i=e.length>0;i&&e.forEach(e=>{if(\"rid\"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError(\"Invalid RID value provided.\")}if(\"scaleResolutionDownBy\"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")});const n=t.apply(this,arguments);if(i){const{sender:t}=n,i=t.getParameters();(!(\"encodings\"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function jl(e){if(\"object\"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return\"encodings\"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function Fl(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Sl.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Bl(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Sl.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var Gl=Object.freeze({__proto__:null,shimOnTrack:Pl,shimPeerConnection:Ll,shimSenderGetStats:kl,shimReceiverGetStats:Ml,shimRemoveStream:Ul,shimRTCDataChannel:xl,shimAddTransceiver:Vl,shimGetParameters:jl,shimCreateOffer:Fl,shimCreateAnswer:Bl,shimGetUserMedia:Dl,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){const e=new DOMException(\"getDisplayMedia without video constraints is undefined\");return e.name=\"NotFoundError\",e.code=8,Sl.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}});function Wl(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n&&n.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function Hl(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event(\"addstream\");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const i=new Event(\"addstream\");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function Kl(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Sl.resolve()):r},t.createAnswer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Sl.resolve()):r};let a=function(e,t,i){const n=r.apply(this,[e]);return i?(n.then(t,i),Sl.resolve()):n};t.setLocalDescription=a,a=function(e,t,i){const n=o.apply(this,[e]);return i?(n.then(t,i),Sl.resolve()):n},t.setRemoteDescription=a,a=function(e,t,i){const n=s.apply(this,[e]);return i?(n.then(t,i),Sl.resolve()):n},t.addIceCandidate=a}function Yl(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(ql(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t))}function ql(e){return e&&void 0!==e.video?Object.assign({},e,{video:cn(e.video)}):e}function Jl(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){const t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];!n.hasOwnProperty(\"urls\")&&n.hasOwnProperty(\"url\")?(on(\"RTCIceServer.url\",\"RTCIceServer.urls\"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in t&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:()=>t.generateCertificate})}function Xl(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function zl(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>\"audio\"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?\"sendrecv\"===t.direction?t.setDirection?t.setDirection(\"sendonly\"):t.direction=\"sendonly\":\"recvonly\"===t.direction&&(t.setDirection?t.setDirection(\"inactive\"):t.direction=\"inactive\"):!0!==e.offerToReceiveAudio||t||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const i=this.getTransceivers().find(e=>\"video\"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\",{direction:\"recvonly\"})}return t.apply(this,arguments)}}function Ql(e){\"object\"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Zl=Object.freeze({__proto__:null,shimLocalStreamsAPI:Wl,shimRemoteStreamsAPI:Hl,shimCallbacksAPI:Kl,shimGetUserMedia:Yl,shimConstraints:ql,shimRTCIceServerUrls:Jl,shimTrackEventTransceiver:Xl,shimCreateOfferLegacy:zl,shimAudioContext:Ql}),$l=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",eh=G,th=wo,ih=d(\"\".replace),nh=\"[\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff]\",rh=RegExp(\"^\"+nh+nh+\"*\"),oh=RegExp(nh+nh+\"*$\"),sh=function(e){return function(t){var i=th(eh(t));return 1&e&&(i=ih(i,rh,\"\")),2&e&&(i=ih(i,oh,\"\")),i}},ah={start:sh(1),end:sh(2),trim:sh(3)},ch=Ms.PROPER,dh=i,uh=$l,lh=ah.trim;Ii({target:\"String\",proto:!0,forced:function(e){return dh((function(){return!!uh[e]()||\"​᠎\"!==\"​᠎\"[e]()||ch&&uh[e].name!==e}))}(\"trim\")},{trim:function(){return lh(this)}});var hh=Hi(\"String\").trim,ph=u,_h=hh,Eh=String.prototype,mh=function(e){var t=e.trim;return\"string\"==typeof e||e===Eh||ph(Eh,e)&&t===Eh.trim?_h:t},fh={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return mh(e).call(e).split(\"\\n\").map(e=>mh(e).call(e))},t.splitSections=function(e){return e.split(\"\\nm=\").map((e,t)=>{var i;return mh(i=t>0?\"m=\"+e:e).call(i)+\"\\r\\n\"})},t.getDescription=function(e){const i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){const i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \");const i={foundation:t[0],component:{1:\"rtp\",2:\"rtcp\"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case\"raddr\":i.relatedAddress=t[e+1];break;case\"rport\":i.relatedPort=parseInt(t[e+1],10);break;case\"tcptype\":i.tcpType=t[e+1];break;case\"ufrag\":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const i=e.component;\"rtp\"===i?t.push(1):\"rtcp\"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},t.parseIceOptions=function(e){return e.substr(14).split(\" \")},t.parseRtpMap=function(e){let t=e.substr(9).split(\" \");const i={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const i=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==i?\"/\"+i:\"\")+\"\\r\\n\"},t.parseExtmap=function(e){const t=e.substr(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1]}},t.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+\"\\r\\n\"},t.parseFmtp=function(e){const t={};let i;const n=e.substr(e.indexOf(\" \")+1).split(\";\");for(let e=0;e<n.length;e++){var r,o;i=mh(r=n[e]).call(r).split(\"=\"),t[mh(o=i[0]).call(o)]=i[1]}return t},t.writeFmtp=function(e){let t=\"\",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+\"=\"+e.parameters[t]):n.push(t)}),t+=\"a=fmtp:\"+i+\" \"+n.join(\";\")+\"\\r\\n\"}return t},t.parseRtcpFb=function(e){const t=e.substr(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},t.writeRtcpFb=function(e){let t=\"\",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+=\"a=rtcp-fb:\"+i+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"}),t},t.parseSsrcMedia=function(e){const t=e.indexOf(\" \"),i={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(\":\",t);return n>-1?(i.attribute=e.substr(t+1,n-t-1),i.value=e.substr(n+1)):i.attribute=e.substr(t+1),i},t.parseSsrcGroup=function(e){const t=e.substr(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){const i=t.matchPrefix(e,\"a=mid:\")[0];if(i)return i.substr(6)},t.parseFingerprint=function(e){const t=e.substr(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:\"auto\",fingerprints:t.matchPrefix(e+i,\"a=fingerprint:\").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach(e=>{i+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"}),i},t.parseCryptoLine=function(e){const t=e.substr(9).split(\" \");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return\"a=crypto:\"+e.tag+\" \"+e.cryptoSuite+\" \"+(\"object\"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?\" \"+e.sessionParams.join(\" \"):\"\")+\"\\r\\n\"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf(\"inline:\"))return null;const t=e.substr(7).split(\"|\");return{keyMethod:\"inline\",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(\":\")[0]:void 0,mkiLength:t[2]?t[2].split(\":\")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+\":\"+e.keySalt+(e.lifeTime?\"|\"+e.lifeTime:\"\")+(e.mkiValue&&e.mkiLength?\"|\"+e.mkiValue+\":\"+e.mkiLength:\"\")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,\"a=crypto:\").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){const n=t.matchPrefix(e+i,\"a=ice-ufrag:\")[0],r=t.matchPrefix(e+i,\"a=ice-pwd:\")[0];return n&&r?{usernameFragment:n.substr(12),password:r.substr(10)}:null},t.writeIceParameters=function(e){let t=\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\";return e.iceLite&&(t+=\"a=ice-lite\\r\\n\"),t},t.parseRtpParameters=function(e){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(\" \");for(let r=3;r<n.length;r++){const o=n[r],s=t.matchPrefix(e,\"a=rtpmap:\"+o+\" \")[0];if(s){const n=t.parseRtpMap(s),r=t.matchPrefix(e,\"a=fmtp:\"+o+\" \");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,\"a=rtcp-fb:\"+o+\" \").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(n.name.toUpperCase())}}}return t.matchPrefix(e,\"a=extmap:\").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))}),i},t.writeRtpDescription=function(e,i){let n=\"\";n+=\"m=\"+e+\" \",n+=i.codecs.length>0?\"9\":\"0\",n+=\" UDP/TLS/RTP/SAVPF \",n+=i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",i.codecs.forEach(e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)});let r=0;return i.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+=\"a=maxptime:\"+r+\"\\r\\n\"),i.headerExtensions&&i.headerExtensions.forEach(e=>{n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){const i=[],n=t.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf(\"RED\"),o=-1!==n.fecMechanisms.indexOf(\"ULPFEC\"),s=t.matchPrefix(e,\"a=ssrc:\").map(e=>t.parseSsrcMedia(e)).filter(e=>\"cname\"===e.attribute),a=s.length>0&&s[0].ssrc;let c;const d=t.matchPrefix(e,\"a=ssrc-group:FID\").map(e=>e.substr(17).split(\" \").map(e=>parseInt(e,10)));d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),n.codecs.forEach(e=>{if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(t.rtx={ssrc:c}),i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:o?\"red+ulpfec\":\"red\"},i.push(t))}}),0===i.length&&a&&i.push({ssrc:a});let u=t.matchPrefix(e,\"b=\");return u.length&&(u=0===u[0].indexOf(\"b=TIAS:\")?parseInt(u[0].substr(7),10):0===u[0].indexOf(\"b=AS:\")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,i.forEach(e=>{e.maxBitrate=u})),i},t.parseRtcpParameters=function(e){const i={},n=t.matchPrefix(e,\"a=ssrc:\").map(e=>t.parseSsrcMedia(e)).filter(e=>\"cname\"===e.attribute)[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);const r=t.matchPrefix(e,\"a=rtcp-rsize\");i.reducedSize=r.length>0,i.compound=0===r.length;const o=t.matchPrefix(e,\"a=rtcp-mux\");return i.mux=o.length>0,i},t.writeRtcpParameters=function(e){let t=\"\";return e.reducedSize&&(t+=\"a=rtcp-rsize\\r\\n\"),e.mux&&(t+=\"a=rtcp-mux\\r\\n\"),void 0!==e.ssrc&&e.cname&&(t+=\"a=ssrc:\"+e.ssrc+\" cname:\"+e.cname+\"\\r\\n\"),t},t.parseMsid=function(e){let i;const n=t.matchPrefix(e,\"a=msid:\");if(1===n.length)return i=n[0].substr(7).split(\" \"),{stream:i[0],track:i[1]};const r=t.matchPrefix(e,\"a=ssrc:\").map(e=>t.parseSsrcMedia(e)).filter(e=>\"msid\"===e.attribute);return r.length>0?(i=r[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},t.parseSctpDescription=function(e){const i=t.parseMLine(e),n=t.matchPrefix(e,\"a=max-message-size:\");let r;n.length>0&&(r=parseInt(n[0].substr(19),10)),isNaN(r)&&(r=65536);const o=t.matchPrefix(e,\"a=sctp-port:\");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:i.fmt,maxMessageSize:r};const s=t.matchPrefix(e,\"a=sctpmap:\");if(s.length>0){const e=s[0].substr(10).split(\" \");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let i=[];return i=\"DTLS/SCTP\"!==e.protocol?[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.protocol+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctp-port:\"+t.port+\"\\r\\n\"]:[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.port+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctpmap:\"+t.port+\" \"+t.protocol+\" 65535\\r\\n\"],void 0!==t.maxMessageSize&&i.push(\"a=max-message-size:\"+t.maxMessageSize+\"\\r\\n\"),i.join(\"\")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,i,n){let r;const o=void 0!==i?i:2;r=e||t.generateSessionId();return\"v=0\\r\\no=\"+(n||\"thisisadapterortc\")+\" \"+r+\" \"+o+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},t.getDirection=function(e,i){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[e].substr(2)}return i?t.getDirection(i):\"sendrecv\"},t.getKind=function(e){return t.splitLines(e)[0].split(\" \")[0].substr(2)},t.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},t.parseMLine=function(e){const i=t.splitLines(e)[0].substr(2).split(\" \");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},t.parseOLine=function(e){const i=t.matchPrefix(e,\"o=\")[0].substr(2).split(\" \");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;const i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||\"=\"!==i[e].charAt(1))return!1;return!0},e.exports=t}(fh);var Sh=fh.exports,Th=Object.freeze(e({__proto__:null,default:Sh},[fh.exports]));function gh(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const i=new t(e),n=Sh.parseCandidate(e.candidate),r=Object.assign(i,n);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,en(e,\"icecandidate\",t=>(t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t))}function Rh(e){!e.RTCIceCandidate||e.RTCIceCandidate&&\"relayProtocol\"in e.RTCIceCandidate.prototype||en(e,\"icecandidate\",e=>{if(e.candidate){const t=Sh.parseCandidate(e.candidate.candidate);\"relay\"===t.type&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[t.priority>>24])}return e})}function Ih(e,t){if(!e.RTCPeerConnection)return;\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp}});const i=function(e){if(!e||!e.sdp)return!1;const t=Sh.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=Sh.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")})},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;const i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return\"firefox\"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},o=function(e,i){let n=65536;\"firefox\"===t.browser&&57===t.version&&(n=65535);const r=Sh.matchPrefix(e.sdp,\"a=max-message-size:\");return r.length>0?n=parseInt(r[0].substr(19),10):\"firefox\"===t.browser&&-1!==i&&(n=2147483637),n},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,\"chrome\"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();\"plan-b\"===e&&Object.defineProperty(this,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const e=n(arguments[0]),t=r(e),i=o(arguments[0],e);let s;s=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,\"maxMessageSize\",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function Ch(e){if(!e.RTCPeerConnection||!(\"createDataChannel\"in e.RTCPeerConnection.prototype))return;function t(e,t){const i=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if(\"open\"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return i.apply(e,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=i.apply(this,arguments);return t(e,this),e},en(e,\"datachannel\",e=>(t(e.channel,e.target),e))}function vh(e){if(!e.RTCPeerConnection||\"connectionState\"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach(e=>{const i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const i=new Event(\"connectionstatechange\",e);t.dispatchEvent(i)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function yh(e,t){if(!e.RTCPeerConnection)return;if(\"chrome\"===t.browser&&t.version>=71)return;if(\"safari\"===t.browser&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf(\"\\na=extmap-allow-mixed\")){const i=t.sdp.split(\"\\n\").filter(e=>\"a=extmap-allow-mixed\"!==mh(e).call(e)).join(\"\\n\");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function Ah(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(\"chrome\"===t.browser&&t.version<78||\"firefox\"===t.browser&&t.version<68||\"safari\"===t.browser)&&arguments[0]&&\"\"===arguments[0].candidate?Sl.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Sl.resolve())})}function Oh(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if(\"object\"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":e.type=\"offer\";break;default:e.type=\"answer\"}if(e.sdp||\"offer\"!==e.type&&\"answer\"!==e.type)return i.apply(this,[e]);const t=\"offer\"===e.type?this.createOffer:this.createAnswer;return t.apply(this).then(e=>i.apply(this,[e]))})}var Nh=Object.freeze({__proto__:null,shimRTCIceCandidate:gh,shimRTCIceCandidateRelayProtocol:Rh,shimMaxMessageSize:Ih,shimSendThrowTypeError:Ch,shimConnectionState:vh,removeExtmapAllowMixed:yh,shimAddIceCandidateNullOrEmpty:Ah,shimParameterlessSetLocalDescription:Oh});let bh,wh;!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const i=rn,n=sn(e),r={browserDetails:n,commonShim:Nh,extractVersion:$i,disableLog:tn,disableWarnings:nn,sdp:Th};switch(n.browser){case\"chrome\":if(!wl||!Nl||!t.shimChrome)return i(\"Chrome shim is not included in this adapter release.\"),r;if(null===n.version)return i(\"Chrome shim can not determine version, not shimming.\"),r;i(\"adapter.js shimming chrome.\"),r.browserShim=wl,Ah(e,n),Oh(e),gl(e,n),Rl(e),Nl(e,n),Il(e),Ol(e,n),Cl(e),vl(e),yl(e),bl(e,n),gh(e),Rh(e),vh(e),Ih(e,n),Ch(e),yh(e,n);break;case\"firefox\":if(!Gl||!Ll||!t.shimFirefox)return i(\"Firefox shim is not included in this adapter release.\"),r;i(\"adapter.js shimming firefox.\"),r.browserShim=Gl,Ah(e,n),Oh(e),Dl(e,n),Ll(e,n),Pl(e),Ul(e),kl(e),Ml(e),xl(e),Vl(e),jl(e),Fl(e),Bl(e),gh(e),vh(e),Ih(e,n),Ch(e);break;case\"safari\":if(!Zl||!t.shimSafari)return i(\"Safari shim is not included in this adapter release.\"),r;i(\"adapter.js shimming safari.\"),r.browserShim=Zl,Ah(e,n),Oh(e),Jl(e),zl(e),Kl(e),Wl(e),Hl(e),Xl(e),Yl(e),Ql(e),gh(e),Rh(e),Ih(e,n),Ch(e),yh(e,n);break;default:i(\"Unsupported browser!\")}}({window:\"undefined\"==typeof window?void 0:window}),function(e){e.WIN_10=\"Windows 10\",e.WIN_81=\"Windows 8.1\",e.WIN_8=\"Windows 8\",e.WIN_7=\"Windows 7\",e.WIN_VISTA=\"Windows Vista\",e.WIN_SERVER_2003=\"Windows Server 2003\",e.WIN_XP=\"Windows XP\",e.WIN_2000=\"Windows 2000\",e.ANDROID=\"Android\",e.HARMONY_OS=\"HarmonyOS\",e.OPEN_BSD=\"Open BSD\",e.SUN_OS=\"Sun OS\",e.LINUX=\"Linux\",e.IOS=\"iOS\",e.MAC_OS=\"Mac OS\",e.QNX=\"QNX\",e.UNIX=\"UNIX\",e.BEOS=\"BeOS\",e.OS_2=\"OS/2\",e.SEARCH_BOT=\"Search Bot\"}(bh||(bh={})),function(e){e.CHROME=\"Chrome\",e.SAFARI=\"Safari\",e.EDGE=\"Edge\",e.FIREFOX=\"Firefox\",e.OPERA=\"OPR\",e.QQ=\"QQBrowser\",e.WECHAT=\"MicroMessenger\"}(wh||(wh={}));var Dh={exports:{}};!function(e,i){!function(t,n){var r=\"function\",o=\"undefined\",s=\"object\",a=\"string\",c=\"major\",d=\"model\",u=\"name\",l=\"type\",h=\"vendor\",p=\"version\",_=\"architecture\",E=\"console\",m=\"mobile\",f=\"tablet\",S=\"smarttv\",T=\"wearable\",g=\"embedded\",R=\"Amazon\",I=\"Apple\",C=\"ASUS\",v=\"BlackBerry\",y=\"Firefox\",A=\"Google\",O=\"Huawei\",N=\"LG\",b=\"Microsoft\",w=\"Motorola\",D=\"Opera\",P=\"Samsung\",L=\"Sharp\",k=\"Sony\",M=\"Xiaomi\",U=\"Zebra\",x=\"Facebook\",V=\"Chromium OS\",j=\"Mac OS\",F=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},B=function(e,t){return typeof e===a&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===a)return e=e.replace(/^\\s\\s*/,\"\"),typeof t===o?e:e.substring(0,350)},H=function(e,t){for(var i,o,a,c,d,u,l=0;l<t.length&&!d;){var h=t[l],p=t[l+1];for(i=o=0;i<h.length&&!d&&h[i];)if(d=h[i++].exec(e))for(a=0;a<p.length;a++)u=d[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):n:this[c[0]]=u?c[1].call(this,u,c[2]):n:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):n):this[c]=u||n;l+=2}},K=function(e,t){for(var i in t)if(typeof t[i]===s&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(B(t[i][r],e))return\"?\"===i?n:i}else if(B(t[i],e))return\"?\"===i?n:i;return e},Y={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},q={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[p,[u,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[p,[u,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[u,p],[/opios[\\/ ]+([\\w\\.]+)/i],[p,[u,\"Opera Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[p,[u,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[u,p],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[p,[u,\"UCBrowser\"]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[p,[u,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[p,[u,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[p,[u,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[p,[u,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[p,[u,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[u,/(.+)/,\"$1 Secure Browser\"],p],[/\\bfocus\\/([\\w\\.]+)/i],[p,[u,\"Firefox Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[p,[u,\"Opera Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[p,[u,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[p,[u,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[p,[u,\"Opera Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[p,[u,\"MIUI Browser\"]],[/fxios\\/([-\\w\\.]+)/i],[p,[u,y]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[u,\"360 Browser\"]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[u,/(.+)/,\"$1 Browser\"],p],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[u,/_/g,\" \"],p],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[u,p],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[u],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[u,x],p],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[u,p],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[p,[u,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[p,[u,\"Chrome Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[u,\"Chrome WebView\"],p],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[p,[u,\"Android Browser\"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[u,p],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[p,[u,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[u,[p,K,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[u,p],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[u,\"Netscape\"],p],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[p,[u,\"Firefox Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\\/([\\w\\.]+)/i],[u,[p,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[_,\"amd64\"]],[/(ia32(?=;))/i],[[_,G]],[/((?:i[346]|x)86)[;\\)]/i],[[_,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[_,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[_,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[_,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[_,/ower/,\"\",G]],[/(sun4\\w)[;\\)]/i],[[_,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[_,G]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,P],[l,f]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[h,P],[l,m]],[/\\((ip(?:hone|od)[\\w ]*);/i],[d,[h,I],[l,m]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[h,I],[l,f]],[/(macintosh);/i],[d,[h,I]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[h,L],[l,m]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[h,O],[l,f]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[h,O],[l,m]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g,\" \"],[h,M],[l,m]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g,\" \"],[h,M],[l,f]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[h,\"OPPO\"],[l,m]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[h,\"Vivo\"],[l,m]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[h,\"Realme\"],[l,m]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[h,w],[l,m]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[h,w],[l,f]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,N],[l,f]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[h,N],[l,m]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[h,\"Lenovo\"],[l,f]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g,\" \"],[h,\"Nokia\"],[l,m]],[/(pixel c)\\b/i],[d,[h,A],[l,f]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[h,A],[l,m]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[h,k],[l,m]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,\"Xperia Tablet\"],[h,k],[l,f]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[h,\"OnePlus\"],[l,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[h,R],[l,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,\"Fire Phone $1\"],[h,R],[l,m]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,h,[l,f]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[h,v],[l,m]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[h,C],[l,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[h,C],[l,m]],[/(nexus 9)/i],[d,[h,\"HTC\"],[l,f]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[h,[d,/_/g,\" \"],[l,m]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[h,\"Acer\"],[l,f]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[h,\"Meizu\"],[l,m]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[h,d,[l,m]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[h,d,[l,f]],[/(surface duo)/i],[d,[h,b],[l,f]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[h,\"Fairphone\"],[l,m]],[/(u304aa)/i],[d,[h,\"AT&T\"],[l,m]],[/\\bsie-(\\w*)/i],[d,[h,\"Siemens\"],[l,m]],[/\\b(rct\\w+) b/i],[d,[h,\"RCA\"],[l,f]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[h,\"Dell\"],[l,f]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[h,\"Verizon\"],[l,f]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[h,\"Barnes & Noble\"],[l,f]],[/\\b(tm\\d{3}\\w+) b/i],[d,[h,\"NuVision\"],[l,f]],[/\\b(k88) b/i],[d,[h,\"ZTE\"],[l,f]],[/\\b(nx\\d{3}j) b/i],[d,[h,\"ZTE\"],[l,m]],[/\\b(gen\\d{3}) b.+49h/i],[d,[h,\"Swiss\"],[l,m]],[/\\b(zur\\d{3}) b/i],[d,[h,\"Swiss\"],[l,f]],[/\\b((zeki)?tb.*\\b) b/i],[d,[h,\"Zeki\"],[l,f]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[h,\"Dragon Touch\"],d,[l,f]],[/\\b(ns-?\\w{0,9}) b/i],[d,[h,\"Insignia\"],[l,f]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[h,\"NextBook\"],[l,f]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,\"Voice\"],d,[l,m]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[h,\"LvTel\"],d,[l,m]],[/\\b(ph-1) /i],[d,[h,\"Essential\"],[l,m]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[h,\"Envizen\"],[l,f]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[h,\"MachSpeed\"],[l,f]],[/\\btu_(1491) b/i],[d,[h,\"Rotor\"],[l,f]],[/(shield[\\w ]+) b/i],[d,[h,\"Nvidia\"],[l,f]],[/(sprint) (\\w+)/i],[h,d,[l,m]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g,\" \"],[h,b],[l,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[h,U],[l,f]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[h,U],[l,m]],[/smart-tv.+(samsung)/i],[h,[l,S]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,\"SmartTV\"],[h,P],[l,S]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[h,N],[l,S]],[/(apple) ?tv/i],[h,[d,\"Apple TV\"],[l,S]],[/crkey/i],[[d,\"Chromecast\"],[h,A],[l,S]],[/droid.+aft(\\w)( bui|\\))/i],[d,[h,R],[l,S]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[h,L],[l,S]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[h,k],[l,S]],[/(mitv-\\w{5}) bui/i],[d,[h,M],[l,S]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[l,S]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[h,W],[d,W],[l,S]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[l,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[l,E]],[/droid.+; (shield) bui/i],[d,[h,\"Nvidia\"],[l,E]],[/(playstation [345portablevi]+)/i],[d,[h,k],[l,E]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[h,b],[l,E]],[/((pebble))app/i],[h,d,[l,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[h,I],[l,T]],[/droid.+; (glass) \\d/i],[d,[h,A],[l,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[h,U],[l,T]],[/(quest( 2| pro)?)/i],[d,[h,x],[l,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[h,[l,g]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[l,m]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[l,f]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[l,f]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[l,m]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[h,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[p,[u,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[p,[u,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[u,p],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[u,[p,K,Y]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[u,\"Windows\"],[p,K,Y]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[p,/_/g,\".\"],[u,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[u,j],[p,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[u,p],[/\\(bb(10);/i],[p,[u,v]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[p,[u,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[p,[u,\"Firefox OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[p,[u,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[p,[u,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[p,[u,\"Chromecast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[u,V],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[u,p],[/(sunos) ?([\\w\\.\\d]*)/i],[[u,\"Solaris\"],p],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[u,p]]},J=function(e,i){if(typeof e===s&&(i=e,e=n),!(this instanceof J))return new J(e,i).getResult();var c=typeof t!==o&&t.navigator?t.navigator:n,d=e||(c&&c.userAgent?c.userAgent:\"\"),u=c&&c.userAgentData?c.userAgentData:n,l=i?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(q,i):q;return this.getBrowser=function(){var e={};return e.name=n,e.version=n,H.call(e,d,l.browser),e.major=function(e){return typeof e===a?e.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:n}(e.version),c&&c.brave&&typeof c.brave.isBrave==r&&(e.name=\"Brave\"),e},this.getCPU=function(){var e={};return e.architecture=n,H.call(e,d,l.cpu),e},this.getDevice=function(){var e={};return e.vendor=n,e.model=n,e.type=n,H.call(e,d,l.device),!e.type&&u&&u.mobile&&(e.type=m),\"Macintosh\"==e.model&&c&&typeof c.standalone!==o&&c.maxTouchPoints&&c.maxTouchPoints>2&&(e.model=\"iPad\",e.type=f),e},this.getEngine=function(){var e={};return e.name=n,e.version=n,H.call(e,d,l.engine),e},this.getOS=function(){var e={};return e.name=n,e.version=n,H.call(e,d,l.os),!e.name&&u&&\"Unknown\"!=u.platform&&(e.name=u.platform.replace(/chrome os/i,V).replace(/macos/i,j)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(e){return d=typeof e===a&&e.length>350?W(e,350):e,this},this.setUA(d),this};J.VERSION=\"0.7.34\",J.BROWSER=F([u,p,c]),J.CPU=F([_]),J.DEVICE=F([d,h,l,E,m,S,f,T,g]),J.ENGINE=J.OS=F([u,p]),e.exports&&(i=e.exports=J),i.UAParser=J;var X=typeof t!==o&&(t.jQuery||t.Zepto);if(X&&!X.ua){var z=new J;X.ua=z.getResult(),X.ua.get=function(){return z.getUA()},X.ua.set=function(e){z.setUA(e);var t=z.getResult();for(var i in t)X.ua[i]=t[i]}}}(\"object\"==typeof window?window:t)}(Dh,Dh.exports);const Ph=new(0,Dh.exports);let Lh,kh,Mh=Ph.getResult(),Uh=null;function xh(e){if(!Uh){e&&Ph.setUA(e),Mh=Ph.getResult();const t=function(e){if(\"Blink\"===e.engine.name&&\"WeChat\"!==e.browser.name)return wh.CHROME;switch(e.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return wh.CHROME;case\"Safari\":case\"Mobile Safari\":return wh.SAFARI;case\"Edge\":return wh.EDGE;case\"Firefox\":return wh.FIREFOX;case\"QQBrowser\":return wh.QQ;case\"Opera\":return wh.OPERA;case\"WeChat\":return wh.WECHAT;default:return e.browser.name||\"\"}}(Mh),i=function(e){let t;t=\"Blink\"===e.engine.name?e.engine.version||\"\":e.browser.version||\"\";return t.split(\".\")[0]}(Mh),n=function(e){switch(e.os.name){case\"Windows\":return e.os.version?e.os.name+\" \"+e.os.version:e.os.name;default:return e.os.name||\"\"}}(Mh),r=Mh.os.version;if(!(t&&i&&n&&r))return{name:t,version:i,os:n,osVersion:r};Uh={name:t,version:i,os:n,osVersion:r}}return Uh}function Vh(){return xh().os}function jh(){const e=xh();return\"\".concat(e.os,\" \").concat(e.osVersion)}function Fh(){const e=xh();return!!(\"WebKit\"===Mh.engine.name&&e.os===bh.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==wh.SAFARI||Yh()&&e.name!==wh.SAFARI)}function Bh(){const e=xh();if(Fh()){if(e.os===bh.MAC_OS)return!0;if(e.os===bh.IOS){const e=Mh.os.version&&Mh.os.version.split(\".\");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function Gh(){return\"WebKit\"===Mh.engine.name}function Wh(){return xh().name===wh.CHROME}function Hh(){return xh().name===wh.SAFARI}function Kh(){return xh().name===wh.FIREFOX}function Yh(){return xh().os===bh.IOS}function qh(e){const t=xh();return!(t.name!==wh.CHROME||!t.osVersion)&&Number(t.version)>=e}function Jh(e){const t=xh();return!(t.name!==wh.EDGE||!t.osVersion)&&Number(t.version)>=e}function Xh(e){const t=xh();return!(t.name!==wh.OPERA||!t.osVersion)&&Number(t.version)>=e}function zh(){const e=xh();return!(e.name!==wh.CHROME||!e.osVersion)&&Number(e.version)<=90}function Qh(){const e=xh();if(e.os!==bh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function Zh(){const e=xh();if(e.os!==bh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])}function $h(){const e=xh();if(e.os!==bh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 16===Number(t[0])}function ep(){const e=xh();if(e.os!==bh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=1}function tp(){return Hh()&&navigator.maxTouchPoints>0}function ip(){return xh().name===wh.WECHAT}function np(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function rp(){const e=xh();if(e.name===wh.EDGE||e.name===wh.SAFARI)return!1;return!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function op(){return Vh()===bh.ANDROID}function sp(){const e=xh();return op()&&(e.name===wh.CHROME||e.name===wh.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}!function(e){e.L1T1=\"L1T1\",e.L1T2=\"L1T2\",e.L1T3=\"L1T3\",e.L2T1_KEY=\"L2T1_KEY\",e.L2T2_KEY=\"L2T2_KEY\",e.L2T3_KEY=\"L2T3_KEY\",e.L3T1_KEY=\"L3T1_KEY\",e.L3T2_KEY=\"L3T2_KEY\",e.L3T3_KEY=\"L3T3_KEY\"}(Lh||(Lh={})),function(e){e.CERTIFICATE=\"certificate\",e.CODEC=\"codec\",e.CANDIDATE_PAIR=\"candidate-pair\",e.LOCAL_CANDIDATE=\"local-candidate\",e.REMOTE_CANDIDATE=\"remote-candidate\",e.INBOUND=\"inbound-rtp\",e.TRACK=\"track\",e.OUTBOUND=\"outbound-rtp\",e.PC=\"peer-connection\",e.REMOTE_INBOUND=\"remote-inbound-rtp\",e.REMOTE_OUTBOUND=\"remote-outbound-rtp\",e.TRANSPORT=\"transport\",e.CSRC=\"csrc\",e.DATA_CHANNEL=\"data-channel\",e.STREAM=\"stream\",e.SENDER=\"sender\",e.RECEIVER=\"receiver\"}(kh||(kh={}));var ap={exports:{}},cp=Ii,dp=g,up=Ht.f;cp({target:\"Object\",stat:!0,forced:Object.defineProperty!==up,sham:!dp},{defineProperty:up});var lp=J.Object,hp=ap.exports=function(e,t,i){return lp.defineProperty(e,t,i)};lp.defineProperty.sham&&(hp.sham=!0);var pp=ap.exports;function _p(e,t,i){return t in e?pp(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ep,mp={exports:{}},fp=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}},Sp=fp,Tp=Object.prototype.toString,gp=(Ep=Object.create(null),function(e){var t=Tp.call(e);return Ep[t]||(Ep[t]=t.slice(8,-1).toLowerCase())});function Rp(e){return e=e.toLowerCase(),function(t){return gp(t)===e}}function Ip(e){return Array.isArray(e)}function Cp(e){return void 0===e}var vp=Rp(\"ArrayBuffer\");function yp(e){return null!==e&&\"object\"==typeof e}function Ap(e){if(\"object\"!==gp(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var Op=Rp(\"Date\"),Np=Rp(\"File\"),bp=Rp(\"Blob\"),wp=Rp(\"FileList\");function Dp(e){return\"[object Function]\"===Tp.call(e)}var Pp=Rp(\"URLSearchParams\");function Lp(e,t){if(null!=e)if(\"object\"!=typeof e&&(e=[e]),Ip(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var kp,Mp=(kp=\"undefined\"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return kp&&e instanceof kp}),Up={isArray:Ip,isArrayBuffer:vp,isBuffer:function(e){return null!==e&&!Cp(e)&&null!==e.constructor&&!Cp(e.constructor)&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t=\"[object FormData]\";return e&&(\"function\"==typeof FormData&&e instanceof FormData||Tp.call(e)===t||Dp(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&vp(e.buffer)},isString:function(e){return\"string\"==typeof e},isNumber:function(e){return\"number\"==typeof e},isObject:yp,isPlainObject:Ap,isUndefined:Cp,isDate:Op,isFile:Np,isBlob:bp,isFunction:Dp,isStream:function(e){return yp(e)&&Dp(e.pipe)},isURLSearchParams:Pp,isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:Lp,merge:function e(){var t={};function i(i,n){Ap(t[n])&&Ap(i)?t[n]=e(t[n],i):Ap(i)?t[n]=e({},i):Ip(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)Lp(arguments[n],i);return t},extend:function(e,t,i){return Lp(t,(function(t,n){e[n]=i&&\"function\"==typeof t?Sp(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,i,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)},toFlatObject:function(e,t,i){var n,r,o,s={};t=t||{};do{for(r=(n=Object.getOwnPropertyNames(e)).length;r-- >0;)s[o=n[r]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:gp,kindOfTest:Rp,endsWith:function(e,t,i){e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;var n=e.indexOf(t,i);return-1!==n&&n===i},toArray:function(e){if(!e)return null;var t=e.length;if(Cp(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i},isTypedArray:Mp,isFileList:wp},xp=Up;function Vp(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}var jp=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(xp.isURLSearchParams(t))n=t.toString();else{var r=[];xp.forEach(t,(function(e,t){null!=e&&(xp.isArray(e)?t+=\"[]\":e=[e],xp.forEach(e,(function(e){xp.isDate(e)?e=e.toISOString():xp.isObject(e)&&(e=JSON.stringify(e)),r.push(Vp(t)+\"=\"+Vp(e))})))})),n=r.join(\"&\")}if(n){var o=e.indexOf(\"#\");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+n}return e},Fp=Up;function Bp(){this.handlers=[]}Bp.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},Bp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Bp.prototype.forEach=function(e){Fp.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Gp=Bp,Wp=Up,Hp=Up;function Kp(e,t,i,n,r){Error.call(this),this.message=e,this.name=\"AxiosError\",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}Hp.inherits(Kp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Yp=Kp.prototype,qp={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\"].forEach((function(e){qp[e]={value:e}})),Object.defineProperties(Kp,qp),Object.defineProperty(Yp,\"isAxiosError\",{value:!0}),Kp.from=function(e,t,i,n,r,o){var s=Object.create(Yp);return Hp.toFlatObject(e,s,(function(e){return e!==Error.prototype})),Kp.call(s,e.message,t,i,n,r),s.name=e.name,o&&Object.assign(s,o),s};var Jp=Kp,Xp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zp=Up;var Qp=function(e,t){t=t||new FormData;var i=[];function n(e){return null===e?\"\":zp.isDate(e)?e.toISOString():zp.isArrayBuffer(e)||zp.isTypedArray(e)?\"function\"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(r,o){if(zp.isPlainObject(r)||zp.isArray(r)){if(-1!==i.indexOf(r))throw Error(\"Circular reference detected in \"+o);i.push(r),zp.forEach(r,(function(i,r){if(!zp.isUndefined(i)){var s,a=o?o+\".\"+r:r;if(i&&!o&&\"object\"==typeof i)if(zp.endsWith(r,\"{}\"))i=JSON.stringify(i);else if(zp.endsWith(r,\"[]\")&&(s=zp.toArray(i)))return void s.forEach((function(e){!zp.isUndefined(e)&&t.append(a,n(e))}));e(i,a)}})),i.pop()}else t.append(o,n(r))}(e),t},Zp=Jp,$p=Up,e_=$p.isStandardBrowserEnv()?{write:function(e,t,i,n,r,o){var s=[];s.push(e+\"=\"+encodeURIComponent(t)),$p.isNumber(i)&&s.push(\"expires=\"+new Date(i).toGMTString()),$p.isString(n)&&s.push(\"path=\"+n),$p.isString(r)&&s.push(\"domain=\"+r),!0===o&&s.push(\"secure\"),document.cookie=s.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},t_=function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)},i_=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e},n_=function(e,t){return e&&!t_(t)?i_(e,t):t},r_=Up,o_=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"],s_=Up,a_=s_.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement(\"a\");function n(e){var n=e;return t&&(i.setAttribute(\"href\",n),n=i.href),i.setAttribute(\"href\",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,\"\"):\"\",host:i.host,search:i.search?i.search.replace(/^\\?/,\"\"):\"\",hash:i.hash?i.hash.replace(/^#/,\"\"):\"\",hostname:i.hostname,port:i.port,pathname:\"/\"===i.pathname.charAt(0)?i.pathname:\"/\"+i.pathname}}return e=n(window.location.href),function(t){var i=s_.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0},c_=Jp;function d_(e){c_.call(this,null==e?\"canceled\":e,c_.ERR_CANCELED),this.name=\"CanceledError\"}Up.inherits(d_,c_,{__CANCEL__:!0});var u_=d_,l_=Up,h_=function(e,t,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new Zp(\"Request failed with status code \"+i.status,[Zp.ERR_BAD_REQUEST,Zp.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)},p_=e_,__=jp,E_=n_,m_=function(e){var t,i,n,r={};return e?(r_.forEach(e.split(\"\\n\"),(function(e){if(n=e.indexOf(\":\"),t=r_.trim(e.substr(0,n)).toLowerCase(),i=r_.trim(e.substr(n+1)),t){if(r[t]&&o_.indexOf(t)>=0)return;r[t]=\"set-cookie\"===t?(r[t]?r[t]:[]).concat([i]):r[t]?r[t]+\", \"+i:i}})),r):r},f_=a_,S_=Xp,T_=Jp,g_=u_,R_=function(e){var t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"},I_=function(e){return new Promise((function(t,i){var n,r=e.data,o=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener(\"abort\",n)}l_.isFormData(r)&&l_.isStandardBrowserEnv()&&delete o[\"Content-Type\"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||\"\",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):\"\";o.Authorization=\"Basic \"+btoa(d+\":\"+u)}var l=E_(e.baseURL,e.url);function h(){if(c){var n=\"getAllResponseHeaders\"in c?m_(c.getAllResponseHeaders()):null,r={data:s&&\"text\"!==s&&\"json\"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c};h_((function(e){t(e),a()}),(function(e){i(e),a()}),r),c=null}}if(c.open(e.method.toUpperCase(),__(l,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,\"onloadend\"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf(\"file:\"))&&setTimeout(h)},c.onabort=function(){c&&(i(new T_(\"Request aborted\",T_.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new T_(\"Network Error\",T_.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?\"timeout of \"+e.timeout+\"ms exceeded\":\"timeout exceeded\",n=e.transitional||S_;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new T_(t,n.clarifyTimeoutError?T_.ETIMEDOUT:T_.ECONNABORTED,e,c)),c=null},l_.isStandardBrowserEnv()){var p=(e.withCredentials||f_(l))&&e.xsrfCookieName?p_.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}\"setRequestHeader\"in c&&l_.forEach(o,(function(e,t){void 0===r&&\"content-type\"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),l_.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&\"json\"!==s&&(c.responseType=e.responseType),\"function\"==typeof e.onDownloadProgress&&c.addEventListener(\"progress\",e.onDownloadProgress),\"function\"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener(\"progress\",e.onUploadProgress),(e.cancelToken||e.signal)&&(n=function(e){c&&(i(!e||e&&e.type?new g_:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener(\"abort\",n))),r||(r=null);var _=R_(l);_&&-1===[\"http\",\"https\",\"file\"].indexOf(_)?i(new T_(\"Unsupported protocol \"+_+\":\",T_.ERR_BAD_REQUEST,e)):c.send(r)}))},C_=Up,v_=function(e,t){Wp.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))},y_=Jp,A_=Qp,O_={\"Content-Type\":\"application/x-www-form-urlencoded\"};function N_(e,t){!C_.isUndefined(e)&&C_.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var b_,w_={transitional:Xp,adapter:((\"undefined\"!=typeof XMLHttpRequest||\"undefined\"!=typeof process&&\"[object process]\"===Object.prototype.toString.call(process))&&(b_=I_),b_),transformRequest:[function(e,t){if(v_(t,\"Accept\"),v_(t,\"Content-Type\"),C_.isFormData(e)||C_.isArrayBuffer(e)||C_.isBuffer(e)||C_.isStream(e)||C_.isFile(e)||C_.isBlob(e))return e;if(C_.isArrayBufferView(e))return e.buffer;if(C_.isURLSearchParams(e))return N_(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString();var i,n=C_.isObject(e),r=t&&t[\"Content-Type\"];if((i=C_.isFileList(e))||n&&\"multipart/form-data\"===r){var o=this.env&&this.env.FormData;return A_(i?{\"files[]\":e}:e,o&&new o)}return n||\"application/json\"===r?(N_(t,\"application/json\"),function(e,t,i){if(C_.isString(e))try{return(t||JSON.parse)(e),C_.trim(e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||w_.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,r=!i&&\"json\"===this.responseType;if(r||n&&C_.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if(\"SyntaxError\"===e.name)throw y_.from(e,y_.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};C_.forEach([\"delete\",\"get\",\"head\"],(function(e){w_.headers[e]={}})),C_.forEach([\"post\",\"put\",\"patch\"],(function(e){w_.headers[e]=C_.merge(O_)}));var D_=w_,P_=Up,L_=D_,k_=function(e){return!(!e||!e.__CANCEL__)},M_=Up,U_=function(e,t,i){var n=this||L_;return P_.forEach(i,(function(i){e=i.call(n,e,t)})),e},x_=k_,V_=D_,j_=u_;function F_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new j_}var B_=Up,G_=function(e,t){t=t||{};var i={};function n(e,t){return B_.isPlainObject(e)&&B_.isPlainObject(t)?B_.merge(e,t):B_.isPlainObject(t)?B_.merge({},t):B_.isArray(t)?t.slice():t}function r(i){return B_.isUndefined(t[i])?B_.isUndefined(e[i])?void 0:n(void 0,e[i]):n(e[i],t[i])}function o(e){if(!B_.isUndefined(t[e]))return n(void 0,t[e])}function s(i){return B_.isUndefined(t[i])?B_.isUndefined(e[i])?void 0:n(void 0,e[i]):n(void 0,t[i])}function a(i){return i in t?n(e[i],t[i]):i in e?n(void 0,e[i]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return B_.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,n=t(e);B_.isUndefined(n)&&t!==a||(i[e]=n)})),i},W_=\"0.27.2\",H_=W_,K_=Jp,Y_={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((function(e,t){Y_[e]=function(i){return typeof i===e||\"a\"+(t<1?\"n \":\" \")+e}}));var q_={};Y_.transitional=function(e,t,i){function n(e,t){return\"[Axios v\"+H_+\"] Transitional option '\"+e+\"'\"+t+(i?\". \"+i:\"\")}return function(i,r,o){if(!1===e)throw new K_(n(r,\" has been removed\"+(t?\" in \"+t:\"\")),K_.ERR_DEPRECATED);return t&&!q_[r]&&(q_[r]=!0,console.warn(n(r,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(i,r,o)}};var J_=Up,X_=jp,z_=Gp,Q_=function(e){return F_(e),e.headers=e.headers||{},e.data=U_.call(e,e.data,e.headers,e.transformRequest),e.headers=M_.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),M_.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(t){delete e.headers[t]})),(e.adapter||V_.adapter)(e).then((function(t){return F_(e),t.data=U_.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return x_(t)||(F_(e),t&&t.response&&(t.response.data=U_.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Z_=G_,$_=n_,eE={assertOptions:function(e,t,i){if(\"object\"!=typeof e)throw new K_(\"options must be an object\",K_.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),r=n.length;r-- >0;){var o=n[r],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new K_(\"option \"+o+\" must be \"+c,K_.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new K_(\"Unknown option \"+o,K_.ERR_BAD_OPTION)}},validators:Y_},tE=eE.validators;function iE(e){this.defaults=e,this.interceptors={request:new z_,response:new z_}}iE.prototype.request=function(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},(t=Z_(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method=\"get\";var i=t.transitional;void 0!==i&&eE.assertOptions(i,{silentJSONParsing:tE.transitional(tE.boolean),forcedJSONParsing:tE.transitional(tE.boolean),clarifyTimeoutError:tE.transitional(tE.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var a=[Q_,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(s),o=Promise.resolve(t);a.length;)o=o.then(a.shift(),a.shift());return o}for(var c=t;n.length;){var d=n.shift(),u=n.shift();try{c=d(c)}catch(e){u(e);break}}try{o=Q_(c)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},iE.prototype.getUri=function(e){e=Z_(this.defaults,e);var t=$_(e.baseURL,e.url);return X_(t,e.params,e.paramsSerializer)},J_.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){iE.prototype[e]=function(t,i){return this.request(Z_(i||{},{method:e,url:t,data:(i||{}).data}))}})),J_.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(i,n,r){return this.request(Z_(r||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:n}))}}iE.prototype[e]=t(),iE.prototype[e+\"Form\"]=t(!0)}));var nE=iE,rE=u_;function oE(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");var t;this.promise=new Promise((function(e){t=e}));var i=this;this.promise.then((function(e){if(i._listeners){var t,n=i._listeners.length;for(t=0;t<n;t++)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e){i.reason||(i.reason=new rE(e),t(i.reason))}))}oE.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},oE.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},oE.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},oE.source=function(){var e;return{token:new oE((function(t){e=t})),cancel:e}};var sE=oE,aE=Up,cE=Up,dE=fp,uE=nE,lE=G_;var hE=function e(t){var i=new uE(t),n=dE(uE.prototype.request,i);return cE.extend(n,uE.prototype,i),cE.extend(n,i),n.create=function(i){return e(lE(t,i))},n}(D_);hE.Axios=uE,hE.CanceledError=u_,hE.CancelToken=sE,hE.isCancel=k_,hE.VERSION=W_,hE.toFormData=Qp,hE.AxiosError=Jp,hE.Cancel=hE.CanceledError,hE.all=function(e){return Promise.all(e)},hE.spread=function(e){return function(t){return e.apply(null,t)}},hE.isAxiosError=function(e){return aE.isObject(e)&&!0===e.isAxiosError},mp.exports=hE,mp.exports.default=hE;var pE=mp.exports;class _E{constructor(e){_p(this,\"logger\",void 0),_p(this,\"prefixLists\",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}class EE{constructor(){_p(this,\"_events\",{}),_p(this,\"addListener\",this.on)}getListeners(e){return this._events[e]?this._events[e].map(e=>e.listener):[]}on(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const i=this._events[e],n=this._indexOfListener(i,t);-1!==n&&i.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map(e=>e);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<t.length;i+=1){const r=t[i];r.once&&this.off(e,r.listener),r.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];[...this._events[e]||[]].forEach(t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,i)}catch(t){OE.error(\"safeEmit event:\".concat(e,\" error \").concat(null==t?void 0:t.toString()))}})}_indexOfListener(e,t){let i=e.length;for(;i--;)if(e[i].listener===t)return i;return-1}}const mE=new class extends EE{reportLogUploadError(e){this.emit(\"REPORT_LOG_UPLOAD\",e)}};let fE;!function(e){e.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",e.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",e.TIMEOUT=\"TIMEOUT\",e.INVALID_PARAMS=\"INVALID_PARAMS\",e.NOT_READABLE=\"NOT_READABLE\",e.NOT_SUPPORTED=\"NOT_SUPPORTED\",e.INVALID_OPERATION=\"INVALID_OPERATION\",e.OPERATION_ABORTED=\"OPERATION_ABORTED\",e.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",e.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",e.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",e.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",e.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",e.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",e.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",e.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",e.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",e.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",e.PERMISSION_DENIED=\"PERMISSION_DENIED\",e.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",e.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",e.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",e.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",e.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",e.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",e.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",e.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",e.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",e.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",e.UID_CONFLICT=\"UID_CONFLICT\",e.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",e.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",e.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",e.INVALID_TRACK=\"INVALID_TRACK\",e.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",e.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",e.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",e.ICE_FAILED=\"ICE_FAILED\",e.PC_CLOSED=\"PC_CLOSED\",e.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",e.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",e.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",e.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",e.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",e.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",e.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",e.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",e.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",e.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",e.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",e.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",e.WS_ABORT=\"WS_ABORT\",e.WS_DISCONNECT=\"WS_DISCONNECT\",e.WS_ERR=\"WS_ERR\",e.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",e.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",e.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",e.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",e.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",e.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",e.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",e.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",e.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",e.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",e.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",e.INVALID_PLUGIN=\"INVALID_PLUGIN\",e.DISCONNECT_P2P=\"DISCONNECT_P2P\",e.INIT_WEBSOCKET_TIMEOUT=\"INIT_WEBSOCKET_TIMEOUT\",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",e.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",e.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",e.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",e.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\"}(fE||(fE={}));class SE extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2?arguments[2]:void 0;super(t),_p(this,\"code\",void 0),_p(this,\"message\",void 0),_p(this,\"data\",void 0),_p(this,\"name\",\"AgoraRTCException\"),this.code=e,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(t),this.data=i}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),\"\\n\").concat(this.stack):\"\".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\";return\"error\"===e&&OE.error(this.toString()),\"warning\"===e&&OE.warning(this.toString()),this}throw(){throw this.print(),this}}const TE={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function gE(e,t){const i=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,i)}function RE(e,t,i,n){const r=Object.assign({},TE,n);let o=r.timeout;const s=async()=>{await function(e){return new Sl(t=>{window.setTimeout(t,e)})}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o)};let a=!1;const c=new Sl(async(n,o)=>{t=t||(()=>!1),i=i||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return o(new SE(fE.OPERATION_ABORTED));try{const i=await e();if(!t(i,c))return n(i);if(c+1===r.maxRetryCount)return n(i);await s()}catch(e){if(!i(e,c))return o(e);if(c+1===r.maxRetryCount)return o(e);await s()}}});return c.cancel=()=>a=!0,c}function IE(){const e=new Date;return e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}function CE(){const e=new Date,t=/((\\d+:){2}\\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+\":\"+e.getUTCMilliseconds():e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}const vE={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},yE=Date.now(),AE=e=>{for(const t in vE)if(Object.prototype.hasOwnProperty.call(vE,t)&&vE[t]===e)return t;return\"DEFAULT\"};const OE=new class{constructor(){_p(this,\"proxyServerURL\",void 0),_p(this,\"logLevel\",vE.DEBUG),_p(this,\"uploadState\",\"collecting\"),_p(this,\"uploadLogWaitingList\",[]),_p(this,\"uploadLogUploadingList\",[]),_p(this,\"uploadErrorCount\",0),_p(this,\"currentLogID\",0),_p(this,\"url\",void 0),_p(this,\"extLog\",(e,t)=>{this.appendLogToWaitingList(e,...t)})}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[vE.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[vE.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[vE.WARNING].concat(t);this.log.apply(this,n)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[vE.ERROR].concat(t);this.log.apply(this,n)}upload(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[vE.DEBUG].concat(t);this.uploadLog.apply(this,n)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){BE(\"UPLOAD_LOG\",!0)}disableLogUpload(){BE(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new _E(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-yE<100)return void setTimeout(()=>{this.log(...t)},Date.now()-yE);const n=Math.max(0,Math.min(4,t[0]));if(t[0]=IE()+\" Agora-SDK [\".concat(AE(n),\"]:\"),this.appendLogToWaitingList(n,...t),n<this.logLevel)return;const r=IE()+\" %cAgora-SDK [\".concat(AE(n),\"]:\");let o=[];if(!GE(\"USE_NEW_LOG\"))switch(n){case vE.DEBUG:o=[r,\"color: #64B5F6;\"].concat(t.slice(1)),console.log.apply(console,o);break;case vE.INFO:o=[r,\"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)),console.log.apply(console,o);break;case vE.WARNING:o=[r,\"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)),console.warn.apply(console,o);break;case vE.ERROR:o=[r,\"color: #B00020; font-weight: bold;\"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-yE<100)return void setTimeout(()=>{this.uploadLog(...t)},Date.now()-yE);const n=Math.max(0,Math.min(4,t[0]));t[0]=IE()+\" Agora-SDK [\".concat(AE(n),\"]:\"),this.appendLogToWaitingList(n,...t)}appendLogToWaitingList(e){if(!GE(\"UPLOAD_LOG\"))return;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Array.isArray(i[0])?i[0][0]=CE()+\" Agora-SDK [\".concat(AE(e),\"]:\"):i[0]=CE()+\" Agora-SDK [\".concat(AE(e),\"]:\");let r=\"\";i.forEach(e=>{\"object\"==typeof e&&(e=JSON.stringify(e)),r+=\"\".concat(e,\" \")}),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),\"uploading\"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState=\"uploading\",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:bE,process_id:GE(\"PROCESS_ID\"),payload:JSON.stringify(e)};return RE(async()=>{const e=await pE.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(GE(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(GE(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),t,{responseType:\"text\"});if(\"OK\"!==e.data){const t=new Error(\"unexpected upload log response\");throw t.response=e,t}},()=>(this.uploadLogUploadingList=[],!1),e=>(e.response?mE.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?mE.reportLogUploadError({status:e.request.status,message:e.message}):mE.reportLogUploadError({status:-1,message:e.message}),!0),{timeout:GE(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:GE(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,GE(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),GE(\"UPLOAD_LOG_INTERVAL\"))}).catch(e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),GE(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout(()=>this.uploadLogInterval(),GE(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"))}))}},NE=\"v4.18.2-0-g8d83af1d-dirty(7/11/2023, 7:07:15 PM)\",bE=function(e){if(e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return e;const t=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],i=t[2];return\"\".concat(e,\".\").concat(i)}const i=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(i&&i[1]&&i[2]){const e=i[1],t=i[2];return\"\".concat(e,\".\").concat(100*(Number(t)+1))}return\"4.0.0.999\"}(\"4.18.2\"),wE=function(){try{return!0===JSON.parse(\"true\")}catch(e){return!0}}(),DE=[\"CHINA\",\"GLOBAL\"],PE=function(){const e=\"us\".concat(\"erna\",\"me\"),t=\"pa\".concat(\"sswo\",\"rd\"),i=[\"t\",\"s\",\"t\"];i.splice(1,0,\"e\");const n=i.join(\"\"),r=[];for(let e=0;e<6;e++)r.push(\"1\");const o=r.join(\"\"),s={};return s[e]=n,s[t]=o,Object.assign(s,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=PE;const LE={\"90p\":YE(160,90),\"90p_1\":YE(160,90),\"120p\":YE(160,120,15,30,65),\"120p_1\":YE(160,120,15,30,65),\"120p_3\":YE(120,120,15,30,50),\"120p_4\":YE(212,120),\"180p\":YE(320,180,15,30,140),\"180p_1\":YE(320,180,15,30,140),\"180p_3\":YE(180,180,15,30,100),\"180p_4\":YE(240,180,15,30,120),\"240p\":YE(320,240,15,40,200),\"240p_1\":YE(320,240,15,40,200),\"240p_3\":YE(240,240,15,40,140),\"240p_4\":YE(424,240,15,40,220),\"360p\":YE(640,360,15,80,400),\"360p_1\":YE(640,360,15,80,400),\"360p_3\":YE(360,360,15,80,260),\"360p_4\":YE(640,360,30,80,600),\"360p_6\":YE(360,360,30,80,400),\"360p_7\":YE(480,360,15,80,320),\"360p_8\":YE(480,360,30,80,490),\"360p_9\":YE(640,360,15,80,800),\"360p_10\":YE(640,360,24,80,800),\"360p_11\":YE(640,360,24,80,1e3),\"480p\":YE(640,480,15,100,500),\"480p_1\":YE(640,480,15,100,500),\"480p_2\":YE(640,480,30,100,1e3),\"480p_3\":YE(480,480,15,100,400),\"480p_4\":YE(640,480,30,100,750),\"480p_6\":YE(480,480,30,100,600),\"480p_8\":YE(848,480,15,100,610),\"480p_9\":YE(848,480,30,100,930),\"480p_10\":YE(640,480,10,100,400),\"720p\":YE(1280,720,15,120,1130),\"720p_1\":YE(1280,720,15,120,1130),\"720p_2\":YE(1280,720,30,120,2e3),\"720p_3\":YE(1280,720,30,120,1710),\"720p_5\":YE(960,720,15,120,910),\"720p_6\":YE(960,720,30,120,1380),\"1080p\":YE(1920,1080,15,120,2080),\"1080p_1\":YE(1920,1080,15,120,2080),\"1080p_2\":YE(1920,1080,30,120,3e3),\"1080p_3\":YE(1920,1080,30,120,3150),\"1080p_5\":YE(1920,1080,60,120,4780),\"1440p\":YE(2560,1440,30,120,4850),\"1440p_1\":YE(2560,1440,30,120,4850),\"1440p_2\":YE(2560,1440,60,120,7350),\"4k\":YE(3840,2160,30,120,8910),\"4k_1\":YE(3840,2160,30,120,8910),\"4k_3\":YE(3840,2160,60,120,13500)},kE={\"480p\":qE(640,480,5),\"480p_1\":qE(640,480,5),\"480p_2\":qE(640,480,30),\"480p_3\":qE(640,480,15),\"720p\":qE(1280,720,5),\"720p_1\":qE(1280,720,5),\"720p_2\":qE(1280,720,30),\"720p_3\":qE(1280,720,15),\"1080p\":qE(1920,1080,5),\"1080p_1\":qE(1920,1080,5),\"1080p_2\":qE(1920,1080,30),\"1080p_3\":qE(1920,1080,15)},ME={\"1SL1TL\":JE(1,1),\"3SL3TL\":JE(3,3),\"2SL3TL\":JE(2,3)};function UE(e){return e||(e=\"480p_1\"),\"string\"==typeof e?Object.assign({},LE[e]):e}function xE(e){return\"string\"==typeof e?Object.assign({},kE[e]):e}function VE(e){return\"string\"==typeof e?Object.assign({},ME[e]):e}const jE={speech_low_quality:KE(16e3,!1),speech_standard:KE(32e3,!1,18),music_standard:KE(48e3,!1),standard_stereo:KE(48e3,!0,56),high_quality:KE(48e3,!1,128),high_quality_stereo:KE(48e3,!0,192)};function FE(e){return\"string\"==typeof e?Object.assign({},jE[e]):e}function BE(e,t,i){Object.keys(WE).includes(e)&&(!i&&Object.keys(HE).includes(e)||(WE[e]=t))}function GE(e){return WE[e]}const WE={PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:DE,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION:2e3,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0}},HE={};function KE(e,t,i){return{sampleRate:e,stereo:t,bitrate:i}}function YE(e,t,i,n,r){return{width:e,height:t,frameRate:i,bitrateMin:n,bitrateMax:r}}function qE(e,t,i,n,r){return{width:{max:e},height:{max:t},frameRate:i,bitrateMin:n,bitrateMax:r}}function JE(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}wE||(WE.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],WE.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],WE.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],WE.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],WE.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],WE.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],WE.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",WE.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",WE.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",WE.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",WE.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);const XE=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],zE=[],QE=[];function ZE(e,t){return!!t&&zE.some(i=>i.uid===e&&i.channelName===t)}var $E=Et,em=Ht,tm=w,im=function(e,t,i){var n=$E(t);n in e?em.f(e,n,tm(0,i)):e[n]=i},nm=Un,rm=bi,om=im,sm=h.Array,am=Math.max,cm=function(e,t,i){for(var n=rm(e),r=nm(t,n),o=nm(void 0===i?n:i,n),s=sm(am(o-r,0)),a=0;r<o;r++,a++)om(s,a,e[r]);return s.length=a,s},dm=cm,um=Math.floor,lm=function(e,t){var i=e.length,n=um(i/2);return i<8?hm(e,t):pm(e,lm(dm(e,0,n),t),lm(dm(e,n),t),t)},hm=function(e,t){for(var i,n,r=e.length,o=1;o<r;){for(n=o,i=e[o];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==o++&&(e[n]=i)}return e},pm=function(e,t,i,n){for(var r=t.length,o=i.length,s=0,a=0;s<r||a<o;)e[s+a]=s<r&&a<o?n(t[s],i[a])<=0?t[s++]:i[a++]:s<r?t[s++]:i[a++];return e},_m=lm,Em=ee.match(/firefox\\/(\\d+)/i),mm=!!Em&&+Em[1],fm=/MSIE|Trident/.test(ee),Sm=ee.match(/AppleWebKit\\/(\\d+)\\./),Tm=!!Sm&&+Sm[1],gm=Ii,Rm=d,Im=Ce,Cm=je,vm=bi,ym=wo,Am=i,Om=_m,Nm=Vi,bm=mm,wm=fm,Dm=ae,Pm=Tm,Lm=[],km=Rm(Lm.sort),Mm=Rm(Lm.push),Um=Am((function(){Lm.sort(void 0)})),xm=Am((function(){Lm.sort(null)})),Vm=Nm(\"sort\"),jm=!Am((function(){if(Dm)return Dm<70;if(!(bm&&bm>3)){if(wm)return!0;if(Pm)return Pm<603;var e,t,i,n,r=\"\";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Lm.push({k:t+n,v:i})}for(Lm.sort((function(e,t){return t.v-e.v})),n=0;n<Lm.length;n++)t=Lm[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return\"DGBEFHACIJK\"!==r}}));gm({target:\"Array\",proto:!0,forced:Um||!xm||!Vm||!jm},{sort:function(e){void 0!==e&&Im(e);var t=Cm(this);if(jm)return void 0===e?km(t):km(t,e);var i,n,r=[],o=vm(t);for(n=0;n<o;n++)n in t&&Mm(r,t[n]);for(Om(r,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:ym(t)>ym(i)?1:-1}}(e)),i=r.length,n=0;n<i;)t[n]=r[n++];for(;n<o;)delete t[n++];return t}});var Fm=Hi(\"Array\").sort,Bm=u,Gm=Fm,Wm=Array.prototype,Hm=function(e){var t=e.sort;return e===Wm||Bm(Wm,e)&&t===Wm.sort?Gm:t};function Km(e,t){if(\"boolean\"!=typeof e)throw new SE(fE.INVALID_PARAMS,\"Invalid \".concat(t,\": The value is of the boolean type.\"))}function Ym(e,t,i){if(i.includes(e))return;throw new SE(fE.INVALID_PARAMS,\"\".concat(t,\" can only be set as \").concat(JSON.stringify(i)))}function qm(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e<i||e>n||r&&!tf(e)){throw new SE(fE.INVALID_PARAMS,\"invalid \".concat(t,\": the value range is [\").concat(i,\", \").concat(n,\"]. integer only\"))}}function Jm(e,t){if(\"number\"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact)){throw new SE(fE.INVALID_PARAMS,\"\".concat(t,\" is not a valid ConstrainLong\"))}void 0!==e.min&&qm(e.min,\"\".concat(t,\".min\"),0,1/0),void 0!==e.max&&qm(e.max,\"\".concat(t,\".max\"),1,1/0),void 0!==e.exact&&qm(e.exact,\"\".concat(t,\".exact\"),1,1/0),void 0!==e.ideal&&qm(e.ideal,\"\".concat(t,\".ideal\"),1,1/0)}else qm(e,t,1,1/0)}function Xm(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new SE(fE.INVALID_PARAMS,\"\".concat(t||\"param\",\" cannot be empty\"));if(!ef(e,i,n,r))throw new SE(fE.INVALID_PARAMS,\"Invalid \".concat(t||\"string param\",\": Length of the string: [\").concat(i,\",\").concat(n,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function zm(e,t){if(!Array.isArray(e))throw new SE(fE.INVALID_PARAMS,\"\".concat(t,\" should be an array\"))}function Qm(e){if(\"string\"!=typeof e||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e))throw OE.error(\"Invalid Channel Name \".concat(e)),new SE(fE.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function Zm(e){if(!(t=e,\"number\"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295||ef(e,1,255)))throw OE.error(\"Invalid UID \".concat(e,\" \").concat(typeof e)),new SE(fE.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");var t;\"string\"==typeof e&&OE.warning(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\")}function $m(e){return null==e}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return\"string\"==typeof e&&e.length<=i&&e.length>=t&&(!n||nf(e))}function tf(e){return\"number\"==typeof e&&e%1==0}function nf(e){if(\"string\"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const i=e.charCodeAt(t);if(i<0||i>255)return!1}return!0}let rf,of,sf;!function(e){e.FREE=\"free\",e.UPLOADING=\"uploading\"}(rf||(rf={})),function(e){e[e.MISC=0]=\"MISC\",e[e.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",e[e.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",e[e.WEB_EVENT=3]=\"WEB_EVENT\",e[e.INTERNAL_API=4]=\"INTERNAL_API\",e[e.WEB_API=5]=\"WEB_API\",e[e.PUBLIC_API=6]=\"PUBLIC_API\"}(of||(of={})),function(e){e.NONE=\"none\",e.INIT=\"init\",e.CANPLAY=\"canplay\",e.PLAYING=\"playing\",e.PAUSED=\"paused\",e.SUSPEND=\"suspend\",e.STALLED=\"stalled\",e.WAITING=\"waiting\",e.ERROR=\"error\",e.DESTROYED=\"destroyed\",e.ABORT=\"abort\",e.ENDED=\"ended\",e.EMPTIED=\"emptied\",e.LOADEDDATA=\"loadeddata\"}(sf||(sf={}));const af={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};function cf(e){return Xm(e.reportId,\"params.reportId\",0,100,!1),Xm(e.category,\"params.category\",0,100,!1),Xm(e.event,\"params.event\",0,100,!1),Xm(e.label,\"params.label\",0,100,!1),qm(e.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}const df={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let uf,lf,hf,pf,_f,Ef,mf,ff,Sf,Tf,gf,Rf,If,Cf,vf,yf,Af,Of,Nf,bf,wf,Df,Pf,Lf;function kf(e){return qm(e.timeout,\"config.timeout\",0,1e5),qm(e.timeoutFactor,\"config.timeoutFactor\",0,100,!1),qm(e.maxRetryCount,\"config.maxRetryConfig\",0,1/0),qm(e.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}function Mf(e){return Ym(e.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),Ym(e.mode,\"config.mode\",[\"rtc\",\"live\"]),void 0!==e.audioCodec&&Ym(e.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),void 0!==e.proxyServer&&Xm(e.proxyServer,\"config.proxyServer\",1,1e4),void 0!==e.turnServer&&xf(e.turnServer),void 0!==e.httpRetryConfig&&kf(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&kf(e.websocketRetryConfig),!0}function Uf(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach(e=>{if(!e.urls)throw Error()})}catch(e){return!1}return!0}function xf(e){return Xm(e.turnServerURL,\"turnServerURL\"),Xm(e.username,\"username\"),Xm(e.password,\"password\"),e.udpport&&qm(e.udpport,\"udpport\",1,99999,!0),e.forceturn&&Km(e.forceturn,\"forceturn\"),e.security&&Km(e.security,\"security\"),e.tcpport&&qm(e.tcpport,\"tcpport\",1,99999,!0),!0}function Vf(e){return void 0!==e.level&&Ym(e.level,\"level\",[1,2,3]),!0}!function(e){e.PUBLISH=\"publish\",e.SUBSCRIBE=\"subscribe\",e.WS_COMPRESSOR_INIT=\"ws_compressor_init\",e.SESSION_INIT=\"session_init\",e.JOIN_CHOOSE_SERVER=\"join_choose_server\",e.REQ_USER_ACCOUNT=\"req_user_account\",e.JOIN_GATEWAY=\"join_gateway\",e.REJOIN_GATEWAY=\"rejoin_gateway\",e.STREAM_SWITCH=\"stream_switch\",e.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",e.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",e.FIRST_VIDEO_RECEIVED=\"first_video_received\",e.FIRST_AUDIO_RECEIVED=\"first_audio_received\",e.FIRST_VIDEO_DECODE=\"first_video_decode\",e.FIRST_AUDIO_DECODE=\"first_audio_decode\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_UPDATE_STREAM=\"on_update_stream\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.USER_ANALYTICS=\"req_user_analytics\",e.PC_STATS=\"pc_stats\"}(uf||(uf={})),function(e){e.SESSION=\"io.agora.pb.Wrtc.Session\",e.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",e.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",e.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",e.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",e.PUBLISH=\"io.agora.pb.Wrtc.Publish\",e.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",e.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",e.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",e.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",e.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",e.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",e.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",e.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",e.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",e.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",e.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",e.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",e.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",e.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",e.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",e.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",e.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",e.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",e.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",e.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",e.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",e.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",e.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",e.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",e.PC_STATS=\"io.agora.pb.Wrtc.PCStats\"}(lf||(lf={})),function(e){e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\"}(hf||(hf={})),function(e){e[e.SESSION=26]=\"SESSION\",e[e.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",e[e.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",e[e.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",e[e.PUBLISH=30]=\"PUBLISH\",e[e.SUBSCRIBE=29]=\"SUBSCRIBE\",e[e.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",e[e.STREAM_SWITCH=32]=\"STREAM_SWITCH\",e[e.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",e[e.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",e[e.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",e[e.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",e[e.API_INVOKE=41]=\"API_INVOKE\",e[e.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",e[e.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",e[e.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",e[e.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",e[e.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",e[e.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",e[e.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",e[e.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",e[e.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",e[e.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",e[e.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",e[e.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",e[e.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",e[e.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\"}(pf||(pf={})),function(e){e.CREATE_CLIENT=\"createClient\",e.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",e.SET_AREA=\"setArea\",e.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",e.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",e.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",e.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",e.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",e.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",e.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",e.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",e.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",e.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",e.START_PROXY_SERVER=\"Client.startProxyServer\",e.STOP_PROXY_SERVER=\"Client.stopProxyServer\",e.SET_PROXY_SERVER=\"Client.setProxyServer\",e.SET_TURN_SERVER=\"Client.setTurnServer\",e.SET_CLIENT_ROLE=\"Client.setClientRole\",e.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",e.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",e.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",e.JOIN=\"Client.join\",e.LEAVE=\"Client.leave\",e.PUBLISH=\"Client.publish\",e.UNPUBLISH=\"Client.unpublish\",e.SUBSCRIBE=\"Client.subscribe\",e.MASS_SUBSCRIBE=\"Client.massSubscribe\",e.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",e.UNSUBSCRIBE=\"Client.unsubscribe\",e.RENEW_TOKEN=\"Client.renewToken\",e.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",e.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",e.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",e.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",e.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",e.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",e.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",e.DATACHANNEL_FAILBACK=\"Client._datachannelFailback\",e.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",e.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",e.START_LIVE_STREAMING=\"Client.startLiveStreaming\",e.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",e.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",e.ADD_INJECT_STREAM_URL=\"Client.addInjectStreamUrl\",e.REMOVE_INJECT_STREAM_URL=\"Client.removeInjectStreamUrl\",e.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",e.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",e.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",e.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",e.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",e.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",e.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",e.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",e.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",e.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",e.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",e.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",e.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",e.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",e.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",e.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",e.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",e.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",e.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",e.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",e.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",e.STREAM_TYPE_CHANGE=\"streamTypeChange\",e.CONNECTION_STATE_CHANGE=\"connectionStateChange\",e.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",e.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\"}(_f||(_f={})),function(e){e.TRACER=\"tracer\"}(Ef||(Ef={})),function(e){e.IDLE=\"IDLE\",e.INITING=\"INITING\",e.INITEND=\"INITEND\"}(mf||(mf={})),function(e){e.STATE_CHANGE=\"state_change\",e.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",e.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",e.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\"}(ff||(ff={})),function(e){e[e.ACCESS_POINT=101]=\"ACCESS_POINT\",e[e.UNILBS=201]=\"UNILBS\",e[e.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\"}(Sf||(Sf={})),function(e){e[e.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",e[e.IIIEGAL_UID=2]=\"IIIEGAL_UID\",e[e.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\"}(Tf||(Tf={})),function(e){e[e.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",e[e.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",e[e.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",e[e.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",e[e.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",e[e.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",e[e.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",e[e.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",e[e.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",e[e.USER_OVERLOAD=16]=\"USER_OVERLOAD\",e[e.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",e[e.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\"}(gf||(gf={})),function(e){e[e.NO_FLAG_SET=100]=\"NO_FLAG_SET\",e[e.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",e[e.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",e[e.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",e[e.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",e[e.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",e[e.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",e[e.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",e[e.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",e[e.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",e[e.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",e[e.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",e[e.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",e[e.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\"}(Rf||(Rf={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",e[e.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",e[e.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",e[e.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",e[e.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",e[e.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",e[e.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",e[e.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",e[e.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",e[e.K_UID_BANNED=14]=\"K_UID_BANNED\",e[e.K_IP_BANNED=15]=\"K_IP_BANNED\",e[e.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",e[e.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",e[e.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",e[e.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",e[e.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",e[e.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",e[e.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",e[e.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",e[e.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",e[e.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",e[e.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",e[e.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",e[e.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",e[e.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",e[e.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",e[e.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",e[e.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",e[e.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",e[e.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",e[e.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",e[e.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",e[e.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",e[e.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",e[e.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",e[e.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",e[e.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",e[e.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",e[e.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",e[e.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",e[e.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\"}(If||(If={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\"}(Cf||(Cf={})),function(e){e.LEAVE=\"LEAVE\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.UID_BANNED=\"UID_BANNED\",e.IP_BANNED=\"IP_BANNED\",e.CHANNEL_BANNED=\"CHANNEL_BANNED\",e.FALLBACK=\"FALLBACK\",e.LICENSE_MISSING=\"LICENSE_MISSING\",e.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",e.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",e.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",e.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",e.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\"}(vf||(vf={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.MEDIA_RECONNECT_START=\"media-reconnect-start\",e.MEDIA_RECONNECT_END=\"media-reconnect-end\",e.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",e.USER_JOINED=\"user-joined\",e.USER_LEAVED=\"user-left\",e.USER_PUBLISHED=\"user-published\",e.USER_UNPUBLISHED=\"user-unpublished\",e.USER_INFO_UPDATED=\"user-info-updated\",e.CLIENT_BANNED=\"client-banned\",e.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",e.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",e.VOLUME_INDICATOR=\"volume-indicator\",e.CRYPT_ERROR=\"crypt-error\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGED=\"stream-type-changed\",e.STREAM_FALLBACK=\"stream-fallback\",e.RECEIVE_METADATA=\"receive-metadata\",e.STREAM_MESSAGE=\"stream-message\",e.LIVE_STREAMING_ERROR=\"live-streaming-error\",e.LIVE_STREAMING_WARNING=\"live-streaming-warning\",e.INJECT_STREAM_STATUS=\"stream-inject-status\",e.EXCEPTION=\"exception\",e.ERROR=\"error\",e.P2P_LOST=\"p2p_lost\",e.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",e.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",e.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",e.PUBLISHED_USER_LIST=\"published-user-list\",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",e.CONTENT_INSPECT_ERROR=\"content-inspect-error\",e.CONTENT_INSPECT_RESULT=\"content-inspect-result\",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\"}(yf||(yf={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(Af||(Af={})),function(e){e.CONNECTING=\"connecting\",e.CONNECTED=\"connected\",e.RECONNECTING=\"reconnecting\",e.CLOSED=\"closed\"}(Of||(Of={})),function(e){e.WS_CONNECTED=\"ws_connected\",e.WS_RECONNECTING=\"ws_reconnecting\",e.WS_CLOSED=\"ws_closed\",e.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",e.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",e.ON_BINARY_DATA=\"on_binary_data\",e.REQUEST_RECOVER=\"request_recover\",e.REQUEST_JOIN_INFO=\"request_join_info\",e.REQUEST_REJOIN_INFO=\"req_rejoin_info\",e.IS_P2P_DISCONNECTED=\"is_p2p_dis\",e.DISCONNECT_P2P=\"dis_p2p\",e.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",e.NEED_RENEW_SESSION=\"need-sid\",e.REPORT_JOIN_GATEWAY=\"report_join_gateway\",e.REQUEST_TIMEOUT=\"request_timeout\",e.REQUEST_SUCCESS=\"request_success\",e.JOIN_RESPONSE=\"join_response\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_CONNECTING=\"datachannel_connecting\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\"}(Nf||(Nf={})),function(e){e.PING=\"ping\",e.PING_BACK=\"ping_back\",e.JOIN=\"join_v3\",e.REJOIN=\"rejoin_v3\",e.LEAVE=\"leave\",e.SET_CLIENT_ROLE=\"set_client_role\",e.PUBLISH=\"publish\",e.UNPUBLISH=\"unpublish\",e.SUBSCRIBE=\"subscribe\",e.SUBSCRIBE_STREAMS=\"subscribe_streams\",e.UNSUBSCRIBE=\"unsubscribe\",e.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",e.SUBSCRIBE_CHANGE=\"subscribe_change\",e.TRAFFIC_STATS=\"traffic_stats\",e.RENEW_TOKEN=\"renew_token\",e.SWITCH_VIDEO_STREAM=\"switch_video_stream\",e.DEFAULT_VIDEO_STREAM=\"default_video_stream\",e.SET_FALLBACK_OPTION=\"set_fallback_option\",e.GATEWAY_INFO=\"gateway_info\",e.CONTROL=\"control\",e.SEND_METADATA=\"send_metadata\",e.DATA_STREAM=\"data_stream\",e.PICK_SVC_LAYER=\"pick_svc_layer\",e.RESTART_ICE=\"restart_ice\",e.CONNECT_PC=\"connect_pc\",e.SET_VIDEO_PROFILE=\"set_video_profile\",e.SET_PARAMETER=\"set_parameter\"}(bf||(bf={})),function(e){e.PUBLISH_STATS=\"publish_stats\",e.PUBLISH_RELATED_STATS=\"publish_related_stats\",e.SUBSCRIBE_STATS=\"subscribe_stats\",e.SUBSCRIBE_RELATED_STATS=\"subscribe_related_stats\",e.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",e.DENOISER_STATS=\"denoiser_stats\",e.TRANSPORT_STATS=\"transport_stats\",e.EXTENSION_USAGE_STATS=\"extension_usage_stats\"}(wf||(wf={})),function(e){e.ON_USER_ONLINE=\"on_user_online\",e.ON_USER_OFFLINE=\"on_user_offline\",e.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",e.ON_PUBLISH_STREAM=\"on_publish_stream\",e.ON_UPLINK_STATS=\"on_uplink_stats\",e.ON_P2P_LOST=\"on_p2p_lost\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",e.ON_USER_BANNED=\"on_user_banned\",e.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",e.ON_NOTIFICATION=\"on_notification\",e.ON_CRYPT_ERROR=\"on_crypt_error\",e.MUTE_AUDIO=\"mute_audio\",e.MUTE_VIDEO=\"mute_video\",e.UNMUTE_AUDIO=\"unmute_audio\",e.UNMUTE_VIDEO=\"unmute_video\",e.ON_P2P_OK=\"on_p2p_ok\",e.RECEIVE_METADATA=\"receive_metadata\",e.ON_DATA_STREAM=\"on_data_stream\",e.ENABLE_LOCAL_VIDEO=\"enable_local_video\",e.DISABLE_LOCAL_VIDEO=\"disable_local_video\",e.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",e.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",e.ON_PUBLISHED_USER_LIST=\"on_published_user_list\"}(Df||(Df={})),function(e){e.CONNECTION_STATE_CHANGE=\"CONNECTION_STATE_CHANGE\",e.NEED_ANSWER=\"NEED_ANSWER\",e.NEED_RENEGOTIATE=\"NEED_RENEGOTIATE\",e.P2P_LOST=\"P2P_LOST\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NEED_UNPUB=\"NEED_UNPUB\",e.NEED_UNSUB=\"NEED_UNSUB\",e.NEED_UPLOAD=\"NEED_UPLOAD\",e.NEED_CONTROL=\"NEED_CONTROL\",e.START_RECONNECT=\"START_RECONNECT\",e.END_RECONNECT=\"END_RECONNECT\",e.NEED_SIGNAL_RTT=\"NEED_SIGNAL_RTT\"}(Pf||(Pf={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",e.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",e.ON_AUDIO_BUFFER=\"on_audio_buffer\",e.UPDATE_SOURCE=\"update_source\"}(Lf||(Lf={}));const jf={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},Ff={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},Bf={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Gf={uplinkNetworkQuality:0,downlinkNetworkQuality:0},Wf={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let Hf,Kf,Yf;!function(e){e.CONNECTED=\"websocket:connected\",e.RECONNECTING=\"websocket:reconnecting\",e.WILL_RECONNECT=\"websocket:will_reconnect\",e.CLOSED=\"websocket:closed\",e.FAILED=\"websocket:failed\",e.ON_MESSAGE=\"websocket:on_message\",e.REQUEST_NEW_URLS=\"websocket:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\"}(Hf||(Hf={})),function(e){e.TRANSCODE=\"mix_streaming\",e.RAW=\"raw_streaming\",e.INJECT=\"inject_streaming\"}(Kf||(Kf={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]=\"INJECT_STREAM_STATUS_START_SUCCESS\",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]=\"INJECT_STREAM_STATUS_START_ALREADY_EXISTS\",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]=\"INJECT_STREAM_STATUS_START_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]=\"INJECT_STREAM_STATUS_START_TIMEOUT\",e[e.INJECT_STREAM_STATUS_START_FAILED=4]=\"INJECT_STREAM_STATUS_START_FAILED\",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]=\"INJECT_STREAM_STATUS_STOP_SUCCESS\",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]=\"INJECT_STREAM_STATUS_STOP_NOT_FOUND\",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]=\"INJECT_STREAM_STATUS_STOP_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]=\"INJECT_STREAM_STATUS_STOP_TIMEOUT\",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]=\"INJECT_STREAM_STATUS_STOP_FAILED\",e[e.INJECT_STREAM_STATUS_BROKEN=10]=\"INJECT_STREAM_STATUS_BROKEN\"}(Yf||(Yf={}));const qf={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Jf={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Xf(e,t){Xm(e.url,\"\".concat(t,\".url\"),1,1e3,!1),$m(e.x)||qm(e.x,\"\".concat(t,\".x\"),0,1e4),$m(e.y)||qm(e.y,\"\".concat(t,\".y\"),0,1e4),$m(e.width)||qm(e.width,\"\".concat(t,\".width\"),0,1e4),$m(e.height)||qm(e.height,\"\".concat(t,\".height\"),0,1e4),$m(e.zOrder)||qm(e.zOrder,\"\".concat(t,\".zOrder\"),0,255),$m(e.alpha)||qm(e.alpha,\"\".concat(t,\".alpha\"),0,1,!1)}const zf={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"},Qf={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};let Zf,$f,eS,tS,iS,nS,rS,oS,sS,aS,cS,dS,uS,lS,hS,pS,_S,ES,mS,fS,SS;function TS(e){if(!e.channelName)throw new SE(fE.INVALID_PARAMS,\"invalid channelName in info\");if(\"number\"!=typeof e.uid)throw new SE(fE.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return e.token&&Xm(e.token,\"info.token\",1,2047),Zm(e.uid),Qm(e.channelName),!0}function gS(e){return Ym(e,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}!function(e){e.WARNING=\"@live_uap-warning\",e.ERROR=\"@line_uap-error\",e.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",e.INJECT_STREAM_STATUS=\"@live_uap-inject-status\",e.WORKER_STATUS=\"@live_uap-worker-status\",e.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\"}(Zf||(Zf={})),function(e){e.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\"}($f||($f={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",e[e.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\"}(eS||(eS={})),function(e){e.CONNECT_FAILED=\"connect failed\",e.CONNECT_TIMEOUT=\"connect timeout\",e.WS_DISCONNECTED=\"websocket disconnected\",e.REQUEST_TIMEOUT=\"request timeout\",e.REQUEST_FAILED=\"request failed\",e.WAIT_STATUS_TIMEOUT=\"wait status timeout\",e.WAIT_STATUS_ERROR=\"wait status error\",e.BAD_STATE=\"bad state\",e.WS_ABORT=\"ws abort\",e.AP_REQUEST_TIMEOUT=\"AP request timeout\",e.AP_JSON_PARSE_ERROR=\"AP json parse error\",e.AP_REQUEST_ERROR=\"AP request error\",e.AP_REQUEST_ABORT=\"AP request abort\"}(tS||(tS={})),function(e){e[e.SetSdkProfile=0]=\"SetSdkProfile\",e[e.SetSourceChannel=1]=\"SetSourceChannel\",e[e.SetSourceUserId=2]=\"SetSourceUserId\",e[e.SetDestChannel=3]=\"SetDestChannel\",e[e.StartPacketTransfer=4]=\"StartPacketTransfer\",e[e.StopPacketTransfer=5]=\"StopPacketTransfer\",e[e.UpdateDestChannel=6]=\"UpdateDestChannel\",e[e.Reconnect=7]=\"Reconnect\",e[e.SetVideoProfile=8]=\"SetVideoProfile\"}(iS||(iS={})),function(e){e.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",e.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",e.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",e.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",e.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",e.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",e.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",e.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\"}(nS||(nS={})),function(e){e.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",e.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",e.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",e.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\"}(rS||(rS={})),function(e){e.RELAY_OK=\"RELAY_OK\",e.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",e.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",e.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\"}(oS||(oS={})),function(e){e.High=\"high\",e.Low=\"low\",e.Audio=\"audio\",e.Screen=\"screen\",e.ScreenLow=\"screen_low\"}(sS||(sS={})),function(e){e.DISCONNECT=\"disconnect\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGE=\"stream-type-change\",e.IS_P2P_DISCONNECTED=\"is-p2p-dis\",e.DISCONNECT_P2P=\"dis-p2p\",e.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",e.NEED_RENEW_SESSION=\"need-sid\",e.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",e.JOIN_RESPONSE=\"join-response\",e.REQUEST_DC_CONNECTION_PARAMS=\"request-dc-connection-params\",e.RESET_CONNECTION_EVENTS=\"reset-connection-events\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.RESET_SIGNAL=\"reset-signal\"}(aS||(aS={})),function(e){e[e.Nothing=0]=\"Nothing\",e[e.Audio=1]=\"Audio\",e[e.LwoVideo=2]=\"LwoVideo\",e[e.Video=4]=\"Video\",e[e.Data=8]=\"Data\"}(cS||(cS={})),function(e){e[e.websocket=0]=\"websocket\",e[e.datachannel=1]=\"datachannel\"}(dS||(dS={})),function(e){e.NEED_RENEGOTIATE=\"@need_renegotiate\",e.NEED_REPLACE_TRACK=\"@need_replace_track\",e.NEED_CLOSE=\"@need_close\",e.NEED_ENABLE_TRACK=\"@need_enable_track\",e.NEED_DISABLE_TRACK=\"@need_disable_track\",e.NEED_SESSION_ID=\"@need_sid\",e.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",e.GET_STATS=\"@get_stats\",e.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",e.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",e.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",e.NEED_MUTE_TRACK=\"@need_mute_track\",e.NEED_UNMUTE_TRACK=\"@need_unmute_track\"}(uS||(uS={})),function(e){e.SCREEN_TRACK=\"screen_track\",e.CUSTOM_TRACK=\"custome_track\",e.LOW_STREAM=\"low_stream\"}(lS||(lS={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(hS||(hS={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(pS||(pS={})),function(e){e[e.DISABLE=0]=\"DISABLE\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.AUDIO_ONLY=2]=\"AUDIO_ONLY\"}(_S||(_S={})),function(e){e.TRANSCEIVER_UPDATED=\"transceiver-updated\"}(ES||(ES={})),function(e){e.SOURCE_STATE_CHANGE=\"source-state-change\",e.TRACK_ENDED=\"track-ended\",e.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.CLOSED=\"closed\"}(mS||(mS={})),function(e){e.FIRST_FRAME_DECODED=\"first-frame-decoded\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\"}(fS||(fS={})),function(e){e.CHINA=\"CHINA\",e.ASIA=\"ASIA\",e.NORTH_AMERICA=\"NORTH_AMERICA\",e.EUROPE=\"EUROPE\",e.JAPAN=\"JAPAN\",e.INDIA=\"INDIA\",e.KOREA=\"KOREA\",e.HKMC=\"HKMC\",e.US=\"US\",e.OCEANIA=\"OCEANIA\",e.SOUTH_AMERICA=\"SOUTH_AMERICA\",e.AFRICA=\"AFRICA\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"EXTENSIONS\"}(SS||(SS={}));const RS=[SS.AFRICA,SS.ASIA,SS.CHINA,SS.EUROPE,SS.GLOBAL,SS.INDIA,SS.JAPAN,SS.NORTH_AMERICA,SS.OCEANIA,SS.OVERSEA,SS.SOUTH_AMERICA];let IS;!function(e){e.CHINA=\"CN\",e.ASIA=\"AS\",e.NORTH_AMERICA=\"NA\",e.EUROPE=\"EU\",e.JAPAN=\"JP\",e.INDIA=\"IN\",e.KOREA=\"KR\",e.HKMC=\"HK\",e.US=\"US\",e.OCEANIA=\"OC\",e.SOUTH_AMERICA=\"SA\",e.AFRICA=\"AF\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"GLOBAL\"}(IS||(IS={}));const CS={CHINA:{},ASIA:{CODE:IS.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:IS.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:IS.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:IS.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"\\tuap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:IS.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:IS.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:IS.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:IS.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:IS.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:IS.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:IS.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:IS.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:IS.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};let vS,yS,AS,OS,NS,bS,wS,DS,PS,LS,kS,MS,US,xS,VS,jS,FS,BS,GS,WS,HS,KS;wE&&(CS.CHINA={CODE:IS.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]}),function(e){e.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\"}(vS||(vS={}));class YS extends EE{constructor(e,t){super(),_p(this,\"onICEConnectionStateChange\",void 0),_p(this,\"onConnectionStateChange\",void 0),_p(this,\"onDTLSTransportStateChange\",void 0),_p(this,\"onDTLSTransportError\",void 0),_p(this,\"onICETransportStateChange\",void 0),_p(this,\"onFirstAudioReceived\",void 0),_p(this,\"onFirstVideoReceived\",void 0),_p(this,\"onFirstAudioDecoded\",void 0),_p(this,\"onFirstVideoDecoded\",void 0),_p(this,\"onFirstVideoDecodedTimeout\",void 0),_p(this,\"onSelectedLocalCandidateChanged\",void 0),_p(this,\"onSelectedRemoteCandidateChanged\",void 0),_p(this,\"establishPromise\",void 0)}}!function(e){e.SEND=\"sendonly\",e.RECV=\"recvonly\",e.SENDRECV=\"sendrecv\",e.INACTIVE=\"inactive\"}(yS||(yS={})),function(e){e.VIDEO=\"video\",e.AUDIO=\"audio\"}(AS||(AS={})),function(e){e[e.UDP=0]=\"UDP\",e[e.TCP=1]=\"TCP\",e[e.RELAY=2]=\"RELAY\"}(OS||(OS={})),function(e){e[e.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",e[e.TCP_RESTART=1]=\"TCP_RESTART\",e[e.RELAY_RESTART=2]=\"RELAY_RESTART\",e[e.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",e[e.OLD_RESTART=11]=\"OLD_RESTART\",e[e.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\"}(NS||(NS={})),function(e){e.LocalVideoTrack=\"videoTrack\",e.LocalAudioTrack=\"audioTrack\",e.LocalVideoLowTrack=\"videoLowTrack\"}(bS||(bS={})),function(e){e.New=\"new\",e.Connected=\"connected\",e.Reconnecting=\"reconnecting\",e.Disconnected=\"disconnected\"}(wS||(wS={})),function(e){e.StateChange=\"stateChange\",e.IceConnectionStateChange=\"iceConnectionStateChange\",e.RequestMuteLocal=\"requestMuteLocal\",e.RequestUnmuteLocal=\"requestUnmuteLocal\",e.RequestRePublish=\"requestRePublish\",e.RequestReSubscribe=\"requestReSubscribe\",e.RequestUploadStats=\"requestUploadStats\",e.MediaReconnectStart=\"MediaReconnectStart\",e.MediaReconnectEnd=\"MediaReconnectEnd\",e.NeedSignalRTT=\"NeedSignalRTT\",e.RequestRestartICE=\"RequestRestartIce\",e.PeerConnectionStateChange=\"PeerConnectionStateChange\",e.RequestReconnect=\"RequestReconnect\",e.RequestReconnectPC=\"RequestReconnectPC\",e.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",e.P2PLost=\"P2PLost\",e.UpdateVideoEncoder=\"UpdateVideoEncoder\",e.ConnectionTypeChange=\"ConnectionTypeChange\",e.RequestLowStreamParameter=\"RequestLowStreamParameter\",e.QueryClientConnectionState=\"QueryClientConnectionState\"}(DS||(DS={})),function(e){e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(PS||(PS={})),function(e){e.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(LS||(LS={})),function(e){e.ON_TRACK=\"on_track\",e.ON_NODE=\"on_node\"}(kS||(kS={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",e.REQUEST_CONSTRAINTS=\"request_constraints\"}(MS||(MS={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(US||(US={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(xS||(xS={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(VS||(VS={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(jS||(jS={})),function(e){e.CONNECTED=\"transmitter:connected\",e.RECONNECTING=\"transmitter:reconnecting\",e.WILL_RECONNECT=\"transmitter:will_reconnect\",e.CLOSED=\"transmitter:closed\",e.FAILED=\"transmitter:failed\",e.ON_MESSAGE=\"transmitter:on_message\",e.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",e.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",e.FAILBACK=\"transmitter:failback\"}(FS||(FS={})),function(e){e.CAMERA_CHANGED=\"camera-changed\",e.MICROPHONE_CHANGED=\"microphone-changed\",e.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",e.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",e.AUTOPLAY_FAILED=\"autoplay-failed\",e.SECURITY_POLICY_VIOLATION=\"security-policy-violation\"}(BS||(BS={})),function(e){e[e.APP_TYPE_INVALID_VALUE=-1]=\"APP_TYPE_INVALID_VALUE\",e[e.APP_TYPE_NATIVE=0]=\"APP_TYPE_NATIVE\",e[e.APP_TYPE_NATIVE_COCOS=1]=\"APP_TYPE_NATIVE_COCOS\",e[e.APP_TYPE_NATIVE_UNITY=2]=\"APP_TYPE_NATIVE_UNITY\",e[e.APP_TYPE_NATIVE_ELECTRON=3]=\"APP_TYPE_NATIVE_ELECTRON\",e[e.APP_TYPE_NATIVE_FLUTTER=4]=\"APP_TYPE_NATIVE_FLUTTER\",e[e.APP_TYPE_NATIVE_UNREAL=5]=\"APP_TYPE_NATIVE_UNREAL\",e[e.APP_TYPE_NATIVE_XAMARIN=6]=\"APP_TYPE_NATIVE_XAMARIN\",e[e.APP_TYPE_NATIVE_API_CLOUD=7]=\"APP_TYPE_NATIVE_API_CLOUD\",e[e.APP_TYPE_NATIVE_REACT_NATIVE=8]=\"APP_TYPE_NATIVE_REACT_NATIVE\",e[e.APP_TYPE_NATIVE_PYTHON=9]=\"APP_TYPE_NATIVE_PYTHON\",e[e.APP_TYPE_NATIVE_COCOS_CREATOR=10]=\"APP_TYPE_NATIVE_COCOS_CREATOR\",e[e.APP_TYPE_NATIVE_RUST=11]=\"APP_TYPE_NATIVE_RUST\",e[e.APP_TYPE_NATIVE_C_SHARP=12]=\"APP_TYPE_NATIVE_C_SHARP\",e[e.APP_TYPE_NATIVE_CEF=13]=\"APP_TYPE_NATIVE_CEF\",e[e.APP_TYPE_NATIVE_UNI_APP=14]=\"APP_TYPE_NATIVE_UNI_APP\",e[e.APP_TYPE_WEBRTC=1e3]=\"APP_TYPE_WEBRTC\",e[e.APP_TYPE_WEBRTC_REACT=1001]=\"APP_TYPE_WEBRTC_REACT\",e[e.APP_TYPE_WEBRTC_VUE=1002]=\"APP_TYPE_WEBRTC_VUE\",e[e.APP_TYPE_WEBRTC_ANGULAR=1003]=\"APP_TYPE_WEBRTC_ANGULAR\"}(GS||(GS={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(WS||(WS={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(HS||(HS={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(KS||(KS={}));const qS={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1};function JS(){return qS}let XS;!function(e){e[e.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",e[e.CLOUD_PROXY=18]=\"CLOUD_PROXY\",e[e.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",e[e.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\"}(XS||(XS={}));var zS=k,QS=Array.isArray||function(e){return\"Array\"==zS(e)},ZS=h,$S=QS,eT=oc,tT=q,iT=rt(\"species\"),nT=ZS.Array,rT=function(e){var t;return $S(e)&&(t=e.constructor,(eT(t)&&(t===nT||$S(t.prototype))||tT(t)&&null===(t=t[iT]))&&(t=void 0)),void 0===t?nT:t},oT=function(e,t){return new(rT(e))(0===t?0:t)},sT=Wt,aT=F,cT=je,dT=bi,uT=oT,lT=d([].push),hT=function(e){var t=1==e,i=2==e,n=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,d,u,l){for(var h,p,_=cT(c),E=aT(_),m=sT(d,u),f=dT(E),S=0,T=l||uT,g=t?T(c,f):i||s?T(c,0):void 0;f>S;S++)if((a||S in E)&&(p=m(h=E[S],S,_),e))if(t)g[S]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return S;case 2:lT(g,h)}else switch(e){case 4:return!1;case 7:lT(g,h)}return o?-1:n||r?r:g}},pT={forEach:hT(0),map:hT(1),filter:hT(2),some:hT(3),every:hT(4),find:hT(5),findIndex:hT(6),filterReject:hT(7)},_T=pT.forEach,ET=Vi(\"forEach\")?[].forEach:function(e){return _T(this,e,arguments.length>1?arguments[1]:void 0)};Ii({target:\"Array\",proto:!0,forced:[].forEach!=ET},{forEach:ET});var mT=Hi(\"Array\").forEach,fT=Zr,ST=Ge,TT=u,gT=mT,RT=Array.prototype,IT={DOMTokenList:!0,NodeList:!0},CT=function(e){var t=e.forEach;return e===RT||TT(RT,e)&&t===RT.forEach||ST(IT,fT(e))?gT:t},vT=je,yT=hr;Ii({target:\"Object\",stat:!0,forced:i((function(){yT(1)}))},{keys:function(e){return yT(vT(e))}});var AT=J.Object.keys,OT=Xi,NT=Ii,bT=QS,wT=d([].reverse),DT=[1,2];NT({target:\"Array\",proto:!0,forced:String(DT)===String(DT.reverse())},{reverse:function(){return bT(this)&&(this.length=this.length),wT(this)}});var PT=Hi(\"Array\").reverse,LT=u,kT=PT,MT=Array.prototype,UT=function(e){var t=e.reverse;return e===MT||LT(MT,e)&&t===MT.reverse?kT:t},xT=i,VT=ae,jT=rt(\"species\"),FT=function(e){return VT>=51||!xT((function(){var t=[];return(t.constructor={})[jT]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},BT=Ii,GT=h,WT=QS,HT=oc,KT=q,YT=Un,qT=bi,JT=K,XT=im,zT=rt,QT=pc,ZT=FT(\"slice\"),$T=zT(\"species\"),eg=GT.Array,tg=Math.max;BT({target:\"Array\",proto:!0,forced:!ZT},{slice:function(e,t){var i,n,r,o=JT(this),s=qT(o),a=YT(e,s),c=YT(void 0===t?s:t,s);if(WT(o)&&(i=o.constructor,(HT(i)&&(i===eg||WT(i.prototype))||KT(i)&&null===(i=i[$T]))&&(i=void 0),i===eg||void 0===i))return QT(o,a,c);for(n=new(void 0===i?eg:i)(tg(c-a,0)),r=0;a<c;a++,r++)a in o&&XT(n,r,o[a]);return n.length=r,n}});var ig=Hi(\"Array\").slice,ng=u,rg=ig,og=Array.prototype,sg=function(e){var t=e.slice;return e===og||ng(og,e)&&t===og.slice?rg:t};function ag(e,t,i,n,r){var o,s,a,c={};return CT(o=AT(n)).call(o,(function(e){c[e]=n[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,(\"value\"in c||c.initializer)&&(c.writable=!0),c=OT(s=UT(a=sg(i).call(i)).call(a)).call(s,(function(i,n){return n(e,t,i)||i}),c),r&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),void 0===c.initializer&&(pp(e,t,c),c=null),c}var cg=Hi(\"Array\").keys,dg=Zr,ug=Ge,lg=u,hg=cg,pg=Array.prototype,_g={DOMTokenList:!0,NodeList:!0},Eg=function(e){var t=e.keys;return e===pg||lg(pg,e)&&t===pg.keys||ug(_g,dg(e))?hg:t};function mg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fg(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mg(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let Sg=0,Tg=0;function gg(e,t,i,n){return new Sl((r,o)=>{t.timeout=t.timeout||GE(\"HTTP_CONNECT_TIMEOUT\"),t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),Sg+=XI(t.data)):i&&(t.data.size?Sg+=t.data.size:t.data instanceof FormData?Sg+=function(e){let t=0;/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData);return e.forEach(e=>{t+=\"string\"==typeof e?XI(e):e.size}),t+138}(t.data):Sg+=XI(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,pE.request(t).then(e=>{\"string\"==typeof e.data?Tg+=XI(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?Tg+=e.data.byteLength:Tg+=XI(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)}).catch(e=>{pE.isCancel(e)?o(new SE(fE.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?o(new SE(fE.NETWORK_TIMEOUT,e.message)):e.response?o(new SE(fE.NETWORK_RESPONSE_ERROR,e.response.status)):o(new SE(fE.NETWORK_ERROR,e.message))})})}async function Rg(e,t){const i=new Blob([t.data],{type:\"buffer\"});return await gg(e,fg(fg({},t),{},{data:i,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}const Ig=new class extends EE{set networkState(e){OE.info(\"[\".concat(this._moduleName,\"]\")+\"network state changed, \"+this._networkState+\" -> \"+e),this.emit(LS.NETWORK_STATE_CHANGE,e,this._networkState),e===PS.ONLINE?this.emit(LS.ONLINE):e===PS.OFFLINE&&(this.onlineWaiter=new Sl(e=>{this.once(LS.ONLINE,()=>{this.onlineWaiter=void 0,e(PS.ONLINE)})}),this.emit(LS.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}constructor(){super(),_p(this,\"_moduleName\",\"network-indicator\"),_p(this,\"_networkState\",PS.ONLINE),_p(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",()=>{this.networkState=PS.ONLINE}),window.addEventListener(\"offline\",()=>{this.networkState=PS.OFFLINE})}};let Cg=!1;const vg=new class extends EE{constructor(){super(...arguments),_p(this,\"onAutoplayFailed\",void 0),_p(this,\"onAudioAutoplayFailed\",void 0)}};function yg(){if(xh(),!Cg){const e=t=>{t.preventDefault(),Cg=!1,sp()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};Cg=!0,sp()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),OE.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),vg.onAutoplayFailed?vg.onAutoplayFailed():vg.onAudioAutoplayFailed?OE.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"):OE.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"),vg.emit(\"autoplay-failed\")}}function Ag(e){return(new TextEncoder).encode(e)}const Og=function(e,t){const i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i};const Ng=async e=>function(e,t){let i=\"\";return new Uint8Array(e).forEach(e=>{i+=e.toString(t).padStart(2,\"0\")}),i}(await crypto.subtle.digest(\"SHA-256\",Ag(e)),16);function bg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wg(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bg(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Dg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i,n){const r=n.value;if(\"function\"==typeof r){const o=e.className||t.__className__||(\"AgoraRTCClient\"===t.constructor.name?\"Client\":t.constructor.name);n.value=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];let a=n;if(e.argsMap)try{a=e.argsMap(this,...n)}catch(e){OE.warning(e),a=[]}try{JSON.stringify(a)}catch(e){OE.warning(\"arguments for method \".concat(o,\".\").concat(String(i),\" not serializable for apiInvoke.\")),a=[]}const c=(e.report||Pg).reportApiInvoke(this._sessionId||null,{name:\"\".concat(o,\".\").concat(String(i)),options:a,tag:Ef.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,n);return t instanceof Sl?t.then(t=>(c.onSuccess(e.reportResult&&t),t)).catch(e=>{throw c.onError(e),e}):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return n}}const Pg=new class{constructor(){_p(this,\"baseInfoMap\",new Map),_p(this,\"proxyServer\",void 0),_p(this,\"clientList\",zE),_p(this,\"eventUploadTimer\",void 0),_p(this,\"setSessionIdTimer\",void 0),_p(this,\"url\",void 0),_p(this,\"backupUrl\",void 0),_p(this,\"_appId\",void 0),_p(this,\"keyEventUploadPendingItems\",[]),_p(this,\"normalEventUploadPendingItems\",[]),_p(this,\"apiInvokeUploadPendingItems\",[]),_p(this,\"apiInvokeCount\",0),_p(this,\"ltsList\",[]),_p(this,\"lastSendNormalEventTime\",Date.now()),_p(this,\"customReportCounterTimer\",void 0),_p(this,\"customReportCount\",0),_p(this,\"extApiInvoke\",async e=>{for(const t of e){const e=wg(wg({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Ef.TRACER});this.sendApiInvoke(e)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),GE(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),GE(\"EVENT_REPORT_SEND_INTERVAL\"))}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void OE.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));const t=this.baseInfoMap.get(e),i=Date.now(),n=t.startTime;t.startTime=i,OE.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-n,\"ms\")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,i){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const n=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,o=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:n,options:t.options,states:t.states||null}),s=!!GE(\"SHOW_REPORT_INVOKER_LOG\");s&&OE.info(\"\".concat(t.name,\" start\"),t.options);let a=!1;zI(t.timeout).then(()=>{a||(this.sendApiInvoke(wg(wg({},o()),{},{error:fE.API_INVOKE_TIMEOUT,success:!1})),OE.debug(\"\".concat(t.name,\" timeout\")))});const c=new SE(fE.UNEXPECTED_ERROR,\"\".concat(t.name,\": this api invoke is end\"));return{onSuccess:e=>{const n=()=>{if(a)throw c;return a=!0,this.sendApiInvoke(wg(wg({},o()),{},{success:!0},t.reportResult&&{result:e})),s&&OE.info(\"\".concat(t.name,\" onSuccess\")),e};return i?mC(n,t.name+\"Success\",i,()=>a=!0):n()},onError:e=>{const n=()=>{if(a)throw e;a=!0,this.sendApiInvoke(wg(wg({},o()),{},{success:!1,error:e})),s&&OE.info(\"\".concat(t.name,\" onFailure\"),e.toString())};return i?mC(n,t.name+\"Error\",i,()=>a=!0):n()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const i=Date.now(),n=this.createBaseInfo(e,i);n.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:GE(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:wE?\"global\":\"oversea\",areas:GE(\"AREAS\")&&GE(\"AREAS\").join(\",\")},t.extend),o=Date.now(),s=wg(wg({},n),{},{eventType:uf.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:NE,lts:o,elapse:o-i,extend:JSON.stringify(r),mode:t.mode,process:GE(\"PROCESS_ID\"),appType:GE(\"APP_TYPE\"),success:!0,version:bE});this.send({type:lf.SESSION,data:s},!0)}joinChooseServer(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.JOIN_CHOOSE_SERVER,lts:r,eventElapse:r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-i.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||\"\",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:lf.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:r-i.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:lf.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;const r=Date.now(),{firstSuccess:o,avoidJoinStartTime:s,isProxy:a,addr:c}=t,d=r-(o&&s?s:i.startTime),u=wg(wg({},n),{},{eventType:uf.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:d,eventElapse:r-t.lts,firstSuccess:o,signalChannel:t.signalChannel}),l=u.success?1:0;if(t.succ&&(i.lastJoinSuccessTime=r),o)this.send({type:lf.JOIN_GATEWAY,data:u},!0);else{let e;if(c)if(a){const t=c.match(/h=(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/p=[0-9]{1,6}/g);e={isSuccess:l,gatewayIp:t&&t.length?t[0].split(\"=\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(\"=\")[1]:\"\",isProxy:a?1:0}}else{const t=c.match(/wss:\\/\\/(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/:[0-9]{1,6}/g);e={isSuccess:l,gatewayIp:t&&t.length?t[0].split(\"//\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(\":\")[1]:\"\",isProxy:a?1:0}}else e={isSuccess:l,gatewayIp:\"\",port:\"\",isProxy:a?1:0};delete u.success,delete u.eventType,delete u.firstSuccess,u.vid=Number(u.vid);const t=Object.assign({},u,e,{eventType:uf.REJOIN_GATEWAY});this.send({type:lf.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=Date.now(),r=wg(wg({},i.info),{},{lts:n,timeout:t,elapse:n-i.startTime});this.send({type:lf.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-i.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:lf.PUBLISH,data:o},!0)}subscribe(e,t,i){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),s=wg(wg({},r),{},{eventType:uf.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-n.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},i&&{extend:JSON.stringify({isMassSubscribe:!0})});\"string\"==typeof t.peerid?s.peerSuid=t.peerid:s.peer=t.peerid,this.send({type:lf.SUBSCRIBE,data:s},!0)}wsCompressorInit(e){var t;const i=[...Eg(t=this.baseInfoMap).call(t)],n=i.length?i[0]:\"UnableToGetSid\",r=this.baseInfoMap.get(n);if(!r)return;const o=r.info,s=Date.now(),a=wg(wg({},o),{},{eventType:uf.WS_COMPRESSOR_INIT,lts:s,eventElapse:e.eventElapse,elapse:s-r.startTime,status:e.status?1:2});this.send({type:lf.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=wg(wg(wg({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s,firstDecodeFrame:Math.max(s-r.startTime,0),apEnd:Math.max(n.apEnd-r.startTime,0),apStart:Math.max(n.apStart-r.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-r.startTime,0),joinGwStart:Math.max(n.joinGwStart-r.startTime,0),pcEnd:Math.max(n.pcEnd-r.startTime,0),pcStart:Math.max(n.pcStart-r.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-r.startTime,0),subscriberStart:Math.max(n.subscriberStart-r.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-r.startTime,0)});this.send({type:i,data:a},!0)}firstRemoteFrame(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=wg(wg(wg({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s});this.send({type:i,data:a},!0)}pcStats(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg(wg({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:uf.PC_STATS,lts:r});this.send({type:lf.PC_STATS,data:o},!0)}onGatewayStream(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=wg(wg(wg({},o),n),{},{eventType:t,lts:s});this.send({type:i,data:a},!0)}streamSwitch(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-i.startTime,success:t.succ});this.send({type:lf.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:lf.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{eventType:uf.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:lf.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?OE.debug(\"reportProxyServerurl: \".concat(e)):OE.debug(\"disable reportProxyServerurl: \".concat(e))}peerPublishStatus(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg({},n),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-i.startTime,joinChannelSuccessElapse:r-(i.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:lf.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now();(function(e,t,i){const n=e[t];if(!n||\"string\"!=typeof n)return[e];e[t]=\"\";const r=XI(JSON.stringify(e));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=i-r||(s[s.length]=JI(JI({},e),{},{[t]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);o!==n.length-1&&(s[s.length]=JI(JI({},e),{},{[t]:n.substring(o)}));return s})(wg(wg(wg({},n),t),{},{elapse:r-i.startTime,lts:r,productType:\"WebRTC\"}),\"payload\",1300).forEach(e=>this.send({type:lf.WORKER_EVENT,data:e},!0))}apworkerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg(wg({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:lf.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg(wg({},n),t),{},{elapse:r-i.startTime,lts:r,extend:t.extend||void 0});this.send({type:lf.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=wg(wg(wg({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:lf.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>GE(\"CUSTOM_REPORT_LIMIT\"))throw new SE(fE.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const i=Date.now(),n=t.map(t=>({type:lf.USER_ANALYTICS,data:wg(wg({sid:e},t),{},{lts:i})}));try{GE(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw OE.error(\"send custom report message failed\",e.toString()),new SE(fE.CUSTOM_REPORT_SEND_FAILED,e.message)}}autoplayFailed(e,t,i,n){if(!e)return;const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=wg(wg({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:vg.onAutoplayFailed||vg.onAudioAutoplayFailed?1:-1,errorMsg:i,mediaType:t,trackId:n,extend:void 0});this.send({type:lf.AUTOPLAY_FAILED,data:a},!0)}sendApiInvoke(e){const t=GE(\"NOT_REPORT_EVENT\");if(e.tag&&t.includes&&t.includes(e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:n,uid:r,cid:o}=i.info;e.lts=e.lts||Date.now();let s=void 0;if(e.error)if(e.error instanceof SE){const{code:t,message:i}=e.error;s=t||(i||e.error.toString())}else s=e.error.toString();const a={invokeId:e.invokeId,sid:e.sid,cname:n,cid:o,uid:r,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?s:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:lf.API_INVOKE,data:a},!1),!0}appendSessionId(){this.clientList.forEach(e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let i=0;i<t;i++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}})}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>GE(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const i=[],n=[];for(;e.length;){const t=e.shift();i.length<20?i.push(t):n.push(t)}e.push(...n);for(const e of[...i]){var r;if(-1!==this.ltsList.indexOf(e.data.lts))e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts);else this.ltsList.push(e.data.lts),Hm(r=this.ltsList).call(r,(e,t)=>e-t)}t||(this.lastSendNormalEventTime=Date.now());return GE(\"ENABLE_EVENT_REPORT\")?(i.length&&(GE(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((e=>i=>{GE(\"EVENT_REPORT_RETRY\")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>GE(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-GE(\"NORMAL_EVENT_QUEUE_CAPACITY\")),OE.warning(\"report: drop normal events\"))))})(i)),e):e}async postDataToStatsCollector2(e){Ig.networkState===PS.OFFLINE&&await Sl.race([Ig.onlineWaiter,zI(2*TE.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach(e=>{const i=Ag(JSON.stringify(e.data)),n=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(lf).forEach(i=>{let[n,r]=i;r===e.type&&(t=pf[n])}),t})(e),o=new DataView(n);o.setUint16(0,i.byteLength,!0),o.setUint8(2,255&r),o.setUint8(3,r>>>8&255),o.setUint8(4,r>>>16&255),t=Og(t,new Uint8Array(n)),t=Og(t,i)}),t},i=\"event\";let n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(GE(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(GE(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let r=0;r<2;r+=1){1===r&&(n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(GE(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(GE(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await gg(n,{timeout:1e4,data:t(e),headers:wg(wg({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map(e=>JSON.stringify(e)),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};Ig.networkState===PS.OFFLINE&&await Sl.race([Ig.onlineWaiter,zI(2*TE.maxRetryTimeout)]);const n=t?\"/events/proto-raws\":\"/events/messages\";let r=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(GE(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(GE(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(GE(\"EVENT_REPORT_DOMAIN\"),\":\").concat(GE(\"STATS_COLLECTOR_PORT\")).concat(n));for(let e=0;e<2;e+=1){1===e&&(r=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(GE(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(GE(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(GE(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(GE(\"STATS_COLLECTOR_PORT\")).concat(n)));try{t?await Rg(r,{timeout:1e4,data:i}):await gg(r,{timeout:1e4,data:i})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const i=Object.assign({},df);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:t}),i}reportResourceTiming(e,t){const i=performance.getEntriesByName(e),n=i[i.length-1];n&&this.reportApiInvoke(t,{name:\"Client.resourceTiming\",options:n,tag:Ef.TRACER}).onSuccess()}};mE.on(\"REPORT_LOG_UPLOAD\",e=>{e.networkState=Ig.networkState,Pg.reportApiInvoke(null,{name:\"logUploadError\",options:e,tag:Ef.TRACER})});class Lg extends EE{constructor(e,t){super(),_p(this,\"trackMediaType\",void 0),_p(this,\"_ID\",void 0),_p(this,\"_rtpTransceiver\",void 0),_p(this,\"_lowRtpTransceiver\",void 0),_p(this,\"_hints\",[]),_p(this,\"_isClosed\",!1),_p(this,\"_originMediaStreamTrack\",void 0),_p(this,\"_mediaStreamTrack\",void 0),_p(this,\"_external\",{}),this._ID=t||ZI(8,\"track-\"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){QE.includes(e)||QE.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=Pg.reportApiInvoke(null,{name:_f.GET_MEDIA_STREAM_TRACK,options:[],tag:Ef.TRACER});this._mediaStreamTrack&&\"string\"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess(\"\")}return this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===hS.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=QE.indexOf(e);-1!==t&&QE.splice(t,1)}(this),this.emit(mS.CLOSED)}_updateRtpTransceiver(e,t){if(t===hS.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(ES.TRANSCEIVER_UPDATED,e,t)}}let kg,Mg=1;class Ug{constructor(e){_p(this,\"lockingPromise\",Sl.resolve()),_p(this,\"locks\",0),_p(this,\"name\",\"\"),_p(this,\"lockId\",void 0),this.lockId=Mg++,e&&(this.name=e),OE.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,OE.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\"));const i=new Sl(i=>{t=()=>{this.locks-=1,OE.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\")),i()}}),n=this.lockingPromise.then(()=>t);return this.lockingPromise=this.lockingPromise.then(()=>i),n}}function xg(e,t){return function(i,n,r){const o=r.value;if(\"function\"!=typeof o)throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){const i=this[t];if(!i)throw new Error(\"mutex property key \".concat(t,\" doesn't exist on \").concat(e));const r=await i.lock(\"From \".concat(e,\".\").concat(n));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await o.apply(this,a)}finally{r()}},r}}class Vg extends Lg{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}constructor(e,t){super(e,t),_p(this,\"_enabled\",!0),_p(this,\"_muted\",!1),_p(this,\"_isExternalTrack\",!1),_p(this,\"_isClosed\",!1),_p(this,\"_enabledMutex\",void 0),_p(this,\"processor\",void 0),_p(this,\"_processorContext\",void 0),_p(this,\"_handleTrackEnded\",()=>{this.onTrackEnded()}),this._enabledMutex=new Ug(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,OE.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(uS.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await rC(this,uS.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){OE.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(mS.TRACK_ENDED)}stateCheck(e,t){if(OE.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(t,\"]\")),Km(t,e),this._enabled&&this._muted&&\"enabled\"===e&&!1===t)throw new SE(fE.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print();if(!this._enabled&&!this._muted&&\"muted\"===e&&!0===t)throw new SE(fE.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function jg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}!function(e){e.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",e.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",e.IOS_INTERRUPTION_START=\"ios-interruption-start\",e.IOS_INTERRUPTION_END=\"ios-interruption-end\",e.STATE_CHANGE=\"state-change\"}(kg||(kg={}));const Fg=window.AudioContext||window.webkitAudioContext;let Bg=null;const Gg=new class extends EE{constructor(){super(...arguments),_p(this,\"prevState\",void 0),_p(this,\"curState\",void 0),_p(this,\"currentTime\",void 0),_p(this,\"currentTimeStuckAt\",void 0),_p(this,\"interruptDetectorTrack\",void 0),_p(this,\"onLocalAudioTrackMute\",()=>{OE.info(\"ios15-interruption-start\"),this.emit(kg.IOS_15_16_INTERRUPTION_START)}),_p(this,\"onLocalAudioTrackUnmute\",async()=>{OE.info(\"ios15-interruption-end\"),\"running\"!==this.curState||this.duringInterruption?OE.info(\"ios15-interruption-end-canceled\"):(Bg&&await Bg.suspend(),this.emit(kg.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return\"running\"===this.prevState&&\"interrupted\"===this.curState}bindInterruptDetectorTrack(e){OE.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){OE.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function Wg(){if(!Fg)return void OE.error(\"your browser is not support web audio\");OE.info(\"create audio context\");const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jg(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jg(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},GE(\"WEBAUDIO_INIT_OPTIONS\"));OE.debug(\"audio context init option:\",JSON.stringify(e)),Bg=new Fg(e),Gg.curState=Bg.state,Bg.onstatechange=()=>{Gg.prevState=Gg.curState,Gg.curState=Bg?Bg.state:void 0;const{prevState:e,curState:t}=Gg,i=\"running\"===t,n=\"interrupted\"===t,r=\"running\"===e,o=\"suspended\"===e,s=\"interrupted\"===e,a=xh().osVersion;(Yh()||tp())&&r&&n&&(OE.info(\"ios\".concat(a,\"-interruption-start\")),Gg.emit(kg.IOS_INTERRUPTION_START)),(Yh()||tp())&&(o||s)&&i&&(OE.info(\"ios\".concat(a,\"-interruption-end\")),Gg.emit(kg.IOS_INTERRUPTION_END)),e!==t&&(OE.debug(\"AudioContext State Change\",\"\".concat(e,\"=>\").concat(t)),Gg.emit(kg.STATE_CHANGE))},setInterval(()=>{var e;const t=null===(e=Bg)||void 0===e?void 0:e.currentTime;if(Gg.currentTime!==t)Gg.currentTimeStuckAt&&(OE.debug(\"AudioContext current time resume at \".concat(t)),Gg.currentTimeStuckAt=void 0),Gg.currentTime=t;else{if(t!==Gg.currentTimeStuckAt){Pg.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:t},tag:Ef.TRACER}).onSuccess(),OE.warning(\"AudioContext current time stuck at \".concat(t))}Gg.currentTimeStuckAt=t}},5e3),async function(e){const t=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"];let i,n=!1,r=!1,o=!1;function s(t){\"running\"===e.state?a(!1):Yh()||tp()?\"suspended\"===e.state&&(a(!0),t&&e.resume().then(d,d)):\"closed\"!==e.state&&(a(!0),t&&e.resume().then(d,d))}function a(e){if(n!==e){n=e;for(let i=0,n=t;i<n.length;i+=1){const t=n[i];e?window.addEventListener(t,u,{capture:!0,passive:!0}):window.removeEventListener(t,u,{capture:!0,passive:!0})}}}function c(){s(!0)}function d(){s(!1)}function u(){s(!0)}function l(e){if(!o)if(i.paused)if(e){h(!1),o=!0;let e=void 0;try{e=i.play(),e?e.then(p,p):(i.addEventListener(\"playing\",p),i.addEventListener(\"abort\",p),i.addEventListener(\"error\",p))}catch(e){p()}}else h(!0);else h(!1)}function h(e){if(r!==e){r=e;for(let i=0,n=t;i<n.length;i++){const t=n[i];e?window.addEventListener(t,_,{capture:!0,passive:!0}):window.removeEventListener(t,_,{capture:!0,passive:!0})}}}function p(){i.removeEventListener(\"playing\",p),i.removeEventListener(\"abort\",p),i.removeEventListener(\"error\",p),o=!1,l(!1)}function _(){l(!0)}if(Yh()){const t=e.createMediaStreamDestination(),n=document.createElement(\"div\");n.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=n.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=t.stream,l(!0)}Gg.on(kg.STATE_CHANGE,c),s(!1)}(Bg)}function Hg(){if(!Bg){if(Wg(),!Bg)throw new SE(fE.NOT_SUPPORTED,\"can not create audio context\");return Bg}return Bg}function Kg(){return!!Bg}function Yg(e){if(function(){if(null!==qg)return qg;const e=Hg(),t=e.createBufferSource(),i=e.createGain(),n=e.createGain();t.connect(i),t.connect(n),t.disconnect(i);let r=!1;try{t.disconnect(i)}catch(e){r=!0}return t.disconnect(),qg=r,r}())return;const t=e.connect,i=e.disconnect;e.connect=(i,n,r)=>(e._inputNodes||(e._inputNodes=[]),e._inputNodes.includes(i)||(i instanceof AudioNode?(e._inputNodes.push(i),t.call(e,i,n,r)):t.call(e,i,n)),e),e.disconnect=(n,r,o)=>{i.call(e),n?aC(e._inputNodes,n):e._inputNodes=[];for(const i of e._inputNodes)t.call(e,i)}}let qg=null;function Jg(e,t){let i=!1;const n=1/t;if(GE(\"DISABLE_WEBAUDIO\")){const t=window.setInterval(()=>{i?window.clearInterval(t):e(performance.now()/1e3)},1e3*n)}else{const t=Hg();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const o=()=>{if(i)return void(r=null);const s=t.createOscillator();s.onended=o,s.connect(r),s.start(0),s.stop(t.currentTime+n),e(t.currentTime)};o()}return()=>{i=!0}}class Xg{constructor(){_p(this,\"context\",void 0),_p(this,\"analyserNode\",void 0),_p(this,\"sourceNode\",void 0),this.context=Hg(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||Yh()||tp()||\"running\"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let i=0;i<e.length;++i)e[i]=t[i]/128-1}const t=zi(e).call(e,(e,t)=>e+t*t,0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){OE.warning(\"rebuild analyser node failed.\")}}destroy(){this.updateSource(void 0)}}class zg extends EE{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var i;null===(i=this.sourceNode)||void 0===i||i.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),_p(this,\"outputNode\",void 0),_p(this,\"outputTrack\",void 0),_p(this,\"isPlayed\",!1),_p(this,\"sourceNode\",void 0),_p(this,\"context\",void 0),_p(this,\"audioBufferNode\",void 0),_p(this,\"destNode\",void 0),_p(this,\"audioOutputLevel\",0),_p(this,\"volumeLevelAnalyser\",void 0),_p(this,\"_processedNode\",void 0),_p(this,\"playNode\",void 0),_p(this,\"isDestroyed\",!1),_p(this,\"onNoAudioInput\",void 0),_p(this,\"isNoAudioInput\",!1),_p(this,\"_noAudioInputCount\",0),this.context=Hg(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),Yg(this.outputNode),this.volumeLevelAnalyser=new Xg}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(Lf.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const i=e.outputBuffer.getChannelData(t);for(let e=0;e<i.length;e+=1)i[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!JS().webAudioMediaStreamDest)throw new SE(fE.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){\"running\"!==this.context.state&&dC(()=>{Gg.emit(\"autoplay-failed\")}),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;Yh()||tp()?\"suspended\"===this.context.state&&this.context.resume():\"running\"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let i;t.getFloatTimeDomainData?(i=new Float32Array(t.fftSize),t.getFloatTimeDomainData(i)):(i=new Uint8Array(t.fftSize),t.getByteTimeDomainData(i));let n=!1;for(let e=0;e<i.length;e++)0!==i[e]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await zI(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode);this.volumeLevelAnalyser.updateSource(this.outputNode)}}class Qg extends zg{get isFreeze(){return!1}constructor(e,t,i){var n;if(super(),_p(this,\"sourceNode\",void 0),_p(this,\"track\",void 0),_p(this,\"clonedTrack\",void 0),_p(this,\"audioElement\",void 0),_p(this,\"isCurrentTrackCloned\",!1),_p(this,\"isRemoteTrack\",!1),_p(this,\"originVolumeLevelAnalyser\",void 0),_p(this,\"rebuildWebAudio\",async()=>{if(OE.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void OE.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then(()=>OE.info(\"resume success\")),OE.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),Yg(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const i=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i,this.context.currentTime),Yg(this.outputNode),this.emit(Lf.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),\"audio\"!==e.kind)throw new SE(fE.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),Yg(this.sourceNode),i){const e=i.clone();e.enabled=!0,this.clonedTrack=e,OE.debug(\"create an unmuted track \".concat(e.id,\" from the original track \").concat(i.id,\" to get the volume\"));const t=this.context.createMediaStreamSource(new MediaStream([e]));Yg(t),this.originVolumeLevelAnalyser=new Xg,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=r;const o=xh();t&&o.os===bh.IOS&&Number(null===(n=o.osVersion)||void 0===n?void 0:n.split(\".\")[0])<15&&(Gg.on(kg.STATE_CHANGE,()=>{\"suspended\"===this.context.state?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):\"running\"===this.context.state&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(e=>{e||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0)}))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),Yg(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(Lf.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),Gg.off(\"state-change\",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),OE.debug(\"create an unmuted track \".concat(t.id,\" from the original track \").concat(e.id,\" to get the volume\"));const i=this.context.createMediaStreamSource(new MediaStream([t]));Yg(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function Zg(e,t){const i=(e,t)=>e?\"number\"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,n={audio:!1,video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxHeight:i(t.height,1080),maxWidth:i(t.width,1920)}}};return t.frameRate&&\"number\"!=typeof t.frameRate?(n.video.mandatory.maxFrameRate=t.frameRate.max,n.video.mandatory.minFrameRate=t.frameRate.min):\"number\"==typeof t.frameRate&&(n.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(n)}async function $g(e){const t=await eR(e.mediaSource),i=await function(e){return new Sl((t,i)=>{const n=document.createElement(\"div\");n.innerText=\"share screen\",n.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");const r=document.createElement(\"div\");r.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");const o=document.createElement(\"div\");o.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",o.setAttribute(\"style\",\"height: 12%;\");const s=document.createElement(\"div\");s.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");const a=document.createElement(\"div\");a.setAttribute(\"style\",\"text-align: right; padding: 16px 0;\");const c=document.createElement(\"button\");c.innerHTML=\"cancel\",c.setAttribute(\"style\",\"width: 85px;\"),c.onclick=()=>{document.body.removeChild(d);const e=new Error(\"NotAllowedError\");e.name=\"NotAllowedError\",i(e)},a.appendChild(c),r.appendChild(o),r.appendChild(s),r.appendChild(a);const d=document.createElement(\"div\");d.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),d.appendChild(n),d.appendChild(r),document.body.appendChild(d),e.map(e=>{if(e.id){const i=document.createElement(\"div\");i.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let n=e.thumbnail;const{width:r}=n.getSize();r>1920&&(n=n.resize({width:1920})),i.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+n.toDataURL()+' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+(e.name.replace(/[\\u00A0-\\u9999<>\\&]/g,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"}))+\"</span>\"),i.onclick=()=>{document.body.removeChild(d),t(e.id)},s.appendChild(i)}})})}(t);return await Zg(i,e)}async function eR(e){let t=[\"window\",\"screen\"];\"application\"!==e&&\"window\"!==e||(t=[\"window\"]),\"screen\"===e&&(t=[\"screen\"]);const i=iR();if(!i)throw new SE(fE.ELECTRON_IS_NULL);let n=null;try{var r;n=(null===(r=i.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||i.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:t})}catch(e){n=null}n&&n.then||(n=new Sl((e,n)=>{i.desktopCapturer.getSources({types:t},(t,i)=>{t?n(t):e(i)})}));try{return await n}catch(e){throw new SE(fE.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}let tR=null;function iR(){if(tR)return tR;try{return tR=window.require(\"electron\"),tR}catch(e){return null}}function nR(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const rR=new Ug(\"safari\");let oR=!1,sR=!1;async function aR(e,t){let i=0,n=null;for(;i<2;)try{n=await cR(e,t,i>0);break}catch(e){if(e instanceof SE)throw OE.error(\"[\".concat(t,\"] \").concat(e.toString())),e;const n=dR(e.name||e.code||e,e.message);if(n.code===fE.MEDIA_OPTION_INVALID){OE.debug(\"[\".concat(t,\"] detect media option invalid, retry\")),i+=1,await zI(500);continue}throw OE.error(\"[\".concat(t,\"] \").concat(n.toString())),n}if(!n)throw new SE(fE.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return n}async function cR(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new SE(fE.NOT_SUPPORTED,\"can not find getUserMedia\");i&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const n=JS(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return OE.debug(\"Using Video Source/ Audio Source\"),r;if(e.screen)if(iR())if(e.screen.sourceId){uR(r,await Zg(e.screen.sourceId,e.screen))}else{uR(r,await $g(e.screen))}else if(Wh()&&e.screen.extensionId&&e.screen.mandatory){if(!n.getStreamFromExtension)throw new SE(fE.NOT_SUPPORTED,\"This browser does not support screen sharing\");OE.debug(\"[\".concat(t,'] Screen access on chrome stable, looking for extension\"'));const i=await(s=e.screen.extensionId,a=t,new Sl((e,t)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},i=>{if(!i||!i.streamId)return OE.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),i),void t(new SE(fE.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));e(i.streamId)})}catch(e){OE.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(s,\")\"),e.toString()),t(new SE(fE.CHROME_PLUGIN_NOT_INSTALL))}}));e.screen.mandatory.chromeMediaSourceId=i;uR(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(n.getDisplayMedia){var o;e.screen.mediaSource&&gS(e.screen.mediaSource);const i={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(o=e.screen.displaySurface)&&void 0!==o?o:\"screen\"===e.screen.mediaSource?\"monitor\":e.screen.mediaSource},{selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a}=e.screen,c={selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a};!n&&delete c.selfBrowserSurface,!s&&delete c.surfaceSwitching,!a&&delete c.systemAudio,OE.debug(\"[\".concat(t,\"] getDisplayMedia:\"),JSON.stringify({video:i,audio:!!e.screenAudio,controls:c}));uR(r,await navigator.mediaDevices.getDisplayMedia(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nR(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({video:i,audio:!!e.screenAudio},c)))}else{if(!Kh())throw OE.error(\"[\".concat(t,\"] This browser does not support screenSharing\")),new SE(fE.NOT_SUPPORTED,\"This browser does not support screen sharing\");{e.screen.mediaSource&&gS(e.screen.mediaSource);const i={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};OE.debug(\"[\".concat(t,\"] getUserMedia: \").concat(JSON.stringify(i)));uR(r,await navigator.mediaDevices.getUserMedia(i))}}var s,a;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},d=GE(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{\"string\"==typeof d&&(d=JSON.parse(d)),c=function e(t,i){if(!SC(t)||!SC(i))return i;if(Array.isArray(t)&&!Array.isArray(i)||!Array.isArray(t)&&Array.isArray(i))return i;if(Array.isArray(i)&&Array.isArray(t)){const n=[...t];for(let r=0;r<i.length;r++)n[r]=e(t[r],i[r]);return n}{const n=JI({},t);for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(Object.prototype.hasOwnProperty.call(t,r)?n[r]=e(t[r],i[r]):n[r]=i[r]);return n}}(c,d)}catch(e){}OE.debug(\"[\".concat(t,\"] GetUserMedia\"),JSON.stringify(c)),xh();let u,l=null;(Hh()||Yh()||Fh())&&(l=await rR.lock());try{u=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw l&&l(),e}return c.audio&&(oR=!0),c.video&&(sR=!0),uR(r,u),l&&l(),r}function dR(e,t){switch(e){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new SE(fE.MEDIA_OPTION_INVALID,\"\".concat(e,\": \").concat(t));case\"NotFoundError\":case\"DevicesNotFoundError\":return new SE(fE.DEVICE_NOT_FOUND,\"\".concat(e,\": \").concat(t));case\"NotSupportedError\":return new SE(fE.NOT_SUPPORTED,\"\".concat(e,\": \").concat(t));case\"NotReadableError\":return new SE(fE.NOT_READABLE,\"\".concat(e,\": \").concat(t));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new SE(fE.PERMISSION_DENIED,\"\".concat(e,\": \").concat(t));case\"ConstraintNotSatisfiedError\":return new SE(fE.CONSTRAINT_NOT_SATISFIED,\"\".concat(e,\": \").concat(t));default:return OE.error(\"getUserMedia unexpected error\",e),new SE(fE.UNEXPECTED_ERROR,\"\".concat(e,\": \").concat(t))}}function uR(e,t){const i=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(n&&e.removeTrack(n),e.addTrack(o)),r&&(i&&e.removeTrack(i),e.addTrack(r))}const lR=new class extends EE{get state(){return this._state}set state(e){e!==this._state&&(this.emit(ff.STATE_CHANGE,e),this._state=e)}constructor(){super(),_p(this,\"_state\",mf.IDLE),_p(this,\"isAccessMicrophonePermission\",!1),_p(this,\"isAccessCameraPermission\",!1),_p(this,\"lastAccessMicrophonePermission\",!1),_p(this,\"lastAccessCameraPermission\",!1),_p(this,\"checkdeviceMatched\",!1),_p(this,\"deviceInfoMap\",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(GE(\"ENUMERATE_DEVICES_INTERVAL\")||(op()||Vh()===bh.HARMONY_OS)&&rp())&&this.updateDevicesInfo()},GE(\"ENUMERATE_DEVICES_INTERVAL_TIME\"))}).catch(e=>OE.error(e.toString()))}async enumerateDevices(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){return new SE(fE.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw()}const n=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(n);let o=!this.isAccessMicrophonePermission&&e,s=!this.isAccessCameraPermission&&t;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,d=null;if(!i&&(o||s)){if(rR.isLocked){OE.debug(\"[device manager] wait GUM lock\");(await rR.lock())(),OE.debug(\"[device manager] GUM unlock\")}if(oR&&(o=!1,this.isAccessMicrophonePermission=!0),sR&&(s=!1,this.isAccessCameraPermission=!0),OE.debug(\"[device manager] check media device permissions\",e,t,o,s),o&&s){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=dR(e.name||e.code||e,e.message);if(t.code===fE.PERMISSION_DENIED)throw t;OE.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=dR(e.name||e.code||e,e.message);if(t.code===fE.PERMISSION_DENIED)throw t;OE.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessMicrophonePermission=!0}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=dR(e.name||e.code||e,e.message);if(t.code===fE.PERMISSION_DENIED)throw t;OE.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0}OE.debug(\"[device manager] mic permission\",e,\"cam permission\",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach(e=>e.stop()),c&&c.getTracks().forEach(e=>e.stop()),d&&d.getTracks().forEach(e=>e.stop()),a=null,c=null,d=null,e}catch(e){a&&a.getTracks().forEach(e=>e.stop()),c&&c.getTracks().forEach(e=>e.stop()),d&&d.getTracks().forEach(e=>e.stop()),a=null,c=null,d=null;return new SE(fE.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(e=>\"audioinput\"===e.kind)}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter(e=>\"videoinput\"===e.kind)}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(e=>\"audiooutput\"===e.kind)}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach(i=>{i.device.label===e&&(t=i.device.deviceId)}),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find(t=>t.deviceId===e);if(!t)throw new SE(fE.DEVICE_NOT_FOUND,\"deviceId: \".concat(e));return t}async init(){this.state=mf.INITING;try{await this.updateDevicesInfo(),this.state=mf.INITEND}catch(e){if(OE.warning(\"Device Detection functionality cannot start properly.\",e.toString()),this.state=mf.IDLE,!function(){if(\"boolean\"==typeof isSecureContext)return isSecureContext;return\"https:\"===location.protocol||\"file:\"===location.protocol||\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"::1\"===location.hostname}()){new SE(fE.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw()}throw e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),i=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find(e=>\"audioinput\"===e.kind&&\"default\"===e.deviceId),i=e.find(e=>\"audiooutput\"===e.kind&&\"default\"===e.deviceId);t&&i?i.groupId===t.groupId?OE.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is the same group\")):OE.warning(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is not the same group\")):OE.debug(\"[device-check] default input or output not found\")}const n=this.checkMediaDeviceInfoIsOk(e);if(e.forEach(e=>{if(!e.deviceId)return;const n=this.deviceInfoMap.get(\"\".concat(e.kind,\"_\").concat(e.deviceId));if(\"ACTIVE\"!==(n?n.state:\"INACTIVE\")){const n={initAt:t,updateAt:t,device:e,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(e.kind,\"_\").concat(e.deviceId),n),i.push(n)}n&&(n.updateAt=t)}),this.deviceInfoMap.forEach((e,n)=>{\"ACTIVE\"===e.state&&e.updateAt!==t&&(e.state=\"INACTIVE\",i.push(e))}),this.state!==mf.INITEND)return n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i.forEach(e=>{switch(e.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(ff.RECORDING_DEVICE_CHANGED,e);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(ff.CAMERA_DEVICE_CHANGED,e);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(ff.PLAYOUT_DEVICE_CHANGED,e)}}),n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter(e=>\"audioinput\"===e.kind),i=e.filter(e=>\"videoinput\"===e.kind),n={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){n.audio=!0;break}for(const e of i)if(e.label&&e.deviceId){n.video=!0;break}return n}};const hR=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],pR=new class{constructor(){_p(this,\"onAutoplayFailed\",void 0),_p(this,\"elementMap\",new Map),_p(this,\"elementStateMap\",new Map),_p(this,\"elementsNeedToResume\",[]),_p(this,\"sinkIdMap\",new Map),_p(this,\"autoResumeAfterInterruption\",()=>{Array.from(this.elementMap.entries()).forEach(e=>{let[t,i]=e;const n=this.elementStateMap.get(t),r=i.srcObject.getAudioTracks()[0];Zh()?r&&\"live\"===r.readyState&&\"running\"===Gg.curState&&(OE.debug(\"auto resume after interruption for iOS 15\"),i.pause(),i.play()):n&&\"paused\"===n&&r&&\"live\"===r.readyState&&\"running\"===Gg.curState&&(OE.debug(\"auto resume after interruption for iOS\"),i.play())})}),_p(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{Array.from(this.elementMap.entries()).forEach(e=>{let[t,i]=e;const n=i.srcObject.getAudioTracks()[0];n&&\"live\"===n.readyState&&(OE.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),i.pause(),i.play())})}),this.autoResumeAudioElement(),Gg.on(kg.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Gg.on(kg.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),Gg.on(kg.STATE_CHANGE,()=>{Yh()&&\"suspended\"===Gg.prevState&&\"running\"===Gg.curState&&this.autoResumeAfterInterruption()})}async setSinkID(e,t){const i=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),i)try{await i.setSinkId(t)}catch(e){throw new SE(fE.PERMISSION_DENIED,\"can not set sink id: \"+e.toString())}}play(e,t,i,n){if(this.elementMap.has(t))return;const r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,sf.INIT),this.setVolume(t,i);const o=this.sinkIdMap.get(t);if(o)try{r.setSinkId(o).catch(e=>{OE.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())})}catch(e){OE.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}const s=r.play();s&&s.then&&s.catch(e=>{n&&Pg.autoplayFailed(n,\"audio\",e.message,t),OE.warning(\"audio element play warning\",e.toString()),this.elementMap.has(t)&&\"NotAllowedError\"===e.name&&(OE.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),dC(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),yg()}))})}updateTrack(e,t){const i=this.elementMap.get(e);i&&(i.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&\"playing\"===this.elementStateMap.get(e)}setVolume(e,t){const i=this.elementMap.get(e);i&&(t=Math.max(0,Math.min(100,t)),i.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const i=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(i,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){hR.forEach(i=>{t.addEventListener(i,i=>{const n=this.elementStateMap.get(e),r=\"pause\"===i.type?\"paused\":i.type;if(OE.debug(\"[\".concat(e,\"] audio-element-status change \").concat(n,\" => \").concat(r)),\"error\"===i.type){const i=null==t?void 0:t.error;i&&OE.error(\"[\".concat(e,\"] media error, code: \").concat(i.code,\", message: \").concat(i.message))}this.elementStateMap.set(e,r)})})}getPlayerState(e){return this.elementStateMap.get(e)||\"uninit\"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach(e=>{e.play().then(e=>{OE.debug(\"Auto resume audio element success\")}).catch(e=>{OE.warning(\"Auto resume audio element failed!\",e)})}),this.elementsNeedToResume=[]};new Sl(e=>{document.body?e():window.addEventListener(\"load\",()=>e())}).then(()=>{sp()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0))})}};function _R(){return function(e,t,i){const n=i.value;return\"function\"==typeof n&&(i.value=function(){this._isClosed&&new SE(fE.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=n.apply(this,t);return r instanceof Sl?new Sl((e,t)=>{r.then(e).catch(t)}):r}),i}}var ER=Hi(\"Array\").values,mR=Zr,fR=Ge,SR=u,TR=ER,gR=Array.prototype,RR={DOMTokenList:!0,NodeList:!0},IR=function(e){var t=e.values;return e===gR||SR(gR,e)&&t===gR.values||fR(RR,mR(e))?TR:t};function CR(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vR(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CR(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CR(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class yR extends EE{constructor(e){super(),_p(this,\"name\",\"VideoProcessorDestination\"),_p(this,\"ID\",\"0\"),_p(this,\"_source\",void 0),_p(this,\"videoContext\",void 0),_p(this,\"inputTrack\",void 0),this.videoContext=e}get kind(){return\"video\"}get enabled(){return!0}pipe(){throw new SE(fE.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new SE(fE.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(kS.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(kS.ON_TRACK,void 0)}}class AR extends EE{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),_p(this,\"constraintsMap\",new Map),_p(this,\"statsRegistry\",[]),_p(this,\"usageRegistry\",[]),_p(this,\"trackId\",void 0),_p(this,\"direction\",void 0),_p(this,\"_chained\",!1),this.trackId=e,this.direction=t}async getConstraints(){return await nC(this,MS.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var i;return OE.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),rC(this,MS.REQUEST_UPDATE_CONSTRAINTS,Array.from(IR(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return OE.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),rC(this,MS.REQUEST_UPDATE_CONSTRAINTS,Array.from(IR(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t);-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){OE.error(new SE(fE.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find(t=>t.processorID===e.ID&&t.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex(t=>t.processorID===e.ID&&t.processorName===e.name);-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof Sl&&(i=await i),e.push(vR(vR({},i),{},{direction:this.direction}))}catch(e){OE.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class OR extends EE{constructor(e){super(),_p(this,\"name\",\"AudioProcessorDestination\"),_p(this,\"ID\",\"0\"),_p(this,\"inputTrack\",void 0),_p(this,\"inputNode\",void 0),_p(this,\"audioProcessorContext\",void 0),_p(this,\"_source\",void 0),this.audioProcessorContext=e}get kind(){return\"audio\"}get enabled(){return!0}pipe(){throw new SE(fE.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new SE(fE.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(kS.ON_TRACK,void 0),this.emit(kS.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(\"ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(kS.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(kS.ON_NODE,this.inputNode))}}class NR extends EE{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,i){super(),_p(this,\"constraintsMap\",new Map),_p(this,\"statsRegistry\",[]),_p(this,\"audioContext\",void 0),_p(this,\"trackId\",void 0),_p(this,\"direction\",void 0),_p(this,\"usageRegistry\",[]),_p(this,\"_chained\",!1),this.audioContext=e,this.trackId=t,this.direction=i}async getConstraints(){return nC(this,MS.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var i;return OE.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),rC(this,MS.REQUEST_UPDATE_CONSTRAINTS,Array.from(IR(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),rC(this,MS.REQUEST_UPDATE_CONSTRAINTS,Array.from(IR(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t);-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){OE.error(new SE(fE.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find(t=>t.processorID===e.ID&&t.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex(t=>t.processorID===e.ID&&t.processorName===e.name);-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof Sl&&(i=await i),e.push(vR(vR({},i),{},{direction:this.direction}))}catch(e){OE.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class bR extends EE{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),_p(this,\"context\",void 0),_p(this,\"processSourceNode\",void 0),_p(this,\"outputTrack\",void 0),_p(this,\"processedNode\",void 0),_p(this,\"clonedTrack\",void 0),_p(this,\"outputNode\",void 0),this.outputNode=new wR}setVolume(){}createOutputTrack(){throw new SE(fE.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class wR{disconnect(){}connect(){}}let DR,PR=null;class LR{constructor(){_p(this,\"state\",\"open\"),_p(this,\"trigger\",void 0),_p(this,\"tasks\",[]),OE.debug(\"[macro-task-queue] is created.\"),this.trigger=setTimeout(()=>{this.state=\"closed\",OE.debug(\"[macro-task-queue] will be closed, all remaining tasks will execute. [\".concat(this.tasks.map(e=>e.key),\"]\")),this.trigger=void 0,this.tasks.forEach(e=>{let{func:t}=e;return t()}),this.tasks.length=0,OE.debug(\"[macro-task-queue] is closed.\")})}enqueue(e,t){\"closed\"!==this.state&&(this.tasks.push({key:e,func:t}),OE.debug(\"[macro-task-queue] is queued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")))}runTask(e){if(\"closed\"===this.state)return;const t=this.tasks.findIndex(t=>t.key===e);if(-1!==t){const i=this.tasks.splice(t,1);OE.debug(\"[macro-task-queue] is unqueued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")),i[0].func()}}release(){this.trigger&&(this.state=\"closed\",clearTimeout(this.trigger),this.trigger=void 0,this.tasks.length=0,OE.debug(\"[macro-task-queue] is closed.\"))}}function kR(e){return function(t,i,n){var r;const o=null!==(r=n.value)&&void 0!==r?r:n.get,s=function(){PR&&\"open\"===PR.state&&PR.runTask(e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return null==o?void 0:o.apply(this,...i)};return n.value?n.value=s:n.get=s,n}}var MR,UR,xR,VR,jR,FR,BR,GR,WR,HR,KR,YR,qR,JR,XR,zR,QR,ZR,$R,eI,tI,iI,nI,rI,oI,sI,aI,cI,dI,uI,lI,hI,pI,_I,EI,mI,fI,SI,TI,gI,RI,II;function CI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CI(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e){e.UPDATE_TRACK_SOURCE=\"update-track-source\"}(DR||(DR={}));let yI=(MR=kR(\"INIT_WEBAUDIO\"),UR=kR(\"INIT_WEBAUDIO\"),xR=kR(\"INIT_WEBAUDIO\"),VR=Dg({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),jR=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),FR=_R(),BR=xg(\"LocalAudioTrack\",\"_enabledMutex\"),GR=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),WR=_R(),HR=xg(\"LocalAudioTrack\",\"_enabledMutex\"),KR=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),YR=_R(),qR=_R(),JR=_R(),XR=Dg({argsMap:e=>[e.getTrackId()]}),zR=_R(),QR=Dg({argsMap:e=>[e.getTrackId()]}),ZR=_R(),$R=Dg({argsMap:e=>[e.getTrackId()]}),eI=Dg({argsMap:(e,t)=>[e.getTrackId(),t.name]}),tI=Dg({argsMap:e=>[e.getTrackId()]}),ag((iI=class extends Vg{get _source(){return this._trackSource}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get processorDestination(){return this._processorDestination}set processorDestination(e){this._processorDestination=e}get isPlaying(){return this._useAudioElement?pR.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"LocalAudioTrack\"}constructor(e,t,i,n,r){super(e,i),_p(this,\"trackMediaType\",\"audio\"),_p(this,\"_encoderConfig\",void 0),_p(this,\"_trackSource\",void 0),_p(this,\"_enabled\",!0),_p(this,\"_volume\",100),_p(this,\"_useAudioElement\",!1),_p(this,\"_bypassWebAudio\",!1),_p(this,\"processor\",void 0),_p(this,\"_processorContext\",void 0),_p(this,\"_processorDestination\",void 0),_p(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!n;const o=()=>{this.processorContext=new NR(this._source.context,this.getTrackId(),\"local\"),this.processorDestination=new OR(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(Lf.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})},s=r&&Hh()&&!Kg();if(GE(\"DISABLE_WEBAUDIO\")?(this._source=new bR,this._useAudioElement=!0,this._bypassWebAudio=!0):s?this._source=new bR:(this._source=new Qg(e,!1,this._getOriginVolumeLevel?e:void 0),GE(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0)),o(),!GE(\"DISABLE_WEBAUDIO\")&&s){(PR||(PR=new LR),PR).enqueue(\"INIT_WEBAUDIO\",()=>{this._source=new Qg(e,!1,this._getOriginVolumeLevel?e:void 0),GE(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0),o(),this.emit(DR.UPDATE_TRACK_SOURCE)})}}setVolume(e){qm(e,\"volume\",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&pR.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void OE.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,rC(this,uS.NEED_REPLACE_TRACK,this).then(()=>{OE.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"))}).catch(e=>{OE.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),e)}))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement)throw new SE(fE.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await pR.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,i){return this._setEnabled(e,t,i)}async _setEnabled(e,t,i){if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(OE.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){this._originMediaStreamTrack.enabled=!0;try{i||(this._enabled=!0),await rC(this,uS.NEED_ENABLE_TRACK,this),OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(e,\" success\"))}catch(e){throw i||(this._enabled=!1),OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,i||(this._enabled=!1);try{await rC(this,uS.NEED_DISABLE_TRACK,this)}catch(e){throw i||(this._enabled=!0),OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,OE.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await rC(this,uS.NEED_MUTE_TRACK,this):await rC(this,uS.NEED_UNMUTE_TRACK,this))}getStats(){hC(()=>{OE.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\")},\"localAudioTrackGetStatsWarning\");const e=oC(this,uS.GET_STATS);return e||vI({},jf)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(Lf.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(Lf.ON_AUDIO_BUFFER),this._source.on(Lf.ON_AUDIO_BUFFER,t=>e(t))}play(){OE.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(OE.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),pR.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){OE.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?pR.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];OE.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&pR.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),e.addEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await rC(this,uS.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return Sl.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new SE(fE.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===e)return e;if(e._source)throw new SE(fE.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(kS.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await rC(this,uS.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await rC(this,uS.NEED_REPLACE_TRACK,this))}),this.processorDestination.on(kS.ON_NODE,e=>{this._source.processedNode=e})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kS.ON_TRACK),this.processorDestination.removeAllListeners(kS.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(MS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(MS.REQUEST_CONSTRAINTS)}}).prototype,\"_source\",[MR],Object.getOwnPropertyDescriptor(iI.prototype,\"_source\"),iI.prototype),ag(iI.prototype,\"processorContext\",[UR],Object.getOwnPropertyDescriptor(iI.prototype,\"processorContext\"),iI.prototype),ag(iI.prototype,\"processorDestination\",[xR],Object.getOwnPropertyDescriptor(iI.prototype,\"processorDestination\"),iI.prototype),ag(iI.prototype,\"setVolume\",[VR],Object.getOwnPropertyDescriptor(iI.prototype,\"setVolume\"),iI.prototype),ag(iI.prototype,\"setPlaybackDevice\",[jR,FR],Object.getOwnPropertyDescriptor(iI.prototype,\"setPlaybackDevice\"),iI.prototype),ag(iI.prototype,\"setEnabled\",[BR,GR,WR],Object.getOwnPropertyDescriptor(iI.prototype,\"setEnabled\"),iI.prototype),ag(iI.prototype,\"setMuted\",[HR,KR,YR],Object.getOwnPropertyDescriptor(iI.prototype,\"setMuted\"),iI.prototype),ag(iI.prototype,\"getStats\",[qR],Object.getOwnPropertyDescriptor(iI.prototype,\"getStats\"),iI.prototype),ag(iI.prototype,\"setAudioFrameCallback\",[JR],Object.getOwnPropertyDescriptor(iI.prototype,\"setAudioFrameCallback\"),iI.prototype),ag(iI.prototype,\"play\",[XR,zR],Object.getOwnPropertyDescriptor(iI.prototype,\"play\"),iI.prototype),ag(iI.prototype,\"stop\",[QR,ZR],Object.getOwnPropertyDescriptor(iI.prototype,\"stop\"),iI.prototype),ag(iI.prototype,\"close\",[$R],Object.getOwnPropertyDescriptor(iI.prototype,\"close\"),iI.prototype),ag(iI.prototype,\"pipe\",[eI],Object.getOwnPropertyDescriptor(iI.prototype,\"pipe\"),iI.prototype),ag(iI.prototype,\"unpipe\",[tI],Object.getOwnPropertyDescriptor(iI.prototype,\"unpipe\"),iI.prototype),iI),AI=(nI=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),rI=_R(),oI=xg(\"MicrophoneAudioTrack\",\"_enabledMutex\"),sI=Dg({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),aI=_R(),cI=Dg({argsMap:e=>[e.getTrackId()]}),ag((dI=class extends yI{get __className__(){return\"MicrophoneAudioTrack\"}constructor(e,t,i,n){super(e,t.encoderConfig?FE(t.encoderConfig):{},n,GE(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\"),!0),_p(this,\"_config\",void 0),_p(this,\"_deviceName\",\"default\"),_p(this,\"_constraints\",void 0),_p(this,\"_originalConstraints\",void 0),_p(this,\"_enabled\",!0),this._config=t,this._constraints=i,this._originalConstraints=i,this._deviceName=e.label,\"boolean\"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(Zh()||$h())&&Gg.bindInterruptDetectorTrack(this),this.on(DR.UPDATE_TRACK_SOURCE,()=>{this.bindProcessorContextEvents()}),Kg()&&this.bindProcessorContextEvents()}async setDevice(e){if(OE.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(e)),this._enabled)try{const t=await lR.getDeviceById(e),i={};i.audio=vI({},this._constraints),i.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let n=null;try{n=await aR(i,this.getTrackId())}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await aR({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await lR.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e,\" success\"))}async setEnabled(e,t,i){if(t)return OE.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(e);if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(OE.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){var n;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(n=this._source.clonedTrack)||void 0===n||n.stop(),i||(this._enabled=!1);try{await rC(this,uS.NEED_DISABLE_TRACK,this)}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),e.toString()),e}return}const r=vI({},this._constraints),o=lR.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{i||(this._enabled=!0);const e=await aR({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await rC(this,uS.NEED_ENABLE_TRACK,this)}catch(e){throw i||(this._enabled=!1),OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"))}close(){super.close(),(Zh()||$h())&&Gg.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((Yh()||tp())&&this._enabled&&!this._isClosed&&Gg.duringInterruption){const e=async()=>{Gg.off(kg.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(OE.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};Gg.on(kg.IOS_INTERRUPTION_END,e)}else OE.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(mS.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=lR.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId=i),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await aR({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(MS.REQUEST_UPDATE_CONSTRAINTS,async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}}),this.processorContext.on(MS.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings())})}}).prototype,\"setDevice\",[nI,rI],Object.getOwnPropertyDescriptor(dI.prototype,\"setDevice\"),dI.prototype),ag(dI.prototype,\"setEnabled\",[oI,sI,aI],Object.getOwnPropertyDescriptor(dI.prototype,\"setEnabled\"),dI.prototype),ag(dI.prototype,\"close\",[cI],Object.getOwnPropertyDescriptor(dI.prototype,\"close\"),dI.prototype),dI),OI=(uI=Dg({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),lI=_R(),hI=Dg({argsMap:e=>[e.getTrackId()]}),pI=_R(),_I=Dg({argsMap:e=>[e.getTrackId()]}),EI=_R(),mI=Dg({argsMap:e=>[e.getTrackId()]}),fI=_R(),SI=Dg({argsMap:e=>[e.getTrackId()]}),TI=_R(),gI=Dg({argsMap:e=>[e.getTrackId()]}),RI=_R(),ag((II=class extends yI{get __className__(){return\"BufferSourceAudioTrack\"}constructor(e,t,i,n){super(t.createOutputTrack(),i,n),_p(this,\"source\",void 0),_p(this,\"_bufferSource\",void 0),this.source=e,this._bufferSource=t,this._bufferSource.on(Lf.AUDIO_SOURCE_STATE_CHANGE,e=>{this.safeEmit(mS.SOURCE_STATE_CHANGE,e)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}setAudioBufferPlaybackSpeed(e){qm(e,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,\"startProcessAudioBuffer\",[uI,lI],Object.getOwnPropertyDescriptor(II.prototype,\"startProcessAudioBuffer\"),II.prototype),ag(II.prototype,\"pauseProcessAudioBuffer\",[hI,pI],Object.getOwnPropertyDescriptor(II.prototype,\"pauseProcessAudioBuffer\"),II.prototype),ag(II.prototype,\"seekAudioBuffer\",[_I,EI],Object.getOwnPropertyDescriptor(II.prototype,\"seekAudioBuffer\"),II.prototype),ag(II.prototype,\"resumeProcessAudioBuffer\",[mI,fI],Object.getOwnPropertyDescriptor(II.prototype,\"resumeProcessAudioBuffer\"),II.prototype),ag(II.prototype,\"stopProcessAudioBuffer\",[SI,TI],Object.getOwnPropertyDescriptor(II.prototype,\"stopProcessAudioBuffer\"),II.prototype),ag(II.prototype,\"setAudioBufferPlaybackSpeed\",[gI,RI],Object.getOwnPropertyDescriptor(II.prototype,\"setAudioBufferPlaybackSpeed\"),II.prototype),II);class NI extends yI{get __className__(){return\"MixingAudioTrack\"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=Hg().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,ZI(8,\"track-mix-\")),_p(this,\"trackList\",void 0),_p(this,\"destNode\",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(OE.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):OE.debug(\"track \".concat(e.getTrackId(),\" is already added\"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){OE.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}aC(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach(t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))}),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach(t=>{t instanceof NI?t.emit(ES.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)}))}}class bI extends EE{constructor(){super(...arguments),_p(this,\"resultStorage\",new Map)}setLocalAudioStats(e,t,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,t)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,t))}setLocalVideoStats(e,t,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,t)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,t)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i))}setRemoteAudioStats(e,t){const i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(t))}record(e,t,i){if(GE(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const n=this.resultStorage.get(e);if(n&&(n.result.push(i),n.result.length>=5)){const i=n.result.includes(!0);n.isPrevNormal&&!i&&this.emit(\"exception\",wI[e],e,t),!n.isPrevNormal&&i&&this.emit(\"exception\",wI[e]+2e3,e+\"_RECOVER\",t),n.isPrevNormal=i,n.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof NI&&!t.isActive||(!!t.muted||0!==e.sendVolumeLevel)}checkFramerateInput(e,t){let i=null;t._encoderConfig&&t._encoderConfig.frameRate&&(i=FI(t._encoderConfig.frameRate));const n=e.captureFrameRate;return!i||!n||!(i>10&&n<5||i<10&&i>=5&&n<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof NI&&!t.isActive||(!!t.muted||0!==e.sendBitrate)}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const wI={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003};const DI=new class{markSubscribeStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t))}markPublishStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t))}measureFromSubscribeStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function PI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function LI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?PI(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class kI{constructor(e){_p(this,\"store\",void 0),_p(this,\"onStatsException\",void 0),_p(this,\"onUploadPublishDuration\",void 0),_p(this,\"onStatsChanged\",void 0),_p(this,\"localStats\",new Map),_p(this,\"remoteStats\",new Map),_p(this,\"updateStatsInterval\",void 0),_p(this,\"trafficStats\",void 0),_p(this,\"trafficStatsPeerList\",[]),_p(this,\"uplinkStats\",void 0),_p(this,\"exceptionMonitor\",void 0),_p(this,\"p2pChannel\",void 0),_p(this,\"scalabilityMode\",Lh.L1T1),_p(this,\"updateStats\",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new bI,this.exceptionMonitor.on(\"exception\",(e,t,i)=>{this.onStatsException&&this.onStatsException(e,t,i)})}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(bS.LocalAudioTrack)||LI({},jf)}getLocalVideoTrackStats(){return this.localStats.get(bS.LocalVideoTrack)||LI({},Ff)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find(t=>t.peer_uid===e);return i&&(t.publishDuration=i.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.audioStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach(e=>{let[n,{audioStats:r}]=e;r&&(i[n]=t(n,r))});return i}getRemoteNetworkQualityStats(e){const t={};if(e){var i;const n=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach(e=>{let[i,{networkStats:n}]=e;n&&(t[i]=n)});return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find(t=>t.peer_uid===e);return i&&(t.publishDuration=i.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.videoStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach(e=>{let[n,{videoStats:r}]=e;r&&(i[n]=t(n,r))});return i}getRTCStats(){let e=0,t=0,i=0,n=0;const r=this.localStats.get(bS.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const o=this.localStats.get(bS.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const s=this.localStats.get(bS.LocalVideoLowTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate),this.remoteStats.forEach(e=>{let{audioStats:t,videoStats:r}=e;t&&(i+=t.receiveBytes,n+=t.receiveBitrate),r&&(i+=r.receiveBytes,n+=r.receiveBitrate)});let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:t,SendBytes:e,RecvBytes:i,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter(e=>void 0!==e.B_ppad||void 0!==e.B_ppvd);e.peer_delay.filter(e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid)).forEach(e=>{var t;const i=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),n=null!=i&&i.videoSSRC?DI.measureFromSubscribeStart(this.store.clientId,i.videoSSRC):0,r=null!=i&&i.audioSSRC?DI.measureFromSubscribeStart(this.store.clientId,i.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,n>r?n:r),this.trafficStatsPeerList.push(e.peer_uid))}),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&OE.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,i){if(!e)return!1;const n=!!i&&t.framesDecodeFreezeTime>i.framesDecodeFreezeTime,r=!i||t.framesDecodeCount>i.framesDecodeCount;return n||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&(e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3)}updateLocalStats(e){Array.from(this.localStats.entries()).forEach(t=>{let[i,n]=t;switch(i){case bS.LocalVideoTrack:case bS.LocalVideoLowTrack:{const t=n,o=LI({},Ff),s=e.getStats(),a=e.getLocalMedia(i);if(s){const i=s.videoSend.find(e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId));if(i){const n=e.getLocalVideoSize(),r=e.getEncoderConfig(bS.LocalVideoTrack);\"H264\"!==i.codec&&\"H265\"!==i.codec&&\"VP8\"!==i.codec&&\"VP9\"!==i.codec&&\"AV1X\"!==i.codec&&\"AV1\"!==i.codec||(o.codecType=i.codec),o.sendBytes=i.bytes,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0,i.inputFrame?(o.captureFrameRate=i.inputFrame.frameRate,o.captureResolutionHeight=i.inputFrame.height,o.captureResolutionWidth=i.inputFrame.width):n&&(o.captureResolutionWidth=n.width,o.captureResolutionHeight=n.height),i.sentFrame?(o.sendFrameRate=i.sentFrame.frameRate,o.sendResolutionHeight=i.sentFrame.height,o.sendResolutionWidth=i.sentFrame.width):n&&(o.sendResolutionWidth=n.width,o.sendResolutionHeight=n.height),i.avgEncodeMs&&(o.encodeDelay=i.avgEncodeMs),r&&r.bitrateMax&&(o.targetSendBitrate=1e3*r.bitrateMax),o.sendPackets=i.packets,o.sendPacketsLost=i.packetsLost,o.totalDuration=t?t.totalDuration+1:1,o.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(i)&&(o.totalFreezeTime+=1),i.scalabilityMode&&this.scalabilityMode!==i.scalabilityMode&&(OE.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(i.scalabilityMode)),this.scalabilityMode=i.scalabilityMode)}this.trafficStats&&(o.sendPacketsLost=this.trafficStats.B_pvlr4/100)}var r;if(this.localStats.set(i,o),(null==t?void 0:t.sendResolutionWidth)!==o.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==o.sendResolutionHeight)null===(r=this.onStatsChanged)||void 0===r||r.call(this,\"resolution\",{width:o.sendResolutionWidth,height:o.sendResolutionHeight});o&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,o);break}case bS.LocalAudioTrack:{const t=n,r=LI({},jf),o=e.getStats(),s=e.getLocalMedia(i);if(o){const i=o.audioSend.find(e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId));if(i){if(\"opus\"!==i.codec&&\"aac\"!==i.codec&&\"PCMU\"!==i.codec&&\"PCMA\"!==i.codec&&\"G722\"!==i.codec||(r.codecType=i.codec),i.inputLevel)r.sendVolumeLevel=Math.round(32767*i.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=i.bytes,r.sendPackets=i.packets,r.sendPacketsLost=i.packetsLost,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.sendPacketsLost=this.trafficStats.B_pvlr4/100),this.localStats.set(bS.LocalAudioTrack,r),r&&s&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s.track,r);break}}})}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach(t=>{let[i,{videoStats:n,audioStats:r,videoPcStats:o}]=t;const s=r,a=n,c=o,d=LI({},Bf),u=LI({},Wf),l=LI({},Gf),{audioTrack:h,videoTrack:p,audioSSRC:_,videoSSRC:E}=e.getRemoteMedia(i),m=e.getStats(),f=null==m?void 0:m.audioRecv.find(e=>e.ssrc===_),S=null==m?void 0:m.videoRecv.find(e=>e.ssrc===E),T=this.trafficStats&&this.trafficStats.peer_delay.find(e=>e.peer_uid===i);if(f&&(\"opus\"!==f.codec&&\"aac\"!==f.codec&&\"PCMU\"!==f.codec&&\"PCMA\"!==f.codec&&\"G722\"!==f.codec||(d.codecType=f.codec),f.outputLevel?d.receiveLevel=Math.round(32767*f.outputLevel):h&&(d.receiveLevel=Math.round(32767*h.getVolumeLevel())),d.receiveBytes=f.bytes,d.receivePackets=f.packets,d.receivePacketsLost=f.packetsLost,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=s?8*Math.max(0,d.receiveBytes-s.receiveBytes):0,d.totalDuration=s?s.totalDuration+1:1,d.totalFreezeTime=s?s.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=f.jitterBufferMs,d.totalDuration>10&&kI.isRemoteAudioFreeze(h)&&(d.totalFreezeTime+=1)),S){\"H264\"!==S.codec&&\"H265\"!==S.codec&&\"VP8\"!==S.codec&&\"VP9\"!==S.codec&&\"AV1X\"!==S.codec&&\"AV1\"!==S.codec||(u.codecType=S.codec),u.receiveBytes=S.bytes,u.receiveBitrate=a?8*Math.max(0,u.receiveBytes-a.receiveBytes):0,u.decodeFrameRate=S.decodeFrameRate<0?0:S.decodeFrameRate,u.renderFrameRate=S.decodeFrameRate<0?0:S.decodeFrameRate,S.outputFrame&&(u.renderFrameRate=S.outputFrame.frameRate),S.receivedFrame?(u.receiveFrameRate=S.receivedFrame.frameRate,u.receiveResolutionHeight=S.receivedFrame.height,u.receiveResolutionWidth=S.receivedFrame.width):p&&(u.receiveResolutionHeight=p._videoHeight||0,u.receiveResolutionWidth=p._videoWidth||0),void 0!==S.framesRateFirefox&&(u.receiveFrameRate=Math.round(S.framesRateFirefox)),u.receivePackets=S.packets,u.receivePacketsLost=S.packetsLost,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.totalDuration=a?a.totalDuration+1:1,u.totalFreezeTime=a?a.totalFreezeTime:0,u.receiveDelay=S.jitterBufferMs||0;const t=!!E&&e.getRemoteVideoIsReady(E);p&&t&&kI.isRemoteVideoFreeze(p,S,c)&&(u.totalFreezeTime+=1),u.freezeRate=u.totalFreezeTime/u.totalDuration}T&&(d.end2EndDelay=T.B_ad,u.end2EndDelay=T.B_vd,d.transportDelay=T.B_ed,u.transportDelay=T.B_ed,d.currentPacketLossRate=T.B_ealr4/100,u.currentPacketLossRate=T.B_evlr4/100,l.uplinkNetworkQuality=T.B_punq?T.B_punq:0,l.downlinkNetworkQuality=T.B_pdnq?T.B_pdnq:0),this.remoteStats.set(i,{audioStats:d,videoStats:u,videoPcStats:S,networkStats:l}),h&&this.exceptionMonitor.setRemoteAudioStats(h,d),p&&this.exceptionMonitor.setRemoteVideoStats(p,u)})}}const MI=new class extends EE{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),_p(this,\"_lastHiddenTime\",0),_p(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",()=>{\"hidden\"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),OE.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState)})}};function UI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?UI(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function VI(e){return e.match(/^[\\.\\:\\d]+$/)?\"\".concat(e.replace(/[^\\d]/g,\"-\"),\".\").concat(GE(\"TURN_DOMAIN\")):(OE.info(\"Cannot recognized as IP address \".concat(e,\". Used As Host instead\")),e)}function jI(e,t){var i,n;const r=GE(\"GATEWAY_DOMAINS\");let o=r[1]&&-1!==t.indexOf(r[1])?1:0;e.addresses=e.addresses||[];const s=e.addresses.map(e=>e.domain_prefix?{address:\"\".concat(e.domain_prefix,\".\").concat(r[o++%r.length],\":\").concat(e.port)}:e.ip.match(/^[\\.\\:\\d]+$/)?{ip:e.ip,port:e.port,address:\"\".concat(e.ip.replace(/[^\\d]/g,\"-\"),\".\").concat(r[o++%r.length],\":\").concat(e.port)}:(OE.info(\"Cannot recognized as IP address \".concat(e.ip,\". Used As Host instead\")),{ip:e.ip,port:e.port,address:\"\".concat(e.ip,\":\").concat(e.port)}));if(null!==(i=e.detail)&&void 0!==i&&i[18]&&\"string\"==typeof(null===(n=e.detail)||void 0===n?void 0:n[18])){const t=e.detail[18],i=null==t?void 0:t.split(\";\");for(let e=0;e<i.length;e++){var a;const t=mh(a=i[e]).call(a);s[e]&&t&&(s[e].ip6=t)}}return{gatewayAddrs:s,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function FI(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function BI(e){const t=e._encoderConfig;if(!t)return{};const i={resolution:t.width&&t.height?\"\".concat(FI(t.width),\"x\").concat(FI(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return\"number\"==typeof t.frameRate?(i.maxFrameRate=t.frameRate,i.minFrameRate=t.frameRate):t.frameRate&&(i.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,i.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),i}function GI(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function WI(e,t){let i,n,r=void 0;switch(t){case XS.CHOOSE_SERVER:i=4096,n=\"choose server\";break;case XS.CLOUD_PROXY:i=1048576,n=\"proxy\";break;case XS.CLOUD_PROXY_5:i=4194304,n=\"proxy5\";break;case XS.CLOUD_PROXY_FALLBACK:i=4194310,n=\"proxy fallback\";break;default:throw new SE(fE.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach(t=>{t.buffer&&t.buffer.flag===i&&(r={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map(e=>xI(xI({},e),{},{ticket:t.buffer.cert})),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:xI(xI({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})}),!r)throw new SE(fE.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(n,\" from multi unilbs response\"),{csIp:e.detail&&e.detail[502]});return r}async function HI(e,t){return await Sl.all(e.addresses.map(async e=>({address:VI(e.ip),tcpport:e.port,udpport:e.port,username:t&&GE(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?t.toString():PE.username,password:t&&GE(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await Ng(t.toString()):PE.password})))}function KI(e,t){const i=t._videoWidth||t.getMediaStreamTrack(!0).getSettings().width;return i||OE.warning(\"cannot get original video track's width, default scale down 4 times for low stream\"),i?i/FI(e.width):4}function YI(e){let{candidateType:t,relayProtocol:i,type:n,address:r,port:o,protocol:s}=e;return\"local-candidate\"===n?{candidateType:t,relayProtocol:i,protocol:s}:{candidateType:t,relayProtocol:i,address:r,port:o,protocol:s}}function qI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function JI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qI(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function XI(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function zI(e){return new Sl(t=>{window.setTimeout(t,e)})}function QI(e){const t=new SE(fE.TIMEOUT,\"timeout\");return new Sl((i,n)=>{window.setTimeout(()=>n(t),e)})}function ZI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const i=Math.random().toString(16).substr(2,e).toLowerCase();return i.length===e?\"\".concat(t).concat(i):\"\".concat(t).concat(i)+ZI(e-i.length,\"\")}function $I(){return ZI(32,\"\").toUpperCase()}const eC=()=>{};function tC(e){return new Sl((t,i)=>{let n=!1;const r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);const o=Yh()?\"canplay\":\"playing\";r.addEventListener(o,()=>{const e=r.videoWidth,i=r.videoHeight;!e&&Kh()||(n=!0,r.srcObject=null,r.remove(),t([e,i]))}),r.srcObject=new MediaStream([e]),r.play().catch(eC),setTimeout(()=>{n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))},4e3)})}function iC(e){return Sl.all(e.map(e=>e.then(e=>{throw e},e=>e))).then(e=>{throw e},e=>e)}function nC(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?Sl.reject(new SE(fE.UNEXPECTED_ERROR,\"can not emit promise\")):new Sl((i,r)=>{e.emit(t,...n,i,r)})}function rC(e,t){if(0===e.getListeners(t).length)return Sl.resolve();for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return nC(e,t,...n)}function oC(e,t){if(0===e.getListeners(t).length)return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return sC(e,t,...n)}function sC(e,t){let i=null,n=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(e.emit(t,...o,e=>{i=e},e=>{n=e}),null!==n)throw n;if(null===i)throw new SE(fE.UNEXPECTED_ERROR,\"handler is not sync\");return i}function aC(e,t){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}function cC(e){const t=[];return e.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),t}function dC(e){Sl.resolve().then(e)}function uC(e){return JSON.parse(JSON.stringify(e))}const lC={};function hC(e,t){lC[t]||(lC[t]=!0,e())}function pC(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}function _C(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}const EC=new class{constructor(){_p(this,\"fnMap\",new Map)}throttleByKey(e,t,i,n){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==i){r.fn(...r.args),clearTimeout(r.timer);const s=window.setTimeout(()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)},i);this.fnMap.set(t,{fn:e,threshold:i,timer:s,args:o,skipFn:n})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,JI(JI({},r),{},{fn:e,args:o,skipFn:n}))}else{const r=window.setTimeout(()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)},i);this.fnMap.set(t,{fn:e,threshold:i,timer:r,args:o,skipFn:n})}}},mC=EC.throttleByKey.bind(EC),fC=async e=>{let{fragementLength:t,referenceList:i,asyncMapHandler:n,allFailedhandler:r,promisesCollector:o}=e,s=0;const a=t;let c,d=0;const u=async()=>{const e=(()=>{const e=s*a,t=e+a;return i.slice(e,t).map(n)})();o&&o.push(...e);try{c=await iC(e)}catch(e){if(d+=a,s++,!(d>=i.length))return void await u();r(e)}e.forEach(e=>e.cancel())};return await u(),c};function SC(e){return\"object\"==typeof e&&null!==e&&!(e instanceof RegExp)}const TC={[Sf.ACCESS_POINT]:{[Rf.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[Rf.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[Rf.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[Rf.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[Rf.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[Rf.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voice service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[Rf.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[Sf.UNILBS]:{[gf.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[gf.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[gf.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[gf.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[gf.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[gf.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[gf.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[gf.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[gf.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[gf.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[gf.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[gf.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[Sf.STRING_UID_ALLOCATOR]:{[Tf.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[Tf.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[Tf.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function gC(e){const t=TC[Math.floor(e/1e4)];if(!t)return{desc:\"unkonw error\",retry:!1};const i=t[e%1e4];if(!i){if(Math.floor(e/1e4)===Sf.ACCESS_POINT){const t=e%1e4;if(\"1\"===t.toString()[0])return{desc:e.toString(),retry:!1};if(\"2\"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:\"unkonw error\",retry:!1}}return i}const RC={[If.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[If.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[If.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[If.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[If.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[If.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[If.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[If.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[If.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[If.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[If.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[If.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[If.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[If.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[If.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[If.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[If.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[If.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[If.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[If.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[If.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[If.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[If.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[If.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[If.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[If.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[If.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[If.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[If.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[If.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[If.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[If.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[If.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[If.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[If.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[If.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[If.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[If.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[If.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[If.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[If.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[If.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[If.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[If.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[If.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[If.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[If.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[If.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[If.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[If.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[If.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[If.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[If.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[If.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[If.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[If.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[If.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[If.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[If.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[If.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[If.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[If.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[If.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[If.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function IC(e){const t=RC[e];return t||{desc:\"UNKNOW_ERROR_\".concat(e),action:\"failed\"}}function CC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class vC extends EE{get url(){return this.websocket?this.websocket.url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){[\"tryNext\",\"recover\"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(Hf.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(Hf.CONNECTED):\"closed\"===this._state?this.emit(Hf.CLOSED):\"failed\"===this._state&&this.emit(Hf.FAILED))}resetReconnectCount(e){OE.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;super(),_p(this,\"connectionID\",0),_p(this,\"currentURLIndex\",0),_p(this,\"urls\",void 0),_p(this,\"_reconnectMode\",\"tryNext\"),_p(this,\"reconnectReason\",void 0),_p(this,\"_initMutex\",new Ug(\"websocket\")),_p(this,\"name\",void 0),_p(this,\"_state\",\"closed\"),_p(this,\"reconnectInterrupter\",void 0),_p(this,\"websocket\",void 0),_p(this,\"retryConfig\",void 0),_p(this,\"reconnectCount\",0),_p(this,\"forceCloseTimeout\",5e3),_p(this,\"onlineReconnectListener\",void 0),_p(this,\"useCompress\",void 0),_p(this,\"tryDoubleDomain\",!1),_p(this,\"wsInflateLength\",0),_p(this,\"wsDeflateLength\",0),_p(this,\"closeEstablishingWs\",()=>{}),_p(this,\"store\",void 0),_p(this,\"joinChannelServiceRecordIndex\",void 0),this.store=r,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CC(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.useCompress=i,this.tryDoubleDomain=n;const{timeout:o,timeoutFactor:s}=t,a=Math.max(300,Math.floor(3*o/5)),c=Math.max(1.2,Math.floor(8*s)/10);PS.ONLINE&&(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=c),Ig.on(LS.NETWORK_STATE_CHANGE,(e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===PS.ONLINE?(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=c):(this.retryConfig.timeout=o,this.retryConfig.timeoutFactor=s))})}getConnection(){return this.websocket||void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.forceCloseTimeout=t;const i=(t,i)=>{this.urls=e;const n=this.urls[this.currentURLIndex];this.state=\"connecting\",this.createWebSocketConnection(n).then(t).catch(i),this.once(Hf.CLOSED,()=>i(new SE(fE.WS_DISCONNECT))),this.once(Hf.CONNECTED,()=>t())};return this._initMutex.lock().then(e=>new Sl((e,t)=>{i(e,t)}).then(()=>{e()}).catch(()=>{e()}))}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout(()=>e.close(),500):e.close(),this.websocket=void 0}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void OE.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));var i;(void 0!==e&&(this.reconnectMode=e),OE.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),\"number\"==typeof this.joinChannelServiceRecordIndex)&&(null===(i=this.store)||void 0===i||i.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this.joinChannelServiceRecordIndex));const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new SE(fE.WS_ABORT,\"websocket is not ready\");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new SE(fE.WS_ERR,\"send websocket message error\"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e,t){return this.connectionID+=1,this.connectionID,this.joinChannelServiceRecordIndex=void 0,new Sl((i,n)=>{var r;const o=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),OE.debug(\"[\".concat(this.name,\"] websocket opened:\"),e),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i()},s=async e=>{if(OE.debug(\"[\".concat(this.name,\"] websocket close \").concat(this.websocket&&this.websocket.url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount<this.retryConfig.maxRetryCount){\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const t=oC(this,Hf.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(t);if(\"closed\"===this.state)return void OE.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!r)return n(new SE(fE.WS_DISCONNECT,\"websocket reconnect failed: \".concat(e.code))),void this.close(!0);i()}else n(new SE(fE.WS_DISCONNECT,\"websocket close: \".concat(e.code))),this.close()},a=e=>{this.emit(Hf.ON_MESSAGE,e)};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),GE(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=GE(\"GATEWAY_WSS_ADDRESS\")),OE.debug(\"[\".concat(this.name,\"] start connect, url: \").concat(e));const c=null===(r=this.store)||void 0===r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});this.chooseBestWebsocketConnection(e,!!t,c).then(e=>{var t;this.websocket=e,o&&o(e.url),e.onclose=s,e.onmessage=a,null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),this.joinChannelServiceRecordIndex=c}).catch(e=>{var t;if(null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof SE&&e.code===fE.WS_ABORT?\"aborted\":\"error\",errors:[e]},c),\"closed\"!==this.state){if(e instanceof SE&&e.code===fE.WS_ERR){const t=new SE(fE.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return OE.error(\"[\".concat(this.name,\"]\").concat(t)),void n(t)}s&&s(e)}else n(new SE(fE.WS_DISCONNECT,\"websocket is closed: \".concat(e.toString())))})})}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(!this.urls)return!1;if(\"closed\"===this.state)return!1;this.onlineReconnectListener||Ig.networkState!==PS.OFFLINE||(this.onlineReconnectListener=Ig.onlineWaiter&&Ig.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let i=!0;if(this.reconnectInterrupter=()=>{i=!1},t){const t=gE(this.reconnectCount,this.retryConfig);OE.debug(\"[\".concat(this.name,\"] wait \").concat(t,\"ms to reconnect websocket, mode: \").concat(e)),await Sl.race([zI(t),this.onlineReconnectListener||new Sl(()=>{})])}if(\"closed\"===this.state||!i)return!1;this.reconnectCount+=1;const n=async(e,t)=>{this.emit(Hf.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if(\"retry\"===e){const t=this.urls[this.currentURLIndex];this.emit(Hf.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else if(\"tryNext\"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return await this.reconnectWithAction(\"recover\",!1);OE.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex));const t=this.urls[this.currentURLIndex];this.emit(Hf.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else if(\"recover\"===e){OE.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(Hf.RECONNECT_WAITTING_FINISH,e),this.urls=await nC(this,Hf.REQUEST_NEW_URLS),this.currentURLIndex=0;const t=this.urls[this.currentURLIndex];await n(t,e)}return!0}catch(i){var r;return OE.error(\"[\".concat(this.name,\"] reconnect failed\"),i.toString()),null!=i&&null!==(r=i.data)&&void 0!==r&&r.desc&&Array.isArray(i.data.desc)&&i.data.desc.length&&i.data.desc.includes(\"dynamic key expired\")?(this.emit(Hf.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}async chooseBestWebsocketConnection(e,t,i){return new Sl((n,r)=>{let o=!1;const s=[];this.closeEstablishingWs=()=>{OE.debug(\"[choose-best-ws] close establishing websockets\"),s.forEach(e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()}),r(new SE(fE.WS_ABORT,\"choose best websocket aborted\"))};const a=GE(\"GATEWAY_DOMAINS\");let c;const d=e.indexOf(\"?h=\"),u=a.find(t=>-1!==d?e.includes(t,d):e.includes(t));OE.debug(\"[choose-best-ws] currentDomain: \",u,\", domains: \",a);let l=!this.tryDoubleDomain||t||!u;if(!l&&u){var h;const t=Date.now();try{a.forEach(t=>{const i=-1===d?e.replace(u,t):e.substr(0,d)+e.substr(d).replace(u,t),n=new WebSocket(i);n.binaryType=\"arraybuffer\",s.push(n),OE.debug(\"[choose-best-ws] ws is connecting:\",n.url)})}catch(e){for(OE.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),s.forEach(e=>e.close());s.length;)s.pop();l=!0}null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:s.map(e=>e.url),service:\"gateway\"},i),s.forEach(e=>{e.onopen=()=>{if(o)return;const i=Date.now()-t;OE.debug(\"[choose-best-ws] ws open cost \".concat(i,\"ms\")),s.filter(t=>t!==e).forEach(e=>{OE.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)),e.close()}),o=!0,n(e)},e.onclose=e=>{if(c=e,o)return;s.find(e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))||(OE.debug(\"[choose-best-ws] all websocket is closed\"),o=!0,r(c))},e.onmessage=t=>{OE.debug(\"[choose-best-ws]\".concat(e.url,\" onmessage: \").concat(t.data))}}),zI(this.forceCloseTimeout).then(()=>{s.forEach(e=>{e.readyState!==WebSocket.OPEN&&e.close()})})}if(l){var p;let t;OE.debug(\"[choose-best-ws] use single url: \",e),null===(p=this.store)||void 0===p||p.recordJoinChannelService({urls:[e],service:\"gateway\"},i);try{t=new WebSocket(e),s.push(t),t.binaryType=\"arraybuffer\"}catch(e){const t=new SE(fE.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return OE.error(\"[\".concat(this.name,\"]\").concat(t)),void r(t)}t.onopen=()=>{n(t)},t.onclose=e=>{r(e)},t.onmessage=e=>{OE.debug(\"[choose-best-ws]\".concat(t.url,\" onmessage: \").concat(e.data))},zI(this.forceCloseTimeout).then(()=>{t&&t.readyState!==WebSocket.OPEN&&t.close()})}}).then(e=>(this.closeEstablishingWs=void 0,e)).catch(e=>{throw this.closeEstablishingWs=void 0,e})}}class yC{constructor(e){_p(this,\"input\",[]),_p(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:zi(e=this.input).call(e,(e,t)=>e+t)/this.input.length}}class AC extends EE{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Of.CONNECTED?this.emit(Nf.WS_CONNECTED):e===Of.RECONNECTING?this.emit(Nf.WS_RECONNECTING,this._websocketReconnectReason):e===Of.CLOSED&&this.emit(Nf.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),_p(this,\"_disconnectedReason\",void 0),_p(this,\"_websocketReconnectReason\",void 0),_p(this,\"_connectionState\",Of.CLOSED),_p(this,\"reconnectToken\",void 0),_p(this,\"websocket\",void 0),_p(this,\"openConnectionTime\",void 0),_p(this,\"clientId\",void 0),_p(this,\"lastMsgTime\",Date.now()),_p(this,\"uploadCache\",[]),_p(this,\"uploadCacheInterval\",void 0),_p(this,\"rttRolling\",new yC(5)),_p(this,\"pingpongTimer\",void 0),_p(this,\"wsInflateDataTimer\",void 0),_p(this,\"pingpongTimeoutCount\",0),_p(this,\"joinResponse\",void 0),_p(this,\"multiIpOption\",void 0),_p(this,\"initError\",void 0),_p(this,\"spec\",void 0),_p(this,\"store\",void 0),_p(this,\"onWebsocketMessage\",e=>{if(e.data instanceof ArrayBuffer)return void this.emit(Nf.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){if(this.emit(t._type,t._message),t._type===Df.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Df.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(vf.UID_BANNED);break;case 15:this.close(vf.IP_BANNED);break;case 16:this.close(vf.CHANNEL_BANNED)}if(t._type===Df.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case If.ERR_LICENSE_MISSING:this.close(vf.LICENSE_MISSING);break;case If.ERR_LICENSE_EXPIRED:this.close(vf.LICENSE_EXPIRED);break;case If.ERR_LICENSE_MINUTES_EXCEEDED:this.close(vf.LICENSE_MINUTES_EXCEEDED);break;case If.ERR_LICENSE_PERIOD_INVALID:this.close(vf.LICENSE_PERIOD_INVALID);break;case If.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(vf.LICENSE_MULTIPLE_SDK_SERVICE);break;case If.ERR_LICENSE_ILLEGAL:this.close(vf.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new vC(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,!0,t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Of.CONNECTED&&this.reconnect(\"retry\",Af.OFFLINE)})}async request(e,t,i,n){const r=ZI(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new Sl((t,i)=>{if(this.connectionState===Of.CONNECTED)return t();const n=()=>{this.off(Nf.WS_CLOSED,r),t()},r=()=>{this.off(Nf.WS_CONNECTED,n),i(new SE(fE.WS_ABORT))};this.once(Nf.WS_CONNECTED,n),this.once(Nf.WS_CLOSED,r),e!==bf.PUBLISH&&e!==bf.SUBSCRIBE&&e!==bf.UNSUBSCRIBE&&e!==bf.UNPUBLISH&&e!==bf.CONTROL&&e!==bf.RESTART_ICE||this.once(Nf.DISCONNECT_P2P,()=>{i(new SE(fE.DISCONNECT_P2P))}),e!==bf.PUBLISH&&e!==bf.RESTART_ICE||this.once(Nf.ABORT_P2P_EXECUTION,()=>{i(new SE(fE.DISCONNECT_P2P))})});if(this.connectionState!==Of.CONNECTING&&this.connectionState!==Of.RECONNECTING||e===bf.JOIN||e===bf.REJOIN||await a(),this.websocket.sendMessage(o,!0),n)return;const c=new Sl((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(Nf.WS_CLOSED,c),this.off(Nf.WS_RECONNECTING,c),this.emit(Nf.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new SE(fE.WS_ABORT,\"type: \".concat(e))),this.off(Nf.WS_CLOSED,c),this.off(Nf.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(Nf.WS_CLOSED,c),this.once(Nf.WS_RECONNECTING,c),zI(GE(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==s||o||(OE.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(Nf.REQUEST_TIMEOUT,e,t))})});let d=null;try{d=await c}catch(n){if(this.connectionState===Of.CLOSED||e===bf.LEAVE)throw new SE(fE.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===bf.JOIN||e===bf.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const u=Number(d.message.error_code||d.message.code),l=IC(u),h=new SE(fE.UNEXPECTED_RESPONSE,\"\".concat(l.desc,\": \").concat(d.message.error_str),{code:u,data:d.message});return\"success\"===l.action?d.message:(OE.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(l.desc,\", action: \").concat(l.action)),u===If.ERR_TOO_MANY_BROADCASTERS?e===bf.JOIN||e===bf.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===l.action?h.throw():\"quit\"===l.action?(this.initError=h,this.close(),h.throw()):(u===If.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,OE.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Af.MULTI_IP)):this.reconnect(l.action,Af.SERVER_ERROR),e===bf.JOIN||e===bf.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Sl(i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)})}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=GE(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Of.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)},GE(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Sl((i,n)=>{this.once(Nf.WS_CONNECTED,()=>i(this.joinResponse)),this.once(Nf.WS_CLOSED,()=>n(this.initError||new SE(fE.WS_ABORT))),this.connectionState=Of.CONNECTING,this.websocket.init(e).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4),setTimeout(()=>{t&&void 0===this.openConnectionTime&&(OE.debug(\"[\".concat(this.clientId,\"] init websocket timeout while join with fallback to proxy\")),n(new SE(fE.INIT_WEBSOCKET_TIMEOUT)))},GE(\"JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION\"))})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||vf.LEAVE,this.connectionState=Of.CLOSED,OE.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),e===vf.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new vC(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(Nf.ABORT_P2P_EXECUTION);const e=await nC(this,Nf.REQUEST_JOIN_INFO),t=await this.request(bf.JOIN,e);if(!t)return this.emit(Nf.REPORT_JOIN_GATEWAY,fE.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(Nf.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Of.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new SE(fE.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=sC(this,Nf.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(bf.REJOIN,e);return!!t&&(this.connectionState=Of.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach(e=>{this.emit(Df.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Df.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Df.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Df.MUTE_AUDIO,{uid:e.uid}):this.emit(Df.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Df.MUTE_VIDEO,{uid:e.uid}):this.emit(Df.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Df.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Df.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Df.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Df.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Df.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})}),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){OE.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=IC(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(vf.UID_BANNED),void this.close()):void this.reconnect(t.action,Af.SERVER_ERROR);OE.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=GE(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(OE.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>GE(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Af.TIMEOUT):this.request(bf.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),GE(\"REPORT_STATS\")&&this.send(bf.PING_BACK,{pingpongElapse:e})}).catch(e=>{})}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(wf.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Hf.RECONNECT_WAITTING_FINISH,e=>{this.emit(Nf.WS_RECONNECT_WAITTING_FINISH,e)}),this.websocket.on(Hf.RECONNECT_CREATE_CONNECTION,e=>{this.emit(Nf.WS_RECONNECT_CREATE_CONNECTION,e)}),this.websocket.on(Hf.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Hf.CLOSED,()=>{this.connectionState=Of.CLOSED}),this.websocket.on(Hf.FAILED,()=>{this._disconnectedReason=vf.NETWORK_ERROR,this.connectionState=Of.CLOSED}),this.websocket.on(Hf.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Of.CONNECTED?this.connectionState=Of.RECONNECTING:this.connectionState=Of.CONNECTING}),this.websocket.on(Hf.WILL_RECONNECT,(e,t)=>{if(sC(this,Nf.IS_P2P_DISCONNECTED)&&\"retry\"===e)return OE.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(Nf.NEED_RENEW_SESSION),this.emit(Nf.DISCONNECT_P2P),t(\"tryNext\");\"retry\"!==e&&(OE.debug(\"\".concat(this.clientId,\" websockt will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(Nf.NEED_RENEW_SESSION),this.emit(Nf.DISCONNECT_P2P)),t(e)}),this.websocket.on(Hf.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(e=>{OE.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",Af.SERVER_ERROR)}):this.join().catch(e=>{if(this.emit(Nf.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof SE&&e.code===fE.UNEXPECTED_RESPONSE&&e.data.code===If.ERR_NO_AUTHORIZED)return OE.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Af.SERVER_ERROR);OE.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Af.SERVER_ERROR):(this.initError=e,this.close())})}),this.websocket.on(Hf.REQUEST_NEW_URLS,(e,t)=>{nC(this,Nf.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)}),this.websocket.on(Hf.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(Df.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}function OC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class NC extends EE{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){[\"tryNext\",\"recover\"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(FS.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(FS.CONNECTED):\"closed\"===this._state?this.emit(FS.CLOSED):\"failed\"===this._state&&this.emit(FS.FAILED))}constructor(e,t,i,n){super(),_p(this,\"connectionID\",0),_p(this,\"currentURLIndex\",0),_p(this,\"reconnectReason\",void 0),_p(this,\"_reconnectMode\",\"tryNext\"),_p(this,\"_initMutex\",void 0),_p(this,\"_name\",void 0),_p(this,\"_state\",\"closed\"),_p(this,\"_reconnectInterrupter\",void 0),_p(this,\"_url\",void 0),_p(this,\"_retryConfig\",void 0),_p(this,\"_reconnectCount\",0),_p(this,\"_forceCloseTimeout\",5e3),_p(this,\"_onlineReconnectListener\",void 0),_p(this,\"_closeEstablishingTransmitter\",()=>{}),_p(this,\"_store\",void 0),_p(this,\"_joinChannelServiceRecordIndex\",void 0),_p(this,\"_transmitter\",void 0),_p(this,\"_useCompress\",void 0),_p(this,\"_inflateLength\",0),_p(this,\"_deflateLength\",0),this._store=n,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?OC(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this._useCompress=i}resetReconnectCount(e){OE.debug(\"\".concat(this._name,\" reset reconnect count, reason: \").concat(e)),this._reconnectCount=0}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout(()=>e.close(),500):e.close(),this._transmitter=void 0}this.state=e?\"failed\":\"closed\",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void OE.warning(\"[\".concat(this._name,\"] can not reconnect, no websocket\"));var i;(void 0!==e&&(this.reconnectMode=e),OE.debug(\"[\".concat(this._name,\"] reconnect is triggered initiative\")),\"number\"==typeof this._joinChannelServiceRecordIndex)&&(null===(i=this._store)||void 0===i||i.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const n=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),n&&n.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}function bC(e,t,i){if(\"getBigUint64\"in DataView.prototype)return e.getBigUint64(t,i);const n=e.getUint32(t,i),r=e.getUint32(t+4,i),o=Number(!!i),s=Number(!i);return BigInt(n*s+r*o)<<BigInt(32)|BigInt(n*o+r*s)}function wC(e,t,i,n){if(\"setBigUint64\"in DataView.prototype)return e.setBigUint64(t,i,n);const r=Number(i>>BigInt(32)),o=Number(i&BigInt(4294967295));n?(e.setUint32(t+4,r,n),e.setUint32(t,o,n)):(e.setUint32(t,r,n),e.setUint32(t+4,o,n))}let DC;!function(e){e[e.Default=0]=\"Default\",e[e.Ack=1]=\"Ack\"}(DC||(DC={}));class PC{constructor(e,t,i){_p(this,\"version\",1),_p(this,\"initialRTO\",void 0),_p(this,\"maxBatchAckCount\",void 0),_p(this,\"maxRTO\",void 0),_p(this,\"initialRTT\",void 0),_p(this,\"ID\",void 0),_p(this,\"rtt\",void 0),_p(this,\"packetNumber\",1),_p(this,\"rtoRatioMap\",new Map),_p(this,\"timeoutMap\",new Map),_p(this,\"unorderedPacketQueue\",[]),_p(this,\"batchAckPacketQueue\",[]),_p(this,\"lastOrderedPacketNumber\",0),_p(this,\"batchAckTimer\",void 0),_p(this,\"sendImpl\",void 0),_p(this,\"receiveImpl\",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=ZI(7,\"transmitter-\"),this.initialRTO=void 0!==(null==i?void 0:i.initialRTO)?i.initialRTO:GE(\"TRANSMITTER_INITIAL_RTO\"),this.initialRTT=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:GE(\"TRANSMITTER_INITIAL_RTT\"),this.rtt=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:GE(\"TRANSMITTER_INITIAL_RTT\"),this.maxBatchAckCount=void 0!==(null==i?void 0:i.maxBatchAckCount)?i.maxBatchAckCount:GE(\"TRANSMITTER_MAX_BATCH_ACK_COUNT\"),this.maxRTO=void 0!==(null==i?void 0:i.maxRTO)?i.maxRTO:GE(\"TRANSMITTER_MAX_RTO\")}packetize(e,t){return{type:DC.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case DC.Default:{let t;if(\"string\"==typeof e.payload){t=(new TextEncoder).encode(e.payload)}else t=e.payload;const i=new ArrayBuffer(t.length+15),n=new DataView(i);n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.packetNumber),wC(n,7,BigInt(e.sendTs));return new Uint8Array(n.buffer).set(t,15),i}case DC.Ack:{const t=new ArrayBuffer(16),i=new DataView(t);return i.setUint16(0,e.version),i.setUint8(2,e.type),i.setUint32(3,e.maxAckPacketNumber),i.setUint8(7,e.shift),wC(i,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),i=t.getUint16(0),n=t.getUint8(2);switch(n){case DC.Default:{const r=t.getUint32(3),o=bC(t,7),s=e.slice(15),a=(new TextDecoder).decode(s);return{version:i,type:n,packetNumber:r,sendTs:Number(o),payload:a}}case DC.Ack:{const e=t.getUint32(3),r=t.getUint8(7),o=bC(t,8);return{version:i,type:n,maxAckPacketNumber:e,shift:r,ackSendTs:Number(o)}}default:throw OE.error(\"[\".concat(this.ID,\"] Unrecognized packet type \").concat(n)),new Error(\"Unrecognized packet type \".concat(n))}}sendMessage(e){const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const i=this.calculateRTO(t),n=window.setTimeout(()=>{this.resendMessage(t)},i);this.timeoutMap.set(t.packetNumber,n),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===DC.Default?this.ack(t):t.type===DC.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach(e=>{let[t,i]=e;window.clearTimeout(i)}),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),i=window.setTimeout(()=>{this.resendMessage(e)},t);this.timeoutMap.set(e.packetNumber,i),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const i=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),i>this.maxRTO?this.maxRTO:i}}updateRTT(e,t){const i=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-i-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout(()=>{this.batchAck()},this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:DC.Ack,version:this.version};this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:DC.Ack,version:this.version};this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:DC.Ack,version:this.version};this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===DC.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class LC extends NC{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),_p(this,\"_initMutex\",void 0),_p(this,\"_reconnectInterrupter\",void 0),_p(this,\"_url\",void 0),_p(this,\"_transmitter\",void 0),_p(this,\"_addresses\",void 0),_p(this,\"_reliableTransmission\",void 0),this._initMutex=new Ug(\"datachannel\");const{timeout:i,timeoutFactor:n}=t,r=Math.max(300,Math.floor(3*i/5)),o=Math.max(1.2,Math.floor(8*n)/10);PS.ONLINE&&(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o),Ig.on(LS.NETWORK_STATE_CHANGE,(e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===PS.ONLINE?(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o):(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=n))})}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const i=(t,i)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex(e=>e.fingerprint||GE(\"FINGERPRINT\"));const n=this._addresses[this.currentURLIndex];this.state=\"connecting\",this.createTransmitterConnection(n).then(t).catch(i),this.once(FS.CLOSED,()=>i(new SE(fE.WS_DISCONNECT))),this.once(FS.CONNECTED,()=>t())};return this._initMutex.lock().then(e=>new Sl((e,t)=>{i(e,t)}).then(()=>{e()}).catch(()=>{e()}))}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new SE(fE.WS_ABORT,\"datachannel is not ready\");try{t||(e=JSON.stringify(e)),this._reliableTransmission.sendMessage(e)}catch(e){throw new SE(fE.WS_ERR,\"send datachannel signal message error\"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url=\"dc://\".concat(e.ip,\":\").concat(e.port),new Sl((t,i)=>{var n;const r=()=>{OE.debug(\"[\".concat(this._name,\"] datachannel opened:\"),this._url),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),t()},o=async e=>{var n;if(null===(n=this._closeEstablishingTransmitter)||void 0===n||n.call(this),OE.debug(\"[\".concat(this._name,\"] datachannel close \").concat(this._url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const n=oC(this,FS.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(n);if(\"closed\"===this.state)return void OE.debug(\"[\".concat(this.connectionID,\"] dc is closed, no need to reconnect\"));if(!r)return i(new SE(fE.WS_DISCONNECT,\"datachannel reconnect failed: \".concat(e.code))),void this.close(!0);t()}else i(new SE(fE.WS_DISCONNECT,\"datachannel close: \".concat(e.code))),this.close()},s=e=>{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),OE.debug(\"[\".concat(this._name,\"] start connect, address: \").concat(JSON.stringify(e)));const a=null===(n=this._store)||void 0===n?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"}),c=Date.now();nC(this,FS.TO_CONNECT_DATACHANNEL,e).then(e=>{var t,i;if(!e)throw new Error(\"transmissonInfo not exist yet\");const{transmitter:n,close:d}=e;this._transmitter=n,null===(t=this._store)||void 0===t||t.signalChannelOpen();const u=Date.now()-c;OE.debug(\"[choose dc] dc open cost \".concat(u,\"ms\"));this._reliableTransmission=new PC(e=>{var t;this._transmitter&&\"open\"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))},e=>{\"string\"==typeof e&&this.emit(FS.ON_MESSAGE,e)}),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,d()},r&&r(),n.onclose=o,n.onmessage=s,null===(i=this._store)||void 0===i||i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this._joinChannelServiceRecordIndex=a}).catch(e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof SE&&e.code===fE.WS_ABORT?\"aborted\":\"error\",errors:[e]},a),\"closed\"!==this.state){if(e instanceof SE&&e.code===fE.WS_ERR){const t=new SE(fE.WS_ERR,\"init datachannel failed! Error: \".concat(e.toString()));return OE.error(\"[\".concat(this._name,\"]\").concat(t)),void i(t)}o&&o(e)}else i(new SE(fE.WS_DISCONNECT,\"datachannel is closed: \".concat(e.toString())))})})}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if(\"closed\"===this.state)return!1;this._onlineReconnectListener||Ig.networkState!==PS.OFFLINE||(this._onlineReconnectListener=Ig.onlineWaiter&&Ig.onlineWaiter.then(()=>{this._onlineReconnectListener=void 0}));let i=!0;if(this._reconnectInterrupter=()=>{i=!1},t){const t=gE(this._reconnectCount,this._retryConfig);OE.debug(\"[\".concat(this._name,\"] wait \").concat(t,\"ms to reconnect datachannel, mode: \").concat(e)),await Sl.race([zI(t),this._onlineReconnectListener||new Sl(()=>{})])}if(\"closed\"===this.state||!i)return!1;this._reconnectCount+=1;const n=async(e,t)=>{this.emit(FS.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if(\"retry\"===e){const t=this._addresses[this.currentURLIndex];this.emit(FS.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else if(\"tryNext\"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||GE(\"FINGERPRINT\")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return OE.debug(\"[\".concat(this._name,\"] the available addresses are exhausted, change to recover\")),await this.reconnectWithAction(\"recover\",!1);OE.debug(\"[\".concat(this._name,\"] datachannel url length: \").concat(this._addresses.length,\" current index: \").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];this.emit(FS.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else\"recover\"===e&&(OE.debug(\"[\".concat(this._name,\"] start to failback to websocket\")),this.resetReconnectCount(\"recover mode\"),this.emit(FS.RECONNECT_WAITTING_FINISH,e),this.emit(FS.FAILBACK));return!0}catch(i){var r;return OE.error(\"[\".concat(this._name,\"] reconnect failed\"),i.toString()),null!=i&&null!==(r=i.data)&&void 0!==r&&r.desc&&Array.isArray(i.data.desc)&&i.data.desc.length&&i.data.desc.includes(\"dynamic key expired\")?(this.emit(FS.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class kC extends EE{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Of.CONNECTED?this.emit(Nf.WS_CONNECTED):e===Of.RECONNECTING?this.emit(Nf.WS_RECONNECTING,this._websocketReconnectReason):e===Of.CLOSED&&this.emit(Nf.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),_p(this,\"_disconnectedReason\",void 0),_p(this,\"_websocketReconnectReason\",void 0),_p(this,\"_connectionState\",Of.CLOSED),_p(this,\"reconnectToken\",void 0),_p(this,\"websocket\",void 0),_p(this,\"openConnectionTime\",void 0),_p(this,\"clientId\",void 0),_p(this,\"lastMsgTime\",Date.now()),_p(this,\"uploadCache\",[]),_p(this,\"uploadCacheInterval\",void 0),_p(this,\"rttRolling\",new yC(5)),_p(this,\"pingpongTimer\",void 0),_p(this,\"inflateDataTimer\",void 0),_p(this,\"pingpongTimeoutCount\",0),_p(this,\"joinResponse\",void 0),_p(this,\"multiIpOption\",void 0),_p(this,\"initError\",void 0),_p(this,\"spec\",void 0),_p(this,\"store\",void 0),_p(this,\"onWebsocketMessage\",e=>{if(e instanceof ArrayBuffer)return void this.emit(Nf.ON_BINARY_DATA,e);const t=JSON.parse(e);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")&&(this.emit(t._type,t._message),t._type===Df.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Df.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(vf.UID_BANNED);break;case 15:this.close(vf.IP_BANNED);break;case 16:this.close(vf.CHANNEL_BANNED)}}),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new LC(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Of.CONNECTED&&this.reconnect(\"retry\",jS.OFFLINE)})}async request(e,t,i,n){const r=ZI(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new Sl((t,i)=>{if(this.connectionState===Of.CONNECTED)return t();const n=()=>{this.off(Nf.WS_CLOSED,r),t()},r=()=>{this.off(Nf.WS_CONNECTED,n),i(new SE(fE.WS_ABORT))};this.once(Nf.WS_CONNECTED,n),this.once(Nf.WS_CLOSED,r),e!==bf.PUBLISH&&e!==bf.SUBSCRIBE&&e!==bf.UNSUBSCRIBE&&e!==bf.UNPUBLISH&&e!==bf.CONTROL&&e!==bf.RESTART_ICE||this.once(Nf.DISCONNECT_P2P,()=>{i(new SE(fE.DISCONNECT_P2P))}),e!==bf.PUBLISH&&e!==bf.RESTART_ICE||this.once(Nf.ABORT_P2P_EXECUTION,()=>{i(new SE(fE.DISCONNECT_P2P))})});if(this.connectionState!==Of.CONNECTING&&this.connectionState!==Of.RECONNECTING||e===bf.JOIN||e===bf.REJOIN||await a(),e===bf.LEAVE&&(this.websocket.unbindDcCloseEventListener(),n=!0),this.websocket.sendMessage(o,!0,!1),n)return;const c=new Sl((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(Nf.WS_CLOSED,c),this.off(Nf.WS_RECONNECTING,c),this.emit(Nf.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new SE(fE.WS_ABORT,\"type: \".concat(e))),this.off(Nf.WS_CLOSED,c),this.off(Nf.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(Nf.WS_CLOSED,c),this.once(Nf.WS_RECONNECTING,c),zI(GE(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==s||o||(OE.warning(\"dc request timeout, type: \".concat(e)),this.emit(Nf.REQUEST_TIMEOUT,e,t))})});let d=null;try{d=await c}catch(n){if(this.connectionState===Of.CLOSED||e===bf.LEAVE)throw new SE(fE.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===bf.JOIN||e===bf.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const u=Number(d.message.error_code||d.message.code),l=IC(u),h=new SE(fE.UNEXPECTED_RESPONSE,\"\".concat(l.desc,\": \").concat(d.message.error_str),{code:u,data:d.message});return\"success\"===l.action?d.message:(OE.warning(\"[\".concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(l.desc,\", action: \").concat(l.action)),u===If.ERR_TOO_MANY_BROADCASTERS?e===bf.JOIN||e===bf.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===l.action?h.throw():\"quit\"===l.action?(this.initError=h,this.close(),h.throw()):(u===If.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,OE.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",jS.MULTI_IP)):this.reconnect(l.action,jS.SERVER_ERROR),e===bf.JOIN||e===bf.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Sl(i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)})}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=GE(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Of.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)},GE(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Sl((i,n)=>{this.once(Nf.WS_CONNECTED,()=>i(this.joinResponse)),this.once(Nf.WS_CLOSED,()=>n(this.initError||new SE(fE.WS_ABORT))),this.connectionState=Of.CONNECTING,this.websocket.init(e).catch(n),this.websocket.once(FS.FAILBACK,()=>{void 0===this.openConnectionTime&&n(new SE(fE.INIT_DATACHANNEL_TIMEOUT))}),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval(()=>{this.handleInflateData()},2e4),setTimeout(()=>{t&&void 0===this.openConnectionTime&&(OE.debug(\"[\".concat(this.clientId,\"] init datachannel timeout while join with failback to websocket\")),n(new SE(fE.INIT_DATACHANNEL_TIMEOUT)))},GE(\"DC_JOIN_WITH_FAILBACK\"))})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||vf.LEAVE,this.connectionState=Of.CLOSED,OE.debug(\"[\".concat(this.clientId,\"] \")+\"will close datachannel in signal\"),this.websocket.close(),e===vf.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new LC(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(Nf.ABORT_P2P_EXECUTION);const e=await nC(this,Nf.DATACHANNEL_CONNECTING),t=await this.request(bf.JOIN,e);if(!t)return this.emit(Nf.REPORT_JOIN_GATEWAY,fE.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(Nf.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Of.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new SE(fE.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=sC(this,Nf.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(bf.REJOIN,e);return!!t&&(this.connectionState=Of.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach(e=>{this.emit(Df.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Df.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Df.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Df.MUTE_AUDIO,{uid:e.uid}):this.emit(Df.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Df.MUTE_VIDEO,{uid:e.uid}):this.emit(Df.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Df.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Df.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Df.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Df.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Df.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})}),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){OE.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=IC(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(vf.UID_BANNED),void this.close()):void this.reconnect(t.action,jS.SERVER_ERROR);OE.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=GE(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(OE.warning(\"PINGPONG Timeout. Last Socket Message: \".concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>GE(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",jS.TIMEOUT):this.request(bf.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),GE(\"REPORT_STATS\")&&this.send(bf.PING_BACK,{pingpongElapse:e})}).catch(e=>{})}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(wf.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(FS.RECONNECT_WAITTING_FINISH,e=>{this.emit(Nf.WS_RECONNECT_WAITTING_FINISH,e)}),this.websocket.on(FS.RECONNECT_CREATE_CONNECTION,e=>{this.emit(Nf.WS_RECONNECT_CREATE_CONNECTION,e)}),this.websocket.on(FS.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(FS.CLOSED,()=>{this.connectionState=Of.CLOSED}),this.websocket.on(FS.FAILED,()=>{this._disconnectedReason=vf.NETWORK_ERROR,this.connectionState=Of.CLOSED}),this.websocket.on(FS.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Of.CONNECTED?this.connectionState=Of.RECONNECTING:this.connectionState=Of.CONNECTING}),this.websocket.on(FS.WILL_RECONNECT,(e,t)=>{if(sC(this,Nf.IS_P2P_DISCONNECTED)&&\"retry\"===e)return OE.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(Nf.NEED_RENEW_SESSION),this.emit(Nf.DISCONNECT_P2P),t(\"tryNext\");\"retry\"!==e&&(OE.debug(\"\".concat(this.clientId,\" websockt will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(Nf.NEED_RENEW_SESSION),this.emit(Nf.DISCONNECT_P2P)),t(e)}),this.websocket.on(FS.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(e=>{OE.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",jS.SERVER_ERROR)}):this.join().catch(e=>{if(this.emit(Nf.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof SE&&e.code===fE.UNEXPECTED_RESPONSE&&e.data.code===If.ERR_NO_AUTHORIZED)return OE.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",jS.SERVER_ERROR);OE.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",jS.SERVER_ERROR):(this.initError=e,this.close())})}),this.websocket.on(FS.REQUEST_NEW_URLS,(e,t)=>{nC(this,Nf.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)}),this.websocket.on(FS.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(Df.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(FS.TO_CONNECT_DATACHANNEL,async(e,t,i)=>nC(this,Nf.DATACHANNEL_PRECONNECT,e).then(t).catch(i)),this.websocket.on(FS.FAILBACK,()=>{void 0!==this.openConnectionTime&&this.emit(Nf.DATACHANNEL_FAILBACK)})}}function MC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function UC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):MC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const xC=new Map;class VC extends EE{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,\"DISCONNECTED\"===e&&this._disconnectedReason?this.emit(aS.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(aS.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){OE.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),_p(this,\"store\",void 0),_p(this,\"joinInfo\",void 0),_p(this,\"key\",void 0),_p(this,\"signal\",void 0),_p(this,\"role\",void 0),_p(this,\"inChannelInfo\",{joinAt:null,duration:0}),_p(this,\"spec\",void 0),_p(this,\"_state\",\"DISCONNECTED\"),_p(this,\"_statsCollector\",void 0),_p(this,\"_disconnectedReason\",void 0),_p(this,\"isSignalRecover\",!1),_p(this,\"hasChangeBGPAddress\",!1),_p(this,\"trafficStatsInterval\",void 0),_p(this,\"networkQualityInterval\",void 0),_p(this,\"_joinGatewayStartTime\",0),_p(this,\"_signalTimeout\",!1),_p(this,\"_clientRoleOptions\",void 0),_p(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=t,this.signal=this.store.useDataChannel?new kC(UC(UC({},t),{},{retryConfig:t.websocketRetryConfig}),e):new AC(UC(UC({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||\"audience\",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,i){if(this.signal instanceof kC){let t=!1;\"disabled\"!==e.cloudProxyServer?(OE.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because cloudProxyServer are not supported (\").concat(e.cloudProxyServer,\")\")),t=!0):\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length>255||\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length<22?(OE.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255\")),t=!0):e.apResponse.addresses.some(e=>e.fingerprint)||GE(\"FINGERPRINT\")||(OE.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because fingerprint does not exist\")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),\"disabled\"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const n=Date.now();let r=xC.get(e.cname);if(r||(r=new Map,xC.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new SE(fE.UID_CONFLICT);throw Pg.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:this.signal instanceof kC?\"1\":\"0\"}),this._isProactiveJoin=!1,t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=n;const s=e.proxyServer;try{let t;if(OE.debug(\"[\".concat(this.store.clientId,\"] use \").concat(this.signal instanceof kC?\"datachannel\":\"websocket\",\" join uid \").concat(o)),this.signal instanceof kC)t=await this.signal.init(e.apResponse.addresses,i);else{const n=e.proxyServer,r=n?e.gatewayAddrs.map(e=>{const t=e.address.split(\":\");return\"wss://\".concat(n,\"/ws/?h=\").concat(t[0],\"&p=\").concat(t[1])}):e.gatewayAddrs.map(e=>\"wss://\".concat(e.address));t=await this.signal.init(r,i)}o=t.uid,OE.debug(\"[\".concat(this.store.clientId,\"] \").concat(this.signal instanceof kC?\"datachannel\":\"websocket\",\" join uid \").concat(o,\" cost \").concat(Date.now()-this.joinGatewayStartTime))}catch(t){if(t&&t.code===fE.INIT_WEBSOCKET_TIMEOUT)throw OE.warning(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),t;if(t&&t.code===fE.INIT_DATACHANNEL_TIMEOUT)throw OE.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\"),t.toString()),this.resetSignal(),t;throw OE.error(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),Pg.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!s,signalChannel:this.signal instanceof kC?\"1\":\"0\"}),this._isProactiveJoin=!1,r.delete(e.uid),this.signal.close(),t}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),OE.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(e=>{OE.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),e.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(aS.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(aS.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):\"CONNECTED\"===this.state&&this._statsCollector.trafficStats?this.emit(aS.NETWORK_QUALITY,{uplinkNetworkQuality:GI(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:GI(this._statsCollector.trafficStats.B_dnq)}):this.emit(aS.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(\"DISCONNECTED\"!==this.state){t!==vf.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==Of.CONNECTED||await function(e,t){return t===1/0?e:Sl.race([e,QI(t)])}(this.signal.request(bf.LEAVE,void 0,!0),3e3)}catch(e){OE.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),e)}this.signal.close(t),t!==vf.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}}async publish(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new SE(fE.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const n={state:\"offer\",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:GE(\"PUB_EXTEND\"),twcc:!!GE(\"PUBLISH_TWCC\"),rtx:!!GE(\"USE_PUB_RTX\")};try{return(await this.signal.request(bf.PUBLISH,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===If.ERR_PUBLISH_REQUEST_INVALID)return OE.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),n.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw n}}async unpublish(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new SE(fE.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(bf.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){OE.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),e)}}async subscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new SE(fE.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!GE(\"SUBSCRIBE_TWCC\"),rtx:!!GE(\"USE_SUB_RTX\"),extend:GE(\"SUB_EXTEND\"),ssrcId:t.ssrcId,svc:Array.isArray(GE(\"SVC\"))&&0!==GE(\"SVC\").length?GE(\"SVC\"):void 0};try{return(await this.signal.request(bf.SUBSCRIBE,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===If.ERR_SUBSCRIBE_REQUEST_INVALID)return OE.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),n.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw n}}async subscribeAll(e,t){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new SE(fE.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));const i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!GE(\"USE_SUB_RTX\")};try{return await this.signal.request(bf.SUBSCRIBE_STREAMS,i,!0)}catch(i){if(t&&i.data&&i.data.code===If.ERR_SUBSCRIBE_REQUEST_INVALID)return OE.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),i.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw i}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,i=e.width,n=e.height,r=!0;return\"number\"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),\"number\"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,i||(r=!1)),\"number\"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,t||(r=!1)),r?{stream_type:0,width:i,height:n,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(bf.SET_VIDEO_PROFILE,t);OE.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"))}async unsubscribe(e,t){try{await this.signal.request(bf.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){OE.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),e)}}async massUnsubscribe(e){try{await this.signal.request(bf.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){OE.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=e;return{gatewayEstablishParams:await this.signal.request(bf.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(bf.GATEWAY_INFO)}async renewToken(e){await this.signal.request(bf.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),\"CONNECTED\"!==this.state)return void(this.role=e);let i=void 0;i=\"audience\"===e?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0,await this.signal.request(bf.SET_CLIENT_ROLE,{role:e,level:i,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(bf.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(bf.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(bf.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(bf.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),UC({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(bf.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=xC.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith(\"dc\")?e.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),t?{username:PE.username,password:PE.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}((\"disabled\"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&\"off\"!==this.joinInfo.turnServer.mode&&\"disabled\"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(UC(UC({},PE),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(\"CONNECTED\"!==this.state)return;const e=await this.signal.request(bf.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.peer_delay.forEach(e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(t=>t.peer_uid===e.peer_uid);t&&t.B_st!==e.B_st&&dC(()=>{this.emit(aS.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)})}),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new SE(fE.UNEXPECTED_ERROR,\"can not generate join message, no join info\");const t=Object.assign({},this.joinInfo.apResponse);let i=GE(\"REPORT_APP_SCENARIO\");if(\"string\"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=void 0}i&&i.length>128&&(i=void 0);const n=UC({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:bE,browser:navigator.userAgent,process_id:GE(\"PROCESS_ID\"),mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:GE(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:\"proxy3\"===this.joinInfo.cloudProxyServer?\"1\":\"proxy5\"===this.joinInfo.cloudProxyServer?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:GE(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:GE(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:\"number\"==typeof GE(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")?GE(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:\"boolean\"==typeof GE(\"ENABLE_PUBLISH_AUDIO_FILTER\")?GE(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:\"boolean\"==typeof GE(\"ENABLE_USER_LICENSE_CHECK\")?GE(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:!0===GE(\"USE_PUB_RTX\")||!0===GE(\"USE_SUB_RTX\")||void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(n.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(n.aes_mode=this.joinInfo.aesmode,GE(\"ENCRYPT_AES\")?(n.aes_secret=this.joinInfo.aespassword,n.aes_encrypt=!0):n.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(n.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(n.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(n.default_video_stream=this.joinInfo.defaultVideoStream),n}getRejoinMessage(){if(!this.joinInfo)throw new SE(fE.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(Nf.WS_RECONNECT_WAITTING_FINISH,e=>{[\"tryNext\",\"recover\"].includes(e)&&this.joinInfo&&Pg.adjustSessionStartTime(this.joinInfo.sid)}),this.signal.on(Nf.WS_RECONNECT_CREATE_CONNECTION,e=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(Nf.WS_RECONNECTING,e=>{this.joinInfo&&Pg.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||Af.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",Pg.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(Nf.WS_CLOSED,e=>{let t;switch(e){case vf.LEAVE:t=Af.LEAVE;break;case vf.UID_BANNED:case vf.IP_BANNED:case vf.CHANNEL_BANNED:case vf.SERVER_ERROR:t=Af.SERVER_ERROR;break;case vf.FALLBACK:t=Af.FALLBACK;break;case vf.LICENSE_MISSING:case vf.LICENSE_EXPIRED:case vf.LICENSE_MINUTES_EXCEEDED:case vf.LICENSE_PERIOD_INVALID:case vf.LICENSE_MULTIPLE_SDK_SERVICE:case vf.LICENSE_ILLEGAL:t=e;break;default:t=Af.NETWORK_ERROR}OE.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(t||\"undefined -> \"+Af.NETWORK_ERROR)),this.joinInfo&&Pg.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===vf.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==vf.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}),this.signal.on(Nf.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(\"audience\"===this.role&&this._clientRoleOptions&&this._clientRoleOptions.level&&(OE.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),this.setClientRole(this.role,this._clientRoleOptions)),Pg.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof kC?\"1\":\"0\"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void OE.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));BE(\"EVENT_REPORT_DOMAIN\",e[1]),BE(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),BE(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"))}}),this.signal.on(Df.ON_UPLINK_STATS,e=>{this._statsCollector.updateUplinkStats(e)}),this.signal.on(Nf.REQUEST_RECOVER,(e,t,i)=>{if(!this.joinInfo)return i(new SE(fE.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,nC(this,aS.REQUEST_NEW_GATEWAY_LIST).then(t).catch(i)}),this.signal.on(Nf.REQUEST_JOIN_INFO,async e=>{var t;this.updateTurnConfigFromSignal();const{iceParameters:i,dtlsParameters:n,rtpCapabilities:r}=await nC(this,aS.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:n,rtpCapabilities:r,version:\"2\"}}))}),this.signal.on(Nf.REQUEST_REJOIN_INFO,e=>{e(this.getRejoinMessage())}),this.signal.on(Nf.REPORT_JOIN_GATEWAY,(e,t)=>{this.joinInfo&&(Pg.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof kC?\"1\":\"0\"}),this._isProactiveJoin=!1)}),this.signal.on(Nf.IS_P2P_DISCONNECTED,e=>{e(sC(this,aS.IS_P2P_DISCONNECTED))}),this.signal.on(Nf.DISCONNECT_P2P,()=>{this.emit(aS.DISCONNECT_P2P)}),this.signal.on(Nf.NEED_RENEW_SESSION,()=>{this.emit(aS.NEED_RENEW_SESSION)}),this.signal.on(Nf.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(Nf.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(Nf.JOIN_RESPONSE,e=>{const t=this.getCurrentGatewayAddress();this.emit(aS.JOIN_RESPONSE,e,t)}),this.signal.on(Nf.DATACHANNEL_PRECONNECT,async(e,t,i)=>{this.updateTurnConfigFromSignal();const n=this.getCurrentGatewayAddress();return nC(this,aS.DATACHANNEL_PRECONNECT,e,n).then(t).catch(i)}),this.signal.on(Nf.DATACHANNEL_CONNECTING,async e=>{const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await nC(this,aS.REQUEST_DC_CONNECTION_PARAMS);e(this.getJoinMessage({ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n,version:\"2\"}}))}),this.signal.on(Nf.DATACHANNEL_FAILBACK,()=>{OE.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\")),this.reset(),this.resetSignal(),this.emit(aS.DATACHANNEL_FAILBACK)})}async tryUnsubBeforeResub(e,t){try{await this.signal.request(bf.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(bf.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map(e=>({stream_id:e.stream_id,stream_type:e.stream_type}))};try{await this.signal.request(bf.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),e),e}}async muteLocal(e,t){const i={action:e.find(e=>e.stream_type===sS.Audio)?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(bf.CONTROL,i,!0,!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),e),e}}async unmuteLocal(e,t){const i={action:e.find(e=>e.stream_type===sS.Audio)?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(bf.CONTROL,i,!0,!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),e),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(bf.RESTART_ICE,t,!0)}catch(e){throw OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),e),e}}reconnect(){\"CONNECTED\"===this.state&&this.signal.reconnect(void 0,Af.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!GE(\"GATEWAY_WSS_ADDRESS\"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(bf.SET_PARAMETER,{enablePublishAudioFilter:e})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(vf.FALLBACK)),this.store.useDataChannel=!1,this.signal=new AC(UC(UC({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(aS.RESET_SIGNAL,dS.websocket)}}\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e};var r,o=function(e){e=[\"object\"==typeof globalThis&&globalThis,e,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof t&&t];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}throw Error(\"Cannot find global object\")}(this);function s(e,t){if(t)e:{var i=o;e=e.split(\".\");for(var r=0;r<e.length-1;r++){var s=e[r];if(!(s in i))break e;i=i[s]}(t=t(r=i[e=e[e.length-1]]))!=r&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}if(s(\"Symbol\",(function(e){function t(e,t){this.A=e,n(this,\"description\",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var i=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",r=0;return function e(n){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new t(i+(n||\"\")+\"_\"+r++,n)}})),s(\"Symbol.iterator\",(function(e){if(e)return e;e=Symbol(\"Symbol.iterator\");for(var t=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),r=0;r<t.length;r++){var s=o[t[r]];\"function\"==typeof s&&\"function\"!=typeof s.prototype[e]&&n(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(i(this))}})}return e})),\"function\"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var d;e:{var u={};try{u.__proto__={a:!0},d=u.a;break e}catch(e){}d=!1}r=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null}var l=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError(\"Generator is already running\");e.m=!0}function _(e,t){return e.h=3,{value:t}}function E(e){this.g=new h,this.G=e}function m(e,t,i,n){try{var r=t.call(e.g.j,i);if(!(r instanceof Object))throw new TypeError(\"Iterator result \"+r+\" is not an object\");if(!r.done)return e.g.m=!1,r;var o=r.value}catch(t){return e.g.j=null,e.g.s(t),f(e)}return e.g.j=null,n.call(e.g,o),f(e)}function f(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var i=e.g.j;return i?m(e,\"return\"in i?i.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),f(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function T(e,t){return t=new S(new E(t)),l&&e.prototype&&l(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},E.prototype.o=function(e){return p(this.g),this.g.j?m(this,this.g.j.next,e,this.g.o):(this.g.o(e),f(this))},E.prototype.s=function(e){return p(this.g),this.g.j?m(this,this.g.j.throw,e,this.g.o):(this.g.s(e),f(this))},s(\"Array.prototype.entries\",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+=\"\");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),\"undefined\"!=typeof Blob&&(\"undefined\"==typeof FormData||!FormData.prototype.keys)){var g=function(e,t){for(var i=0;i<e.length;i++)t(e[i])},R=function(e){return e.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},I=function(e,t,i){return t instanceof Blob?(i=void 0!==i?String(i+\"\"):\"string\"==typeof t.name?t.name:\"blob\",t.name===i&&\"[object Blob]\"!==Object.prototype.toString.call(t)||(t=new File([t],i)),[String(e),t]):[String(e),String(t)]},C=function(e,t){if(e.length<t)throw new TypeError(t+\" argument required, but only \"+e.length+\" present.\")},v=\"object\"==typeof globalThis?globalThis:\"object\"==typeof window?window:\"object\"==typeof self?self:this,y=v.FormData,A=v.XMLHttpRequest&&v.XMLHttpRequest.prototype.send,O=v.Request&&v.fetch,N=v.navigator&&v.navigator.sendBeacon,b=v.Element&&v.Element.prototype,w=v.Symbol&&Symbol.toStringTag;w&&(Blob.prototype[w]||(Blob.prototype[w]=\"Blob\"),\"File\"in v&&!File.prototype[w]&&(File.prototype[w]=\"File\"));try{new File([],\"\")}catch(e){v.File=function(e,t,i){return e=new Blob(e,i||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(i&&void 0!==i.lastModified?new Date(i.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}}),w&&Object.defineProperty(e,w,{value:\"File\"}),e}}var D=function(e){return e.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},P=function(e){this.i=[];var t=this;e&&g(e.elements,(function(e){if(e.name&&!e.disabled&&\"submit\"!==e.type&&\"button\"!==e.type&&!e.matches(\"form fieldset[disabled] *\"))if(\"file\"===e.type){var i=e.files&&e.files.length?e.files:[new File([],\"\",{type:\"application/octet-stream\"})];g(i,(function(i){t.append(e.name,i)}))}else\"select-multiple\"===e.type||\"select-one\"===e.type?g(e.options,(function(i){!i.disabled&&i.selected&&t.append(e.name,i.value)})):\"checkbox\"===e.type||\"radio\"===e.type?e.checked&&t.append(e.name,e.value):(i=\"textarea\"===e.type?R(e.value):e.value,t.append(e.name,i))}))};if((e=P.prototype).append=function(e,t,i){C(arguments,2),this.i.push(I(e,t,i))},e.delete=function(e){C(arguments,1);var t=[];e=String(e),g(this.i,(function(i){i[0]!==e&&t.push(i)})),this.i=t},e.entries=function e(){var t,i=this;return T(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<i.i.length?e=_(e,i.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){C(arguments,1);for(var i=c(this),n=i.next();!n.done;n=i.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.call(t,r,n,this)}},e.get=function(e){C(arguments,1);var t=this.i;e=String(e);for(var i=0;i<t.length;i++)if(t[i][0]===e)return t[i][1];return null},e.getAll=function(e){C(arguments,1);var t=[];return e=String(e),g(this.i,(function(i){i[0]===e&&t.push(i[1])})),t},e.has=function(e){C(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,i,n,r,o=this;return T(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,r=c(n),_(e,r.next().value));i=t.next(),e.h=2}))},e.set=function(e,t,i){C(arguments,2),e=String(e);var n=[],r=I(e,t,i),o=!0;g(this.i,(function(t){t[0]===e?o&&(o=!n.push(r)):n.push(t)})),o&&n.push(r),this.i=n},e.values=function e(){var t,i,n,r,o=this;return T(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,(r=c(n)).next(),_(e,r.next().value));i=t.next(),e.h=2}))},P.prototype._asNative=function(){for(var e=new y,t=c(this),i=t.next();!i.done;i=t.next()){var n=c(i.value);i=n.next().value,n=n.next().value,e.append(i,n)}return e},P.prototype._blob=function(){var e=\"----formdata-polyfill-\"+Math.random(),t=[],i=\"--\"+e+'\\r\\nContent-Disposition: form-data; name=\"';return this.forEach((function(e,n){return\"string\"==typeof e?t.push(i+D(R(n))+'\"\\r\\n\\r\\n'+R(e)+\"\\r\\n\"):t.push(i+D(R(n))+'\"; filename=\"'+D(e.name)+'\"\\r\\nContent-Type: '+(e.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",e,\"\\r\\n\")})),t.push(\"--\"+e+\"--\"),new Blob(t,{type:\"multipart/form-data; boundary=\"+e})},P.prototype[Symbol.iterator]=function(){return this.entries()},P.prototype.toString=function(){return\"[object FormData]\"},b&&!b.matches&&(b.matches=b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),w&&(P.prototype[w]=\"FormData\"),A){var L=v.XMLHttpRequest.prototype.setRequestHeader;v.XMLHttpRequest.prototype.setRequestHeader=function(e,t){L.call(this,e,t),\"content-type\"===e.toLowerCase()&&(this.B=!0)},v.XMLHttpRequest.prototype.send=function(e){e instanceof P?(e=e._blob(),this.B||this.setRequestHeader(\"Content-Type\",e.type),A.call(this,e)):A.call(this,e)}}O&&(v.fetch=function(e,t){return t&&t.body&&t.body instanceof P&&(t.body=t.body._blob()),O.call(this,e,t)}),N&&(v.navigator.sendBeacon=function(e,t){return t instanceof P&&(t=t._asNative()),N.call(this,e,t)}),v.FormData=P}}();const jC=()=>{const e=GE(\"AREAS\");0===e.length&&e.push(SS.GLOBAL);return zi(e).call(e,(e,t,i)=>{const n=FC(t);return n?0===i?n:\"\".concat(e,\",\").concat(n):e},\"\")},FC=e=>e===SS.OVERSEA?\"\".concat(IS.ASIA,\",\").concat(IS.EUROPE,\",\").concat(IS.AFRICA,\",\").concat(IS.NORTH_AMERICA,\",\").concat(IS.SOUTH_AMERICA,\",\").concat(IS.OCEANIA):IS[e],BC=e=>{const t={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map(e=>{const i=CS[e],n=Object.keys(i);n&&n.map(e=>{\"CODE\"!==e&&(t[e]=t[e].concat(i[e]))})}),t},GC={GLOBAL:{ASIA:[SS.CHINA,SS.JAPAN,SS.INDIA,SS.KOREA,SS.HKMC],EUROPE:[],NORTH_AMERICA:[SS.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},WC=Object.keys(GC[SS.GLOBAL]),HC=[SS.CHINA,SS.NORTH_AMERICA,SS.EUROPE,SS.ASIA,SS.JAPAN,SS.INDIA,SS.OCEANIA,SS.SOUTH_AMERICA,SS.AFRICA,SS.KOREA,SS.HKMC,SS.US],KC=function(e,t){let i=[];if(e.includes(SS.GLOBAL)){const o=[SS.GLOBAL,SS.OVERSEA],s=Object.keys(CS);if(t===SS.GLOBAL)throw new SE(fE.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(t===SS.CHINA)i=[SS.OVERSEA];else if(r=t,WC.includes(r)){const e=(n=t,GC[SS.GLOBAL][n]||[]),r=[...o,t,...e];i=s.filter(e=>!r.includes(e))}else if(function(e){let t=!1;return WC.forEach(i=>{GC[SS.GLOBAL][i].includes(e)&&(t=!0)}),t}(t)){const e=function(e){let t;return WC.forEach(i=>{GC[SS.GLOBAL][i].includes(e)&&(t=i)}),t}(t),n=[...o,e,t];i=s.filter(e=>!n.includes(e))}else i=e;i=function(e){const t=[];return HC.forEach(i=>{e.includes(i)&&t.push(i)}),t.concat(e.filter(e=>!HC.includes(e)))}(i)}else i=e;var n,r;return i};function YC(e){if(!e&&GE(\"AREAS\").includes(SS.EXTENSIONS))return OE.debug(\"update area from ap : reset\"),void qC(DE,!0);if(!GE(\"AREAS\").includes(SS.GLOBAL)||!e)return;let t=CS.EXTENSIONS;t&&(t={CODE:FC(SS.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(e,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(e,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(e,\".agora.io\"),\"cds-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(e,\".agora.io\"),\"sua-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(e,\".agora.io\"),\"uap-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(e,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(e,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(e,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(e,\".agora.io\")]},OE.debug(\"update area from ap success: \".concat(e,\",config is \"),t),BE(\"AREAS\",[SS.EXTENSIONS],!0),Object.keys(t).map(e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){BE(e,t[e][0])}else BE(e,t[e])}))}function qC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Pg.reportApiInvoke(null,{name:_f.SET_AREA,options:e,tag:Ef.TRACER});try{let n=[];if(\"string\"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach(e=>{if(!RS.includes(e))throw new SE(fE.INVALID_PARAMS,\"invalid area code\")}),n=e),\"[object Object]\"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:i}=e;if(!t)throw new SE(fE.INVALID_PARAMS,\"area code is needed\");let r=t;\"string\"==typeof t&&(r=[t]),n=i?KC(r,i):r}if(!t){if(HE.AREAS){const e=new SE(fE.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return i.onError(e),void OE.warning(\"setArea is prohibited because of config-distribute\")}if(n.includes(SS.GLOBAL)&&GE(\"AREAS\")===SS.EXTENSIONS){const e=new SE(fE.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return i.onError(e),void OE.warning(\"setArea is prohibited because of ap extensions\")}}BE(\"AREAS\",n,t);const r=BC(n);Object.keys(r).map(e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){BE(e,r[e][0])}else BE(e,r[e])}),OE.debug(\"set area success:\",n.join(\",\"))}catch(e){throw i.onError(e),e}i.onSuccess()}function JC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function XC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let zC=1;function QC(e,t,i,n,r){zC+=1;const o={sid:i.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:i.appId,ts:Math.floor(Date.now()/1e3),seq:zC,requestId:zC,version:bE,cname:i.cname},s={service_name:t,json_body:JSON.stringify(o)};let a,c,d=e[0];return RE(async()=>{a=Date.now();const e=await gg(d,{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,0!==e.code){const t=new SE(fE.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+e.code,{retry:!0,responseTime:c});throw OE.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const e=new SE(fE.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(i.code,\", reason: \").concat(i.reason),{code:i.code,responseTime:c});throw OE.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new SE(fE.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:i.code,responseTime:c});throw OE.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map(e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(GE(\"WORKER_DOMAIN\"),\":\").concat(e.wss,\"?serviceName=\").concat(encodeURIComponent(t))),workerToken:e.workerToken,vid:e.vid}}(i,t);return GE(\"LIVE_STREAMING_ADDRESS\")&&(r.addressList=GE(\"LIVE_STREAMING_ADDRESS\")instanceof Array?GE(\"LIVE_STREAMING_ADDRESS\"):[GE(\"LIVE_STREAMING_ADDRESS\")]),XC(XC({},r),{},{responseTime:c})},(n,r)=>(Pg.apworkerEvent(i.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1),(n,r)=>(Pg.apworkerEvent(i.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(n.code!==fE.OPERATION_ABORTED&&n.code!==fE.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(d=e[(r+1)%e.length],!0)),r)}let ZC=1;function $C(e,t,i,n){let{url:r,areaCode:o}=e;const s=Date.now();let a;const[c,d]=rv(t,o,[XS.CHOOSE_SERVER]);let u=Ig.networkState;return RE(async()=>{u&&Ig.networkState===PS.OFFLINE&&Ig.onlineWaiter&&await Sl.race([Ig.onlineWaiter,zI(n&&n.maxRetryTimeout||TE.maxRetryTimeout)]),u=Ig.networkState;const{data:e,headers:o}=await gg(r,{data:c,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);a=\"1\"===o.http3?1:-1,Pg.reportResourceTiming(r,t.sid),tv(e,r,t,s,[XS.CHOOSE_SERVER],a);const d=WI(e,XS.CHOOSE_SERVER);return iv(d),jI(d,r)},e=>(e&&Pg.joinChooseServer(t.sid,{lts:s,succ:!0,csAddr:r,opid:d,serverList:e.gatewayAddrs.map(e=>e.address),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[XS.CHOOSE_SERVER].toString(),isHttp3:a}),!1),e=>e.code!==fE.OPERATION_ABORTED&&(e.code===fE.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(Pg.joinChooseServer(t.sid,{lts:s,succ:!1,csAddr:r,serverList:null,opid:d,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[XS.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:u}),isHttp3:a}),OE.warning(\"[\".concat(t.clientId,\"] Choose server network error, retry\"),e),!0)),n)}function ev(e,t,i,n){let r,{url:o,areaCode:s,serviceIds:a}=e;const c=Date.now(),[d,u]=rv(t,s,a);let l=void 0;return RE(async()=>{l&&Ig.networkState===PS.OFFLINE&&Ig.onlineWaiter&&await Sl.race([Ig.onlineWaiter,zI(n&&n.maxRetryTimeout||TE.maxRetryTimeout)]),l=Ig.networkState;const{data:e,headers:s}=await gg(o,{data:d,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=\"1\"===s.http3?1:-1,Pg.reportResourceTiming(o,t.sid),tv(e,o,t,c,a,r);const u=WI(e,XS.CHOOSE_SERVER),h=WI(e,\"proxy5\"===t.cloudProxyServer?XS.CLOUD_PROXY_5:\"proxy3\"===t.cloudProxyServer||\"proxy4\"===t.cloudProxyServer?XS.CLOUD_PROXY:XS.CLOUD_PROXY_FALLBACK);return iv(u),{gatewayInfo:jI(u,o),proxyInfo:h,url:o}},e=>(e.gatewayInfo&&Pg.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map(e=>e.address),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),e.proxyInfo&&Pg.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map(e=>e.ip).join(\",\"),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:a.toString()}),!1),e=>e.code!==fE.OPERATION_ABORTED&&(e.code===fE.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(Pg.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:l})}),OE.warning(\"[\".concat(t.clientId,\"] multi unilbs network error, retry\"),e),!0)),n)}const tv=(e,t,i,n,r,o)=>{const s=[],a=s=>{4096===s.flag?Pg.joinChooseServer(i.sid,{lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:s.error.message,csIp:s.error.data&&s.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o}):1048576!==s.flag&&4194304!==s.flag&&4194310!==s.flag||Pg.joinWebProxyAP(i.sid,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:s.error.code,eventType:i.cloudProxyServer,unilbsServerIds:r.toString()})};if(e.response_body.forEach(t=>{const i=t.buffer.code;if(23===t.uri&&0===i&&!t.buffer.edges_services)if(4194310===t.buffer.flag)OE.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),t.buffer.edges_services=[];else{const i={error:new SE(fE.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};s.push(i),a(i)}if(0!==i){const n=gC(i),r={error:new SE(fE.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{desc:n.desc,retry:n.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?OE.warning(r.error.toString()):s.push(r),a(r)}}),s.length)throw OE.warning(\"[\".concat(i.clientId,\"] multi unilbs \").concat(t,\" failed, \").concat(s.map(e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message,\", retry: \").concat(e.error.data.retry)).join(\" | \"))),new SE(fE.CAN_NOT_GET_GATEWAY_SERVER,s.map(e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message)).join(\" | \"),{retry:!!s.find(e=>e.error.data.retry),csIp:e.detail[502],desc:[...new Set(s.map(e=>{var t,i;return null==e||null===(t=e.error)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.desc}).filter(e=>!!e))]})},iv=e=>{var t,i,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new SE(fE.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:e.detail&&e.detail[502]});GE(\"AP_AREA\")&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&\"string\"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?YC(e.detail[23].toLowerCase()):YC());if(null!==(t=e.detail)&&void 0!==t&&t[19]&&\"string\"==typeof(null===(i=e.detail)||void 0===i?void 0:i[19])){const t=e.detail[19],i=null==t?void 0:t.split(\";\");for(let t=0;t<i.length;t++){var o;const n=mh(o=i[t]).call(o);e.addresses[t]&&i&&(e.addresses[t].fingerprint=n)}}if(GE(\"GATEWAY_ADDRESS\")&&GE(\"GATEWAY_ADDRESS\").length>0){OE.debug(\"assign gateway address to\",GE(\"GATEWAY_ADDRESS\"));const t=GE(\"GATEWAY_ADDRESS\").map(t=>{var i,n;const r=null!==(i=null===(n=e.addresses.find(e=>e.ip===t.ip&&e.port===t.port))||void 0===n?void 0:n.fingerprint)&&void 0!==i?i:\"\";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}});e.addresses=t}},nv=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=gC(t.buffer.code);throw new SE(fE.UPDATE_TICKET_FAILED,\"[\".concat(t.buffer.code,\"]: \").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw OE.debug(\"update ticket request received ap response without response body:\",t),new SE(fE.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},rv=(e,t,i)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:{6:e.stringUid,11:t,12:GE(\"USE_NEW_TOKEN\")?\"1\":void 0,22:t},key:e.token,service_ids:i,uid:e.uid||0}}]};r.request_bodies.forEach(t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))});const o=new FormData;return o.append(\"request\",JSON.stringify(r)),[o,n]},ov=(e,t)=>{const i=Math.floor(Math.random()*10**12),n={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:\"\",6:e.stringUid,12:\"1\"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map(e=>({ip:e.ip,port:e.port}))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(n)),[r,i]};let sv=0;async function av(e,t,i,n){const r=async function(e,t,i,n){let r=null;const o=[],s=async()=>{const r=GE(\"WEBCS_DOMAIN\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\")).map(t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:jC()})),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map(e=>e.url)}),a=await fC({fragementLength:GE(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(OE.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),$C(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),a},a=async()=>{if(await zI(1e3),null!==r)return r;const s=GE(\"WEBCS_DOMAIN_BACKUP_LIST\").map(t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:jC()})),a=n.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:s.map(e=>e.url)}),c=await fC({fragementLength:GE(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(OE.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),$C(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},a),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),c};try{return r=await iC([s(),a()]),o.length&&o.forEach(e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel()),r}catch(e){throw e[0]}}(e,t,i,n);return{gatewayInfo:await r}}async function cv(e,t,i,n,r){const o=e.cloudProxyServer;if(\"disabled\"===o){if(!n)return;if(e.useLocalAccessPoint)return await av(e,t,i,r);if(GE(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){const{gatewayInfo:n,proxyInfo:o}=await lv(e,t,i,r);return e.turnServer&&\"auto\"!==e.turnServer.mode||(e.turnServer={mode:\"manual\",servers:o.map(e=>({turnServerURL:e.address,tcpport:e.tcpport||PE.tcpport,udpport:e.udpport||PE.udpport,username:e.username||PE.username,password:e.password||PE.password,forceturn:!1,security:!0}))}),{gatewayInfo:n}}return await av(e,t,i,r)}const{proxyInfo:s,gatewayInfo:a}=await lv(e,t,i,r),c={gatewayInfo:a};return e.turnServer={mode:\"manual\",servers:s.map(e=>({turnServerURL:e.address,tcpport:\"proxy3\"===o?void 0:e.tcpport?e.tcpport:PE.tcpport,udpport:\"proxy4\"===o?void 0:e.udpport?e.udpport:PE.udpport,username:e.username||PE.username,password:e.password||PE.password,forceturn:\"proxy4\"!==o,security:\"proxy5\"===o}))},OE.debug(\"[\".concat(e.clientId,\"] set proxy server: \").concat(e.proxyServer,\", mode: \").concat(o)),c}async function dv(e,t,i,n,r){const o=GE(\"ACCOUNT_REGISTER\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\"));let s=[];s=t.proxyServer?o.map(e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\")):o.map(e=>\"https://\".concat(e,\"/api/v1\"));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:s});try{const o=await async function(e,t,i,n,r){const o=Date.now(),s={sid:i.sid,opid:10,appid:i.appId,string_uid:t};let a=e[0];const c=await RE(()=>gg(a+\"\".concat(-1===a.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}}),(i,n)=>{if(0===i.code){if(i.uid<=0||i.uid>=Math.pow(2,32))throw OE.error(\"Invalid Uint Uid \".concat(t,\" => \").concat(i.uid),i),Pg.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:fE.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new SE(fE.INVALID_UINT_UID_FROM_STRING_UID);return Pg.reqUserAccount(s.sid,{lts:o,success:!0,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:null,extend:s}),!1}const r=gC(i.code);return r.retry&&(a=e[(n+1)%e.length]),Pg.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:r.desc,extend:s}),r.retry},(t,i)=>t.code!==fE.OPERATION_ABORTED&&(Pg.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:null,errorCode:t.code,extend:s}),a=e[(i+1)%e.length],!0),r);if(0!==c.code){const e=gC(c.code);throw new SE(fE.UNEXPECTED_RESPONSE,e.desc)}return c}(s,e,t,i,n);return null==r||r.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),o.uid}catch(e){throw null==r||r.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[e]},a),e}}async function uv(e,t,i){const n=GE(\"CDS_AP\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\")).map(t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1\"):\"https://\".concat(t,\"/api/v1?action=config\")).map(n=>function(e,t,i,n){const r=xh(),o={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:bE,cname:t.cname,sid:t.sid,session_id:t.sid,detail:\"\",proxyServer:t.proxyServer}};return RE(()=>gg(e,{data:o,timeout:1e3,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}}),void 0,e=>e.code!==fE.OPERATION_ABORTED,n)}(n,e,t,i));let r=null,o=null,s={};try{r=await iC(n)}catch(e){if(e.code===fE.OPERATION_ABORTED)throw e;o=e}n.forEach(e=>e.cancel());if(Pg.reportApiInvoke(e.sid,{name:_f.REQUEST_CONFIG_DISTRIBUTE,options:{error:o,res:r}}).onSuccess(),r&&r.test_tags)try{s=function(e){if(!e.test_tags)return{};const t=e.test_tags,i=Object.keys(t),n={};return i.forEach(e=>{var i;const r=mh(i=e.slice(4)).call(i),o=JSON.parse(t[e])[1];n[r]=o}),n}(r)}catch(e){}return s}async function lv(e,t,i,n){const r=GE(\"PROXY_SERVER_TYPE3\"),o=(e,t,i)=>{let n=i||r;return Array.isArray(n)&&(n=t%2==0?r[1]:r[0]),\"https://\".concat(n,\"/ap/?url=\").concat(e)};let s=null;const a=[],c=async()=>{const r=GE(\"WEBCS_DOMAIN\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\")).map((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:jC(),serviceIds:[XS.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?XS.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?XS.CLOUD_PROXY:XS.CLOUD_PROXY_FALLBACK]}}),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map(e=>e.url)}),c=await fC({fragementLength:GE(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(OE.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),ev(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),c},d=async()=>{if(await zI(1e3),null!==s)return s;const r=GE(\"WEBCS_DOMAIN_BACKUP_LIST\").map((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:jC(),serviceIds:[XS.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?XS.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?XS.CLOUD_PROXY:XS.CLOUD_PROXY_FALLBACK]}}),c=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map(e=>e.url)}),d=await fC({fragementLength:GE(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(OE.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),ev(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},c),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),d};let u,l,h;try{({gatewayInfo:u,proxyInfo:l,url:h}=await iC([c(),d()]))}catch(e){throw e[0]}if(a.length&&a.forEach(e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel()),!u||!l)throw new SE(fE.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(e.apUrl=h,\"disabled\"!==e.cloudProxyServer&&Array.isArray(r)&&h){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(h)[1];r.includes(t)&&(e.proxyServer=t,OE.setProxyServer(t),Pg.setProxyServer(t))}return s={gatewayInfo:u,proxyInfo:await HI(l,u.uid)},s}async function hv(e,t,i,n){const r=GE(\"UAP_AP\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\")).map(e=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1?action=uap\"):\"https://\".concat(e,\"/api/v1?action=uap\"));return await QC(r,e,t,i,n)}async function pv(e,t,i){const n=GE(\"UAP_AP\").slice(0,GE(\"AJAX_REQUEST_CONCURRENT\")).map(t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1?action=uap\"):\"https://\".concat(t,\"/api/v1?action=uap\")).map(n=>function(e,t,i,n){const r={command:\"convergeAllocateEdge\",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:bE,cname:t.cname,uid:t.uid.toString(),requestId:ZC,seq:ZC};ZC+=1;const o={service_name:\"tele_channel\",json_body:JSON.stringify(r)};return RE(async()=>{const t=await gg(e,{data:o,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(0!==t.code){const e=new SE(fE.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+t.code,{retry:!0});throw OE.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const e=new SE(fE.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(n.code,\", reason: \").concat(n.reason));throw OE.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new SE(fE.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw OE.error(e.toString()),e}return{vid:n.vid,workerToken:n.workerToken,addressList:(GE(\"CHANNEL_MEDIA_RELAY_SERVERS\")||n.servers).map(e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(GE(\"WORKER_DOMAIN\"),\":\").concat(e.wss))}},void 0,e=>!!(e.code!==fE.OPERATION_ABORTED&&e.code!==fE.UNEXPECTED_RESPONSE||e.data&&e.data.retry),n)}(n,e,t,i));try{const e=await iC(n);return n.forEach(e=>e.cancel()),e}catch(e){throw e[0]}}async function _v(e,t,i){let n=null;const r=[],o=async o=>{const s=GE(o?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map(t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"));return o&&(await zI(1e3),null!==n)?n:await fC({fragementLength:GE(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(OE.debug(\"[\".concat(e.clientId,\"] update ticket, Connect to \").concat(o?\"backup\":\"\",\" choose_server:\"),n),function(e,t,i,n){const[r]=ov(t,[XS.CHOOSE_SERVER]);let o=Ig.networkState;return RE(async()=>{o&&Ig.networkState===PS.OFFLINE&&Ig.onlineWaiter&&await Sl.race([Ig.onlineWaiter,zI(n&&n.maxRetryTimeout||TE.maxRetryTimeout)]),o=Ig.networkState;const t=await gg(e,{data:r,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return nv(t,e)},()=>!1,e=>e.code!==fE.OPERATION_ABORTED&&(e.code===fE.UPDATE_TICKET_FAILED?e.data.retry:(OE.warning(\"[\".concat(t.clientId,\"] update ticket network error, retry\"),e),!0)),n)}(n,e,t,i)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return n=await iC([o(!1),o(!0)]),r.length&&r.forEach(e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel()),n}catch(e){throw e[0]}}function Ev(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ev(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class fv extends EE{constructor(){super(),_p(this,\"configs\",void 0),_p(this,\"joinInfo\",void 0),_p(this,\"cancelToken\",void 0),_p(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),_p(this,\"interval\",void 0),_p(this,\"mutex\",new Ug(\"config-distribute\")),_p(this,\"mutableParamsRead\",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),GE(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},GE(\"CONFIG_DISTRIBUTE_INTERVAL\")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){if(!this.mutex.isLocked)return;(await this.mutex.lock())()}async updateConfigDistribute(){if(!this.mutableParamsRead){this.mutableParamsRead=!0;Pg.reportApiInvoke(null,{options:void 0,name:_f.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Ef.TRACER}).onSuccess(JSON.stringify(HE))}if(!this.joinInfo||!this.cancelToken||!this.retryConfig)return void OE.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e;const t=await this.mutex.lock();try{e=await uv(this.joinInfo,this.cancelToken,this.retryConfig),OE.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new SE(fE.NETWORK_RESPONSE_ERROR,e);OE.warning(\"[config-distribute] \".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(vS.UPDATE_BITRATE_LIMIT,e):this.emit(vS.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&mv({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const i=Hm(t=Object.keys(e).filter(e=>/^webrtc_ng_global_parameter/.test(e))).call(t);for(let t=0;t<i.length;t++)for(let n=i.length-1;n>t;n--){const t=i[n];if(\"number\"==typeof e[t].__priority){const r=e[t].__priority,o=i[n-1];if(\"number\"==typeof e[o].__priority){if(!(r>e[o].__priority))continue;{const e=t;i[n]=i[n-1],i[n-1]=e}}else{const e=t;i[n]=i[n-1],i[n-1]=e}}}const n={};i.forEach(t=>{const i=e[t],r=i.__expires;Object.keys(i).forEach(e=>{\"__priority\"===e||\"__expires\"===e||Object.prototype.hasOwnProperty.call(n,e)||(n[e]=mv({value:i[e]},r&&{expires:r}))})});try{const e=JSON.stringify(n),t=window.btoa(e);window.localStorage.setItem(\"websdk_ng_global_parameter\",t),OE.debug(\"Caching global parameters \".concat(e))}catch(e){OE.error(\"Error caching global parameters:\",e.message)}}}function Sv(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Tv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Sv(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class gv extends EE{constructor(e,t,i,n){super(),_p(this,\"spec\",void 0),_p(this,\"token\",void 0),_p(this,\"websocket\",void 0),_p(this,\"pingpongTimer\",void 0),_p(this,\"reconnectMode\",\"retry\"),_p(this,\"serviceMode\",void 0),_p(this,\"reqId\",0),_p(this,\"commandReqId\",0),_p(this,\"handleWebSocketOpen\",()=>{this.reconnectMode=\"retry\",this.startPingPong()}),_p(this,\"handleWebSocketMessage\",e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit(\"@\".concat(t.requestId,\"-\").concat(t.sid),t):this.serviceMode===Kf.INJECT?this.emit(Zf.INJECT_STREAM_STATUS,t):(Pg.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:t.code,workerType:this.serviceMode===Kf.TRANSCODE?1:2}),this.emit(Zf.PUBLISH_STREAM_STATUS,t))}),this.spec=t,this.token=e,this.serviceMode=n,this.websocket=new vC(\"live-streaming\",i),this.websocket.on(Hf.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Hf.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Hf.REQUEST_NEW_URLS,(e,t)=>{nC(this,Zf.REQUEST_NEW_ADDRESS).then(e).catch(t)}),this.websocket.on(Hf.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(e){return this.websocket.init(e)}async request(e,t,i,n){this.reqId+=1,\"request\"===e&&(this.commandReqId+=1);const r=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new SE(fE.UNEXPECTED_ERROR);const s=Tv({command:e,sdkVersion:\"4.18.2\"===bE?\"0.0.1\":bE,seq:o,requestId:o,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if(\"closed\"===this.websocket.state)throw new SE(fE.WS_DISCONNECT);const a=()=>new Sl((e,t)=>{this.websocket.once(Hf.CLOSED,()=>t(new SE(fE.WS_ABORT))),this.websocket.once(Hf.CONNECTED,e)});\"connected\"!==this.websocket.state&&await a(),s.clientRequest&&(s.clientRequest.workerToken=this.token);const c=new Sl((e,t)=>{const i=()=>{t(new SE(fE.WS_ABORT))};this.websocket.once(Hf.RECONNECTING,i),this.websocket.once(Hf.CLOSED,i),this.once(\"@\".concat(o,\"-\").concat(this.spec.sid),t=>{e(t)})});n&&Pg.workerEvent(this.spec.sid,Tv(Tv({},n),{},{requestId:r,actionType:\"request\",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const d=Date.now();this.websocket.sendMessage(s);let u=null;try{u=await c}catch(n){if(\"closed\"===this.websocket.state)throw n;return await a(),await this.request(e,t,i)}return n&&Pg.workerEvent(this.spec.sid,Tv(Tv({},n),{},{requestId:r,actionType:\"response\",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:200===u.code,responseTime:Date.now()-d})),200!==u.code&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\")}close(){const e=\"4.18.2\"===bE?\"0.0.1\":bE;this.reqId+=1,\"connected\"===this.websocket.state?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case eS.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void OE.warning(\"live stream response already exists stream\");case eS.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case eS.LIVE_STREAM_RESPONSE_BAD_STREAM:case eS.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new SE(fE.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case eS.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case eS.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new SE(fE.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case eS.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new SE(fE.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Zf.WARNING,t,e.serverResponse.url)}case eS.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new SE(fE.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Zf.WARNING,t,e.serverResponse.url)}case eS.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case eS.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new SE(fE.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case eS.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new SE(fE.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Zf.WARNING,t,e.serverResponse.url)}case eS.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case eS.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case eS.LIVE_STREAM_RESPONSE_WORKER_LOST:case eS.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case eS.ERROR_FAIL_SEND_MESSAGE:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;if(\"UpdateTranscoding\"===e.serverResponse.command||\"ControlStream\"===e.serverResponse.command)return new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case eS.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new SE(fE.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{\"connected\"===this.websocket.state&&this.request(\"ping\",{}).catch(eC)},6e3)}}function Rv(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Iv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Rv(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Rv(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Cv extends EE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TE;super(),_p(this,\"onLiveStreamWarning\",void 0),_p(this,\"onLiveStreamError\",void 0),_p(this,\"onInjectStatusChange\",void 0),_p(this,\"spec\",void 0),_p(this,\"retryTimeout\",1e4),_p(this,\"connection\",void 0),_p(this,\"httpRetryConfig\",void 0),_p(this,\"wsRetryConfig\",void 0),_p(this,\"streamingTasks\",new Map),_p(this,\"isStartingStreamingTask\",!1),_p(this,\"taskMutex\",new Ug(\"live-streaming\")),_p(this,\"cancelToken\",pE.CancelToken.source()),_p(this,\"transcodingConfig\",void 0),_p(this,\"injectConfig\",Iv({},Qf)),_p(this,\"injectLoopTimes\",0),_p(this,\"uapResponse\",void 0),_p(this,\"lastTaskId\",1),_p(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=Iv(Iv({},zf),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(OE.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile,\" -> 100\")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map(e=>Iv(Iv(Iv({},qf),e),{},{zOrder:e.zOrder?e.zOrder+1:1}))),function(e){$m(e.width)||qm(e.width,\"config.width\",0,1e4),$m(e.height)||qm(e.height,\"config.height\",0,1e4),$m(e.videoBitrate)||qm(e.videoBitrate,\"config.videoBitrate\",1,1e6),$m(e.videoFrameRate)||qm(e.videoFrameRate,\"config.videoFrameRate\"),$m(e.lowLatency)||Km(e.lowLatency,\"config.lowLatency\"),$m(e.audioSampleRate)||Ym(e.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),$m(e.audioBitrate)||qm(e.audioBitrate,\"config.audioBitrate\",1,128),$m(e.audioChannels)||Ym(e.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),$m(e.videoGop)||qm(e.videoGop,\"config.videoGop\"),$m(e.videoCodecProfile)||Ym(e.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),$m(e.userCount)||qm(e.userCount,\"config.userCount\",0,17),$m(e.backgroundColor)||qm(e.backgroundColor,\"config.backgroundColor\",0,16777215),$m(e.userConfigExtraInfo)||Xm(e.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),e.transcodingUsers&&!$m(e.transcodingUsers)&&(zm(e.transcodingUsers,\"config.transcodingUsers\"),e.transcodingUsers.forEach((e,t)=>{Zm(e.uid),$m(e.x)||qm(e.x,\"transcodingUser[\".concat(t,\"].x\"),0,1e4),$m(e.y)||qm(e.y,\"transcodingUser[\".concat(t,\"].y\"),0,1e4),$m(e.width)||qm(e.width,\"transcodingUser[\".concat(t,\"].width\"),0,1e4),$m(e.height)||qm(e.height,\"transcodingUser[\".concat(t,\"].height\"),0,1e4),$m(e.zOrder)||qm(e.zOrder-1,\"transcodingUser[\".concat(t,\"].zOrder\"),0,100),$m(e.alpha)||qm(e.alpha,\"transcodingUser[\".concat(t,\"].alpha\"),0,1,!1)})),$m(e.watermark)||Xf(e.watermark,\"watermark\"),$m(e.backgroundImage)||Xf(e.backgroundImage,\"backgroundImage\"),e.images&&!$m(e.images)&&(zm(e.images,\"config.images\"),e.images.forEach((e,t)=>{Xf(e,\"images[\".concat(t,\"]\"))}))}(t);const i=[];t.images&&i.push(...t.images.map(e=>Iv(Iv(Iv({},Jf),e),{},{zOrder:255}))),t.backgroundImage&&(i.push(Iv(Iv(Iv({},Jf),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(i.push(Iv(Iv(Iv({},Jf),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=i,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map(e=>Iv({},e)),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const n=(t.userConfigs||[]).map(e=>\"number\"==typeof e.uid?Sl.resolve(e.uid):dv(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await Sl.all(n)).forEach((e,i)=>{t.userConfigs&&t.userConfigs[i]&&(t.userConfigs[i].uid=e)}),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(IR(r=this.streamingTasks).call(r)).map(e=>e.taskId).join(\"#\")});OE.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(e.code,\", config:\"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(t=>{OE.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),e.toString(),\"try to republish\",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then(()=>{OE.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(t.url,\" success\"))}).catch(e=>{OE.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)})})}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,i){var n;if(Array.from(IR(n=this.streamingTasks).call(n)).find(e=>e.mode===Kf.INJECT)&&t===Kf.INJECT)return new SE(fE.LIVE_STREAMING_TASK_CONFLICT,\"inject stream over limit\").throw();if(!this.transcodingConfig&&t===Kf.TRANSCODE)throw new SE(fE.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");let r={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};OE.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(t));const o=await this.taskMutex.lock();if(!this.connection&&i)return void o();if(this.streamingTasks.get(e)&&!i)return o(),new SE(fE.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw o(),e}switch(t){case Kf.TRANSCODE:r.transcodingConfig=Iv({},this.transcodingConfig);break;case Kf.RAW:break;case Kf.INJECT:r={cname:this.spec.cname,command:\"InjectStream\",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const s=this.lastTaskId++;try{const n=new Sl((t,n)=>{zI(this.retryTimeout).then(()=>{if(i)return n(i);const t=this.statusError.get(e);return t?(this.statusError.delete(e),n(t)):void 0})}),a=await Sl.race([this.connection.request(\"request\",{clientRequest:r},!0,{url:e,command:\"PublishStream\",workerType:t===Kf.TRANSCODE?1:2,requestByUser:!i,tid:s.toString()}),n]);this.isStartingStreamingTask=!1,OE.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(a.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:s}),o()}catch(n){if(o(),this.isStartingStreamingTask=!1,!n.data||!n.data.retry||i)throw n;return n.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,n)):await this.startLiveStreamingTask(e,t,n)}}stopLiveStreamingTask(e){return new Sl((t,i)=>{const n=this.streamingTasks.get(e);if(!n||!this.connection)return new SE(fE.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();const r=n.mode;n.abortTask=()=>{OE.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),t()},this.connection.request(\"request\",{clientRequest:{command:r===Kf.INJECT?\"UninjectStream\":\"UnpublishStream\",url:n.url}},!1,{url:e,command:\"UnPublishStream\",workerType:r===Kf.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(i=>{OE.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(i.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&r!==Kf.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),r===Kf.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)}).catch(i)})}async controlInjectStream(e,t,i,n){const r=this.streamingTasks.get(e);if(!r||!this.connection||r.mode!==Kf.INJECT)throw new SE(fE.INVALID_OPERATION,\"can not find inject stream task to control\");return(await this.connection.request(\"request\",{clientRequest:{command:\"ControlStream\",url:e,control:t,audioVolume:i,position:n}})).serverResponse}resetAllTask(){var e;const t=Array.from(IR(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch(t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=pE.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new SE(fE.UNEXPECTED_ERROR,\"live streaming connection has already connected\");const t=await nC(this,$f.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new gv(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Zf.WARNING,(e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)),this.connection.on(Zf.PUBLISH_STREAM_STATUS,e=>this.handlePublishStreamServer(e)),this.connection.on(Zf.INJECT_STREAM_STATUS,e=>this.handleInjectStreamServerStatus(e)),this.connection.on(Zf.REQUEST_NEW_ADDRESS,(t,i)=>{if(!this.connection)return i(new SE(fE.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));nC(this,$f.REQUEST_WORKER_MANAGER_LIST,e).then(e=>{this.uapResponse=e,t(e.addressList)}).catch(i)}),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(t),n=e.reason;switch(e.code){case eS.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case eS.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const n=new SE(fE.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return OE.error(n.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,n);if(!this.isStartingStreamingTask)return;this.statusError.set(t,n)}case eS.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new SE(fE.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case eS.LIVE_STREAM_RESPONSE_WORKER_LOST:case eS.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(IR(r=this.streamingTasks).call(r));for(const i of t)i.abortTask?i.abortTask():(OE.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",i.url),this.startLiveStreamingTask(i.url,i.mode,new SE(fE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then(()=>{OE.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),i.url)}).catch(e=>{OE.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(i.url,e)}));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),i=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_START_SUCCESS,t,i));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,i),void this.streamingTasks.delete(i);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,i),void this.streamingTasks.delete(i);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_BROKEN,t,i),void this.streamingTasks.delete(i);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Yf.INJECT_STREAM_STATUS_START_TIMEOUT,t,i),void this.streamingTasks.delete(i);default:return void OE.debug(\"inject stream server status\",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class vv{constructor(){_p(this,\"destChannelMediaInfos\",new Map),_p(this,\"srcChannelMediaInfo\",void 0)}setSrcChannelInfo(e){TS(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){TS(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){Qm(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function yv(e){if(!(e instanceof vv)){return new SE(fE.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw()}const t=e.getSrcChannelMediaInfo(),i=e.getDestChannelMediaInfo();if(!t){return new SE(fE.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw()}if(0===i.size){return new SE(fE.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}}class Av extends EE{constructor(e,t,i){super(),_p(this,\"ws\",void 0),_p(this,\"requestId\",1),_p(this,\"heartBeatTimer\",void 0),_p(this,\"joinInfo\",void 0),_p(this,\"clientId\",void 0),_p(this,\"onOpen\",()=>{this.emit(\"open\"),this.startHeartBeatCheck()}),_p(this,\"onClose\",e=>{this.emit(\"close\"),this.dispose()}),_p(this,\"onMessage\",e=>{const t=JSON.parse(e.data);if(!t||\"serverResponse\"!==t.command||!t.requestId)return t&&\"serverStatus\"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit(\"status\",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit(\"req_\".concat(t.requestId),t)}),this.joinInfo=e,this.clientId=t,this.ws=new vC(\"cross-channel-\".concat(this.clientId),i),this.ws.on(Hf.RECONNECTING,()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\")}),this.ws.on(Hf.CONNECTED,this.onOpen),this.ws.on(Hf.ON_MESSAGE,this.onMessage),this.ws.on(Hf.CLOSED,this.onClose)}isConnect(){return\"connected\"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new Sl((t,i)=>{const n=window.setTimeout(()=>{i(new SE(fE.TIMEOUT,\"wait status timeout, status: \".concat(e)))},5e3);this.once(e,r=>{window.clearTimeout(n),r.state&&0!==r.state?i(new SE(fE.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):t(void 0)}),this.once(\"dispose\",()=>{window.clearTimeout(n),i(new SE(fE.WS_ABORT))})})}async request(e){if(\"closed\"===this.ws.state)throw new SE(fE.WS_DISCONNECT);const t=()=>new Sl((e,t)=>{this.ws.once(Hf.CLOSED,()=>t(new SE(fE.WS_ABORT))),this.ws.once(Hf.CONNECTED,e)});\"connected\"!==this.ws.state&&await t();const i=this.sendMessage(e),n=new Sl((e,t)=>{const n=()=>{t(new SE(fE.WS_ABORT))};this.ws.once(Hf.RECONNECTING,n),this.ws.once(Hf.CLOSED,n),this.once(\"req_\".concat(i),e),zI(3e3).then(()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(Hf.RECONNECTING,n),this.ws.off(Hf.CLOSED,n),t(new SE(fE.TIMEOUT,\"cross channel ws request timeout\"))})}),r=await n;if(!r||200!==r.code)throw new SE(fE.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(Hf.REQUEST_NEW_URLS),this.ws.on(Hf.REQUEST_NEW_URLS,t=>{t(e)}),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class Ov extends EE{set state(e){e!==this._state&&(e!==rS.RELAY_STATE_FAILURE&&(this.errorCode=oS.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,i,n,r){super(),_p(this,\"joinInfo\",void 0),_p(this,\"sid\",void 0),_p(this,\"clientId\",void 0),_p(this,\"cancelToken\",pE.CancelToken.source()),_p(this,\"workerToken\",void 0),_p(this,\"requestId\",0),_p(this,\"signal\",void 0),_p(this,\"prevChannelMediaConfig\",void 0),_p(this,\"httpRetryConfig\",void 0),_p(this,\"_resolution\",void 0),_p(this,\"_state\",rS.RELAY_STATE_IDLE),_p(this,\"errorCode\",oS.RELAY_OK),_p(this,\"onStatus\",e=>{OE.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(e))),e&&e.command&&(\"onAudioPacketReceived\"===e.command&&this.emit(\"event\",nS.PACKET_RECEIVED_AUDIO_FROM_SRC),\"onVideoPacketReceived\"===e.command&&this.emit(\"event\",nS.PACKET_RECEIVED_VIDEO_FROM_SRC),\"onSrcTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=oS.SRC_TOKEN_EXPIRED,this.state=rS.RELAY_STATE_FAILURE),\"onDestTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=oS.DEST_TOKEN_EXPIRED,this.state=rS.RELAY_STATE_FAILURE))}),_p(this,\"onReconnect\",async()=>{OE.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",nS.NETWORK_DISCONNECTED),this.state=rS.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(e=>{this.state!==rS.RELAY_STATE_IDLE&&(OE.error(\"auto restart channel media relay failed\",e.toString()),this.errorCode=oS.SERVER_CONNECTION_LOST,this.state=rS.RELAY_STATE_FAILURE)})}),this.joinInfo=e,this.clientId=t,this.sid=$I(),this.signal=new Av(this.joinInfo,this.clientId,i),this.httpRetryConfig=n,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==rS.RELAY_STATE_IDLE)throw new SE(fE.INVALID_OPERATION);this.state=rS.RELAY_STATE_CONNECTING,await this.connect(),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&\"SetSourceChannel\"===e.data.serverResponse.command)throw new SE(fE.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&\"SetDestChannelStatus\"===e.serverResponse.command)throw new SE(fE.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&\"StartPacketTransfer\"===e.serverResponse.command)throw new SE(fE.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==rS.RELAY_STATE_RUNNING)throw new SE(fE.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==rS.RELAY_STATE_RUNNING)throw new SE(fE.INVALID_OPERATION);const t=this.genMessage(iS.SetVideoProfile);await this.signal.request(t),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),OE.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=rS.RELAY_STATE_IDLE,this.dispose()}dispose(){OE.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=pE.CancelToken.source(),this.state=rS.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await pv(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",nS.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(iS.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus(\"Normal Quit\"),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));const i=this.genMessage(iS.SetSdkProfile,e);await this.signal.request(i),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));const n=this.genMessage(iS.SetSourceChannel,e);await this.signal.request(n),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",nS.PACKET_JOINED_SRC_CHANNEL),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));const r=this.genMessage(iS.SetSourceUserId,e);await this.signal.request(r),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));const o=this.genMessage(iS.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",nS.PACKET_JOINED_DEST_CHANNEL),OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));const s=this.genMessage(iS.StartPacketTransfer,e);await this.signal.request(s),this.emit(\"event\",nS.PACKET_SENT_TO_DEST_CHANNEL),this.state=rS.RELAY_STATE_RUNNING,OE.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(iS.UpdateDestChannel,e);await this.signal.request(t),this.emit(\"event\",nS.PACKET_UPDATE_DEST_CHANNEL),OE.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"))}async sendStopRelayMessage(){const e=this.genMessage(iS.StopPacketTransfer);await this.signal.request(e),OE.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"))}genMessage(e,t){const i=[],n=[],r=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:bE,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};\"4.18.2\"===o.sdkVersion&&(o.sdkVersion=\"0.0.1\");let s=null,a=null;switch(e){case iS.SetSdkProfile:return o.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},o;case iS.SetSourceChannel:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new SE(fE.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:a.channelName,token:a.token||this.joinInfo.appId},o;case iS.SetSourceUserId:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new SE(fE.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceUserId\",uid:a.uid+\"\"},o;case iS.SetDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new SE(fE.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach(e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)}),o.clientRequest={command:\"SetDestChannel\",channelName:i,uid:n,token:r},o;case iS.StartPacketTransfer:return o.clientRequest={command:\"StartPacketTransfer\"},o;case iS.Reconnect:return o.clientRequest={command:\"Reconnect\"},o;case iS.StopPacketTransfer:return o.clientRequest={command:\"StopPacketTransfer\"},o;case iS.UpdateDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new SE(fE.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach(e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)}),o.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:n,token:r},o;case iS.SetVideoProfile:o.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height}}return o}}const Nv=e=>{const t=document.createElement(\"canvas\");return t.width=2,t.height=2,new Sl((i,n)=>{t.toBlob(async e=>{if(t.remove(),e){const n=await bv(e);i({buffer:n,width:t.width,height:t.height})}else n(new SE(fE.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},e,1)})},bv=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};function wv(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Dv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wv(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Pv{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(OE.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e)}constructor(e){_p(this,\"trackId\",void 0),_p(this,\"config\",void 0),_p(this,\"onFirstVideoFrameDecoded\",void 0),_p(this,\"freezeTimeCounterList\",[]),_p(this,\"renderFreezeAccTime\",0),_p(this,\"isKeepLastFrame\",!1),_p(this,\"timeUpdatedCount\",0),_p(this,\"freezeTime\",0),_p(this,\"playbackTime\",0),_p(this,\"lastTimeUpdatedTime\",0),_p(this,\"autoplayFailed\",!1),_p(this,\"videoTrack\",void 0),_p(this,\"videoElement\",void 0),_p(this,\"cacheVideoElement\",void 0),_p(this,\"videoElementCheckInterval\",void 0),_p(this,\"_videoElementStatus\",sf.NONE),_p(this,\"isGettingVideoDimensions\",!1),_p(this,\"startGetVideoDimensions\",()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return OE.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()}),_p(this,\"autoResumeAfterInterruption\",()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&\"running\"===Gg.curState&&(OE.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(jh())),ep()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),_p(this,\"handleVideoEvents\",e=>{switch(e.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=sf.PLAYING;break;case\"loadeddata\":if(this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case\"canplay\":this.videoElementStatus=sf.CANPLAY;break;case\"stalled\":this.videoElementStatus=sf.STALLED;break;case\"suspend\":this.videoElementStatus=sf.SUSPEND;break;case\"pause\":this.videoElementStatus=sf.PAUSED,Yh()||tp()||Hh()&&this.autoplayFailed||!this.videoTrack||\"live\"!==this.videoTrack.readyState||(OE.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=sf.WAITING;break;case\"abort\":this.videoElementStatus=sf.ABORT;break;case\"ended\":this.videoElementStatus=sf.ENDED;break;case\"emptied\":this.videoElementStatus=sf.EMPTIED;break;case\"error\":{this.videoElementStatus=sf.ERROR;const e=this.videoElement.error;e&&OE.error(\"[\".concat(this.trackId,\"] media error, code: \").concat(e.code,\", message: \").concat(e.message));break}case\"timeupdate\":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,i=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,MI.lastVisibleTime<MI.lastHiddenTime||i<MI.lastHiddenTime||i<MI.lastVisibleTime)return;for(t>GE(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),_p(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&(OE.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(jh())),ep()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),Gg.on(kg.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Gg.on(kg.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch(t=>{e&&Pg.autoplayFailed(e,\"video\",t.message,this.trackId),\"NotAllowedError\"===t.name?(OE.warning(\"detected video element autoplay failed\",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):OE.warning(\"[\".concat(this.trackId,\"] play warning: \"),t)});const i=xh();if((\"Safari\"===i.name&&15===Number(i.version)||Zh())&&t&&t.then&&t.catch){const e=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext(\"2d\");if(!t)return OE.error(\"create canvas context failed!\"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const i=t.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;const n=i.getContext(\"2d\");return n?(n.drawImage(this.videoElement,0,0,i.width,i.height),new Sl((n,r)=>{i.toBlob(async e=>{if(i.remove(),e){const t=await bv(e);n({buffer:t,width:i.width,height:i.height})}else r(new SE(fE.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},e,t<0?.1:t>1?1:t)})):await Nv(e)}destroy(){Gg.off(kg.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Gg.off(kg.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[]}initVideoElement(){if(this.videoElementStatus=sf.INIT,!this.videoElementCheckInterval&&(Lv.forEach(e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=sf.DESTROYED)},1e3),GE(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,t;let i;const n=(e,t)=>{if(this.videoElementStatus===sf.PLAYING){if(i){const e=t.presentationTime-i.presentationTime;e>GE(\"VIDEO_FREEZE_DURATION\")&&MI.lastVisibleTime>=MI.lastHiddenTime&&i.timestamp>MI.lastVisibleTime&&i.timestamp>MI.lastHiddenTime&&(this.renderFreezeAccTime+=e)}i=Dv(Dv({},t),{},{timestamp:e})}var r,o;GE(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&(null===(r=(o=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(o,n))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,n)}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),op()&&(this.videoElement.poster=\"noposter\");const i=xh();if(\"Safari\"===i.name&&15===Number(i.version)||Zh()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream){this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Kh()&&this.videoElement.load())}else this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Kh()&&this.videoElement.load();const n=this.videoElement.play();void 0!==n&&n.catch(e=>{OE.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),e.toString())})}resetVideoElement(){Lv.forEach(e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=sf.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then(()=>{OE.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"))}).catch(e=>{OE.error(e)}),this.autoplayFailed=!1,sp()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};sp()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),yg()}}const Lv=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"];class kv extends Pv{constructor(e){super(e),_p(this,\"container\",void 0),_p(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await Nv(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",GE(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement(\"video\")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"))}getContainerElement(){return this.container}}function Mv(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const i=UE(e.encoderConfig);return t.width=i.width,t.height=i.height,!np()&&i.frameRate&&(t.frameRate=i.frameRate),xh().name===wh.EDGE&&\"object\"==typeof t.frameRate&&(t.frameRate.max=60),Kh()&&(t.frameRate={ideal:30,max:30}),t}function Uv(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Wh()&&(t.extensionId=e.extensionId);const{displaySurface:i,selfBrowserSurface:n,surfaceSwitching:r,systemAudio:o}=e;(qh(107)||Jh(107)||Xh(93))&&(i&&(Ym(i,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),t.displaySurface=i),n?(Ym(n,\"selfBrowserSurface\",[\"exclude\",\"include\"]),t.selfBrowserSurface=n):t.selfBrowserSurface=\"include\",r&&(Ym(r,\"surfaceSwitching\",[\"exclude\",\"include\"]),t.surfaceSwitching=r)),(qh(105)||Jh(105)||Xh(91))&&o&&(Ym(o,\"systemAudio\",[\"exclude\",\"include\"]),t.systemAudio=o),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const s=e.encoderConfig?xE(e.encoderConfig):null;return t.mandatory={chromeMediaSource:\"desktop\",maxWidth:s?s.width:void 0,maxHeight:s?s.height:void 0},s&&(s.frameRate&&(\"number\"==typeof s.frameRate?(t.mandatory.maxFrameRate=s.frameRate,t.mandatory.minFrameRate=s.frameRate):(t.mandatory.maxFrameRate=s.frameRate.max||s.frameRate.ideal||s.frameRate.exact||void 0,t.mandatory.minFrameRate=s.frameRate.min||s.frameRate.ideal||s.frameRate.exact||void 0),t.frameRate=s.frameRate),s.width&&(t.width=s.width),s.height&&(t.height=s.height)),t}function xv(e){const t={};if(np()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Wh()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const i=FE(e.encoderConfig);t.channelCount=i.stereo?2:1,t.sampleRate=i.sampleRate,t.sampleSize=i.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),op()&&(t.sampleRate=void 0),t}var Vv,jv;!function(e){e.COVERED=\"COVERED\",e.POSITION=\"POSITION\",e.SIZE=\"SIZE\",e.STYLE=\"STYLE\"}(Vv||(Vv={})),function(e){e.UNMOUNTED=\"UNMOUNTED\",e.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\"}(jv||(jv={}));var Fv,Bv,Gv,Wv,Hv,Kv,Yv,qv,Jv,Xv,zv,Qv,Zv,$v,ey,ty,iy,ny,ry,oy,sy,ay,cy,dy,uy,ly,hy,py,_y,Ey,my,fy,Sy,Ty,gy=new class{constructor(){_p(this,\"_clientSize\",null),_p(this,\"getClientWidth\",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),_p(this,\"getClientHeight\",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),_p(this,\"getStyle\",e=>window.getComputedStyle(e,null)),_p(this,\"checkCssVisibleProperty\",e=>{let t=!0;const i=this.getStyle(e),{display:n,visibility:r,opacity:o,filter:s}=i;if((\"none\"===n||[\"hidden\",\"collapse\"].includes(r)||Number(o)<.1)&&(t=!1),!t)return!1;if(s){s.split(\" \").filter(e=>{const t=e.split(\"(\")[0];return[\"brightness\",\"blur\",\"opacity\"].includes(t)}).map(e=>{const[t,i]=e.split(/\\(|\\)/);return[t,Number(i.match(/^[0-9\\.]+/))]}).forEach(e=>{const[i,n]=e;switch(i){case\"brightness\":(n<.1||n>3)&&(t=!1);break;case\"blur\":n>3&&(t=!1);break;case\"opacity\":n<.1&&(t=!1)}})}return t}),_p(this,\"checkPropertyUpToAllParentNodes\",(e,t)=>{let i=!0,n=!0;const r=e=>t(e);let o=e;for(;o&&n;){r(o)||(i=!1,n=!1),o=o.parentElement,o||(n=!1)}return i}),_p(this,\"checkActualCssVisibleIncludeInherit\",e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty)),_p(this,\"getSizeAboutClient\",e=>{const{width:t,height:i,left:n,right:r,top:o,bottom:s}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:i,left:n,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}}),_p(this,\"checkActualSize\",()=>{const{width:e,height:t,clientMin:i}=this._clientSize;return this.checkSizeIsVisible(e,t,i)}),_p(this,\"elementFromPoint\",(e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null),_p(this,\"checkCoverForAPoint\",(e,t,i)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==i}),_p(this,\"getPointPositionList\",()=>{const{width:e,height:t,left:i,top:n}=this._clientSize,r=e/6,o=t/6,s=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(i*a+(0===e?.1:4===e?(r*e*a-1e5)/a:r*e)*a)/a,d=(n*a+(0===t?.1:4===t?(o*t*a-1e5)/a:o*t)*a)/a;s.push({x:c,y:d})}return[...s]}),_p(this,\"checkElementCover\",e=>this.getPointPositionList().map(t=>this.checkCoverForAPoint(t.x,t.y,e)).filter(e=>!!e).length>6),_p(this,\"checkSizeIsVisible\",(e,t,i)=>(e>50||i/e<=10)&&(t>50||i/t<=10)),_p(this,\"checkSizeOfPartInClient\",()=>{const{left:e,right:t,top:i,bottom:n,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize;let a,c,d,u;if(e<0)a=0;else{if(!(e<o))return!1;a=e}if(t<0)return!1;if(c=t<o?t:o,i<0)d=0;else{if(!(i<r))return!1;d=i}if(n<0)return!1;u=n<r?n:r;const l=c-a,h=u-d;return this.checkSizeIsVisible(l,h,s)}),_p(this,\"returnHiddenResult\",e=>(this._clientSize=null,{visible:!1,reason:e})),_p(this,\"checkOneElementVisible\",e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(Vv.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(Vv.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(Vv.SIZE)}}return this.returnHiddenResult(Vv.STYLE)}return this.returnHiddenResult(jv.UNMOUNTED)}return this.returnHiddenResult(jv.INVALID_HTML_ELEMENT)}),_p(this,\"checkElementIsMountedOnDom\",e=>this.checkPropertyUpToAllParentNodes(e,e=>\"HTML\"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))}};function Ry(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Iy(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ry(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let Cy=(Fv=Dg({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),Bv=_R(),Gv=Dg({argsMap:e=>[e.getTrackId()]}),Wv=xg(\"LocalVideoTrack\",\"_enabledMutex\"),Hv=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),Kv=_R(),Yv=xg(\"LocalVideoTrack\",\"_enabledMutex\"),qv=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),Jv=_R(),Xv=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),zv=_R(),Qv=_R(),Zv=Dg({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),$v=_R(),ey=_R(),ty=_R(),iy=_R(),ny=_R(),ry=_R(),oy=_R(),sy=Dg({argsMap:(e,t)=>[e.getTrackId(),t.name]}),ay=Dg({argsMap:e=>[e.getTrackId()]}),cy=Dg({argsMap:e=>[e.getTrackId()]}),dy=Dg({argsMap:(e,t,i)=>[e.getTrackId(),t.label,i]}),ag((uy=class e extends Vg{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==sf.PLAYING)}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return\"LocalVideoTrack\"}constructor(e,t,i,n,r,o){if(super(e,r),_p(this,\"trackMediaType\",\"video\"),_p(this,\"_player\",void 0),_p(this,\"_videoVisibleTimer\",null),_p(this,\"_previousVideoVisibleStatus\",void 0),_p(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),_p(this,\"_encoderConfig\",void 0),_p(this,\"_scalabiltyMode\",{numSpatialLayers:1,numTemporalLayers:1}),_p(this,\"_optimizationMode\",void 0),_p(this,\"_videoHeight\",void 0),_p(this,\"_videoWidth\",void 0),_p(this,\"_forceBitrateLimit\",void 0),_p(this,\"_enabled\",!0),_p(this,\"processorDestination\",void 0),_p(this,\"_processorContext\",void 0),Hh()){const{width:t,height:i}=e.getSettings();this._videoWidth=t,this._videoHeight=i}else this.updateMediaStreamTrackResolution();this._encoderConfig=t,this._scalabiltyMode=i,this._optimizationMode=n,this._hints=o||[],-1===this._hints.indexOf(lS.SCREEN_TRACK)&&this.updateBitrateFromProfile(),t&&-1!==this._hints.indexOf(lS.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this.processorContext=new AR(this.getTrackId(),\"local\"),this.processorDestination=new yR(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(OE.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}OE.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=Iy(Iy(Iy({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new Pv(i):this._player=new kv(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(mS.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}},GE(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,OE.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(OE.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await rC(this,uS.NEED_DISABLE_TRACK,this)}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}return t||(this._enabled=!1),void OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await rC(this,uS.NEED_ENABLE_TRACK,this)}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,OE.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await rC(this,uS.NEED_MUTE_TRACK,this):await rC(this,uS.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new SE(fE.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=UE(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=Mv({encoderConfig:e});(Hh()||Yh()||tp())&&(t.deviceId=void 0),OE.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new SE(fE.UNEXPECTED_ERROR,e.toString());throw OE.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(lS.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await rC(this,uS.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}getStats(){hC(()=>{OE.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\")},\"localVideoTrackGetStatsWarning\");const e=oC(this,uS.GET_STATS);return e||Iy({},Ff)}async setBeautyEffect(e){OE.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await Nv(e)}clone(t,i,n,r){const o=this._mediaStreamTrack.clone();return new e(o,t,i,n,r)}async setBitrateLimit(e){if(OE.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await rC(this,uS.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}}async setOptimizationMode(e){if(\"motion\"!==e&&\"detail\"!==e&&\"balanced\"!==e)return void OE.error(fE.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");const t=this._optimizationMode;try{this._optimizationMode=e,await rC(this,uS.SET_OPTIMIZATION_MODE,this)}catch(e){throw this._optimizationMode=t,OE.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return OE.error(fE.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,OE.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"))}updateMediaStreamTrackResolution(){tC(this._originMediaStreamTrack).then(e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t}).catch(eC)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:\"contain\"}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!t||!i)return;const[n,r]=function(e,t,i){const n=GE(\"BITRATE_ADAPTER_TYPE\");let r;const o=200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75),s=o;if(\"STANDARD_BITRATE\"===n)r=4*o;else{if(\"COMPATIABLE_BITRATE\"!==n)return;r=2*o}return[Math.floor(r),Math.floor(s)]}(e,t,i)||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=r,this._encoderConfig.bitrateMax=n,OE.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(n,\", brMin: \").concat(r,\"]\")))}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=gy.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new SE(fE.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new SE(fE.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new SE(fE.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(\"video\"!==e.kind)throw new SE(fE.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}bindProcessorDestinationEvents(){this.processorDestination.on(kS.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await rC(this,uS.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await rC(this,uS.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kS.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(MS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(MS.REQUEST_CONSTRAINTS)}}).prototype,\"play\",[Fv,Bv],Object.getOwnPropertyDescriptor(uy.prototype,\"play\"),uy.prototype),ag(uy.prototype,\"stop\",[Gv],Object.getOwnPropertyDescriptor(uy.prototype,\"stop\"),uy.prototype),ag(uy.prototype,\"setEnabled\",[Wv,Hv,Kv],Object.getOwnPropertyDescriptor(uy.prototype,\"setEnabled\"),uy.prototype),ag(uy.prototype,\"setMuted\",[Yv,qv,Jv],Object.getOwnPropertyDescriptor(uy.prototype,\"setMuted\"),uy.prototype),ag(uy.prototype,\"setEncoderConfiguration\",[Xv,zv],Object.getOwnPropertyDescriptor(uy.prototype,\"setEncoderConfiguration\"),uy.prototype),ag(uy.prototype,\"getStats\",[Qv],Object.getOwnPropertyDescriptor(uy.prototype,\"getStats\"),uy.prototype),ag(uy.prototype,\"setBeautyEffect\",[Zv,$v],Object.getOwnPropertyDescriptor(uy.prototype,\"setBeautyEffect\"),uy.prototype),ag(uy.prototype,\"getCurrentFrameData\",[ey],Object.getOwnPropertyDescriptor(uy.prototype,\"getCurrentFrameData\"),uy.prototype),ag(uy.prototype,\"getCurrentFrameImage\",[ty],Object.getOwnPropertyDescriptor(uy.prototype,\"getCurrentFrameImage\"),uy.prototype),ag(uy.prototype,\"setBitrateLimit\",[iy],Object.getOwnPropertyDescriptor(uy.prototype,\"setBitrateLimit\"),uy.prototype),ag(uy.prototype,\"setOptimizationMode\",[ny],Object.getOwnPropertyDescriptor(uy.prototype,\"setOptimizationMode\"),uy.prototype),ag(uy.prototype,\"setScalabiltyMode\",[ry],Object.getOwnPropertyDescriptor(uy.prototype,\"setScalabiltyMode\"),uy.prototype),ag(uy.prototype,\"updateMediaStreamTrackResolution\",[oy],Object.getOwnPropertyDescriptor(uy.prototype,\"updateMediaStreamTrackResolution\"),uy.prototype),ag(uy.prototype,\"pipe\",[sy],Object.getOwnPropertyDescriptor(uy.prototype,\"pipe\"),uy.prototype),ag(uy.prototype,\"unpipe\",[ay],Object.getOwnPropertyDescriptor(uy.prototype,\"unpipe\"),uy.prototype),ag(uy.prototype,\"close\",[cy],Object.getOwnPropertyDescriptor(uy.prototype,\"close\"),uy.prototype),ag(uy.prototype,\"replaceTrack\",[dy],Object.getOwnPropertyDescriptor(uy.prototype,\"replaceTrack\"),uy.prototype),uy),vy=(ly=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),hy=_R(),py=xg(\"CameraVideoTrack\",\"_enabledMutex\"),_y=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),Ey=_R(),my=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),fy=_R(),Sy=Dg({argsMap:e=>[e.getTrackId()]}),ag((Ty=class extends Cy{get __className__(){return\"CameraVideoTrack\"}constructor(e,t,i,n,r,o){super(e,UE(t.encoderConfig),n,r,o),_p(this,\"_config\",void 0),_p(this,\"_originalConstraints\",void 0),_p(this,\"_constraints\",void 0),_p(this,\"_enabled\",!0),_p(this,\"_deviceName\",\"default\"),_p(this,\"tryResumeVideoForIOS15_16WeChat\",async()=>{(Zh()||$h())&&!function(){const e=xh();if(e.os!==bh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=2}()&&ip()&&this._enabled&&!this._isClosed&&(OE.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack())}),this._config=t,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=UE(this._config.encoderConfig),Gg.on(kg.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Gg.on(kg.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){if(OE.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{const t=await lR.getDeviceById(e),i={};i.video=Iy({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n=null;try{n=await aR(i,this.getTrackId())}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await aR({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await lR.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(OE.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await aR({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await rC(this,uS.NEED_ENABLE_TRACK,this)}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),e.toString()),e}this.updateMediaStreamTrackResolution(),OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await rC(this,uS.NEED_DISABLE_TRACK,this)}catch(e){throw OE.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}OE.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new SE(fE.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=UE(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const i=uC(this._config);i.encoderConfig=e;const n=Mv(i);(Hh()||Yh()||tp())&&(n.deviceId=void 0),OE.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(n));try{await this._originMediaStreamTrack.applyConstraints(n),this.updateMediaStreamTrackResolution()}catch(e){const t=new SE(fE.UNEXPECTED_ERROR,e.toString());throw OE.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}this._config=i,this._constraints=n,this._originalConstraints=n,this._encoderConfig=e,-1===this._hints.indexOf(lS.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await rC(this,uS.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}_getDefaultPlayerConfig(){return{mirror:!0,fit:\"cover\"}}onTrackEnded(){if((Yh()||tp())&&this._enabled&&!this._isClosed&&Gg.duringInterruption){const e=async()=>{Gg.off(kg.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(OE.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};Gg.on(kg.IOS_INTERRUPTION_END,e)}else OE.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(mS.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=lR.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId={exact:i}),this._enabled){const e=await aR({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),Gg.off(kg.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Gg.off(kg.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}bindProcessorContextEvents(){this.processorContext.on(MS.REQUEST_UPDATE_CONSTRAINTS,async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}}),this.processorContext.on(MS.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings())})}}).prototype,\"setDevice\",[ly,hy],Object.getOwnPropertyDescriptor(Ty.prototype,\"setDevice\"),Ty.prototype),ag(Ty.prototype,\"setEnabled\",[py,_y,Ey],Object.getOwnPropertyDescriptor(Ty.prototype,\"setEnabled\"),Ty.prototype),ag(Ty.prototype,\"setEncoderConfiguration\",[my,fy],Object.getOwnPropertyDescriptor(Ty.prototype,\"setEncoderConfiguration\"),Ty.prototype),ag(Ty.prototype,\"close\",[Sy],Object.getOwnPropertyDescriptor(Ty.prototype,\"close\"),Ty.prototype),Ty);class yy{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}constructor(e,t){_p(this,\"uid\",void 0),_p(this,\"_uintid\",void 0),_p(this,\"_trust_in_room_\",!0),_p(this,\"_trust_audio_enabled_state_\",!0),_p(this,\"_trust_video_enabled_state_\",!0),_p(this,\"_trust_audio_mute_state_\",!0),_p(this,\"_trust_video_mute_state_\",!0),_p(this,\"_audio_muted_\",!1),_p(this,\"_video_muted_\",!1),_p(this,\"_audio_enabled_\",!0),_p(this,\"_video_enabled_\",!0),_p(this,\"_audio_added_\",!1),_p(this,\"_video_added_\",!1),_p(this,\"_trust_video_stream_added_state_\",!0),_p(this,\"_trust_audio_stream_added_state_\",!0),_p(this,\"_audioTrack\",void 0),_p(this,\"_videoTrack\",void 0),_p(this,\"_audioSSRC\",void 0),_p(this,\"_videoSSRC\",void 0),_p(this,\"_audioOrtc\",void 0),_p(this,\"_videoOrtc\",void 0),_p(this,\"_cname\",void 0),_p(this,\"_rtxSsrcId\",void 0),this.uid=e,this._uintid=t}}var Ay=fl,Oy=pd,Ny=Rd;Ii({target:\"Promise\",stat:!0},{try:function(e){var t=Oy.f(this),i=Ny(e);return(i.error?t.reject:t.resolve)(i.value),t.promise}});var by=Ay,wy=Ii,Dy=h,Py=i,Ly=QS,ky=q,My=je,Uy=bi,xy=im,Vy=oT,jy=FT,Fy=ae,By=rt(\"isConcatSpreadable\"),Gy=9007199254740991,Wy=\"Maximum allowed index exceeded\",Hy=Dy.TypeError,Ky=Fy>=51||!Py((function(){var e=[];return e[By]=!1,e.concat()[0]!==e})),Yy=jy(\"concat\"),qy=function(e){if(!ky(e))return!1;var t=e[By];return void 0!==t?!!t:Ly(e)};wy({target:\"Array\",proto:!0,forced:!Ky||!Yy},{concat:function(e){var t,i,n,r,o,s=My(this),a=Vy(s,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(qy(o=-1===t?s:arguments[t])){if(c+(r=Uy(o))>Gy)throw Hy(Wy);for(i=0;i<r;i++,c++)i in o&&xy(a,c,o[i])}else{if(c>=Gy)throw Hy(Wy);xy(a,c++,o)}return a.length=c,a}});var Jy={},Xy=k,zy=K,Qy=Pn.f,Zy=cm,$y=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Jy.f=function(e){return $y&&\"Window\"==Xy(e)?function(e){try{return Qy(e)}catch(e){return Zy($y)}}(e):Qy(zy(e))};var eA={},tA=rt;eA.f=tA;var iA=J,nA=Ge,rA=eA,oA=Ht.f,sA=function(e){var t=iA.Symbol||(iA.Symbol={});nA(t,e)||oA(t,e,{value:rA.f(e)})},aA=Ii,cA=h,dA=$,uA=f,lA=C,hA=d,pA=g,_A=ue,EA=i,mA=Ge,fA=QS,SA=S,TA=q,gA=u,RA=fe,IA=zt,CA=je,vA=K,yA=Et,AA=wo,OA=w,NA=Pr,bA=hr,wA=Pn,DA=Jy,PA=Zn,LA=T,kA=Ht,MA=dr,UA=v,xA=pc,VA=xs,jA=we.exports,FA=Gn,BA=qe,GA=rt,WA=eA,HA=sA,KA=ta,YA=bs,qA=pT.forEach,JA=pn(\"hidden\"),XA=\"Symbol\",zA=GA(\"toPrimitive\"),QA=YA.set,ZA=YA.getterFor(XA),$A=Object.prototype,eO=cA.Symbol,tO=eO&&eO.prototype,iO=cA.TypeError,nO=cA.QObject,rO=dA(\"JSON\",\"stringify\"),oO=LA.f,sO=kA.f,aO=DA.f,cO=UA.f,dO=hA([].push),uO=jA(\"symbols\"),lO=jA(\"op-symbols\"),hO=jA(\"string-to-symbol-registry\"),pO=jA(\"symbol-to-string-registry\"),_O=jA(\"wks\"),EO=!nO||!nO.prototype||!nO.prototype.findChild,mO=pA&&EA((function(){return 7!=NA(sO({},\"a\",{get:function(){return sO(this,\"a\",{value:7}).a}})).a}))?function(e,t,i){var n=oO($A,t);n&&delete $A[t],sO(e,t,i),n&&e!==$A&&sO($A,t,n)}:sO,fO=function(e,t){var i=uO[e]=NA(tO);return QA(i,{type:XA,tag:e,description:t}),pA||(i.description=t),i},SO=function(e,t,i){e===$A&&SO(lO,t,i),IA(e);var n=yA(t);return IA(i),mA(uO,n)?(i.enumerable?(mA(e,JA)&&e[JA][n]&&(e[JA][n]=!1),i=NA(i,{enumerable:OA(0,!1)})):(mA(e,JA)||sO(e,JA,OA(1,{})),e[JA][n]=!0),mO(e,n,i)):sO(e,n,i)},TO=function(e,t){IA(e);var i=vA(t),n=bA(i).concat(CO(i));return qA(n,(function(t){pA&&!lA(gO,i,t)||SO(e,t,i[t])})),e},gO=function(e){var t=yA(e),i=lA(cO,this,t);return!(this===$A&&mA(uO,t)&&!mA(lO,t))&&(!(i||!mA(this,t)||!mA(uO,t)||mA(this,JA)&&this[JA][t])||i)},RO=function(e,t){var i=vA(e),n=yA(t);if(i!==$A||!mA(uO,n)||mA(lO,n)){var r=oO(i,n);return!r||!mA(uO,n)||mA(i,JA)&&i[JA][n]||(r.enumerable=!0),r}},IO=function(e){var t=aO(vA(e)),i=[];return qA(t,(function(e){mA(uO,e)||mA(FA,e)||dO(i,e)})),i},CO=function(e){var t=e===$A,i=aO(t?lO:vA(e)),n=[];return qA(i,(function(e){!mA(uO,e)||t&&!mA($A,e)||dO(n,uO[e])})),n};(_A||(VA(tO=(eO=function(){if(gA(tO,this))throw iO(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?AA(arguments[0]):void 0,t=BA(e),i=function(e){this===$A&&lA(i,lO,e),mA(this,JA)&&mA(this[JA],t)&&(this[JA][t]=!1),mO(this,t,OA(1,e))};return pA&&EO&&mO($A,t,{configurable:!0,set:i}),fO(t,e)}).prototype,\"toString\",(function(){return ZA(this).tag})),VA(eO,\"withoutSetter\",(function(e){return fO(BA(e),e)})),UA.f=gO,kA.f=SO,MA.f=TO,LA.f=RO,wA.f=DA.f=IO,PA.f=CO,WA.f=function(e){return fO(GA(e),e)},pA&&sO(tO,\"description\",{configurable:!0,get:function(){return ZA(this).description}})),aA({global:!0,wrap:!0,forced:!_A,sham:!_A},{Symbol:eO}),qA(bA(_O),(function(e){HA(e)})),aA({target:XA,stat:!0,forced:!_A},{for:function(e){var t=AA(e);if(mA(hO,t))return hO[t];var i=eO(t);return hO[t]=i,pO[i]=t,i},keyFor:function(e){if(!RA(e))throw iO(e+\" is not a symbol\");if(mA(pO,e))return pO[e]},useSetter:function(){EO=!0},useSimple:function(){EO=!1}}),aA({target:\"Object\",stat:!0,forced:!_A,sham:!pA},{create:function(e,t){return void 0===t?NA(e):TO(NA(e),t)},defineProperty:SO,defineProperties:TO,getOwnPropertyDescriptor:RO}),aA({target:\"Object\",stat:!0,forced:!_A},{getOwnPropertyNames:IO,getOwnPropertySymbols:CO}),aA({target:\"Object\",stat:!0,forced:EA((function(){PA.f(1)}))},{getOwnPropertySymbols:function(e){return PA.f(CA(e))}}),rO)&&aA({target:\"JSON\",stat:!0,forced:!_A||EA((function(){var e=eO();return\"[null]\"!=rO([e])||\"{}\"!=rO({a:e})||\"{}\"!=rO(Object(e))}))},{stringify:function(e,t,i){var n=xA(arguments),r=t;if((TA(t)||void 0!==e)&&!RA(e))return fA(t)||(t=function(e,t){if(SA(r)&&(t=lA(r,this,e,t)),!RA(t))return t}),n[1]=t,uA(rO,null,n)}});if(!tO[zA]){var vO=tO.valueOf;VA(tO,zA,(function(e){return lA(vO,this)}))}KA(eO,XA),FA[JA]=!0,sA(\"asyncIterator\"),sA(\"hasInstance\"),sA(\"isConcatSpreadable\"),sA(\"iterator\"),sA(\"match\"),sA(\"matchAll\"),sA(\"replace\"),sA(\"search\"),sA(\"species\"),sA(\"split\"),sA(\"toPrimitive\"),sA(\"toStringTag\"),sA(\"unscopables\"),ta(h.JSON,\"JSON\",!0);var yO=J.Symbol;sA(\"asyncDispose\"),sA(\"dispose\"),sA(\"matcher\"),sA(\"metadata\"),sA(\"observable\"),sA(\"patternMatch\"),sA(\"replaceAll\");var AO=yO,OO=eA.f(\"asyncIterator\"),NO=OO;function bO(e){this.wrapped=e}function wO(e){var t,i;function n(t,i){try{var o=e[t](i),s=o.value,a=s instanceof bO;by.resolve(a?s.wrapped:s).then((function(e){a?n(\"return\"===t?\"return\":\"next\",e):r(o.done?\"return\":\"normal\",e)}),(function(e){n(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):i=null}this._invoke=function(e,r){return new by((function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};i?i=i.next=a:(t=i=a,n(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function DO(e){return function(){return new wO(e.apply(this,arguments))}}function PO(e){return new bO(e)}wO.prototype[\"function\"==typeof AO&&NO||\"@@asyncIterator\"]=function(){return this},wO.prototype.next=function(e){return this._invoke(\"next\",e)},wO.prototype.throw=function(e){return this._invoke(\"throw\",e)},wO.prototype.return=function(e){return this._invoke(\"return\",e)};var LO=eA.f(\"iterator\");function kO(e,t){var i={},n=!1;function r(i,r){return n=!0,r=new by((function(t){t(e[i](r))})),{done:!1,value:t(r)}}return i[void 0!==AO&&LO||\"@@iterator\"]=function(){return this},i.next=function(e){return n?(n=!1,e):r(\"next\",e)},\"function\"==typeof e.throw&&(i.throw=function(e){if(n)throw n=!1,e;return r(\"throw\",e)}),\"function\"==typeof e.return&&(i.return=function(e){return n?(n=!1,e):r(\"return\",e)}),i}var MO=OO,UO={exports:{}};function xO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function VO(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xO(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function jO(e,t,i,n,r,o,s){let a=[],c=[],d=[],u=[],l=!1,h=!1;if(UO.exports.parse(e).mediaDescriptions.forEach(e=>{s&&s!==e.attributes.direction||(\"video\"!==e.media.mediaType||l||(c=e.attributes.payloads,u=e.attributes.extmaps,l=!0),\"audio\"!==e.media.mediaType||h||(a=e.attributes.payloads,d=e.attributes.extmaps,h=!0))}),!u||0===c.length)throw new Error(\"Cannot get video capabilities from SDP.\");if(!d||0===a.length)throw new Error(\"Cannot get audio capabilities from SDP.\");return c.forEach(e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))}),a.forEach(e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))}),t&&(a=a.filter(e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}),c=c.filter(e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),i&&(c=c.filter(e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")})),n&&(a=a.filter(e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")})),r&&(null==r?void 0:r.length)>0&&(a=a.filter(e=>{var t;return r.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")})),o&&(null==o?void 0:o.length)>0&&(c=c.filter(e=>{var t;return o.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")})),{audioCodecs:a,videoCodecs:c,audioExtensions:d,videoExtensions:u}}function FO(e){const t=UO.exports.parse(e);let i,n;for(const e of t.mediaDescriptions){if(!i){const t=e.attributes.iceUfrag,n=e.attributes.icePwd;if(!t||!n)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");i={iceUfrag:t,icePwd:n}}if(!n){const t=e.attributes.fingerprints;t.length>0&&(n={fingerprints:t})}}if(!n&&t.attributes.fingerprints.length>0&&(n={fingerprints:t.attributes.fingerprints}),!n||!i)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return{iceParameters:i,dtlsParameters:n}}function BO(e,t){const i=[],n=e.attributes.ssrcGroups.filter(e=>\"FID\"===e.semantic),r=e.attributes.ssrcGroups.find(e=>\"SIM\"===e.semantic),o=e.attributes.ssrcs;if(r)r.ssrcIds.forEach(e=>{var r;const o=null===(r=n.find(t=>t.ssrcIds[0]===e))||void 0===r?void 0:r.ssrcIds[1];i.push({ssrcId:e,rtx:t?o:void 0})});else if(n.length>0){const e=n[0].ssrcIds[0],r=n[0].ssrcIds[1];i.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===o.length)throw new Error(\"No ssrcs found on local media description.\");i.push({ssrcId:o[0].ssrcId})}return i}function GO(e,t){const{cname:i}=e;let n;t&&t.ip&&\"number\"==typeof t.port?(n=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],OE.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(n.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),OE.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):n=e.iceParameters.candidates.map(e=>({foundation:e.foundation,componentId:\"1\",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}));const r={fingerprints:e.dtlsParameters.fingerprints.map(e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint}))},o={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let s;switch(e.dtlsParameters.role){case\"server\":s=\"passive\";break;case\"client\":s=\"active\";break;case\"auto\":s=\"actpass\"}return{dtlsParameters:r,iceParameters:o,candidates:n,rtpCapabilities:ZO(e.rtpCapabilities),setup:s,cname:i}}function WO(e,t,i){const n=[],r=[];return e.forEach(e=>{let{ssrcId:o,rtx:s}=e;const a=ZI(8,\"track-\"),c={ssrcId:o,attributes:VO({label:a,mslabel:i=i||ZI(10,\"\"),msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};if(n.push(c),void 0!==s){const e={ssrcId:s,attributes:VO({label:a,mslabel:i,msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};n.push(e),r.push({semantic:\"FID\",ssrcIds:[o,s]})}}),e.length>1&&r.push({semantic:\"SIM\",ssrcIds:e.map(e=>{let{ssrcId:t}=e;return t})}),{ssrcs:n,ssrcGroups:r}}function HO(e,t){t instanceof yI&&e.attributes.payloads.forEach(e=>{var i;const n=null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase();if(!n||-1===[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(n))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime=\"10\",e.fmtp.parameters.useinbandfec=\"1\";const r=t._encoderConfig;r&&\"pcmu\"!==n&&\"pcma\"!==n&&\"g722\"!==n&&(r.bitrate&&!Kh()&&(e.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate=\"\".concat(r.sampleRate),e.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"))})}function KO(e){const t=e.attributes.unrecognized.findIndex(e=>\"x-google-flag\"===e.attField&&\"conference\"===e.attValue);-1!==t&&e.attributes.unrecognized.splice(t,1)}function YO(e,t){if(!(t instanceof Cy&&t._encoderConfig&&-1===t._hints.indexOf(lS.SCREEN_TRACK)))return;const i=t._encoderConfig;JS().supportMinBitrate&&i.bitrateMin&&e.attributes.payloads.forEach(e=>{var t;[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(i.bitrateMin))}),JS().supportMinBitrate&&!t._hints.includes(lS.LOW_STREAM)&&i.bitrateMax&&e.attributes.payloads.forEach(e=>{var t;[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(GE(\"X_GOOGLE_START_BITRATE\")||Math.floor(i.bitrateMax)))})}function qO(e){if(\"video\"!==e.media.mediaType)return;const t=xh();if(t.name!==wh.SAFARI&&t.os!==bh.IOS)return;const i=e.attributes.extmaps.findIndex(e=>/video-orientation/g.test(e.extensionName));-1!==i&&e.attributes.extmaps.splice(i,1)}function JO(e,t,i){if(!t)return;let n,r;if(\"video\"===e.media.mediaType?(n=i.videoExtensions,r=i.videoCodecs):(n=i.audioExtensions,r=i.audioCodecs),!0===t.twcc){const t=n.find(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName);if(t){e.attributes.extmaps.find(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName)||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"});(function(e,t){return t.filter(t=>!!e.find(e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find(e=>\"transport-cc\"===e.type)))})(r,e.attributes.payloads).forEach(e=>{e.rtcpFeedbacks.find(e=>\"transport-cc\"===e.type)||e.rtcpFeedbacks.push({type:\"transport-cc\"})})}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName);-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>\"transport-cc\"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}if(!0===t.remb){const t=n.find(e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName);if(t){e.attributes.extmaps.find(e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName)||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"});(function(e,t){return t.filter(t=>!!e.find(e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find(e=>\"goog-remb\"===e.type)))})(r,e.attributes.payloads).forEach(e=>{e.rtcpFeedbacks.find(e=>\"goog-remb\"===e.type)||e.rtcpFeedbacks.push({type:\"goog-remb\"})})}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex(e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName);-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>\"goog-remb\"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}}function XO(e,t,i){if(Kh())return;if(\"video\"!==e.media.mediaType)return;if(!(t instanceof Cy))return;if(\"vp9\"!==i&&\"vp8\"!==i)return;if(\"vp8\"===i&&!GE(\"SIMULCAST\"))return;if(void 0===t._scalabiltyMode||t._scalabiltyMode.numSpatialLayers<=1)return;const n=\"vp8\"===i?2:t._scalabiltyMode.numSpatialLayers,r=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find(e=>\"FID\"===e.semantic&&e.ssrcIds[0]===r.ssrcId),s={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let t=1;t<n;t++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+t,attributes:uC(r.attributes)}),s.ssrcIds.push(r.ssrcId+t),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+t,attributes:uC(r.attributes)}),e.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+t,o.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(s)}async function zO(e,t,i,n,r){const o=new RTCPeerConnection;o.addTransceiver(\"video\",{direction:\"sendonly\"}),o.addTransceiver(\"audio\",{direction:\"sendonly\"}),o.addTransceiver(\"video\",{direction:\"recvonly\"}),o.addTransceiver(\"audio\",{direction:\"recvonly\"});const s=(await o.createOffer()).sdp,a=jO(s,e,t,i,n,r,\"sendonly\"),c=jO(s,e,t,i,n,r,\"recvonly\"),d={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},l={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(QO(a,c,\"videoExtensions\",d,u,l),QO(a,c,\"videoCodecs\",d,u,l),QO(a,c,\"audioExtensions\",d,u,l),QO(a,c,\"audioCodecs\",d,u,l),GE(\"RAISE_H264_BASELINE_PRIORITY\")){const e=l.videoCodecs.findIndex(e=>{var t,i;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"===(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])});if(-1!==e){const t=l.videoCodecs.findIndex(e=>{var t;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())});if(t<e){OE.debug(\"raising H264 baseline profile priority\");const i=l.videoCodecs[e];l.videoCodecs.splice(e,1),l.videoCodecs.splice(t,0,i)}-1!==t&&(u.videoCodecs=u.videoCodecs.filter(e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))})),-1!==t&&GE(\"FILTER_SEND_H264_BASELINE\")&&(d.videoCodecs=d.videoCodecs.filter(e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))}))}}try{o.close()}catch(e){}return{send:d,recv:u,sendrecv:l}}function QO(e,t,i,n,r,o){if(\"videoExtensions\"===i||\"audioExtensions\"===i){const s=[];return e[i].forEach(e=>{t[i].some((t,i)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return s.push(i),!0})?o[i].push(e):n[i].push(e)}),void t[i].forEach((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)})}if(\"videoCodecs\"===i||\"audioCodecs\"===i){const s=[];return e[i].forEach(e=>{t[i].some((t,i)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return s.push(i),!0})?o[i].push(e):n[i].push(e)}),void t[i].forEach((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)})}}function ZO(e){const{send:t,recv:i,sendrecv:n}=e;if(!n){if(!t||!i)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return{send:t,recv:i}}let r,o;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...n.audioCodecs],r.videoCodecs=[...t.videoCodecs,...n.videoCodecs],r.audioExtensions=[...t.audioExtensions,...n.audioExtensions],r.videoExtensions=[...t.videoExtensions,...n.videoExtensions]):r=n,i?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...i.audioCodecs,...n.audioCodecs],o.videoCodecs=[...i.videoCodecs,...n.videoCodecs],o.audioExtensions=[...i.audioExtensions,...n.audioExtensions],o.videoExtensions=[...i.videoExtensions,...n.videoExtensions]):o=n,{send:r,recv:o}}function $O(e){if(\"audio\"!==e.media.mediaType)return;e.attributes.payloads.filter(e=>{var t;return\"opus\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}).forEach(e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"})}function eN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function tN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e,t){e.exports=(()=>{var e={8:(e,t,i)=>{i.r(t),i.d(t,{Parser:()=>I,Printer:()=>O,parse:()=>D,print:()=>P});const n=\"\\n\",r=\"\".concat(\"\\r\").concat(n),o=\" \";let s;function a(e){return e>=\"0\"&&e<=\"9\"}function c(e){return e>=\"!\"&&e<=\"~\"}function d(e){return c(e)||e>=\"\"&&e<=\"ÿ\"}function u(e){return\"!\"===e||e>=\"#\"&&e<=\"'\"||e>=\"*\"&&e<=\"+\"||e>=\"-\"&&e<=\".\"||e>=\"0\"&&e<=\"9\"||e>=\"A\"&&e<=\"Z\"||e>=\"^\"&&e<=\"~\"}function l(e){return e>=\"1\"&&e<=\"9\"}function h(e){return e>=\"A\"&&e<=\"Z\"||e>=\"a\"&&e<=\"z\"}function p(e){return\"d\"===e||\"h\"===e||\"m\"===e||\"s\"===e}function _(e){return e>\"\u0001\"&&e<\"\\t\"||e>\"\\v\"&&e<\"\\f\"||e>\"\u000e\"&&e<\"ÿ\"}function E(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function m(e){return a(e)||h(e)||\"+\"===e||\"/\"===e||\"-\"===e||\"_\"===e}function f(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e.VERSION=\"v\",e.ORIGIN=\"o\",e.SESSION_NAME=\"s\",e.INFORMATION=\"i\",e.URI=\"u\",e.EMAIL=\"e\",e.PHONE=\"p\",e.CONNECTION=\"c\",e.BANDWIDTH=\"b\",e.TIME=\"t\",e.REPEAT=\"r\",e.ZONE_ADJUSTMENTS=\"z\",e.KEY=\"k\",e.ATTRIBUTE=\"a\",e.MEDIA=\"m\"}(s||(s={}));class R{consumeText(e,t){let i=t;for(;i<e.length;){const t=e[i];if(\"\\0\"===t||\"\\r\"===t||t===n)break;i+=1}if(i-t==0)throw new Error(\"Invalid text, at \".concat(e));return i}consumeUnicastAddress(e,t,i){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,i){let n=t;for(;i(e[n]);)n++;if(n-t==0)throw new Error(\"Invalid rule at \".concat(t,\".\"));return n}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error(\"Invalid space at \".concat(t,\".\"))}consumeIP4Address(e,t){let i=t;for(let t=0;t<4;t++)if(i=this.consumeDecimalUChar(e,i),3!==t){if(\".\"!==e[i])throw new Error(\"Invalid IP4 address.\");i++}return i}consumeDecimalUChar(e,t){let i=t;for(let t=0;t<3&&a(e[i]);t++,i++);if(i-t==0)throw new Error(\"Invalid decimal uchar.\");const n=parseInt(e.slice(t,i));if(n>=0&&n<=255)return i;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(e,t){let i=this.consumeHexpart(e,t);return\":\"===e[i]?(i+=1,i=this.consumeIP4Address(e,i),i):i}consumeHexpart(e,t){let i=t;if(\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}if(i=this.consumeHexseq(e,i),\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}return i}consumeHexseq(e,t){let i=t;for(;i=this.consumeHex4(e,i),\":\"===e[i]&&\":\"!==e[i+1];)i+=1;return i}consumeHex4(e,t){let i=0;for(;i<4;i++)if(!((n=e[t+i])>=\"0\"&&n<=\"9\"||n>=\"a\"&&n<=\"f\"||n>=\"A\"&&n<=\"F\")){if(0===i)throw new Error(\"Invalid hex 4\");break}var n;return t+i}consumeFQDN(e,t){let i=t;for(;a(e[i])||h(e[i])||\"-\"===e[i]||\".\"===e[i];)i+=1;if(i-t<4)throw new Error(\"Invalid FQDN\");return i}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,d)}consumeMulticastAddress(e,t,i){switch(i){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(e,t);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(i){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const i=this.consumeHexpart(e,t);return\"/\"===e[i]?this.consumeInteger(e,i+1):i}consumeIP4MulticastAddress(e,t){let i=t+3;const n=e.slice(t,i),r=parseInt(n);if(r<224||r>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let t=0;t<3;t++){if(\".\"!==e[i])throw new Error(\"Invalid IP4 multicast address.\");i+=1,i=this.consumeDecimalUChar(e,i)}return\"/\"===e[i]&&(i+=1),i=this.consumeTTL(e,i),\"/\"===e[i]&&(i=this.consumeInteger(e,i)),i}consumeInteger(e,t){if(!l(e[t]))throw new Error(\"Invalid integer.\");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if(\"0\"===e[t])return t+1;if(!l(e[t]))throw new Error(\"Invalid TTL.\");t+=1;for(let i=0;i<2&&a(e[t]);i++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,u)}consumeTime(e,t){let i=t;if(\"0\"===e[i])return i+1;for(l(e[i])&&(i+=1);a(e[i]);)i++;if(i-t<10)throw new Error(\"Invalid time\");return i}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let i=t;return i=this.consumeOneOrMore(e,i,a),p(e[i])?i+1:i}consumeRepeatInterval(e,t){if(!l(e[t]))throw new Error(\"Invalid repeat interval\");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,i){for(let n=0;n<i.length;n++){if(t+n>=e.length)throw new Error(\"consume exceeding value length\");if(e[t+n]!==i[n])throw new Error(\"consume \".concat(i,\" failed at \").concat(n))}return t+i.length}consumeTill(e,t,i){let n=t;for(;n<e.length&&(\"string\"!=typeof i||e[n]!==i)&&(\"function\"!=typeof i||!i(e[n]));)n++;return n}}class I extends R{constructor(){super(),g(this,\"records\",[]),g(this,\"currentLine\",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter(e=>!!e.trim()).map(this.parseLine),this.currentLine=0;const i=this.parseVersion(),n=this.parseOrigin(),r=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),d=this.parseConnection(),u=this.parseBandWidth(),l=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return{version:i,origin:n,sessionName:r,information:o,uri:s,emails:a,phones:c,connection:d,bandwidths:u,timeFields:l,key:h,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error(\"Record doesn't exit.\");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return\"\\r\"===e[t-1]?r:n;throw new Error(\"Invalid newline character.\")}parseLine(e,t){if(e.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");const i=e[0];if(\"=\"!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return{type:i,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new v;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(t,e=>u(e)&&\":\"!==e),_cur:0};\":\"===t.value[t.cur]&&(t.cur+=1,i.attValue=this.extractOneOrMore(t,_)),e.parse(i),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new y(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(e,e=>u(e)&&\":\"!==e),_cur:0};\":\"===e.value[e.cur]&&(e.cur+=1,i.attValue=this.extractOneOrMore(e,_)),t.parse(i),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===s.KEY){if(\"prompt\"===e.value||\"clear:\"===e.value||\"base64:\"===e.value||\"uri:\"===e.value)return e.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){const e=this.getCurrentRecord();if(e.type===s.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const i=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;\"-\"===e.value[e.cur]&&(n=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:i,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.REPEAT)break;{const i=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:i,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error(\"Invalid typed time.\");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:i}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.BANDWIDTH)break;{const i=this.extractOneOrMore(t,u);if(\":\"!==t.value[t.cur])throw new Error(\"Invalid bandwidth field.\");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:i,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==s.VERSION)throw new Error(\"first sdp record must be version\");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, \"v='.concat(e.value,'\"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==s.ORIGIN)throw new Error(\"second line of sdp must be origin\");const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:i,sessVersion:n,nettype:r,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===s.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==s.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===s.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===s.CONNECTION){const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:i,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let i=this.extract(e,this.consumePort);\"/\"===e.value[e.cur]&&(e.cur+=1,i+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));\"/\"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error(\"Invalid proto\");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:i,protos:n,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===s.TIME;){const t=this.parseTime(),i=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:i,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const t=this.parseMedia(),i=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:i,connections:n,bandwidths:r,key:o,attributes:s})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error(\"Invalid fmts\");return t}extract(e,t,...i){const n=t.call(this,e.value,e.cur,...i),r=e.value.slice(e.cur,n);return e.cur=n,r}extractOneOrMore(e,t){const i=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,i);return e.cur=i,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error(\"Invalid space at \".concat(e.cur,\".\"));e.cur+=1}}class C extends R{constructor(...e){super(...e),g(this,\"attributes\",void 0),g(this,\"digested\",!1)}extractOneOrMore(e,t,i){const n=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,n),[o,s]=i||[];if(\"number\"==typeof o&&r.length<o)throw new Error(\"error in length, should be more or equal than \".concat(o,\" characters.\"));if(\"number\"==typeof s&&r.length>s)throw new Error(\"error in length, should be less or equal than \".concat(s,\" characters.\"));return e._cur=n,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error(\"Invalid space at \".concat(e._cur,\".\"));e._cur+=1}extract(e,t,...i){if(!e.attValue)throw new Error(\"Nothing to extract from attValue.\");const n=t.call(this,e.attValue,e._cur,...i),r=e.attValue.slice(e._cur,n);return e._cur=n,r}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let i=0;i<t.length;i++)if(t[i]!==e.attValue[e._cur+i])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(e,E,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(e,E,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,E));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:i})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let i;\"/\"===this.peekChar(e)&&(this.extract(e,this.consume,\"/\"),i=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o),r=T(T({entry:parseInt(t,10)},i&&{direction:i}),{},{extensionName:n});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");const t=this.extract(e,this.consumeTill);if(\"active\"!==t&&\"passive\"!==t&&\"actpass\"!==t&&\"holdconn\"!==t)throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=t}}class v extends C{constructor(...e){super(...e),g(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"group\":this.parseGroup(e);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"fingerprint\":this.parseFingerprint(e);break;case\"setup\":this.parseSetup(e);break;case\"tls-id\":this.parseTlsId(e);break;case\"identity\":this.parseIdentity(e);break;case\"extmap\":this.parseExtmap(e);break;case\"msid-semantic\":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing session attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),i.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:i})}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(e,m)}parseIdentity(e){const t=this.extractOneOrMore(e,f),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,\"=\");const n=this.extractOneOrMore(e,e=>e!==o&&_(e));i.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:i})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if(\"*\"===this.peekChar(e)){this.extract(e,this.consume,\"*\"),t.applyForAll=!0;break}{const i=this.extract(e,this.consumeTill,o);t.identifierList.push(i)}}this.attributes.msidSemantic=t}}class y extends C{constructor(e){super(),g(this,\"attributes\",void 0),-1!==e.protos.indexOf(\"RTP\")||e.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"extmap\":this.parseExtmap(e);break;case\"setup\":this.parseSetup(e);break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"candidate\":this.parseCandidate(e);break;case\"remote-candidate\":this.parseRemoteCandidate(e);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(e);break;case\"rtpmap\":this.parseRtpmap(e);break;case\"ptime\":this.parsePtime(e);break;case\"maxptime\":this.parseMaxPtime(e);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(e);break;case\"ssrc\":this.parseSSRC(e);break;case\"fmtp\":this.parseFmtp(e);break;case\"rtcp-fb\":this.parseRtcpFb(e);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(e);break;case\"mid\":this.parseMid(e);break;case\"msid\":this.parseMsid(e);break;case\"imageattr\":this.parseImageAttr(e);break;case\"rid\":this.parseRid(e);break;case\"simulcast\":this.parseSimulcast(e);break;case\"sctp-port\":this.parseSctpPort(e);break;case\"max-message-size\":this.parseMaxMessageSize(e);break;case\"ssrc-group\":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing media attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}parseCandidate(e){const t=this.extractOneOrMore(e,E,[1,32]);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const s=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const d=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,\"typ\"),this.consumeAttributeSpace(e);const u={foundation:t,componentId:i,transport:n,priority:r,connectionAddress:s,port:d,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e,\" raddr\")&&(this.extract(e,this.consume,\" raddr\"),this.consumeAttributeSpace(e),u.relAddr=this.extract(e,this.consumeAddress)),this.peek(e,\" rport\")&&(this.extract(e,this.consume,\" rport\"),this.consumeAttributeSpace(e),u.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),u.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(u)}parseRemoteCandidate(e){const t=[];for(;;){const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:i,connectionAddress:n,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\"/\");this.extract(e,this.consume,\"/\");const n={encodingName:i,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||\"/\"!==this.peekChar(e)||(this.extract(e,this.consume,\"/\"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));r?r.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\":\");let n;\":\"===this.peekChar(e)&&(this.extract(e,this.consume,\":\"),n=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find(e=>e.ssrcId===parseInt(t,10));r?r.attributes[i]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[i]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill),n={};i.split(\";\").forEach(e=>{let[t,i]=e.split(\"=\");t=t.trim();const r=\"string\"==typeof i?i.trim():null;\"string\"==typeof t&&t.length>0&&(n[t]=r)});const r=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));r?r.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");for(t[i]=n;\";\"===e.attValue[e._cur];){const i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");t[i]=n}return t}parseRtcpFb(e){let t=\"\";t=\"*\"===this.peekChar(e)?this.extract(e,this.consume,\"*\"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,o);let n;switch(i){case\"trr-int\":n={type:i,interval:this.extract(e,this.consumeTill)};break;case\"ack\":case\"nack\":default:{const t={type:i};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),n=t}}if(\"*\"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,u,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,u,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,e=>h(e)||a(e)||\"_\"===e||\"-\"===e);this.consumeAttributeSpace(e);const i={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,\"pt=\")){this.extract(e,this.consume,\"pt=\");const t=[];for(;;){const i=this.extract(e,this.consumeToken);t.push(i);try{this.extract(e,this.consume,\",\")}catch(e){break}}i.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case\"depend\":{const n={type:t,rids:this.extract(e,this.consume,\"=\").split(\",\")};i.params.push(n);break}case\"max-width\":case\"height-width\":case\"max-fps\":case\"max-fs\":case\"max-br\":case\"max-pps\":case\"max-bpp\":default:{const n={type:t};\"=\"===this.peekChar(e)&&(this.extract(e,this.consume,\"=\"),n.val=this.extract(e,this.consumeTill,\";\")),i.params.push(n)}}try{this.extract(e,this.consume,\";\")}catch(e){break}}}this.attributes.rids.push(i)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);i.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:i})}}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O{constructor(){A(this,\"eol\",r)}print(e,t){let i=\"\";return t&&(this.eol=t),i+=this.printVersion(e.version),i+=this.printOrigin(e.origin),i+=this.printSessionName(e.sessionName),i+=this.printInformation(e.information),i+=this.printUri(e.uri),i+=this.printEmail(e.emails),i+=this.printPhone(e.phones),i+=this.printConnection(e.connection),i+=this.printBandwidth(e.bandwidths),i+=this.printTimeFields(e.timeFields),i+=this.printKey(e.key),i+=this.printSessionAttributes(e.attributes),i+=this.printMediaDescription(e.mediaDescriptions),i}printVersion(e){return\"v=\".concat(e).concat(this.eol)}printOrigin(e){return\"o=\".concat(e.username,\" \").concat(e.sessId,\" \").concat(e.sessVersion,\" \").concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?\"s=\".concat(e).concat(this.eol):\"\"}printInformation(e){return e?\"i=\".concat(e).concat(this.eol):\"\"}printUri(e){return e?\"u=\".concat(e).concat(this.eol):\"\"}printEmail(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printPhone(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printConnection(e){return e?\"c=\".concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.address).concat(this.eol):\"\"}printBandwidth(e){let t=\"\";for(const i of e)t+=\"b=\".concat(i.bwtype,\":\").concat(i.bandwidth).concat(this.eol);return t}printTimeFields(e){let t=\"\";for(const i of e){t+=\"t=\".concat(i.time.startTime,\" \").concat(i.time.startTime).concat(this.eol);for(const e of i.repeats)t+=\"r=\".concat(e.repeatInterval,\" \").concat(e.typedTimes.join(\" \")).concat(this.eol);i.zoneAdjustments&&(t+=\"z=\",t+=\"z=\".concat(i.zoneAdjustments.map(e=>\"\".concat(e.time,\" \").concat(e.back?\"-\":\"\",\" \").concat(e.typedTime)).join(\" \")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?\"k=\".concat(e).concat(this.eol):\"\"}printAttributes(e){let t=\"\";for(const i of e)t+=\"a=\".concat(i.attField).concat(i.attValue?\":\".concat(i.attValue):\"\").concat(this.eol);return t}printMediaDescription(e){let t=\"\";for(const i of e)t+=this.printMedia(i.media),t+=this.printInformation(i.information),t+=this.printConnections(i.connections),t+=this.printBandwidth(i.bandwidths),t+=this.printKey(i.key),t+=this.printMediaAttributes(i);return t}printConnections(e){let t=\"\";for(const i of e)t+=this.printConnection(i);return t}printMedia(e){return\"m=\".concat(e.mediaType,\" \").concat(e.port,\" \").concat(e.protos.join(\"/\"),\" \").concat(e.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(e){return new b(this.eol).print(e)}printMediaAttributes(e){return new w(this.eol).print(e)}}class N{constructor(e){A(this,\"eol\",void 0),this.eol=e}printIceUfrag(e){return void 0===e?\"\":\"a=ice-ufrag:\".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?\"\":\"a=ice-pwd:\".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?\"\":\"a=ice-options:\".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map(e=>\"a=fingerprint:\".concat(e.hashFunction).concat(o).concat(e.fingerprint)).join(this.eol)+this.eol:\"\"}printExtmap(e){return e.map(e=>\"a=extmap:\".concat(e.entry).concat(e.direction?\"/\".concat(e.direction):\"\").concat(o).concat(e.extensionName).concat(e.extensionAttributes?\"\".concat(o).concat(e.extensionAttributes):\"\").concat(this.eol)).join(\"\")}printSetup(e){return void 0===e?\"\":\"a=setup:\".concat(e).concat(this.eol)}printUnrecognized(e){return e.map(e=>\"a=\".concat(e.attField).concat(e.attValue?\":\".concat(e.attValue):\"\").concat(this.eol)).join(\"\")}}class b extends N{print(e){let t=\"\";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t=\"\";return e.length>0&&(t+=e.map(e=>\"a=group:\".concat(e.semantic).concat(e.identificationTag.map(e=>\"\".concat(o).concat(e)).join(\"\")).concat(this.eol)).join(\"\")),t}printIceLite(e){return void 0===e?\"\":\"a=ice-lite\"+this.eol}printTlsId(e){return e?\"a=tls-id:\".concat(e).concat(this.eol):\"\"}printIdentity(e){return 0===e.length?\"\":e.map(e=>\"a=identity:\".concat(e.assertionValue).concat(e.extensions.map(e=>\"\".concat(o).concat(e.name).concat(e.value?\"=\".concat(e.value):\"\")))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return\"\";let t=\"a=msid-semantic:\".concat(e.semantic);return e.applyForAll?t+=\"\".concat(o,\"*\"):e.identifierList.length>0&&(t+=e.identifierList.map(e=>\"\".concat(o).concat(e))),t+this.eol}}class w extends N{print(e){const t=e.attributes;let i=\"\";return i+=this.printRTCP(t.rtcp),i+=this.printIceUfrag(t.iceUfrag),i+=this.printIcePwd(t.icePwd),i+=this.printIceOptions(t.iceOptions),i+=this.printCandidates(t.candidates),i+=this.printRemoteCandidatesList(t.remoteCandidatesList),i+=this.printEndOfCandidates(t.endOfCandidates),i+=this.printFingerprints(t.fingerprints),i+=this.printSetup(t.setup),i+=this.printMid(t.mid),i+=this.printExtmap(t.extmaps),i+=this.printRTPRelated(t),i+=this.printPtime(t.ptime),i+=this.printMaxPtime(t.maxPtime),i+=this.printDirection(t.direction),i+=this.printSSRCGroups(t.ssrcGroups),i+=this.printSSRC(t.ssrcs),i+=this.printRTCPMux(t.rtcpMux),i+=this.printRTCPMuxOnly(t.rtcpMuxOnly),i+=this.printRTCPRsize(t.rtcpRsize),i+=this.printMSId(t.msids),i+=this.printImageattr(t.imageattr),i+=this.printRid(t.rids),i+=this.printSimulcast(t.simulcast),i+=this.printSCTPPort(t.sctpPort),i+=this.printMaxMessageSize(t.maxMessageSize),i+=this.printUnrecognized(t.unrecognized),i}printCandidates(e){return e.map(e=>\"a=candidate:\".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,\"typ\").concat(o).concat(e.type).concat(e.relAddr?\"\".concat(o,\"raddr\").concat(o).concat(e.relAddr):\"\").concat(e.relPort?\"\".concat(o,\"rport\").concat(o).concat(e.relPort):\"\").concat(Object.keys(e.extension).map(t=>\"\".concat(o).concat(t).concat(o).concat(e.extension[t])).join(\"\")).concat(this.eol)).join(\"\")}printRemoteCandidatesList(e){return e.map(e=>\"a=remote-candidates:\".concat(e.join(o)).concat(this.eol)).join(\"\")}printEndOfCandidates(e){return void 0===e?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(e){if(!e.payloads)return\"\";const t=e.payloads;let i=\"\";i+=e.rtcpFeedbackWildcards.map(e=>this.printRTCPFeedback(\"*\",e)).join(\"\");for(const e of t)i+=this.printRtpMap(e.payloadType,e.rtpMap),i+=this.printFmtp(e.payloadType,e.fmtp),i+=e.rtcpFeedbacks.map(t=>this.printRTCPFeedback(e.payloadType,t)).join(\"\");return i}printFmtp(e,t){if(!t)return\"\";const i=Object.keys(t.parameters);return 1===i.length&&null===t.parameters[i[0]]?\"a=fmtp:\".concat(e).concat(o).concat(i[0]).concat(this.eol):\"a=fmtp:\".concat(e).concat(o).concat(Object.keys(t.parameters).map(e=>\"\".concat(e,\"=\").concat(t.parameters[e])).join(\";\")).concat(this.eol)}printRtpMap(e,t){return t?\"a=rtpmap:\".concat(e).concat(o).concat(t.encodingName,\"/\").concat(t.clockRate).concat(t.encodingParameters?\"/\".concat(t.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(e,t){let i=\"a=rtcp-fb:\".concat(e).concat(o),n=t;switch(n.type){case\"trr-int\":i+=\"ttr-int\".concat(o).concat(n.interval);break;case\"ack\":case\"nack\":default:n=n,i+=\"\".concat(n.type),n.parameter&&(i+=\"\".concat(o).concat(n.parameter),n.additional&&(i+=\"\".concat(o).concat(n.additional)))}return i+this.eol}printPtime(e){return void 0===e?\"\":\"a=ptime:\".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?\"\":\"a=maxptime:\".concat(e).concat(this.eol)}printDirection(e){return void 0===e?\"\":\"a=\".concat(e).concat(this.eol)}printSSRC(e){return e.map(e=>Object.keys(e.attributes).map(t=>\"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?\":\".concat(e.attributes[t]):\"\").concat(this.eol)).join(\"\")).join(\"\")}printRTCPMux(e){return void 0===e?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(e){return void 0===e?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(e){if(void 0===e)return\"\";let t=\"a=rtcp:\".concat(e.port);return e.netType&&(t+=\"\".concat(o).concat(e.netType)),e.addressType&&(t+=\"\".concat(o).concat(e.addressType)),e.address&&(t+=\"\".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map(e=>\"a=msid:\".concat(e.id).concat(e.appdata?\"\".concat(o).concat(e.appdata):\"\").concat(this.eol)).join(\"\")}printImageattr(e){return e.map(e=>\"a=imageattr:\".concat(e).concat(this.eol)).join(\"\")}printRid(e){return e.map(e=>{let t=\"a=rid:\".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+=\"\".concat(o,\"pt=\").concat(e.payloads.join(\",\"))),e.params.length>0&&(t+=\"\".concat(o).concat(e.params.map(e=>\"depend\"===e.type?\"depend=\".concat(e.rids.join(\",\")):\"\".concat(e.type,\"=\").concat(e.val)).join(\";\"))),t+this.eol}).join(\"\")}printSimulcast(e){return void 0===e?\"\":\"a=simulcast:\".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?\"\":\"a=sctp-port:\".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?\"\":\"a=max-message-size:\".concat(e).concat(this.eol)}printMid(e){return void 0===e?\"\":\"a=mid:\".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map(e=>\"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map(e=>\"\".concat(o).concat(e.toString(10))).join(\"\")).concat(this.eol)).join(\"\")}}function D(e){return(new I).parse(e)}function P(e,t){return(new O).print(e,t)}}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i(8)})()}(UO);class iN{constructor(e){_p(this,\"sessionDesc\",void 0),_p(this,\"localCapabilities\",void 0),_p(this,\"rtpCapabilities\",void 0),_p(this,\"candidates\",void 0),_p(this,\"iceParameters\",void 0),_p(this,\"dtlsParameters\",void 0),_p(this,\"setup\",void 0),_p(this,\"currentMidIndex\",void 0),_p(this,\"cname\",void 0),e=uC(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:s,sdkCodec:a,cname:c}=e,d=UO.exports.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");this.rtpCapabilities=r,this.candidates=n,this.iceParameters=t,this.dtlsParameters=i,this.setup=o,this.localCapabilities=s,this.cname=c;for(let e=0;e<d.mediaDescriptions.length;e++){const s=d.mediaDescriptions[e];s.attributes.iceUfrag=t.iceUfrag,s.attributes.icePwd=t.icePwd,s.attributes.fingerprints=i.fingerprints,s.attributes.candidates=n,s.attributes.setup=o,\"video\"===s.media.mediaType&&(s.media.fmts=r.videoCodecs.map(e=>e.payloadType.toString(10)),s.attributes.payloads=r.videoCodecs,s.attributes.extmaps=r.videoExtensions),\"audio\"===s.media.mediaType&&(s.media.fmts=r.audioCodecs.map(e=>e.payloadType.toString(10)),s.attributes.payloads=r.audioCodecs,s.attributes.extmaps=r.audioExtensions),d.mediaDescriptions[e]=this.mungMediaDesc(s)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return UO.exports.print(this.sessionDesc)}send(e,t,i){const{ssrcs:n,ssrcGroups:r}=WO(t,this.cname),o=this.sessionDesc.mediaDescriptions.find(t=>e===AS.VIDEO?\"video\"===t.media.mediaType:\"audio\"===t.media.mediaType),s=n[0].attributes.label,a=n[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(n),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(r),{id:s,mslabel:a}}batchSend(e){return e.map(e=>{let{kind:t,ssrcMsg:i}=e;return this.send(t,i,void 0)})}stopSending(e){this.sessionDesc.mediaDescriptions.forEach(t=>{const i=[],n=[],r=[];t.attributes.ssrcs.forEach(t=>{e.includes(t.attributes.label||\"\")?r.push(t):i.push(t)}),t.attributes.ssrcGroups.forEach(e=>{r.map(e=>e.ssrcId).includes(e.ssrcIds[0])||n.push(e)}),t.attributes.ssrcs=i,t.attributes.ssrcGroups=n})}mute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}receive(e,t,i){e.forEach((e,t)=>{const i=e._mediaStreamTrack,n=this.sessionDesc.mediaDescriptions.findIndex(e=>e.attributes.mid===i.kind),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=r})}stopReceiving(e){}updateCandidates(e){e===OS.TCP?this.candidates.forEach(e=>{-1===this.candidates.findIndex(t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port)&&this.candidates.push(tN(tN({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))}):this.candidates=this.candidates.filter(e=>\"tcp\"!==e.transport);for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=uC(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}mungRecvMediaDsec(e,t){const i=uC(e);return HO(i,t),YO(i,t),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,i){const n=this.sessionDesc.mediaDescriptions.find(t=>e===AS.VIDEO?\"video\"===t.attributes.mid:\"audio\"===t.attributes.mid);if(n){const e=n.attributes.ssrcs.find(e=>e.attributes.label===t);var r;if(e)e.attributes.label=i,null===(r=e.attributes.msid)||void 0===r||r.replace(t,i)}}mungMediaDesc(e){const t=uC(e);return KO(t),function(e){const t=e.attributes.extmaps.find(e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName);t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>\"transport-cc\"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const i of t.attributes.ssrcs)if(i.attributes.label===e)return[i]}}function nN(e){if(Array.isArray(e))return e.map(e=>e);if(!rN(e))return e;const t={};for(const i in e)rN(e[i])||Array.isArray(e[i])?t[i]=nN(e[i]):t[i]=e[i];return t}function rN(e){return!(\"object\"!=typeof e||Array.isArray(e)||!e)}function oN(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return e&&e[0]?Number(e[0].split(\"/\")[1]):null}function sN(e){if(!window.RTCStatsReport)return!1;return e.getStats()instanceof Sl}class aN{constructor(e){_p(this,\"input\",[]),_p(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const cN={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},dN={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:cN,remoteCandidate:cN}},uN={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},lN={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,qpSumPerFrame:0},hN={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},pN={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function _N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function EN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class mN{constructor(e,t){_p(this,\"onFirstVideoReceived\",void 0),_p(this,\"onFirstVideoDecoded\",void 0),_p(this,\"onFirstAudioReceived\",void 0),_p(this,\"onFirstVideoDecodedTimeout\",void 0),_p(this,\"onFirstAudioDecoded\",void 0),_p(this,\"onSelectedLocalCandidateChanged\",void 0),_p(this,\"onSelectedRemoteCandidateChanged\",void 0),_p(this,\"videoIsReady\",!1),_p(this,\"videoIsReady2\",{}),_p(this,\"pc\",void 0),_p(this,\"options\",void 0),_p(this,\"intervalTimer\",void 0),_p(this,\"stats\",nN(dN)),_p(this,\"isFirstVideoReceived\",{}),_p(this,\"isFirstVideoDecoded\",{}),_p(this,\"isFirstAudioReceived\",{}),_p(this,\"isFirstAudioDecoded\",{}),_p(this,\"isFirstVideoDecodedTimeout\",{}),_p(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Sl(e=>{e({local:EN({},cN),remote:EN({},cN)})})}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"];let n=0,r=0,o=0,s=0;for(const a of i)e[a].forEach((e,i)=>{if(!this.lossRateWindowStats[t-1][a][i]||!this.lossRateWindowStats[0][a][i])return;const c=this.lossRateWindowStats[t-1][a][i].packets-this.lossRateWindowStats[0][a][i].packets,d=this.lossRateWindowStats[t-1][a][i].packetsLost-this.lossRateWindowStats[0][a][i].packetsLost;\"videoSend\"===a||\"audioSend\"===a?(n+=c,o+=d):(r+=c,s+=d),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||d<=0?0:d/(c+d)});e.sendPacketLossRate=n<=0||o<=0?0:o/(n+o),e.recvPacketLossRate=r<=0||s<=0?0:s/(r+s)}}function fN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function SN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class TN extends mN{constructor(){super(...arguments),_p(this,\"_stats\",dN),_p(this,\"lastDecodeVideoReceiverStats\",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=nN(dN);const i=t.filter(e=>\"ssrc\"===e.type);this.processSSRCStats(i);const n=t.find(e=>\"VideoBwe\"===e.type);n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach(e=>{const t=e.id.includes(\"send\");switch(\"\".concat(e.mediaType,\"_\").concat(t?\"send\":\"recv\")){case\"video_send\":{const t=nN(lN);t.codec=e.googCodecName,t.adaptionChangeReason=\"none\",e.googCpuLimitedResolution&&(t.adaptionChangeReason=\"cpu\"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason=\"bandwidth\"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case\"video_recv\":{const t=nN(uN),i=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),i){const n=i.stats,r=Date.now()-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:SN({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case\"audio_recv\":{const t=nN(pN);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case\"audio_send\":{const t=nN(hN);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}})}_getStats(){return new Sl((e,t)=>{this.pc.getStats(e,t)})}statsResponsesToObjects(e){const t=[];return e.result().forEach(e=>{const i={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t.push(i)}),t}}function gN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function RN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class IN extends mN{constructor(){super(...arguments),_p(this,\"_stats\",dN),_p(this,\"report\",void 0),_p(this,\"lastDecodeVideoReceiverStats\",new Map),_p(this,\"lastVideoFramesRecv\",new Map),_p(this,\"lastVideoFramesSent\",new Map),_p(this,\"lastVideoFramesDecode\",new Map),_p(this,\"lastVideoJBDelay\",new Map),_p(this,\"lastAudioJBDelay\",new Map),_p(this,\"mediaBytesSent\",new Map),_p(this,\"mediaBytesRetransmit\",new Map),_p(this,\"mediaBytesTargetEncode\",new Map),_p(this,\"lastEncoderMs\",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=nN(dN),this.report.forEach(e=>{switch(e.type){case kh.OUTBOUND:\"audio\"===e.mediaType?this.processAudioOutboundStats(e):\"video\"===e.mediaType&&this.processVideoOutboundStats(e);break;case kh.INBOUND:\"audio\"===e.mediaType?this.processAudioInboundStats(e):\"video\"===e.mediaType&&this.processVideoInboundStats(e);break;case kh.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case kh.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:RN({},cN),remote:RN({},cN)};return e.forEach(i=>{let n;if(i.type===kh.TRANSPORT&&(n=e.get(i.selectedCandidatePairId)),i.type===kh.CANDIDATE_PAIR&&i.selected&&(n=i),n){const i=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const r=e.get(n.localCandidateId);r&&i(t.local,r)}if(n.remoteCandidateId){const r=e.get(n.remoteCandidateId);r&&i(t.remote,r)}}}),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach(t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)}),this._stats.audioSend.forEach(t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===kh.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===kh.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===kh.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(RN({},t),RN({},this.stats.selectedCandidatePair.localCandidate)),e.type===kh.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(RN({},t),RN({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find(t=>t.ssrc===e.ssrc);t||(t=nN(pN),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),\"number\"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}processVideoInboundStats(e){let t=this._stats.videoRecv.find(t=>t.ssrc===e.ssrc);t||(t=nN(uN),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;const i=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,i=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,i),this.isFirstVideoDecoded[t.ssrc]=!0}if(i){const n=i.stats,o=r-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&o>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=o,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount))}n&&r-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((r-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:RN({},t),lts:i?i.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find(t=>t.ssrc===e.ssrc);t||(t=nN(lN),this._stats.videoSend.push(t));const i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else{const t=new aN(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new aN(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new aN(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){const i=this.lastEncoderMs.get(e.ssrc);if(!i||i.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-i.lastFrameCount,r=e.totalEncodeTime-i.lastEncoderTime;t.avgEncodeMs=1e3*r/n}}if(e.framesEncoded&&e.qpSum){const i=this.lastEncoderMs.get(e.ssrc);!i||i.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-i.lastQpSum)/(e.framesEncoded-i.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,kh.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find(t=>t.ssrc===e.ssrc);if(t||(t=nN(hN),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,kh.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}findRemoteStatsId(e,t){var i;const n=Array.from(IR(i=this.report).call(i)).find(i=>i.type===t&&i.ssrc===e);return n?n.id:null}processVideoMediaSource(e,t){const i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(t.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond})}processAudioMediaSource(e,t){const i=this.report.get(e);i&&(t.inputLevel=i.audioLevel)}processVideoTrackSenderStats(e,t,i){var n,r,o;const s=t?this.report.get(t):void 0,a=null!==(n=null==s?void 0:s.framesSent)&&void 0!==n?n:e.framesSent;let c=null!==(r=null==s?void 0:s.frameWidth)&&void 0!==r?r:e.frameWidth,d=null!==(o=null==s?void 0:s.frameHeight)&&void 0!==o?o:e.frameHeight;if(\"number\"!=typeof a)return;\"number\"==typeof c&&\"number\"==typeof d||(c=0,d=0);let u=0;const l=Date.now(),h=this.lastVideoFramesSent.get(i.ssrc);h&&l-h.lts>=800?(u=Math.round((a-h.count)/((l-h.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:a,lts:l,rate:u})):h?u=h.rate:this.lastVideoFramesSent.set(i.ssrc,{count:a,lts:l,rate:0}),i.sentFrame={width:c,height:d,frameRate:Math.max(0,u)}}processVideoTrackReceiverStats(e,t,i){var n,r,o,s,a;const c=t?this.report.get(t):void 0,d=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,u=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,l=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(s=null==c?void 0:c.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if(\"number\"==typeof d){const e=this.lastVideoFramesRecv.get(i.ssrc),t=Date.now();i.framesReceivedCount=d;let n=0;e&&t-e.lts>=800?(n=Math.round((d-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:0}),i.receivedFrame={width:u||0,height:l||0,frameRate:n||0},i.decodedFrame={width:u||0,height:l||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:u||0,height:l||0,frameRate:i.decodeFrameRate||0}}if(h&&p){let e=this.lastVideoJBDelay.get(i.ssrc);this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p}),e||(e={jitterBufferDelay:0,jitterBufferEmittedCount:0});const t=1e3*(h-e.jitterBufferDelay)/(p-e.jitterBufferEmittedCount);i.jitterBufferMs=t,i.currentDelayMs=Math.round(t)}}processAudioTrackSenderStats(e,t,i){var n,r,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,d=null!==(o=null!==(s=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==s?s:e.echoReturnLossEnhancement)&&void 0!==o?o:0;i.aecReturnLoss=c,i.aecReturnLossEnhancement=d}processAudioTrackReceiverStats(e,t,i){var n,r,o,s,a,c,d;const u=t?this.report.get(t):void 0,l=null!==(n=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,h=null!==(r=null==u?void 0:u.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,p=null!==(o=null==u?void 0:u.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,_=null!==(s=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount,E=null!==(a=null==u?void 0:u.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,m=null!==(c=null==u?void 0:u.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,f=null!==(d=null==u?void 0:u.concealedSamples)&&void 0!==d?d:e.concealedSamples;if(l&&h&&(i.accelerateRate=l/h),p&&_){let e=this.lastAudioJBDelay.get(i.ssrc);this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:_}),e||(e={jitterBufferDelay:0,jitterBufferEmittedCount:0});const t=1e3*(p-e.jitterBufferDelay)/(_-e.jitterBufferEmittedCount);i.jitterBufferMs=Math.round(t)}i.outputLevel=E;let S=1920;m&&h&&(S=h/m/50,i.receivedFrames=Math.round(h/S)),f&&(i.droppedFrames=Math.round(f/S))}processRemoteInboundStats(e,t){const i=this.report.get(e);i&&(t.packetsLost=i.packetsLost,i.roundTripTime&&(t.rttMs=1e3*i.roundTripTime))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return\"\";const i=t.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,t=null,i=null;this.mediaBytesSent.forEach(t=>{e+=t.diffMean()}),this.mediaBytesRetransmit.forEach(e=>{t=null===t?e.diffMean():t+e.diffMean()}),this.mediaBytesTargetEncode.forEach(e=>{i=null===i?e.diffMean():i+e.diffMean()});const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==i&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3))}}class CN extends mN{updateStats(){return Sl.resolve()}}function vN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=oN();return o?o<76?new TN(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new IN(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):sN(e)?new IN(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new CN(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r})}var yN;function AN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ON(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let NN=(ag((yN=class e extends YS{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(t,i){super(t,i),_p(this,\"store\",void 0),_p(this,\"peerConnection\",void 0),_p(this,\"remoteSDP\",void 0),_p(this,\"initialOffer\",void 0),_p(this,\"statsFilter\",void 0),_p(this,\"useRTX\",!1),_p(this,\"localCapabilities\",void 0),_p(this,\"localCandidateCount\",0),_p(this,\"allCandidatesReceived\",!1),_p(this,\"establishPromise\",void 0),_p(this,\"mutex\",new Ug(\"P2PConnection-mutex\")),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=vN(this.peerConnection,GE(\"STATS_UPDATE_INTERVAL\"),void 0,Kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=FO(e.sdp),i=jO(e.sdp,!this.useRTX,GE(\"FILTER_VIDEO_FEC\"),GE(\"FILTER_AUDIO_FEC\"),[\"opus\"]);return this.localCapabilities=i,this.initialOffer=e,ON(ON({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new SE(fE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,o){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new iN({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n.send,remoteSetup:r,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:o});const s=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}send(e,t){var i=this;return DO((function*(){const n=yield PO(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const r=e.map(e=>i.peerConnection.addTrack(e._mediaStreamTrack)),o=yield PO(i.peerConnection.createOffer()),s=UO.exports.parse(o.sdp),a=e.map(e=>{const t=e._mediaStreamTrack,n=s.mediaDescriptions.find(e=>e.attributes.mid===t.kind);if(!n)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(e,t,i){const n=e.attributes.ssrcs.filter(e=>e.attributes.label===t),r=e.attributes.ssrcGroups;if(0===n.length)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(r&&n.length>1){const e=r.find(e=>-1!==e.ssrcIds.indexOf(n[0].ssrcId));return e?[{ssrcId:e.ssrcIds[0],rtx:i?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}return[{ssrcId:n[0].ssrcId}]}(n,t.id,i.useRTX)});let c;try{c=yield a}catch(e){throw r.forEach(e=>{Hh()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)}),e}const d=i.mungSendOfferSDP(o.sdp,e);i.remoteSDP.receive(e,t,c);const u=i.remoteSDP.toString();return yield PO(i.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield PO(i.applySendEncodings(r,e)),yield PO(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),e.map((e,t)=>{const i=e._mediaStreamTrack.id;return{localSSRC:a[t],id:i}})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{n()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getSenders().filter(t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")});if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map(e=>{Hh()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)});const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{id:i,mslabel:r}=this.remoteSDP.send(e,t,n),o=new Sl((t,n)=>{const o=setTimeout(()=>{n(new Error(\"Cannot receive track, id: \".concat(i)))},1e4),s=n=>{const a=xh();if((\"Safari\"===a.name&&11===Number(a.version)||Yh())&&n.track.id!==i&&n.streams[0].id===r){var c;const r=n.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,i,n.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(r)}if(n.track.id===i)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(n.track)};this.peerConnection.addEventListener(\"track\",s)}),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:s});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a);return{track:await o,id:i}}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter(t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")});if(t.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");t.map(e=>{if(Hh()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach(e=>e.active=!1),e.setParameters(t)}})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter(t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")});if(t.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");t.map(async e=>{if(Hh()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach(e=>e.active=!0),await e.setParameters(t)}});const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return DO((function*(){const i=yield PO(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(JS().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===OS.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(OE.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===OS.RELAY)return;e!==OS.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield PO(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=FO(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const s=t.remoteSDP.toString();yield PO(t.peerConnection.setLocalDescription(n)),yield PO(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:s}))}catch(e){OE.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const e=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getSenders().filter(t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e});1===i.length&&await this.applySendEncodings(i,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getSenders().find(e=>{var i;return(null===(i=e.track)||void 0===i?void 0:i.id)===t});i&&await i.replaceTrack(e._mediaStreamTrack)}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,OE.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,OE.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))},GE(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[],sdpSemantics:\"plan-b\"};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(Uf(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),GE(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")}))),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))}),t}async applySendEncodings(e,t){try{if(!JS().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){var i;const r=e[n],o=t[n];if(!o)continue;const s={},a={};if(o instanceof Cy)switch(o._optimizationMode){case\"motion\":s.degradationPreference=\"maintain-framerate\";break;case\"detail\":s.degradationPreference=\"maintain-resolution\";break;default:s.degradationPreference=\"balanced\"}if(GE(\"DSCP_TYPE\")&&rp()){const e=GE(\"DSCP_TYPE\");[\"very-low\",\"low\",\"medium\",\"high\"].includes(e)&&(a.networkPriority=e)}const c=r.getParameters(),d=null===(i=c.encodings)||void 0===i?void 0:i[0];d&&Object.assign(d,a),Object.assign(c,s),await r.setParameters(c)}}catch(e){OE.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t){const i=UO.exports.parse(e);return t.forEach((e,t)=>{const n=e._mediaStreamTrack,r=i.mediaDescriptions.find(e=>e.attributes.mid===n.kind);r&&HO(r,e)}),UO.exports.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const t=this.remoteSDP.batchSend(e).map((t,i)=>{let{id:n,mslabel:r}=t;const{kind:o}=e[i];return new Sl((e,t)=>{const i=setTimeout(()=>{t(new Error(\"Cannot receive track, id: \".concat(n)))},1e4),s=t=>{const a=xh();if(\"Safari\"===a.name&&11===Number(a.version)&&t.track.id!==n&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,n,t.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:r,id:n})}if(t.track.id===n)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:t.track,id:n})};this.peerConnection.addEventListener(\"track\",s)})}),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});const n=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n),await Sl.all(t)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(JS().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}}).prototype,\"connect\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"connect\"),yN.prototype),ag(yN.prototype,\"stopSending\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"stopSending\"),yN.prototype),ag(yN.prototype,\"receive\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"receive\"),yN.prototype),ag(yN.prototype,\"stopReceiving\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"stopReceiving\"),yN.prototype),ag(yN.prototype,\"muteRemote\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"muteRemote\"),yN.prototype),ag(yN.prototype,\"unmuteRemote\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"unmuteRemote\"),yN.prototype),ag(yN.prototype,\"muteLocal\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"muteLocal\"),yN.prototype),ag(yN.prototype,\"unmuteLocal\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"unmuteLocal\"),yN.prototype),ag(yN.prototype,\"close\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"close\"),yN.prototype),ag(yN.prototype,\"updateEncoderConfig\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"updateEncoderConfig\"),yN.prototype),ag(yN.prototype,\"updateSendParameters\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"updateSendParameters\"),yN.prototype),ag(yN.prototype,\"replaceTrack\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"replaceTrack\"),yN.prototype),ag(yN.prototype,\"getRemoteSSRC\",[bN],Object.getOwnPropertyDescriptor(yN.prototype,\"getRemoteSSRC\"),yN.prototype),yN);function bN(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"Locking from P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function wN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function DN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const PN=\"9\",LN=4e4;class kN{get localCapabilities(){return uC(this._localCapabilities)}get rtpCapabilities(){return uC(this._rtpCapabilities)}get candidates(){return uC(this._candidates)}get iceParameters(){return uC(this._iceParameters)}get dtlsParameters(){return uC(this._dtlsParameters)}constructor(e){_p(this,\"sessionDesc\",void 0),_p(this,\"_localCapabilities\",void 0),_p(this,\"_rtpCapabilities\",void 0),_p(this,\"_candidates\",void 0),_p(this,\"_iceParameters\",void 0),_p(this,\"_dtlsParameters\",void 0),_p(this,\"setup\",void 0),_p(this,\"currentMidIndex\",void 0),_p(this,\"cname\",void 0),_p(this,\"firefoxSsrcMidMap\",new Map),e=uC(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:s,cname:a}=e,c=UO.exports.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\");this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=s,this.setup=o,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=o,\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:LN,rtx:GE(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,$O(e),GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=GE(\"PRELOAD_MEDIA_COUNT\");this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+2e4,s=2*o+LN,{ssrcs:a,ssrcGroups:c}=WO([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:u}=WO([{ssrcId:s,rtx:GE(\"USE_SUB_RTX\")?s+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:PN,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:PN,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*o+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return UO.exports.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:o}=WO(t,this.cname,GE(\"SYNC_GROUP\")?i:void 0),s=this.findPreloadMediaDesc(r);if(s){if(Kh()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,n),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||1===t&&(Hh()||zh())||0===t&&GE(\"USE_SUB_RTX\")||Qh()?(i=this.createOrRecycleSendMedia(e,r,o,\"sendonly\",n),this.updateBundleMids()):(i=uC(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Kh()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map(e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)}),i=[];let n=!1;return t.forEach(e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)}),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach(e=>{\"0\"===e.attributes.mid||Kh()||Qh()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")}),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>e.includes(t.attributes.mid||\"\"));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach(e=>{e.attributes.direction=\"inactive\"})}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>e.includes(t.attributes.mid||\"\"));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach(e=>{e.attributes.direction=\"recvonly\"})}receive(e,t,i,n){e.forEach((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])}),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach(e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"}),this.updateBundleMids()}updateCandidates(e){e===OS.TCP?this._candidates.forEach(e=>{-1===this._candidates.findIndex(t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port)&&this._candidates.push(DN(DN({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))}):this._candidates=this._candidates.filter(e=>\"tcp\"!==e.transport);for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=uC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex(i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Kh()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n})}createOrRecycleRecvMedia(e,t,i,n,r,o){const s=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=this.localCapabilities.send;let d=[];if(s===AS.VIDEO){var u,l;if(GE(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(d=a.videoCodecs.filter(e=>{var t,i;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(n)&&(null==e||null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])===GE(\"H264_PROFILE_LEVEL_ID\")})),!d||0===(null===(u=d)||void 0===u?void 0:u.length)){const e=c.videoCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(n)});0!==e.length&&(d=a.videoCodecs.filter(t=>e.some(e=>e.payloadType===t.payloadType)))}if(GE(\"USE_PUB_RTX\")){const e=d.map(e=>e.payloadType.toString()),t=a.videoCodecs.filter(t=>{var i,n;return\"rtx\"===(null===(i=t.rtpMap)||void 0===i?void 0:i.encodingName)&&e.includes((null===(n=t.fmtp)||void 0===n?void 0:n.parameters.apt)||\"\")});d=[...d,...t]}if(0===d.length)OE.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(null===(l=a.videoCodecs[0].rtpMap)||void 0===l?void 0:l.encodingName)),d=a.videoCodecs}else d=a.audioCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(r)}),0===d.length&&(OE.warning(\"codec \".concat(r,\" not included in rtpCapabilities, fallback to opus\")),d=a.audioCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(\"opus\")}));const h=s===AS.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const p=\"\".concat(this.currentMidIndex);let _={media:{mediaType:s,port:PN,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:h,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(p)}};_=this.mungRecvMediaDsec(_,e,o);const E=this.findFirstClosedMedia(s);if(E){const e=this.sessionDesc.mediaDescriptions.indexOf(E);this.sessionDesc.mediaDescriptions[e]=_}else this.sessionDesc.mediaDescriptions.push(_);return _}createOrRecycleSendMedia(e,t,i,n,r){const o=this.rtpCapabilities.send,s=e===AS.VIDEO?o.videoCodecs:o.audioCodecs,a=e===AS.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:PN,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:s.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>\"0\"!==e.media.port).map(e=>e.attributes.mid)}mungRecvMediaDsec(e,t,i){const n=uC(e);return KO(n),HO(n,t),YO(n,t),qO(n),JO(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=uC(e);return JO(i,t,this.localCapabilities.recv),$O(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(t=>Kh()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port)}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(t=>{var i,n;return(null===(i=t.attributes)||void 0===i||null===(n=i.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId})}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e))||void 0===t?void 0:t.attributes.ssrcs}}var MN;function UN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?UN(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let VN=(ag((MN=class e extends YS{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t,i;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(i=t.transport)||void 0===i?void 0:i.state)&&void 0!==e?e:null}constructor(t,i){super(t,i),_p(this,\"store\",void 0),_p(this,\"peerConnection\",void 0),_p(this,\"remoteSDP\",void 0),_p(this,\"initialOffer\",void 0),_p(this,\"transportEventReceiver\",void 0),_p(this,\"statsFilter\",void 0),_p(this,\"localCapabilities\",void 0),_p(this,\"localCandidateCount\",0),_p(this,\"allCandidatesReceived\",!1),_p(this,\"selectedCandidatePairTimer\",void 0),_p(this,\"establishPromise\",void 0),_p(this,\"mutex\",new Ug(\"P2PConnection-mutex\")),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=vN(this.peerConnection,GE(\"STATS_UPDATE_INTERVAL\"),void 0,Kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=FO(e.sdp),i=await zO(!GE(\"USE_PUB_RTX\")&&!GE(\"USE_SUB_RTX\"),GE(\"FILTER_VIDEO_FEC\"),GE(\"FILTER_AUDIO_FEC\"));return this.localCapabilities=ZO(i),this.initialOffer=e,xN(xN({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new SE(fE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,o){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new kN({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:this.localCapabilities,cname:o});const s=this.remoteSDP.toString(),a=UO.exports.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find(e=>\"audio\"===e.media.mediaType);c&&$O(c);const d=UO.exports.print(a),u=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==u||u(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s});const l=this.peerConnection.getTransceivers()[0];if(null!=l&&l.receiver&&this.tryBindTransportEvents(l.receiver),GE(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return DO((function*(){const r=yield PO(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const o=[];e.forEach(e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});o.push(t),e._updateRtpTransceiver(t)}),Kh()&&!0===GE(\"SIMULCAST\")&&(yield PO(n.applySimulcastForFirefox(o,e)));const s=yield PO(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(s.sdp,e,a),d=UO.exports.parse(c),u=a.map(e=>{const t=d.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return BO(t,GE(\"USE_PUB_RTX\"))});let l;try{l=yield u}catch(r){l=[],n.remoteSDP.receive(e,t,i,l);const o=n.remoteSDP.toString();throw yield PO(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield PO(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})),yield PO(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,l);const h=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield PO(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield PO(n.applySimulcastEncodings(o,e)),yield PO(n.applySendEncodings(o,e)),null==p||p(h),yield PO(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:h})),o.map((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i,transceiver:e}})}catch(e){throw e instanceof SE?e:new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter(t=>-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map(e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)});const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),OE.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else OE.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));const s=this.peerConnection.getTransceivers().find(e=>e.mid===r);if(!s)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,id:r,transceiver:s}}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),OE.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))}else OE.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive no need to exchange SDP.\"));return t.map(e=>{const t=this.peerConnection.getTransceivers().find(t=>t.mid===e);if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map(e=>{e.direction=\"inactive\"});const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map(async(e,t)=>{e.direction=\"sendonly\"});const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return DO((function*(){const i=yield PO(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(JS().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===OS.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(OE.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===OS.RELAY)return;e!==OS.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield PO(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=FO(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const s=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield PO(t.peerConnection.setLocalDescription(n)),null==a||a(s),yield PO(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:s}))}catch(e){OE.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter(t=>t.mid===e);1===i.length&&(this.isVP8Simulcast(t)?Kh()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find(e=>e.mid===t);i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:xN(xN({},cN),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:xN(xN({},cN),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,OE.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,OE.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))},GE(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(Uf(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),GE(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),GE(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")}))),GE(\"ENABLE_ENCODED_TRANSFORM\")&&JS().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(VI(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!GE(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))}),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();OE.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async applySendEncodings(e,t){try{if(!JS().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const d=e[c],u=t[c];if(u&&u instanceof Cy){var i,n;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case\"motion\":e.degradationPreference=\"maintain-framerate\";break;case\"detail\":e.degradationPreference=\"maintain-resolution\";break;default:e.degradationPreference=\"balanced\"}var r,o,s,a;if(null!==(i=u._encoderConfig)&&void 0!==i&&i.bitrateMax)t.maxBitrate=1e3*(null===(r=u._encoderConfig)||void 0===r?void 0:r.bitrateMax);if(u._hints.includes(lS.LOW_STREAM))null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=FI(u._encoderConfig.frameRate)),null!==(s=u._encoderConfig)&&void 0!==s&&s.scaleResolutionDownBy&&(null===(a=u._encoderConfig)||void 0===a?void 0:a.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy);if(GE(\"DSCP_TYPE\")&&rp()){const e=GE(\"DSCP_TYPE\");[\"very-low\",\"low\",\"medium\",\"high\"].includes(e)&&(t.networkPriority=e)}const c=d.sender.getParameters(),l=null===(n=c.encodings)||void 0===n?void 0:n[0];Kh()&&!l&&(e.encodings=[t]),l&&Object.assign(l,t),Object.assign(c,e),await d.sender.setParameters(c)}}}catch(e){OE.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=UO.exports.parse(e);return t.forEach((e,t)=>{const r=i[t],o=n.mediaDescriptions.find(e=>e.attributes.mid===r);o&&(HO(o,e),XO(o,e,this.store.codec))}),UO.exports.print(n)}mungReceiveAnswerSDP(e,t,i){const n=UO.exports.parse(e),r=n.mediaDescriptions.find(e=>e.attributes.mid===t);return r&&i===AS.AUDIO&&\"audio\"===r.media.mediaType&&$O(r),UO.exports.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var i,n,r,o;const a=e[s],c=t[s];if(c instanceof Cy&&!c._hints.includes(lS.LOW_STREAM)&&null!==(i=c._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=c._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=c._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=c._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=a.sender.getParameters();await a.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Kh()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Cy&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r;return!!(e instanceof Cy&&GE(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!e._hints.includes(lS.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(n=e._scalabiltyMode)&&void 0!==n&&n.numSpatialLayers&&(null===(r=e._scalabiltyMode)||void 0===r?void 0:r.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(GE(\"SDP_LOGGING\"))return OE.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(JS().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}}).prototype,\"connect\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"connect\"),MN.prototype),ag(MN.prototype,\"receive\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"receive\"),MN.prototype),ag(MN.prototype,\"batchReceive\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"batchReceive\"),MN.prototype),ag(MN.prototype,\"stopReceiving\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"stopReceiving\"),MN.prototype),ag(MN.prototype,\"muteRemote\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"muteRemote\"),MN.prototype),ag(MN.prototype,\"unmuteRemote\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"unmuteRemote\"),MN.prototype),ag(MN.prototype,\"muteLocal\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"muteLocal\"),MN.prototype),ag(MN.prototype,\"unmuteLocal\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"unmuteLocal\"),MN.prototype),ag(MN.prototype,\"close\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"close\"),MN.prototype),ag(MN.prototype,\"updateEncoderConfig\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"updateEncoderConfig\"),MN.prototype),ag(MN.prototype,\"updateSendParameters\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"updateSendParameters\"),MN.prototype),ag(MN.prototype,\"replaceTrack\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"replaceTrack\"),MN.prototype),ag(MN.prototype,\"getRemoteSSRC\",[jN],Object.getOwnPropertyDescriptor(MN.prototype,\"getRemoteSSRC\"),MN.prototype),MN);function jN(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function FN(e,t){let i=document.createElement(\"video\"),n=document.createElement(\"canvas\");i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"muted\",\"\"),i.muted=!0,i.setAttribute(\"autoplay\",\"\"),i.autoplay=!0,i.setAttribute(\"playsinline\",\"\"),n.width=FI(t.width),n.height=FI(t.height);const r=FI(t.framerate||15);document.body.append(i),document.body.append(n);let o=e._mediaStreamTrack;i.srcObject=new MediaStream([o]),i.play();const s=n.getContext(\"2d\");if(!s)throw new SE(fE.UNEXPECTED_ERROR,\"can not get canvas context\");const a=JS(),c=n.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0],d=Jg(()=>(()=>{if(i.paused&&i.play(),i.videoHeight>2&&i.videoWidth>2){const e=i.videoWidth,t=i.videoHeight/e,r=n.width*t;Math.abs(r-n.height)>=2&&(OE.debug(\"adjust low stream resolution\",\"\".concat(n.width,\"x\").concat(n.height,\" -> \").concat(n.width,\"x\").concat(r)),n.height=r)}s.drawImage(i,0,0,n.width,n.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,i.srcObject=new MediaStream([o]))})(),r),u=c.stop;return c.stop=()=>{u.call(c),d(),i&&(i.remove(),i=null),n&&(n.width=0,n.remove(),n=null),OE.debug(\"clean low stream renderer\")},c}var BN,GN,WN,HN,KN,YN,qN,JN,XN,zN,QN,ZN;function $N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function eb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$N(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class tb extends Lg{getUserId(){return this._userId}constructor(e,t,i,n){super(e,\"track-\".concat(e.kind,\"-\").concat(t,\"-\").concat(n.clientId,\"_\").concat(ZI(5,\"\"))),_p(this,\"_userId\",void 0),_p(this,\"_uintId\",void 0),_p(this,\"_isDestroyed\",!1),_p(this,\"store\",void 0),_p(this,\"processor\",void 0),_p(this,\"processorContext\",void 0),this._userId=t,this._uintId=i,this.store=n}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,OE.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let ib=(BN=Dg({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),GN=Dg({argsMap:e=>[e.getTrackId()]}),WN=Dg({argsMap:(e,t)=>[e.getTrackId(),t.name]}),HN=Dg({argsMap:e=>[e.getTrackId()]}),ag((KN=class extends tb{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==sf.PLAYING)}get __className__(){return\"RemoteVideoTrack\"}constructor(e,t,i,n){super(e,t,i,n),_p(this,\"_videoVisibleTimer\",null),_p(this,\"_previousVideoVisibleStatus\",void 0),_p(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),_p(this,\"trackMediaType\",\"video\"),_p(this,\"_videoWidth\",void 0),_p(this,\"_videoHeight\",void 0),_p(this,\"_player\",void 0),_p(this,\"processorDestination\",void 0),_p(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new AR(this.getTrackId(),\"remote\"),this.processorDestination=new yR(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){hC(()=>{OE.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\")},\"remoteVideoTrackGetStatsWarning\");return oC(this,uS.GET_STATS)||eb({},Wf)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(OE.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}OE.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=eb(eb({fit:\"cover\"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new Pv(i):this._player=new kv(i),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(fS.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(fS.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}},GE(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,OE.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){tC(this._originMediaStreamTrack).then(e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t}).catch(eC)}_updatePlayerSource(){OE.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=gy.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new SE(fE.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new SE(fE.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(kS.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kS.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}).prototype,\"play\",[BN],Object.getOwnPropertyDescriptor(KN.prototype,\"play\"),KN.prototype),ag(KN.prototype,\"stop\",[GN],Object.getOwnPropertyDescriptor(KN.prototype,\"stop\"),KN.prototype),ag(KN.prototype,\"pipe\",[WN],Object.getOwnPropertyDescriptor(KN.prototype,\"pipe\"),KN.prototype),ag(KN.prototype,\"unpipe\",[HN],Object.getOwnPropertyDescriptor(KN.prototype,\"unpipe\"),KN.prototype),KN),nb=(YN=Dg({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),qN=Dg({argsMap:(e,t)=>[e.getTrackId(),t]}),JN=Dg({argsMap:e=>[e.getTrackId()]}),XN=Dg({argsMap:e=>[e.getTrackId()]}),zN=Dg({argsMap:(e,t)=>[e.getTrackId(),t.name]}),QN=Dg({argsMap:e=>[e.getTrackId()]}),ag((ZN=class extends tb{get isPlaying(){return this._useAudioElement?pR.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"RemoteAudioTrack\"}constructor(e,t,i,n){super(e,t,i,n),_p(this,\"trackMediaType\",\"audio\"),_p(this,\"_source\",void 0),_p(this,\"_useAudioElement\",!0),_p(this,\"_volume\",100),_p(this,\"processorContext\",void 0),_p(this,\"processorDestination\",void 0),_p(this,\"_played\",!1),_p(this,\"_bypassWebAudio\",!1),GE(\"DISABLE_WEBAUDIO\")?(this._source=new bR,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new Qg(e,!0),GE(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(Lf.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(fS.FIRST_FRAME_DECODED)}),this.processorContext=new NR(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new OR(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(Lf.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(Lf.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(Lf.ON_AUDIO_BUFFER),this._source.on(Lf.ON_AUDIO_BUFFER,t=>e(t))}setVolume(e){this._volume=e,this._useAudioElement?pR.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement)throw new SE(fE.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await pR.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){hC(()=>{OE.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\")},\"remoteAudioTrackGetStatsWarning\");return oC(this,uS.GET_STATS)||eb({},Bf)}play(){OE.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(OE.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),pR.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){OE.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?pR.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];OE.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&pR.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new SE(fE.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===e)return e;if(e._source)throw new SE(fE.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new SE(fE.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(kS.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(kS.ON_NODE,e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kS.ON_TRACK),this.processorDestination.removeAllListeners(kS.ON_NODE)}}).prototype,\"setVolume\",[YN],Object.getOwnPropertyDescriptor(ZN.prototype,\"setVolume\"),ZN.prototype),ag(ZN.prototype,\"setPlaybackDevice\",[qN],Object.getOwnPropertyDescriptor(ZN.prototype,\"setPlaybackDevice\"),ZN.prototype),ag(ZN.prototype,\"play\",[JN],Object.getOwnPropertyDescriptor(ZN.prototype,\"play\"),ZN.prototype),ag(ZN.prototype,\"stop\",[XN],Object.getOwnPropertyDescriptor(ZN.prototype,\"stop\"),ZN.prototype),ag(ZN.prototype,\"pipe\",[zN],Object.getOwnPropertyDescriptor(ZN.prototype,\"pipe\"),ZN.prototype),ag(ZN.prototype,\"unpipe\",[QN],Object.getOwnPropertyDescriptor(ZN.prototype,\"unpipe\"),ZN.prototype),ZN);function rb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ob(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class sb extends EE{constructor(){super(),_p(this,\"uplinkStatsUploadInterval\",void 0),_p(this,\"uplinkRelatedStatsUploadInterval\",void 0),_p(this,\"uplinkDenoiserStatsUploadInterval\",void 0),_p(this,\"transportStatsUploadInterval\",void 0),_p(this,\"uplinkExtensionStatsUploadInterval\",void 0),_p(this,\"downlinkExtensionStatsUploadInterval\",void 0),_p(this,\"extensionUsageStatsUploadInterval\",void 0),_p(this,\"downlinkStatsUploadInterval\",void 0),_p(this,\"downlinkRelatedStatsUploadInterval\",void 0),_p(this,\"lastStats\",void 0),_p(this,\"uploadUnplinkStarted\",!1),_p(this,\"uploadDownlinkStarted\",!1),_p(this,\"uploadTransportStarted\",!1),_p(this,\"uploadExtensionUsageStarted\",!1),_p(this,\"requestStats\",void 0),_p(this,\"requestLocalMedia\",void 0),_p(this,\"requestRemoteMedia\",void 0),_p(this,\"requestAllTracks\",void 0),_p(this,\"requestVideoIsReady\",void 0),_p(this,\"requestUpload\",void 0)}startUploadTransportStats(){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadTransportStats(t)},1e3))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval);const e=new Map;this.extensionUsageStatsUploadInterval=window.setInterval(async()=>{var t,i,n;const r=Date.now(),o={connectionInterval:GE(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:r};let s=[];const a=(null===(t=this.requestAllTracks)||void 0===t?void 0:t.call(this))||[];for(const e of a)!e.muted&&e.enabled&&(s=s.concat(await e.getProcessorUsage()));const c=(null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[];for(const[e,t]of c)t.has(AS.VIDEO)&&e.videoTrack&&(s=s.concat(await e.videoTrack.getProcessorUsage())),t.has(AS.AUDIO)&&e.audioTrack&&(s=s.concat(await e.audioTrack.getProcessorUsage()));if(0===s.length)return;o.details=function(e,t){const i={};for(const{id:s,value:a,level:c,direction:d}of e){var n;const e=null!==(n=t.get(s))&&void 0!==n?n:0,u=2===a?e+GE(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:e;var r,o;t.set(s,u),i[s]?(2===a&&(i[s].value=a),c>i[s].level&&(i[s].level=c),\"remote\"===d&&(i[s].remoteUidCount+=1),i[s].totalTs=null!==(r=t.get(s))&&void 0!==r?r:0):i[s]={value:a,level:c,remoteUidCount:\"local\"===d?0:1,totalTs:null!==(o=t.get(s))&&void 0!==o?o:0}}return Object.keys(i).map(e=>{const{level:t,value:n,totalTs:r}=i[e];return{id:e,level:t,value:n,totalTs:r}})}(s,e);const d=Date.now(),u=d>r?d:r+1;null===(n=this.requestUpload)||void 0===n||n.call(this,wf.EXTENSION_USAGE_STATS,{usageStats:o,sendTs:u})},GE(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t),this.lastStats=t)},3e3),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t},1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)},2e3),this.uplinkExtensionStatsUploadInterval&&window.clearInterval(this.uplinkExtensionStatsUploadInterval),this.uplinkExtensionStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)},2e3))}uploadTransportStats(e){dC(()=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,wf.TRANSPORT_STATS,function(e){const t={connectionType:100,googRtt:e.rtt};if(\"relay\"===e.selectedCandidatePair.localCandidate.candidateType){const i=e.selectedCandidatePair.localCandidate.relayProtocol;\"udp\"===i&&(t.connectionType=101),\"tcp\"===i&&(t.connectionType=103),\"tls\"===i&&(t.connectionType=104)}return t}(e))})}uploadUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).forEach(t=>{let[i,{track:n,ssrcs:r}]=t;switch(i){case bS.LocalVideoLowTrack:case bS.LocalVideoTrack:{const t=function(e,t,i){var n;const r=t.videoSend.find(t=>t.ssrc===e);if(!r)return null;const o={id:ZI(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:r.ssrc.toString()};switch(o.A_vstd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",r.sentFrame&&(o.A_fhs=r.sentFrame.height.toString(),o.A_frs=r.sentFrame.frameRate.toString(),o.A_fws=r.sentFrame.width.toString()),r.adaptionChangeReason){case\"none\":o.A_ac=\"0\";break;case\"cpu\":o.A_ac=\"1\";break;case\"bandwidth\":o.A_ac=\"2\";break;case\"other\":o.A_ac=\"3\"}return o.A_lvps=af[i._player?i._player.videoElementStatus:\"uninit\"].toString(),o.A_nr=null===(n=r.nacksCount)||void 0===n?void 0:n.toString(),r.avgEncodeMs&&(o.A_aem=r.avgEncodeMs.toFixed(0).toString()),o}(r[0].ssrcId,e,n),o=i===bS.LocalVideoTrack?function(e,t,i){var n,r,o,s,a,c,d,u;const l=t.videoSend.find(t=>t.ssrc===e);if(!l)return null;const h={id:ZI(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:l.ssrc.toString()},p=null!==(n=null!==(r=null===(o=l.inputFrame)||void 0===o?void 0:o.height)&&void 0!==r?r:null==i?void 0:i._videoHeight)&&void 0!==n?n:0,_=null!==(s=null!==(a=null===(c=l.inputFrame)||void 0===c?void 0:c.width)&&void 0!==a?a:null==i?void 0:i._videoWidth)&&void 0!==s?s:0,E=null!==(d=null===(u=l.inputFrame)||void 0===u?void 0:u.frameRate)&&void 0!==d?d:0;return p&&(h.A_fhi=p+\"\"),_&&(h.A_fwi=_+\"\"),E&&(h.A_fri=E+\"\"),h}(r[0].ssrcId,e,n):null;t&&dC(()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,wf.PUBLISH_STATS,{stream_type:i===bS.LocalVideoLowTrack?\"low\":\"high\",stats:ob(ob({},t),o)})});const s=function(e){const t={id:\"bweforvideo\",timestamp:new Date(e.timestamp).toISOString(),type:\"VideoBwe\"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);s&&setTimeout(()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,wf.PUBLISH_STATS,{stream_type:i===bS.LocalVideoLowTrack?\"low\":\"high\",stats:s})},1e3);break}case bS.LocalAudioTrack:{const t=function(e,t,i){const n=t.audioSend.find(t=>t.ssrc===e);if(!n)return null;const r={id:ZI(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:n.ssrc.toString()};return r.A_astd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",n.inputLevel?r.A_ail=Math.round(100*n.inputLevel).toString():r.A_ail=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),r.A_apil=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),n.aecReturnLoss&&(r.A_ecrl=Math.round(n.aecReturnLoss).toString()),n.aecReturnLossEnhancement&&(r.A_ecrle=Math.round(n.aecReturnLossEnhancement).toString()),r}(r[0].ssrcId,e,n);t&&dC(()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,wf.PUBLISH_STATS,{stream_type:\"high\",stats:t})});break}}})}uploadRelatedUplinkStats(e,t){var i;((null===(i=this.requestLocalMedia)||void 0===i?void 0:i.call(this))||[]).filter(e=>{let[t]=e;return t===bS.LocalVideoLowTrack||t===bS.LocalVideoTrack}).forEach(t=>{let[i,{ssrcs:n}]=t;const r=function(e,t){const i=t.videoSend.find(t=>t.ssrc===e);return i?{mediaType:\"video\",isVideoMute:!1,frameRateInput:i.inputFrame&&i.inputFrame.frameRate.toString(),frameRateSent:i.sentFrame&&i.sentFrame.frameRate.toString(),googRtt:i.rttMs.toString(),qpSumPerFrame:Math.floor(i.qpSumPerFrame).toString()}:null}(n[0].ssrcId,e);r&&dC(()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,wf.PUBLISH_RELATED_STATS,{stream_type:i===bS.LocalVideoLowTrack?\"low\":\"high\",stats:r})})})}uploadDenoiserStats(e){for(let r=0;r<e.length;r++){const o=e[r];if(o instanceof AI){var t,i,n;const e=null===(t=(i=o._external).getDenoiserStats)||void 0===t?void 0:t.call(i);return void(e&&(null===(n=this.requestUpload)||void 0===n||n.call(this,wf.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++){e[t].getProcessorStats().forEach(e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)})}}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){if(this.uploadDownlinkStarted)return;let e;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=!1;this.downlinkStatsUploadInterval=window.setInterval(()=>{var i;const n=null===(i=this.requestStats)||void 0===i?void 0:i.call(this);n&&(this.uploadDownlinkStats(n,t,e),e=n),t=!t},3e3),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)},1e3),this.downlinkExtensionStatsUploadInterval&&window.clearInterval(this.downlinkExtensionStatsUploadInterval),this.downlinkExtensionStatsUploadInterval=window.setInterval(()=>{var e;const t=null===(e=this.requestRemoteMedia)||void 0===e?void 0:e.call(this);t&&this.uploadDownlinkExtensionStats(t)},2e3)}uploadDownlinkStats(e,t,i){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach(n=>{let[r,o]=n;if(o.has(AS.VIDEO)&&r.videoTrack){const n=r.videoTrack?function(e,t,i,n,r){const o=t.videoRecv.find(t=>t.ssrc===e);if(!o)return null;const s={id:ZI(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:o.ssrc.toString()};var a,c;if(s.bytesReceived=o.bytes.toString(),s.packetsLost=o.packetsLost.toString(),s.packetsReceived=o.packets.toString(),o.framesRateFirefox&&(s.A_frr=o.framesRateFirefox.toString()),o.receivedFrame?(s.A_frr=o.receivedFrame.frameRate.toString(),s.A_fhr=o.receivedFrame.height.toString(),s.A_fwr=o.receivedFrame.width.toString()):(s.A_fhr=null===(a=n._videoHeight)||void 0===a?void 0:a.toString(),s.A_fwr=null===(c=n._videoWidth)||void 0===c?void 0:c.toString()),s.A_frd=o.decodeFrameRate.toString(),o.outputFrame&&(s.A_fro=o.outputFrame.frameRate.toString()),void 0!==o.jitterBufferMs&&(s.A_jbm=Math.floor(o.jitterBufferMs).toString()),void 0!==o.currentDelayMs&&(s.A_cdm=Math.floor(o.currentDelayMs).toString()),s.A_fs=o.firsCount.toString(),s.A_ns=o.nacksCount.toString(),s.A_ps=o.plisCount.toString(),n&&(s.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),n._player&&n._player.freezeTimeCounterList.length>0&&(s.A_vrft=Math.round(n._player.freezeTimeCounterList.splice(0,1)[0]).toString()),r&&n._player&&\"visible\"===MI.visibility){const e=Math.min(6e3,n._player.renderFreezeAccTime);s.A_vrrft=Math.round(e).toString(),n._player.renderFreezeAccTime=Math.max(0,n._player.renderFreezeAccTime-e)}if(s.A_rvps=af[n._player?n._player.videoElementStatus:\"uninit\"].toString(),i){const t=i.videoRecv.find(t=>t.ssrc===e);if(t&&void 0!==o.totalInterFrameDelay&&void 0!==o.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=o.totalInterFrameDelay-t.totalInterFrameDelay,i=o.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,n=o.framesDecodeCount-t.framesDecodeCount,r=e/n*1e3,a=Math.round(1e3*Math.sqrt((i-Math.pow(e,2)/n)/n));!isNaN(a)&&r+a>Math.max(3*r,r+150)&&(s.A_ifdsd=a.toString())}}return s}(r._videoSSRC,e,i,r.videoTrack,t):void 0;n&&dC(()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,wf.SUBSCRIBE_STATS,{stream_id:r.uid,stats:n})})}if(o.has(AS.AUDIO)&&r.audioTrack){const t=r.audioTrack?function(e,t,i,n){const r=t.audioRecv.find(t=>t.ssrc===e);if(!r)return null;const o={id:ZI(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:r.ssrc.toString()};if(o.bytesReceived=r.bytes.toString(),o.packetsLost=r.packetsLost.toString(),o.packetsReceived=r.packets.toString(),r.outputLevel?o.A_aol=Math.round(100*r.outputLevel).toString():o.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),o.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(o.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),o.A_jr=r.jitterMs.toString(),o.A_jbm=Math.floor(r.jitterBufferMs).toString(),o.A_cdm=Math.floor(r.jitterBufferMs).toString(),o.A_raps=af[pR.getPlayerState(n.getTrackId())].toString(),i){const t=i.audioRecv.find(t=>t.ssrc===e);if(t){const e=r.concealedSamples-t.concealedSamples;e>0&&(o.A_cs=Math.round(e).toString())}}return o}(r._audioSSRC,e,i,r.audioTrack):void 0;t&&dC(()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,wf.SUBSCRIBE_STATS,{stream_id:r.uid,stats:t})})}})}uploadRelatedDownlinkStats(e,t){var i;((null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[]).forEach(i=>{let[n,r]=i;if(r.has(AS.VIDEO)&&n.videoTrack){var o;const i=!0===(n._videoSSRC&&(null===(o=this.requestVideoIsReady)||void 0===o?void 0:o.call(this,n._videoSSRC))||!1),r=function(e,t,i,n,r,o){const s=i.videoRecv.find(t=>t.ssrc===e),a=r?r.videoRecv.find(t=>t.ssrc===e):void 0;if(!s)return null;const c=kI.isRemoteVideoFreeze(o,s,a)&&t,d={mediaType:\"video\",isVideoMute:!1,peerId:n,frameRateReceived:s.receivedFrame&&s.receivedFrame.frameRate.toString(),frameRateDecoded:s.decodedFrame&&s.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:s.bytes.toString(),packetsReceived:s.packets.toString(),packetsLost:s.packetsLost.toString(),qpSumPerFrame:Math.floor(s.qpSumPerFrame).toString()};return s.framesRateFirefox&&(d.frameRateDecoded=s.framesRateFirefox.toString(),d.frameRateReceived=s.framesRateFirefox.toString()),d}(n._videoSSRC,i,e,n.uid,t,n.videoTrack);r&&dC(()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,wf.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:r})})}if(r.has(AS.AUDIO)&&n.audioTrack){const t=function(e,t,i,n){const r=t.audioRecv.find(t=>t.ssrc===e);if(!r)return null;const o=kI.isRemoteAudioFreeze(n);return{mediaType:\"audio\",isAudioMute:!1,peerId:i,googJitterReceived:r.jitterMs.toString(),isFreeze:o,bytesReceived:r.bytes.toString(),packetsReceived:r.packets.toString(),packetsLost:r.packetsLost.toString(),frameReceived:r.receivedFrames.toString(),frameDropped:r.droppedFrames.toString()}}(n._audioSSRC,e,n.uid,n.audioTrack);t&&dC(()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,wf.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:t})})}})}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval),this.extensionUsageStatsUploadInterval=void 0)}uploadDownlinkExtensionStats(e){e.forEach(e=>{let[t,i]=e;if(i.has(AS.VIDEO)&&t.videoTrack){t.videoTrack.getProcessorStats().forEach(e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)})}if(i.has(AS.AUDIO)&&t.audioTrack){t.audioTrack.getProcessorStats().forEach(e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)})}})}}function ab(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function cb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ab(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const db=\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0\\na=msid-semantic: WMS\\na=ice-lite\\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\\nc=IN IP4 127.0.0.1\\na=mid:0\\n\",ub=\"9\",lb=2e4,hb=4e4;class pb{get localCapabilities(){return uC(this._localCapabilities)}get rtpCapabilities(){return uC(this._rtpCapabilities)}get candidates(){return uC(this._candidates)}get iceParameters(){return uC(this._iceParameters)}get dtlsParameters(){return uC(this._dtlsParameters)}constructor(e){_p(this,\"sessionDesc\",void 0),_p(this,\"_localCapabilities\",void 0),_p(this,\"_rtpCapabilities\",void 0),_p(this,\"_candidates\",void 0),_p(this,\"_iceParameters\",void 0),_p(this,\"_dtlsParameters\",void 0),_p(this,\"setup\",void 0),_p(this,\"currentMidIndex\",void 0),_p(this,\"cname\",void 0),_p(this,\"firefoxSsrcMidMap\",new Map),e=uC(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:s,cname:a}=e,c=UO.exports.parse(db);this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=s,this.setup=o,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=o,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:hb,rtx:GE(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,$O(e),GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:lb}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}updateRemoteRTPCapabilities(e){const t=UO.exports.parse(db);this._rtpCapabilities=e;const i=this.rtpCapabilities.send;for(const e of t.mediaDescriptions){if(e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=i.videoCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=i.videoCodecs,e.attributes.extmaps=i.videoExtensions,GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:hb,rtx:GE(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=i.audioCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=i.audioCodecs,e.attributes.extmaps=i.audioExtensions,GE(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=WO([{ssrcId:lb}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}preloadRemoteMedia(e){this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+lb,s=2*o+hb,{ssrcs:a,ssrcGroups:c}=WO([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:u}=WO([{ssrcId:s,rtx:GE(\"USE_SUB_RTX\")?s+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:ub,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*o-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:ub,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return UO.exports.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:o}=WO(t,this.cname,GE(\"SYNC_GROUP\")?i:void 0),s=this.findPreloadMediaDesc(r);if(s){if(Kh()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,n),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||Hh()||Yh()||zh()||0===t&&GE(\"USE_SUB_RTX\")?(i=this.createOrRecycleSendMedia(e,r,o,\"sendonly\",n),this.updateBundleMids()):(i=uC(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Kh()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map(e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)}),i=[];let n=!1;return t.forEach(e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)}),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach(e=>{\"0\"===e.attributes.mid||Kh()||Hh()||Yh()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")}),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>e.includes(t.attributes.mid||\"\"));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach(e=>{e.attributes.direction=\"inactive\"})}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>e.includes(t.attributes.mid||\"\"));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach(e=>{e.attributes.direction=\"recvonly\"})}receive(e,t,i,n){e.forEach((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])}),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach(e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"}),this.updateBundleMids()}updateCandidates(e){e===OS.TCP?this._candidates.forEach(e=>{-1===this._candidates.findIndex(t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port)&&this._candidates.push(cb(cb({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))}):this._candidates=this._candidates.filter(e=>\"tcp\"!==e.transport);for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=uC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex(i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Kh()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n})}createOrRecycleRecvMedia(e,t,i,n,r,o){const s=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=this.localCapabilities.send;let d=[];if(s===AS.VIDEO){var u,l;if(GE(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(d=a.videoCodecs.filter(e=>{var t,i;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(n)&&(null==e||null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])===GE(\"H264_PROFILE_LEVEL_ID\")})),!d||0===(null===(u=d)||void 0===u?void 0:u.length)){const e=c.videoCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(n)});0!==e.length&&(d=a.videoCodecs.filter(t=>e.some(e=>e.payloadType===t.payloadType)))}if(GE(\"USE_PUB_RTX\")){const e=d.map(e=>e.payloadType.toString()),t=a.videoCodecs.filter(t=>{var i,n;return\"rtx\"===(null===(i=t.rtpMap)||void 0===i?void 0:i.encodingName)&&e.includes((null===(n=t.fmtp)||void 0===n?void 0:n.parameters.apt)||\"\")});d=[...d,...t]}if(0===d.length)OE.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(null===(l=a.videoCodecs[0].rtpMap)||void 0===l?void 0:l.encodingName)),d=a.videoCodecs}else d=a.audioCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(r)}),0===d.length&&(OE.warning(\"codec \".concat(r,\" not included in rtpCapabilities, fallback to opus\")),d=a.audioCodecs.filter(e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\").includes(\"opus\")}));const h=s===AS.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const p=\"\".concat(this.currentMidIndex);let _={media:{mediaType:s,port:ub,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:h,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(p)}};_=this.mungRecvMediaDsec(_,e,o);const E=this.findFirstClosedMedia(s);if(E){const e=this.sessionDesc.mediaDescriptions.indexOf(E);this.sessionDesc.mediaDescriptions[e]=_}else this.sessionDesc.mediaDescriptions.push(_);return _}createOrRecycleSendMedia(e,t,i,n,r){const o=this.rtpCapabilities.send,s=e===AS.VIDEO?o.videoCodecs:o.audioCodecs,a=e===AS.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:ub,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:s.map(e=>e.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>\"0\"!==e.media.port).map(e=>e.attributes.mid)}mungRecvMediaDsec(e,t,i){const n=uC(e);return KO(n),HO(n,t),YO(n,t),qO(n),JO(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=uC(e);return JO(i,t,this.localCapabilities.recv),$O(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(t=>Kh()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port)}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(t=>{var i,n;return(null===(i=t.attributes)||void 0===i||null===(n=i.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId})}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e))||void 0===t?void 0:t.attributes.ssrcs}}var _b;function Eb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Eb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let fb=(ag((_b=class e extends YS{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t,i){super(e,t),_p(this,\"store\",void 0),_p(this,\"peerConnection\",void 0),_p(this,\"remoteSDP\",void 0),_p(this,\"initialOffer\",void 0),_p(this,\"transportEventReceiver\",void 0),_p(this,\"statsFilter\",void 0),_p(this,\"localCapabilities\",void 0),_p(this,\"localCandidateCount\",0),_p(this,\"allCandidatesReceived\",!1),_p(this,\"establishPromise\",void 0),_p(this,\"mutex\",new Ug(\"NVExtentionsConnection-mutex\")),_p(this,\"rtcMedia\",void 0),this.store=t,this.peerConnection=i,this.statsFilter=vN(this.peerConnection,GE(\"STATS_UPDATE_INTERVAL\"),void 0,Kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(e){try{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=FO(e.sdp),i=await zO(!GE(\"USE_PUB_RTX\")&&!GE(\"USE_SUB_RTX\"),GE(\"FILTER_VIDEO_FEC\"),GE(\"FILTER_AUDIO_FEC\"));return this.localCapabilities=i,this.initialOffer=e,mb(mb({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new SE(fE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,o){try{if(!this.initialOffer)throw new Error(\"Cannot establish NVConnection without initial offer.\");this.remoteSDP=new pb({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:ZO(this.localCapabilities),cname:o});const s=this.remoteSDP.toString(),a=UO.exports.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find(e=>\"audio\"===e.media.mediaType);c&&$O(c);const d=UO.exports.print(a),u=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==u||u(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NV.connect failed; \".concat(e.toString()))}}async updateRemoteConnect(e){var t,i,n;null===(t=this.remoteSDP)||void 0===t||t.updateRemoteRTPCapabilities(e),null===(i=this.remoteSDP)||void 0===i||i.preloadRemoteMedia(2);const r=null===(n=this.remoteSDP)||void 0===n?void 0:n.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:r});const o=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(o),OE.debug(\"[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.\")}send(e,t,i){var n=this;return DO((function*(){const r=yield PO(n.mutex.lock(\"From NVExtentionsConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.send before remote SDP created\");const o=[];e.forEach(e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});o.push(t)}),Kh()&&!0===GE(\"SIMULCAST\")&&(yield PO(n.applySimulcastForFirefox(o,e)));const s=yield PO(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(s.sdp,e,a),d=UO.exports.parse(c),u=a.map(e=>{const t=d.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return BO(t,GE(\"USE_PUB_RTX\"))});let l;try{l=yield u}catch(r){l=[],n.remoteSDP.receive(e,t,i,l);const o=n.remoteSDP.toString();throw yield PO(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield PO(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})),yield PO(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,l);const h=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield PO(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield PO(n.applySimulcastEncodings(o,e)),yield PO(n.applySendEncodings(o,e)),null==p||p(h),yield PO(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:h})),o.map((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i,transceiver:e}})}catch(e){throw e instanceof SE?e:new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From NVExtentionsConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter(t=>-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.\");t.map(e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)});const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),OE.debug(\"[NVExtentionsConnection] receive \".concat(e,\" by exchanging SDP.\"))}else OE.debug(\"[NVExtentionsConnection] receive \".concat(e,\" no need to exchange SDP.\"));const s=this.peerConnection.getTransceivers().find(e=>e.mid===r);if(!s)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,id:r}}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),OE.debug(\"[NVExtentionsConnection] batchReceive by exchanging SDP.\")}else OE.debug(\"[NVExtentionsConnection] batchReceive no need to exchange SDP.\");return t.map(e=>{const t=this.peerConnection.getTransceivers().find(t=>t.mid===e);if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e}})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map(e=>{e.direction=\"inactive\"});const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map(async(e,t)=>{e.direction=\"sendonly\"});const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return DO((function*(){const i=yield PO(t.mutex.lock(\"From NVExtentionsConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(JS().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===OS.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(OE.debug(\"restartICE change iceTransportPolicy from [\".concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===OS.RELAY)return;e!==OS.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield PO(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=FO(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const s=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");yield PO(t.peerConnection.setLocalDescription(n)),null==a||a(s),yield PO(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:s}))}catch(e){OE.warning(\"restart ICE failed, abort operation\",e)}finally{i()}}))()}close(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new SE(fE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter(t=>t.mid===e);1===i.length&&(this.isVP8Simulcast(t)?Kh()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find(e=>e.mid===t);i&&await i.sender.replaceTrack(e._mediaStreamTrack)}getP2PConnectionParams(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw new Error;return mb(mb({},FO(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,OE.debug(\"[pc-\".concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,OE.debug(\"[pc-\".concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))},GE(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(Uf(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),GE(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),GE(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")}))),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(VI(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!GE(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))}),t}async applySendEncodings(e,t){try{if(!JS().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const d=e[c],u=t[c];if(u&&u instanceof Cy){var i,n;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case\"motion\":e.degradationPreference=\"maintain-framerate\";break;case\"detail\":e.degradationPreference=\"maintain-resolution\";break;default:e.degradationPreference=\"balanced\"}var r,o,s,a;if(null!==(i=u._encoderConfig)&&void 0!==i&&i.bitrateMax)t.maxBitrate=1e3*(null===(r=u._encoderConfig)||void 0===r?void 0:r.bitrateMax);if(u._hints.includes(lS.LOW_STREAM))null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=FI(u._encoderConfig.frameRate)),null!==(s=u._encoderConfig)&&void 0!==s&&s.scaleResolutionDownBy&&(null===(a=u._encoderConfig)||void 0===a?void 0:a.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy);if(GE(\"DSCP_TYPE\")&&rp()){const e=GE(\"DSCP_TYPE\");[\"very-low\",\"low\",\"medium\",\"high\"].includes(e)&&(t.networkPriority=e)}const c=d.sender.getParameters(),l=null===(n=c.encodings)||void 0===n?void 0:n[0];Kh()&&!l&&(e.encodings=[t]),l&&Object.assign(l,t),Object.assign(c,e),await d.sender.setParameters(c)}}}catch(e){OE.debug(\"Apply RTPSendEncodings failed.\")}}mungSendOfferSDP(e,t,i){const n=UO.exports.parse(e);return t.forEach((e,t)=>{const r=i[t],o=n.mediaDescriptions.find(e=>e.attributes.mid===r);o&&(HO(o,e),XO(o,e,this.store.codec))}),UO.exports.print(n)}mungReceiveAnswerSDP(e,t,i){const n=UO.exports.parse(e),r=n.mediaDescriptions.find(e=>e.attributes.mid===t);return r&&i===AS.AUDIO&&\"audio\"===r.media.mediaType&&$O(r),UO.exports.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var i,n,r,o;const a=e[s],c=t[s];if(c instanceof Cy&&!c._hints.includes(lS.LOW_STREAM)&&null!==(i=c._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=c._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=c._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=c._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=a.sender.getParameters();await a.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Kh()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Cy&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r;return!!(e instanceof Cy&&GE(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!e._hints.includes(lS.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(n=e._scalabiltyMode)&&void 0!==n&&n.numSpatialLayers&&(null===(r=e._scalabiltyMode)||void 0===r?void 0:r.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(GE(\"SDP_LOGGING\"))return OE.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during NVExtentionsConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(JS().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}}).prototype,\"connect\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"connect\"),_b.prototype),ag(_b.prototype,\"updateRemoteConnect\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"updateRemoteConnect\"),_b.prototype),ag(_b.prototype,\"receive\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"receive\"),_b.prototype),ag(_b.prototype,\"batchReceive\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"batchReceive\"),_b.prototype),ag(_b.prototype,\"stopReceiving\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"stopReceiving\"),_b.prototype),ag(_b.prototype,\"muteRemote\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"muteRemote\"),_b.prototype),ag(_b.prototype,\"unmuteRemote\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"unmuteRemote\"),_b.prototype),ag(_b.prototype,\"muteLocal\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"muteLocal\"),_b.prototype),ag(_b.prototype,\"unmuteLocal\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"unmuteLocal\"),_b.prototype),ag(_b.prototype,\"close\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"close\"),_b.prototype),ag(_b.prototype,\"updateEncoderConfig\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"updateEncoderConfig\"),_b.prototype),ag(_b.prototype,\"updateSendParameters\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"updateSendParameters\"),_b.prototype),ag(_b.prototype,\"replaceTrack\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"replaceTrack\"),_b.prototype),ag(_b.prototype,\"getRemoteSSRC\",[Sb],Object.getOwnPropertyDescriptor(_b.prototype,\"getRemoteSSRC\"),_b.prototype),_b);function Sb(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From NVExtentionsConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}var Tb;function gb(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=MO,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new Rb(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function Rb(e){function t(e){if(Object(e)!==e)return Sl.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return Sl.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Rb=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?Sl.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?Sl.reject(e):t(i.apply(this.s,arguments))}},new Rb(e)}let Ib=(ag((Tb=class e extends YS{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(t,i){super(t,i),_p(this,\"store\",void 0),_p(this,\"peerConnection\",void 0),_p(this,\"cname\",void 0),_p(this,\"mutex\",new Ug(\"DataChannelConnection-mutex\")),_p(this,\"dataChannel\",void 0),_p(this,\"_p2pConnection\",void 0),_p(this,\"establishPromise\",void 0),_p(this,\"_nvMedia\",void 0),this.store=i,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel(\"agora-signal\",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType=\"arraybuffer\",this._p2pConnection=new fb(t,i,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}async establish(){var e;const t=null===(e=this._nvMedia)||void 0===e?void 0:e.getLocalRtpCapabilities();return await this._p2pConnection.establish(t)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(e,t,i,n,r,o){return this.cname=o,await this._p2pConnection.connect(e,t,i,n,r,o),await new Sl((e,t)=>{const n=setTimeout(()=>{this.closeSignal(),t(new SE(fE.DATACHANNEL_CONNECTION_TIMEOUT,\"Datachannel connection timed out, candidates: \".concat(JSON.stringify(i))))},2e3);this.dataChannel.onopen=()=>{if(\"open\"===this.dataChannel.readyState)return clearTimeout(n),void e()},this.dataChannel.onerror=e=>{this.closeSignal(),t(e)}}),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}send(e,t,i){var n=this;return DO((function*(){const r=yield PO(n.mutex.lock(\"From DataChannelConnection.send\"));try{return yield*kO(gb(n._p2pConnection.send(e,t,i)),PO)}finally{r()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async receive(e,t,i,n){return this._nvMedia?(OE.debug(\"[DataChannelConnection] receive \".concat(e,\" by DataChannel.\")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(OE.debug(\"[DataChannelConnection] receive \".concat(e,\" by WebRTC.\")),await this._p2pConnection.receive(e,t,i,n))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(e){var t=this;return DO((function*(){return yield*kO(gb(t._p2pConnection.restartICE(e)),PO)}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,i,n){if(GE(\"SDP_LOGGING\"))return OE.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during DataChannelConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(Uf(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),GE(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),GE(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")}))),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(VI(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!GE(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))}),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,i)=>{var n;return null===(n=this.onFirstVideoDecoded)||void 0===n?void 0:n.call(this,e,t,i)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedLocalCandidateChanged)||void 0===i?void 0:i.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i?void 0:i.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}setConfiguration(e){this._p2pConnection.setConfiguration(e)}}).prototype,\"connect\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"connect\"),Tb.prototype),ag(Tb.prototype,\"receive\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"receive\"),Tb.prototype),ag(Tb.prototype,\"stopReceiving\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"stopReceiving\"),Tb.prototype),ag(Tb.prototype,\"muteRemote\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"muteRemote\"),Tb.prototype),ag(Tb.prototype,\"unmuteRemote\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"unmuteRemote\"),Tb.prototype),ag(Tb.prototype,\"muteLocal\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"muteLocal\"),Tb.prototype),ag(Tb.prototype,\"unmuteLocal\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"unmuteLocal\"),Tb.prototype),ag(Tb.prototype,\"close\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"close\"),Tb.prototype),ag(Tb.prototype,\"updateEncoderConfig\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"updateEncoderConfig\"),Tb.prototype),ag(Tb.prototype,\"updateSendParameters\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"updateSendParameters\"),Tb.prototype),ag(Tb.prototype,\"replaceTrack\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"replaceTrack\"),Tb.prototype),ag(Tb.prototype,\"getRemoteSSRC\",[Cb],Object.getOwnPropertyDescriptor(Tb.prototype,\"getRemoteSSRC\"),Tb.prototype),Tb);function Cb(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From DataChannelConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}var vb;function yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ab(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ob(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=MO,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new Nb(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function Nb(e){function t(e){if(Object(e)!==e)return Sl.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return Sl.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Nb=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?Sl.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?Sl.reject(e):t(i.apply(this.s,arguments))}},new Nb(e)}let bb=(ag((vb=class extends EE{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(DS.StateChange,t,this._state)}constructor(e,t){super(),_p(this,\"store\",void 0),_p(this,\"statsUploader\",void 0),_p(this,\"connection\",void 0),_p(this,\"localTrackMap\",new Map),_p(this,\"remoteUserMap\",new Map),_p(this,\"pendingLocalTracks\",[]),_p(this,\"pendingRemoteTracks\",[]),_p(this,\"statsCollector\",void 0),_p(this,\"isPlanB\",!1),_p(this,\"shouldForwardP2PCreation\",void 0),_p(this,\"iceFailedCount\",0),_p(this,\"dtlsFailedCount\",0),_p(this,\"mutex\",new Ug(\"P2PChannel-mutex\")),_p(this,\"_state\",wS.Disconnected),_p(this,\"_pcStatsUploadType\",GE(\"NEW_ICE_RESTART\")?NS.FIRST_CONNECTION:NS.OLD_FIRST_CONNECTION),_p(this,\"_isInRestartIce\",!1),_p(this,\"_isStartRestartIce\",!1),_p(this,\"_restartStates\",[\"disconnected\",\"failed\"]),_p(this,\"_restartTimer\",void 0),_p(this,\"_isFirstConnected\",!0),_p(this,\"handleMuteLocalTrack\",async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==wS.Connected)return void i(new SE(fE.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const o=r.find(e=>\"videoLowTrack\"===e[0]);if(o){o[1].track._originMediaStreamTrack.stop()}await this.connection.muteLocal(r.map(e=>{let[,{id:t}]=e;return t}));const s=this.createMuteMessage(r);await rC(this,DS.RequestMuteLocal,s),t()}catch(e){i(e)}finally{n()}}),_p(this,\"handleUnmuteLocalTrack\",async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==wS.Connected)return void i(new SE(fE.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const o=r.find(e=>\"videoLowTrack\"===e[0]);if(o){const t=o[1];if(t.track._originMediaStreamTrack.stop(),JS().supportDualStreamEncoding){const i=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}else{const i=FN(e,sC(this,DS.RequestLowStreamParameter));t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}await new Sl((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)})}await this.connection.unmuteLocal(r.map(e=>{let[,{id:t}]=e;return t}));const s=this.createUnmuteMessage(r);await rC(this,DS.RequestUnmuteLocal,s),t()}catch(e){i(e)}finally{n()}}),_p(this,\"handleUpdateVideoEncoder\",async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(bS.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==wS.Connected)return void t();const{id:r,track:o}=i;await this.connection.updateSendParameters(r,o),await this.connection.updateEncoderConfig(r,o),this.emit(DS.UpdateVideoEncoder,o),t()}catch(e){i(e)}finally{n()}}),_p(this,\"handleSetOptimizationMode\",async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetOptimizationMode\");try{const i=this.localTrackMap.get(bS.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==wS.Connected)return;const{id:r,track:o}=i;await this.connection.updateSendParameters(r,o),t()}catch(e){i(e)}finally{n()}}),_p(this,\"handleReplaceTrack\",async(e,t,i,n)=>{let r;OE.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var o;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:i}]=t;return e===i});if(!this.connection||!i||this.state!==wS.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(i[0],t)}if(i[0]===bS.LocalVideoTrack&&JS().supportDualStreamEncoding){const t=this.localTrackMap.get(bS.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new Sl((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)})}}t()}catch(e){i(e)}finally{var s;null===(s=r)||void 0===s||s()}}),_p(this,\"handleGetLocalVideoStats\",e=>{e(this.statsCollector.getLocalVideoTrackStats())}),_p(this,\"handleGetLocalAudioStats\",e=>{e(this.statsCollector.getLocalAudioTrackStats())}),_p(this,\"handleGetRemoteVideoStats\",e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]),_p(this,\"handleGetRemoteAudioStats\",e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new sb,this.bindStatsUploaderEvents(),this.isPlanB=!JS().supportUnifiedPlan||GE(\"CHROME_FORCE_PLAN_B\")&&rp(),this.shouldForwardP2PCreation=GE(\"FORWARD_P2P_CREATION\")&&JS().supportPCSetConfiguration,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new Ib({},this.store):this.isPlanB?new NN({},this.store):new VN({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var i;this.state=wS.New;const n=this.shouldForwardP2PCreation&&\"closed\"===(null===(i=this.connection)||void 0===i?void 0:i.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new Ib(e,this.store):this.isPlanB?new NN(e,this.store):new VN(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new SE(fE.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=GE(\"NEW_ICE_RESTART\")?NS.FIRST_CONNECTION:NS.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e,t,i,n,r,o){if(!this.connection)throw new SE(fE.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.connection instanceof Ib?this.connection.updateRemoteConnect(n):(this.store.peerConnectionStart(),await this.connection.connect(e,t,i,n,r,o),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=wS.Connected)}async preConnect(e,t,i,n,r,o){if(!this.connection)throw new SE(fE.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.store.peerConnectionStart();const s=await this.connection.connect(e,t,i,n,r,o);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=wS.Connected,s}getEstablishParams(){if(this.connection instanceof Ib)return this.connection.getP2PConnectionParams();throw new Error(\"Only DataChannelConnection needs to obtain establishParams\")}publish(e,t,i){var n=this;return DO((function*(){const r=yield PO(n.mutex.lock(\"From P2PChannel.publish\"));try{if(!n.connection||n.state!==wS.Connected){if(n.state===wS.Disconnected)throw new SE(fE.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");n.throwIfTrackTypeNotMatch(e);const t=e.filter(e=>-1===n.pendingLocalTracks.indexOf(e));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,DI.markPublishStart(n.store.clientId,n.store.pubId);const o=n.filterTobePublishedTracks(e,t,i);if(0===o.length)return void(yield PO(n.tryToUnmuteAudio(e)));yield*kO(Ob(n.doPublish(n.connection,o)),PO)}finally{r()}}))()}doPublish(e,t){var i=this;return DO((function*(){t.forEach(e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===bS.LocalAudioTrack?\"audio\":\"video\",r)}),i.bindLocalTrackEvents(t);const n=yield PO(e.send(t.map(e=>{let{track:t}=e;return t}),i.store.codec,i.store.audioCodec)),r=(yield PO(n.next())).value,o=i.createGatewayPublishMessage(t,r);let s;try{s=yield o}catch(e){throw n.throw(e),(null==e?void 0:e.code)===fE.WS_ABORT&&t.forEach(e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)}),i.unbindLocalTrackEvents(t),e}const a=i.mapPubResToRemoteConfig(o,s),c=(yield PO(n.next(a))).value;t.forEach(e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)}),i.assignLocalTracks(t,c),i.statsUploader.startUploadUplinkStats(),t.forEach(e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===bS.LocalAudioTrack?\"audio\":\"video\",void 0,r)})}))()}publishLowStream(e){var t=this;return DO((function*(){if(!t.connection||t.state!==wS.Connected)return;const i=yield PO(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{const r=t.localTrackMap.get(bS.LocalVideoTrack);if(!r)throw new SE(fE.UNEXPECTED_ERROR,\"Could not find high stream\");if(t.localTrackMap.has(bS.LocalVideoLowTrack))throw new SE(fE.UNEXPECTED_ERROR,\"[\".concat(t.store.clientId,\"] Can't publish low stream when stream already publish\"));const o=[{track:t.getLowVideoTrack(r.track,e),type:bS.LocalVideoLowTrack}];if(yield*kO(Ob(t.doPublish(t.connection,o)),PO),r.track.muted||!r.track.enabled){var n;const e=null===(n=t.localTrackMap.get(bS.LocalVideoLowTrack))||void 0===n?void 0:n.id;void 0!==e&&(yield PO(t.connection.muteLocal([e])))}}finally{i()}}))()}async republish(){this.pendingLocalTracks.length>0&&(OE.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await nC(this,DS.RequestRePublish,this.pendingLocalTracks),this.emit(DS.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:i}=this.pendingRemoteTracks[e];(i!==AS.AUDIO||t._audio_added_&&t._audioSSRC)&&(i!==AS.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await nC(this,DS.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===AS.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach(e=>{let{user:t}=e;this.emit(DS.MediaReconnectEnd,t.uid)}),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==wS.Connected)return void e.forEach(e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)});const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find(e=>\"videoLowTrack\"===e[0]);if(i){i[1].track.close()}return this.doUnpublish(this.connection,t)}async unpublishLowStream(){if(!this.connection||this.state!==wS.Connected)return;const e=this.localTrackMap.get(bS.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[bS.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const i=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map(e=>{let[,{id:t}]=e;return t})),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map(e=>{let[t,{track:i}]=e;return{type:t,track:i}})),t.forEach(e=>{let[t]=e;this.statsCollector.removeLocalStats(t)}),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),i}async subscribe(e,t,i,n,r){var o;if(!this.connection||this.state!==wS.Connected)throw new SE(fE.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let s,a,c=void 0;if(r){const i=r.find(e=>{let{stream_type:i}=e;return i===t});if(!i)throw new SE(fE.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(t,\" for user: \").concat(e.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(t,\".\"));const n=await this.connection.receive(t,i.ssrcs,String(e._uintid),i.attributes);this.connection instanceof VN&&(c=n.transceiver),s=n.track,a=n.id}else{const r=await this.connection.receive(t,[{ssrcId:i,rtx:n}],String(e._uintid),void 0);this.connection instanceof VN&&(c=r.transceiver),s=r.track,a=r.id}t===AS.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new nb(s,e.uid,e._uintid,this.store),OE.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new ib(s,e.uid,e._uintid,this.store),OE.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack));const d=this.remoteUserMap.get(e);d?d.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const u=this.pendingRemoteTracks.findIndex(i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r});-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(DS.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==wS.Connected)throw new SE(fE.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");e=e.filter(e=>{var t;let{user:i,mediaType:n}=e;return!(null!==(t=this.remoteUserMap.get(i))&&void 0!==t&&t.has(n))});const t=await this.connection.batchReceive(e.map(e=>{let{user:t,mediaType:i,ssrcId:n,rtxSsrcId:r}=e;return{kind:i,ssrcMsg:[{ssrcId:n,rtx:r}],mslabel:String(t._uintid)}}));e.forEach((e,i)=>{let{user:n,mediaType:r}=e;const{track:o,id:s,transceiver:a}=t[i];r===AS.AUDIO?(n._audioTrack?n._audioTrack._updateOriginMediaStreamTrack(o):(n._audioTrack=new nb(o,n.uid,n._uintid,this.store),OE.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(n._audioTrack.getTrackId()))),a&&n._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._audioTrack)):(n._videoTrack?n._videoTrack._updateOriginMediaStreamTrack(o):(n._videoTrack=new ib(o,n.uid,n._uintid,this.store),OE.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(n._videoTrack.getTrackId()))),a&&n._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._videoTrack));const c=this.remoteUserMap.get(n);c?c.set(r,s):this.remoteUserMap.set(n,new Map([[r,s]])),this.statsCollector.addRemoteStats(n.uid),this.statsUploader.startUploadDownlinkStats();const d=this.pendingRemoteTracks.findIndex(e=>{let{user:t,kind:i}=e;return t.uid===n.uid&&r===i});-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(DS.MediaReconnectEnd,n.uid))})}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter(i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid});if(n.forEach(e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)}),this.connection&&this.state===wS.Connected||i||n.forEach(t=>{let{kind:i}=t;var n;if(i===AS.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===AS.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}}),!this.connection||this.state!==wS.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map(e=>{let[,{id:t}]=e;return t}));const o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),r.forEach(e=>{let[t,{kind:n}]=e;var r,o;n===AS.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===AS.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(n===AS.AUDIO){var s;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}}),o}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:n}of e){const e=this.pendingRemoteTracks.filter(e=>{let{user:t,kind:r}=e;return void 0!==n?t.uid===i.uid&&n===r:t.uid===i.uid});e.forEach(e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)}),t=t.concat(e)}if(!this.connection||this.state!==wS.Connected)return void t.forEach(e=>{let{user:t,kind:i}=e;var n;if(i===AS.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(i===AS.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}});const i=zi(e).call(e,(e,t)=>{let{user:i,mediaType:n}=t;const r=this.filterTobeUnSubscribedTracks(i,n);return e.concat(r)},[]);if(0===i.length)return;await this.connection.stopReceiving(i.map(e=>{let[,{id:t}]=e;return t}));const n=this.createUnsubscribeAllMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),i.forEach(e=>{let[t,{kind:i}]=e;var n,r;i===AS.VIDEO&&t._videoSSRC&&(null===(n=this.connection)||void 0===n||n.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===AS.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(i===AS.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}}),n}async muteRemote(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===AS.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.connection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||OE.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(bS.LocalAudioTrack);if((null==t?void 0:t.track)instanceof NI){const i=t.track;return Array.from(this.localTrackMap.entries()).filter(e=>{let[t]=e;return t!==bS.LocalAudioTrack}).filter(t=>{let[i]=t;return!(e&&i===bS.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t}).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter(t=>{let[i]=t;return!(e&&i===bS.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t})}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(bS.LocalAudioTrack),o=n?this.localTrackMap.get(bS.LocalVideoLowTrack):this.localTrackMap.get(bS.LocalVideoTrack);Pg.publish(this.store.sessionId,{eventElapse:DI.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(lS.SCREEN_TRACK)),audio:!!i,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;i||(i=[]);const s=i.find(e=>e instanceof yI),a=n?null===(o=this.localTrackMap.get(bS.LocalVideoTrack))||void 0===o?void 0:o.track:i.find(e=>e instanceof Cy);Pg.publish(this.store.sessionId,{eventElapse:DI.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(lS.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===AS.VIDEO?i._videoSSRC:i._audioSSRC;r&&Pg.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===AS.VIDEO,audio:n===AS.AUDIO,peerid:i.uid,subscribeRequestid:n===AS.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:DI.measureFromSubscribeStart(this.store.clientId,r)})}reset(){OE.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new Ug(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new Ib({},this.store):this.isPlanB?new NN({},this.store):new VN({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(bS.LocalAudioTrack);if((null==e?void 0:e.track)instanceof NI){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach(e=>{t.removeAudioTrack(e)})}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=wS.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(bS.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(bS.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Cy||t&&t.track instanceof yI?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(Eg(t=this.remoteUserMap).call(t)).find(t=>t.uid===e);return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map(e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}});const t=this.localTrackMap.get(bS.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Hm(e).call(e,(e,t)=>e.level-t.level),e}async disconnectForReconnect(){this.connection&&(OE.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=wS.Reconnecting,GE(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new Ib({},this.store):this.isPlanB?new NN({},this.store):new VN({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:i}]=e;switch(t){case bS.LocalVideoTrack:i._hints.includes(lS.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case bS.LocalAudioTrack:i instanceof NI?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);break;case bS.LocalVideoLowTrack:}}),this.emit(DS.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,i]=e;Array.from(Eg(i).call(i)).forEach(e=>{this.setPendingRemoteMedia(t,e)}),this.emit(DS.MediaReconnectStart,t.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),OE.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")))}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof yy?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return DO((function*(){if(!t.connection||t.state!==wS.Connected||t.connection instanceof Ib)return;const i=yield PO(t.mutex.lock(\"From P2PChannel.restartICE\"));let n;try{n=yield PO(t.connection.restartICE(e));const r=yield PO(n.next());if(r.done)return;const o=r.value,s=yield o;switch(t.reportPCDisconnectedOrFailed(e),e){case OS.TCP:t._pcStatsUploadType=NS.TCP_RESTART;break;case OS.RELAY:t._pcStatsUploadType=NS.RELAY_RESTART;break;default:t._pcStatsUploadType=NS.OLD_RESTART}t._isInRestartIce=!0,n.next(s)}catch(e){var r;null===(r=n)||void 0===r||r.throw(e)}finally{i()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(bS.LocalVideoTrack),i=this.localTrackMap.get(bS.LocalAudioTrack),n=e.videoSend.find(e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId)),r=e.audioSend.find(e=>e.ssrc===(null==i?void 0:i.ssrcs[0].ssrcId));if(!n||!r)return 1;const o=oC(this,DS.NeedSignalRTT),s=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,u=100*e.sendPacketLossRate*.7/50+.3*d/1500,l=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(lS.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return XE[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][l]}}return l}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach(i=>{let[n]=i;const r=n._audioSSRC,o=n._videoSSRC,s=e.audioRecv.find(e=>e.ssrc===r),a=e.videoRecv.find(e=>e.ssrc===o);if(!s&&!a)return void(t+=1);const c=oC(this,DS.NeedSignalRTT),d=e.rtt,u=(d&&c?(d+c)/2:d||c)||0,l=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;l&&(p=.6*h*100/50+.2*u/1500+.2*l/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5}),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Sl((t,i)=>{this.handleMuteLocalTrack(e,t,i)})}filterTobePublishedTracks(e,t,i){const n=[],r=JS(),o=this.getAllTracks();e=cC(e=e.filter(e=>-1===o.indexOf(e)));let s=!1,a=!1;for(const o of e){if(o instanceof Cy&&(this.localTrackMap.has(bS.LocalVideoTrack)||s?new SE(fE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:o,type:bS.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(o,i);n.push({track:e,type:bS.LocalVideoLowTrack})}if(o instanceof yI){const e=this.localTrackMap.get(bS.LocalAudioTrack);if(e){if(!(e.track instanceof NI))throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o),this.bindLocalAudioTrackEvents(o,!0)}else if(a){const e=n.find(e=>{let{type:t}=e;return t===bS.LocalAudioTrack});if(!(e.track instanceof NI))throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o)}else{if(!r.webAudioMediaStreamDest||o instanceof NI||o._bypassWebAudio)n.push({track:o,type:bS.LocalAudioTrack});else{const e=new NI;e.addAudioTrack(o),n.push({track:e,type:bS.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=cC(e=e.filter(e=>-1!==i.indexOf(e)));for(const i of e){if(i instanceof yI){const e=this.localTrackMap.get(bS.LocalAudioTrack);if(!e)continue;e.track instanceof NI?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([bS.LocalAudioTrack,e]),e.track.close())):t.push([bS.LocalAudioTrack,e])}if(i instanceof Cy){const e=this.localTrackMap.get(bS.LocalVideoTrack);if(!e)continue;t.push([bS.LocalVideoTrack,e]);const i=this.localTrackMap.get(bS.LocalVideoLowTrack);i&&t.push([bS.LocalVideoLowTrack,i])}}return t}bindLocalTrackEvents(e){e.forEach(e=>{let{track:t,type:i}=e;switch(i){case bS.LocalVideoTrack:t.addListener(uS.GET_STATS,this.handleGetLocalVideoStats),t.addListener(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(uS.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(uS.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(uS.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bS.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);break;case bS.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(e,t){e instanceof NI?e.trackList.forEach(e=>{e.addListener(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(uS.GET_STATS,this.handleGetLocalAudioStats),e.addListener(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.addListener(uS.GET_STATS,this.handleGetLocalAudioStats),e.addListener(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(uS.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map(e=>{let[t,{track:i}]=e;return{track:i,type:t}})),e.forEach(e=>{let{track:t,type:i}=e;switch(i){case bS.LocalVideoTrack:t.off(uS.GET_STATS,this.handleGetLocalVideoStats),t.off(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(uS.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(uS.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(uS.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bS.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);break;case bS.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(e){e instanceof NI?e.trackList.forEach(e=>{e.off(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(uS.GET_STATS,this.handleGetLocalAudioStats),e.off(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.off(uS.GET_STATS,this.handleGetLocalAudioStats),e.off(uS.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(uS.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(uS.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(uS.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(uS.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof ib&&t.addListener(uS.GET_STATS,t=>{t(this.handleGetRemoteVideoStats(e))}),t instanceof nb&&t.addListener(uS.GET_STATS,t=>{t(this.handleGetRemoteAudioStats(e))})}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(uS.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,i]=e;i.has(AS.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(AS.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)})}createGatewayPublishMessage(e,t){return e.map((e,i)=>{let n,r,{track:o,type:s}=e;switch(s){case bS.LocalAudioTrack:n=sS.Audio,r={dtx:o instanceof AI&&o._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case bS.LocalVideoTrack:n=o._hints.includes(lS.SCREEN_TRACK)?sS.Screen:sS.High,r=Ab(Ab({},BI(o)),{},{codec:this.store.codec});break;case bS.LocalVideoLowTrack:n=sS.Low,r=Ab(Ab({},BI(o)),{},{codec:this.store.codec})}return{stream_type:n,attributes:r,ssrcs:t[i]}})}createGatewayUnpublishMessage(e){return e.map(e=>{let t,[i,{track:n,ssrcs:r,id:o}]=e;switch(i){case bS.LocalVideoTrack:t=n._hints.includes(lS.SCREEN_TRACK)?sS.Screen:sS.High;break;case bS.LocalAudioTrack:t=sS.Audio;break;case bS.LocalVideoLowTrack:t=sS.Low}return{stream_type:t,ssrcs:r,mid:o}})}assignLocalTracks(e,t){e.forEach((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})})}withdrawLocalTracks(e){e.forEach(e=>{let[t]=e;this.localTrackMap.delete(t)})}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(DS.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),GE(\"NEW_ICE_RESTART\")){if(this._restartStates.includes(t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){OE.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(t));\"CONNECTED\"===oC(this,DS.QueryClientConnectionState)&&this.emit(DS.RequestRestartICE,t)}},i=()=>{\"disconnected\"!==e.iceConnectionState&&\"checking\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),OE.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout(()=>this.emit(DS.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},n=GE(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout(()=>{if(GE(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&JS().supportPCSetConfiguration)t(OS.RELAY),this._restartTimer=window.setTimeout(i,n);else if(Kh())t(OS.UDP),this._restartTimer=window.setTimeout(i,4e3);else{if(t(OS.TCP),JS().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{t(OS.RELAY),this._restartTimer=window.setTimeout(i,n)},n));this._restartTimer=window.setTimeout(i,n)}},800))}}else{if(\"disconnected\"===t&&\"disconnected\"===e.iceConnectionState)return setTimeout(()=>{if(\"disconnected\"===e.iceConnectionState&&GE(\"ICE_RESTART\")){\"CONNECTED\"===oC(this,DS.QueryClientConnectionState)&&this.emit(DS.RequestRestartICE)}},800),void setTimeout(()=>{\"disconnected\"===e.peerConnectionState&&(OE.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(DS.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);\"failed\"===t&&(OE.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(DS.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),Pg.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Ef.TRACER}).onSuccess(),this.emit(DS.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(Eg(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(fS.FIRST_FRAME_DECODED),Pg.firstRemoteFrame(this.store.sessionId,uf.FIRST_AUDIO_DECODE,lf.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:DI.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(Eg(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);i&&Pg.firstRemoteFrame(this.store.sessionId,uf.FIRST_AUDIO_RECEIVED,lf.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:DI.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(Eg(t=this.remoteUserMap).call(t)).find(t=>t._videoSSRC===e);i&&Pg.firstRemoteFrame(this.store.sessionId,uf.FIRST_VIDEO_RECEIVED,lf.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:DI.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(DS.ConnectionTypeChange,i),OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(YI(t)),\" -> \").concat(JSON.stringify(YI(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{OE.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(YI(t)),\" -> \").concat(JSON.stringify(YI(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(bS.LocalAudioTrack);if(e instanceof yI&&(null==i?void 0:i.track)instanceof NI)return i.track.isActive||t.push([bS.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:i}]=t;return e===i});if(n&&(t.push(n),n[0]===bS.LocalVideoTrack)){const e=this.localTrackMap.get(bS.LocalVideoLowTrack);e&&t.push([bS.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(bS.LocalAudioTrack);if(e instanceof yI&&(null==i?void 0:i.track)instanceof NI)return i.track.isActive&&t.push([bS.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:i}]=t;return e===i});if(n)if(n[0]===bS.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(bS.LocalVideoLowTrack);e&&t.push([bS.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map(e=>{let t,[i,{track:n,ssrcs:r,id:o}]=e;switch(i){case bS.LocalAudioTrack:t=sS.Audio;break;case bS.LocalVideoTrack:t=n._hints.includes(lS.SCREEN_TRACK)?sS.Screen:sS.High;break;case bS.LocalVideoLowTrack:t=sS.Low}return{stream_type:t,ssrcs:r,mid:o}})}createUnmuteMessage(e){return e.map(e=>{let t,[i,{track:n,ssrcs:r,id:o}]=e;switch(i){case bS.LocalAudioTrack:t=sS.Audio;break;case bS.LocalVideoTrack:t=n._hints.includes(lS.SCREEN_TRACK)?sS.Screen:sS.High;break;case bS.LocalVideoLowTrack:t=sS.Low}return{stream_type:t,ssrcs:r,mid:o}})}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach(t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])});return i}createUnsubscribeMessage(e){const t=[];return e.forEach(e=>{let[i,{kind:n,id:r}]=e;switch(n){case AS.VIDEO:return void(i._videoSSRC&&t.push({stream_type:AS.VIDEO,ssrcId:i._videoSSRC}));case AS.AUDIO:return void(i._audioSSRC&&t.push({stream_type:AS.AUDIO,ssrcId:i._audioSSRC}))}}),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach(e=>{let[i,{kind:n}]=e;if(t.has(i)){let e=t.get(i);n===AS.VIDEO?e|=cS.Video:e|=cS.Audio,t.set(i,e)}else n===AS.VIDEO?t.set(i,cS.Video):t.set(i,cS.Audio)}),{users:Array.from(t.entries()).map(e=>{let[t,i]=e;return{stream_id:t.uid,stream_type:i}})}}withdrawRemoteTracks(e){e.forEach(e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))})}async updateBitrateLimit(e){const t=this.localTrackMap.get(bS.LocalVideoTrack),i=this.localTrackMap.get(bS.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.connection){return\"connected\"!==this.connection.peerConnectionState}return!0}mapPubResToRemoteConfig(e,t){return e.map((e,i)=>{var n;let{stream_type:r}=e;return null===(n=t.find(e=>{let{stream_type:t}=e;return r===t}))||void 0===n?void 0:n.attributes})}async tryToUnmuteAudio(e){for(let i=0;i<e.length;i++)if(e[i]instanceof yI){var t;const n=this.filterTobeUnmutedTracks(e[i]);if(0===n.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(n.map(e=>{let[,{id:t}]=e;return t})));const r=this.createUnmuteMessage(n);return void await rC(this,DS.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(DS.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await zI(gE(this.dtlsFailedCount,TE)),this.emit(DS.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await nC(this,DS.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(DS.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(bS.LocalVideoTrack)||this.pendingLocalTracks.some(e=>e instanceof Cy)}throwIfTrackTypeNotMatch(e){if(e.filter(e=>e instanceof Cy).length>1)throw new SE(fE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter(e=>e instanceof yI).length>1&&(e.some(e=>e instanceof yI&&e._bypassWebAudio)||!JS().webAudioMediaStreamDest))throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof Cy&&this.pendingLocalTracks.some(e=>e instanceof Cy))throw new SE(fE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof yI&&this.pendingLocalTracks.some(e=>e instanceof yI)&&(!JS().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some(e=>e instanceof yI&&e._bypassWebAudio)))throw new SE(fE.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=JS().supportDualStreamEncoding,n=Ab(Ab({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():FN(e,n);const o=ZI(8,\"track-low-\"),s=new Cy(r,Ab(Ab({},i&&{scaleResolutionDownBy:KI(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,o);return s.on(ES.TRANSCEIVER_UPDATED,t=>{e._updateRtpTransceiver(t,hS.LOW_STREAM)}),s._hints.push(lS.LOW_STREAM),e.addListener(uS.NEED_CLOSE,()=>{s.close()}),s}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof VN){var r,o,s,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:u,peerConnectionState:l}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();Pg.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:d,dtlsstate:u,connectionstate:l,intSucc:t?1:2,error:n,selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:\"\",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:\"\",selectedLocalCandidateAddress:\"\".concat(h.address,\":\").concat(h.port),selectedRemoteCandidateProtocol:null!==(s=p.protocol)&&void 0!==s?s:\"\",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:i})}}reportVideoFirstFrameDecoded(e,t,i,n){var r;const o=Array.from(Eg(r=this.remoteUserMap).call(r)).find(t=>t._videoSSRC===e);if(o){n||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find(e=>e.userId===o.uid&&\"video\"===e.type);Pg.firstRemoteVideoDecode(this.store.sessionId,uf.FIRST_VIDEO_DECODE,lf.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:i,subscribeElapse:DI.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.connection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const o=await this.connection.getRemoteSSRC(r);return void 0!==o&&o!==i}resetConnection(e){OE.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] reset connection to \").concat(e)),this.state===wS.Connected?(OE.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first\")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=e===dS.datachannel?new Ib({},this.store):this.isPlanB?new NN({},this.store):new VN({},this.store),this.bindConnectionEvents(this.connection)))}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:i}]=e;t===bS.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,hS.LOW_STREAM):i._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof VN&&(\"disconnected\"!==this.connection.iceConnectionState&&\"checking\"!==this.connection.iceConnectionState&&\"failed\"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===NS.TCP_RESTART&&e===OS.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,NS.DISCONNECTED_OR_FAILED)))}}).prototype,\"startP2PConnection\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"startP2PConnection\"),vb.prototype),ag(vb.prototype,\"connect\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"connect\"),vb.prototype),ag(vb.prototype,\"preConnect\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"preConnect\"),vb.prototype),ag(vb.prototype,\"unpublish\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"unpublish\"),vb.prototype),ag(vb.prototype,\"unpublishLowStream\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"unpublishLowStream\"),vb.prototype),ag(vb.prototype,\"subscribe\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"subscribe\"),vb.prototype),ag(vb.prototype,\"massSubscribe\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"massSubscribe\"),vb.prototype),ag(vb.prototype,\"unsubscribe\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"unsubscribe\"),vb.prototype),ag(vb.prototype,\"massUnsubscribe\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"massUnsubscribe\"),vb.prototype),ag(vb.prototype,\"muteRemote\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"muteRemote\"),vb.prototype),ag(vb.prototype,\"unmuteRemote\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"unmuteRemote\"),vb.prototype),ag(vb.prototype,\"hasRemoteMediaWithLock\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"hasRemoteMediaWithLock\"),vb.prototype),ag(vb.prototype,\"disconnectForReconnect\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"disconnectForReconnect\"),vb.prototype),ag(vb.prototype,\"updateBitrateLimit\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"updateBitrateLimit\"),vb.prototype),ag(vb.prototype,\"remoteMediaSsrcChanged\",[wb],Object.getOwnPropertyDescriptor(vb.prototype,\"remoteMediaSsrcChanged\"),vb.prototype),vb);function wb(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PChannel.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function Db(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Pb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Db(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Lb;!function(e){e.SET_SESSION_ID=\"SET_SESSION_ID\",e.SET_P2P_ID=\"SET_P2P_id\",e.SET_DC_ID=\"SET_DC_id\",e.SET_UID=\"SET_UID\",e.SET_PUB_ID=\"SET_PUB_ID\",e.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",e.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",e.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",e.AVOID_JOIN_START=\"AVOID_JOIN_START\",e.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",e.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",e.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",e.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",e.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",e.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",e.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",e.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",e.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",e.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",e.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",e.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",e.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",e.SET_USE_DATACHANNEL=\"SET_USE_DATACHANNEL\"}(Lb||(Lb={}));class kb{constructor(e,t,i,n){_p(this,\"state\",void 0),this.state={codec:e,audioCodec:t,mode:i,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useDataChannel:!1}}dispatch(e){this.state=function(e,t){switch(t.type){case Lb.SET_SESSION_ID:return Pb(Pb({},e),{},{sessionId:t.sessionId});case Lb.SET_P2P_ID:return Pb(Pb({},e),{},{p2pId:t.p2pId});case Lb.SET_UID:return Pb(Pb({},e),{},{uid:t.uid});case Lb.SET_PUB_ID:return Pb(Pb({},e),{},{pubId:t.pubId});case Lb.KEY_METRIC_CLIENT_CREATED:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{clientCreated:t.metric})});case Lb.KEY_METRIC_JOIN_START:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{joinStart:t.metric})});case Lb.AVOID_JOIN_START:return Pb(Pb({},e),{},{avoidJoinStart:t.avoidJoinStart});case Lb.KEY_METRIC_JOIN_END:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{joinEnd:t.metric})});case Lb.KEY_METRIC_REQUEST_AP_START:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{requestAPStart:t.metric})});case Lb.KEY_METRIC_REQUEST_AP_END:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{requestAPEnd:t.metric})});case Lb.KEY_METRIC_JOIN_GATEWAY_START:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case Lb.KEY_METRIC_JOIN_GATEWAY_END:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case Lb.KEY_METRIC_PEER_CONNECTION_START:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case Lb.KEY_METRIC_PEER_CONNECTION_END:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case Lb.KEY_METRIC_DESCRIPTION_START:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{descriptionStart:t.metric})});case Lb.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case Lb.KEY_METRIC_ICE_CONNECTION_END:return Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case Lb.KEY_METRIC_PUBLISH:{const i=e.keyMetrics.publish,n=i.findIndex(e=>e.trackId===t.metric.trackId);return-1!==n?(i[n]=Pb(Pb({},i[n]),t.metric),Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{publish:[...i]})})):Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case Lb.KEY_METRIC_SUBSCRIBE:{const i=e.keyMetrics.subscribe,n=i.findIndex(e=>e.userId===t.metric.userId&&e.type===t.metric.type);return-1!==n?(i[n]=Pb(Pb({},i[n]),t.metric),Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{subscribe:[...i]})})):Pb(Pb({},e),{},{keyMetrics:Pb(Pb({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case Lb.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case Lb.RECORD_JOIN_CHANNEL_SERVICE:return\"number\"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=Pb(Pb({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case Lb.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case Lb.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case Lb.SET_USE_DATACHANNEL:return Pb(Pb({},e),{},{useDataChannel:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:Lb.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}get codec(){return this.state.codec}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:Lb.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:Lb.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:Lb.SET_UID,uid:e})}get uid(){return this.state.uid}set pubId(e){this.dispatch({type:Lb.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:Lb.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(e){this.dispatch({type:Lb.SET_USE_DATACHANNEL,val:e})}get useDataChannel(){return this.state.useDataChannel}clientCreated(){this.dispatch({type:Lb.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Lb.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Lb.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Lb.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Lb.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Lb.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Lb.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Lb.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Lb.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Lb.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Lb.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Lb.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,i,n){this.dispatch({type:Lb.KEY_METRIC_PUBLISH,metric:Pb(Pb({trackId:e,type:t},i&&{publishStart:i}),n&&{publishEnd:n})})}subscribe(e,t,i,n,r,o,s){this.dispatch({type:Lb.KEY_METRIC_SUBSCRIBE,metric:Pb(Pb(Pb(Pb(Pb({userId:e,type:t},i&&{subscribeStart:i}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),o&&{streamAdded:o}),s&&{firstDecoded:s})})}massSubscribe(e,t,i,n){e.forEach(e=>{this.dispatch({type:Lb.KEY_METRIC_SUBSCRIBE,metric:Pb(Pb(Pb({userId:e.userId,type:e.type},t&&{subscribeStart:t}),i&&{subscribeEnd:i}),n&&{firstFrame:n})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){\"gateway\"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map(e=>e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\")));try{return\"number\"!=typeof t?(this.dispatch({type:Lb.RECORD_JOIN_CHANNEL_SERVICE,record:Pb(Pb({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Lb.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Lb.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Lb.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:Lb.AVOID_JOIN_START,avoidJoinStart:e})}}let Mb;const Ub=()=>\"HTTPS\"===(Mb||Mb||(Mb=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),Mb)),xb=()=>void 0!==window.isSecureContext;function Vb(e){let t=Xb();return function(e,t){let i=e.appId;void 0!==i&&(dw(t,10),iw(t,i));let n=e.cid;void 0!==n&&(dw(t,16),dw(t,n));let r=e.cname;void 0!==r&&(dw(t,26),iw(t,r));let o=e.deviceId;void 0!==o&&(dw(t,34),iw(t,o));let s=e.elapse;void 0!==s&&(dw(t,40),uw(t,s));let a=e.fileSize;void 0!==a&&(dw(t,48),uw(t,qb(a)));let c=e.height;void 0!==c&&(dw(t,56),uw(t,qb(c)));let d=e.jpg;void 0!==d&&(dw(t,66),dw(t,d.length),function(e,t){let i=$b(e,t.length);e.bytes.set(t,i)}(t,d));let u=e.networkType;void 0!==u&&(dw(t,72),uw(t,qb(u)));let l=e.osType;void 0!==l&&(dw(t,80),uw(t,qb(l)));let h=e.requestId;void 0!==h&&(dw(t,90),iw(t,h));let p=e.sdkVersion;void 0!==p&&(dw(t,98),iw(t,p));let _=e.sequence;void 0!==_&&(dw(t,104),uw(t,qb(_)));let E=e.sid;void 0!==E&&(dw(t,114),iw(t,E));let m=e.timestamp;void 0!==m&&(dw(t,120),uw(t,m));let f=e.uid;void 0!==f&&(dw(t,128),dw(t,f));let S=e.vid;void 0!==S&&(dw(t,136),dw(t,S));let T=e.width;void 0!==T&&(dw(t,144),uw(t,qb(T)));let g=e.service;void 0!==g&&(dw(t,152),dw(t,g));let R=e.callbackData;void 0!==R&&(dw(t,162),iw(t,R));let I=e.jpgEncryption;void 0!==I&&(dw(t,168),dw(t,I));let C=e.requestType;void 0!==C&&(dw(t,176),dw(t,C));let v=e.scorePorn;void 0!==v&&(dw(t,185),aw(t,v));let y=e.scoreSexy;void 0!==y&&(dw(t,193),aw(t,y));let A=e.scoreNeutral;void 0!==A&&(dw(t,201),aw(t,A));let O=e.scene;void 0!==O&&(dw(t,208),dw(t,O));let N=e.ossFilePrefix;void 0!==N&&(dw(t,218),iw(t,N));let b=e.serviceVendor;if(void 0!==b)for(let e of b){dw(t,226);let i=Xb();Bb(e,i),dw(t,i.limit),nw(t,i),zb(i)}}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function jb(e){return function(e){let t={};e:for(;!Zb(e);){let i=cw(e);switch(i>>>3){case 0:break e;case 1:t.code=cw(e);break;case 2:t.msg=tw(e,cw(e));break;case 3:{let i=Gb(e);t.data=Fb(e),e.limit=i;break}default:Wb(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function Fb(e){let t={};e:for(;!Zb(e);){let i=cw(e);switch(i>>>3){case 0:break e;case 1:t.requestId=tw(e,cw(e));break;case 2:t.requestType=cw(e)>>>0;break;case 3:t.scorePorn=sw(e);break;case 4:t.scoreSexy=sw(e);break;case 5:t.scoreNeutral=sw(e);break;case 6:t.requestScene=cw(e)>>>0;break;case 7:t.scene=cw(e)>>>0;break;default:Wb(e,7&i)}}return t}function Bb(e,t){let i=e.service;void 0!==i&&(dw(t,8),dw(t,i));let n=e.vendor;void 0!==n&&(dw(t,16),dw(t,n));let r=e.token;void 0!==r&&(dw(t,26),iw(t,r));let o=e.callbackUrl;void 0!==o&&(dw(t,34),iw(t,o))}function Gb(e){let t=cw(e),i=e.limit;return e.limit=e.offset+t,i}function Wb(e,t){switch(t){case 0:for(;128&rw(e););break;case 2:Qb(e,cw(e));break;case 5:Qb(e,4);break;case 1:Qb(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}let Hb=new Float32Array(1);new Uint8Array(Hb.buffer);let Kb=new Float64Array(1),Yb=new Uint8Array(Kb.buffer);function qb(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let Jb=[];function Xb(){const e=Jb.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function zb(e){Jb.push(e)}function Qb(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Zb(e){return e.offset>=e.limit}function $b(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function ew(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function tw(e,t){let i=ew(e,t),n=String.fromCharCode,r=e.bytes,o=\"�\",s=\"\";for(let e=0;e<t;e++){let a,c,d,u,l=r[e+i];0==(128&l)?s+=n(l):192==(224&l)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(u=(31&l)<<6|63&a,u<128?s+=o:(s+=n(u),e++))):224==(240&l)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(u=(15&l)<<12|(63&a)<<6|63&c,u<2048||u>=55296&&u<=57343?s+=o:(s+=n(u),e+=2))):240==(248&l)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(u=(7&l)<<18|(63&a)<<12|(63&c)<<6|63&d,u<65536||u>1114111?s+=o:(u-=65536,s+=n(55296+(u>>10),56320+(1023&u)),e+=3))):s+=o}return s}function iw(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}dw(e,n);let r=$b(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function nw(e,t){let i=$b(e,t.limit),n=e.bytes,r=t.bytes;for(let e=0,o=t.limit;e<o;e++)n[e+i]=r[e]}function rw(e){return e.bytes[ew(e,1)]}function ow(e,t){let i=$b(e,1);e.bytes[i]=t}function sw(e){let t=ew(e,8),i=e.bytes;return Yb[0]=i[t++],Yb[1]=i[t++],Yb[2]=i[t++],Yb[3]=i[t++],Yb[4]=i[t++],Yb[5]=i[t++],Yb[6]=i[t++],Yb[7]=i[t++],Kb[0]}function aw(e,t){let i=$b(e,8),n=e.bytes;Kb[0]=t,n[i++]=Yb[0],n[i++]=Yb[1],n[i++]=Yb[2],n[i++]=Yb[3],n[i++]=Yb[4],n[i++]=Yb[5],n[i++]=Yb[6],n[i++]=Yb[7]}function cw(e){let t,i=0,n=0;do{t=rw(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function dw(e,t){for(t>>>=0;t>=128;)ow(e,127&t|128),t>>>=7;ow(e,t)}function uw(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=$b(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}const lw=async(e,t,i)=>{const n=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.slice(i,i+2),16));return Uint8Array.from(t)}(function(e){const t=\"0123456789abcdef\";function i(e){let i,n=\"\";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,o,s){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,s)),o),i)}function o(e,t,i,n,o,s,a){return r(t&i|~t&n,e,t,o,s,a)}function s(e,t,i,n,o,s,a){return r(t&n|i&~n,e,t,o,s,a)}function a(e,t,i,n,o,s,a){return r(t^i^n,e,t,o,s,a)}function c(e,t,i,n,o,s,a){return r(i^(t|~n),e,t,o,s,a)}const d=function(e){let t;const i=1+(e.length+8>>6),n=new Array(16*i);for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let u,l,h,p,_,E=1732584193,m=-271733879,f=-1732584194,S=271733878;for(u=0;u<d.length;u+=16)l=E,h=m,p=f,_=S,E=o(E,m,f,S,d[u+0],7,-680876936),S=o(S,E,m,f,d[u+1],12,-389564586),f=o(f,S,E,m,d[u+2],17,606105819),m=o(m,f,S,E,d[u+3],22,-1044525330),E=o(E,m,f,S,d[u+4],7,-176418897),S=o(S,E,m,f,d[u+5],12,1200080426),f=o(f,S,E,m,d[u+6],17,-1473231341),m=o(m,f,S,E,d[u+7],22,-45705983),E=o(E,m,f,S,d[u+8],7,1770035416),S=o(S,E,m,f,d[u+9],12,-1958414417),f=o(f,S,E,m,d[u+10],17,-42063),m=o(m,f,S,E,d[u+11],22,-1990404162),E=o(E,m,f,S,d[u+12],7,1804603682),S=o(S,E,m,f,d[u+13],12,-40341101),f=o(f,S,E,m,d[u+14],17,-1502002290),m=o(m,f,S,E,d[u+15],22,1236535329),E=s(E,m,f,S,d[u+1],5,-165796510),S=s(S,E,m,f,d[u+6],9,-1069501632),f=s(f,S,E,m,d[u+11],14,643717713),m=s(m,f,S,E,d[u+0],20,-373897302),E=s(E,m,f,S,d[u+5],5,-701558691),S=s(S,E,m,f,d[u+10],9,38016083),f=s(f,S,E,m,d[u+15],14,-660478335),m=s(m,f,S,E,d[u+4],20,-405537848),E=s(E,m,f,S,d[u+9],5,568446438),S=s(S,E,m,f,d[u+14],9,-1019803690),f=s(f,S,E,m,d[u+3],14,-187363961),m=s(m,f,S,E,d[u+8],20,1163531501),E=s(E,m,f,S,d[u+13],5,-1444681467),S=s(S,E,m,f,d[u+2],9,-51403784),f=s(f,S,E,m,d[u+7],14,1735328473),m=s(m,f,S,E,d[u+12],20,-1926607734),E=a(E,m,f,S,d[u+5],4,-378558),S=a(S,E,m,f,d[u+8],11,-2022574463),f=a(f,S,E,m,d[u+11],16,1839030562),m=a(m,f,S,E,d[u+14],23,-35309556),E=a(E,m,f,S,d[u+1],4,-1530992060),S=a(S,E,m,f,d[u+4],11,1272893353),f=a(f,S,E,m,d[u+7],16,-155497632),m=a(m,f,S,E,d[u+10],23,-1094730640),E=a(E,m,f,S,d[u+13],4,681279174),S=a(S,E,m,f,d[u+0],11,-358537222),f=a(f,S,E,m,d[u+3],16,-722521979),m=a(m,f,S,E,d[u+6],23,76029189),E=a(E,m,f,S,d[u+9],4,-640364487),S=a(S,E,m,f,d[u+12],11,-421815835),f=a(f,S,E,m,d[u+15],16,530742520),m=a(m,f,S,E,d[u+2],23,-995338651),E=c(E,m,f,S,d[u+0],6,-198630844),S=c(S,E,m,f,d[u+7],10,1126891415),f=c(f,S,E,m,d[u+14],15,-1416354905),m=c(m,f,S,E,d[u+5],21,-57434055),E=c(E,m,f,S,d[u+12],6,1700485571),S=c(S,E,m,f,d[u+3],10,-1894986606),f=c(f,S,E,m,d[u+10],15,-1051523),m=c(m,f,S,E,d[u+1],21,-2054922799),E=c(E,m,f,S,d[u+8],6,1873313359),S=c(S,E,m,f,d[u+15],10,-30611744),f=c(f,S,E,m,d[u+6],15,-1560198380),m=c(m,f,S,E,d[u+13],21,1309151649),E=c(E,m,f,S,d[u+4],6,-145523070),S=c(S,E,m,f,d[u+11],10,-1120210379),f=c(f,S,E,m,d[u+2],15,718787259),m=c(m,f,S,E,d[u+9],21,-343485551),E=n(E,l),m=n(m,h),f=n(f,p),S=n(S,_);return i(E)+i(m)+i(f)+i(S)}(\"\"+t+i)).slice(0,16),r=n.slice(0,12),o=await window.crypto.subtle.importKey(\"raw\",n,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r},o,e))},hw=async(e,t,i)=>await lw(e.buffer,t,i);function pw(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const _w=new Map([[\"moderation\",1],[\"supervise\",2]]);class Ew extends EE{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(VS.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=zi(t=e.map(e=>_w.get(e)||0)).call(t,(e,t)=>e+t),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(e){super(),_p(this,\"name\",\"AgoraRTCVideoContentInspect\"),_p(this,\"_connectionState\",US.CONNECTING),_p(this,\"_innerConnectionState\",void 0),_p(this,\"sequence\",0),_p(this,\"inspectStartTime\",void 0),_p(this,\"workerManagerConnection\",void 0),_p(this,\"workerConnection\",void 0),_p(this,\"workerMessageLengthLimit\",void 0),_p(this,\"inspectIntervalMinimum\",void 0),_p(this,\"qualityRatio\",void 0),_p(this,\"_connectInfo\",void 0),_p(this,\"_cancelTokenSource\",pE.CancelToken.source()),_p(this,\"_retryConfig\",void 0),_p(this,\"wmSequence\",0),_p(this,\"inspectInterval\",void 0),_p(this,\"inspectTimer\",null),_p(this,\"ossFilePrefix\",void 0),_p(this,\"extraInfo\",void 0),_p(this,\"_inspectType\",void 0),_p(this,\"_inspectMode\",void 0),_p(this,\"_quality\",1),_p(this,\"qualityTimer\",null),_p(this,\"_inspectId\",void 0),_p(this,\"_needWorkUrlOnly\",!1),_p(this,\"inspectImage\",()=>{if(this.connectionState!==US.CONNECTED)throw new SE(fE.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===US.CONNECTED?this.requestToInspectImage():OE.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=ZI(5,\"inspect-\"),this.workerMessageLengthLimit=GE(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=GE(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=GE(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new vC(\"worker-manager-\"+this._inspectId,TE),this.on(VS.STATE_CHANGE,(e,t)=>{this._innerConnectionState=e,OE.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(xS[e],\" \").concat(t||\"\"))}),this.handleWorkerManagerEvents(),this.workerConnection=new vC(\"worker-\"+this._inspectId,TE),this.handleWorkerEvents()}async init(e,t){this.emit(VS.STATE_CHANGE,xS.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new Sl((n,r)=>{this.on(VS.CONNECTION_STATE_CHANGE,(e,t)=>{t===US.CONNECTED&&n()}),this.requestAP(e,i,t).then(e=>{this.connectWorkerManager(e)}).catch(e=>{r(e)})})}async requestAP(e,t,i){const n=GE(\"WEBCS_DOMAIN\").map(e=>\"https://\".concat(e,\"/api/v1\")),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;sv++;const u=\"image_moderation_api\",l={service_name:u,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:sv,seq:sv,sid:a,token:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return RE(async()=>{h=Date.now();const e=await gg(_,{data:l,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new SE(fE.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+e.code,{retry:!0,responseTime:p});throw OE.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new SE(fE.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw OE.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new SE(fE.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:t.code,responseTime:p});throw OE.error(e.toString()),e}const n=GE(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),r=GE(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return{addressList:t.servers.map(e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(r||i)}).filter(e=>!!e),workerToken:t.workerToken,vid:t.vid,responseTime:p}},(t,i)=>(Pg.apworkerEvent(a,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1),(t,i)=>(Pg.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==fE.OPERATION_ABORTED&&t.code!==fE.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0)),n)}(n,e,t,i);this.emit(VS.STATE_CHANGE,xS.AP_CONNECTED);const{addressList:o}=r;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(VS.STATE_CHANGE,xS.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Hf.CONNECTED,async()=>{this.emit(VS.STATE_CHANGE,xS.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.18.2\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0)}),this.workerManagerConnection.on(Hf.CLOSED,()=>{this._innerConnectionState<xS.GET_WORKER_MANAGER_RESPONSE&&OE.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"))}),this.workerManagerConnection.on(Hf.FAILED,()=>{this._innerConnectionState<xS.GET_WORKER_MANAGER_RESPONSE&&OE.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"))}),this.workerManagerConnection.on(Hf.RECONNECTING,()=>{this._innerConnectionState<xS.GET_WORKER_MANAGER_RESPONSE&&OE.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"))}),this.workerManagerConnection.on(Hf.ON_MESSAGE,async e=>{this.emit(VS.STATE_CHANGE,xS.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const i=JSON.parse(e.data);if(200!==i.code)throw OE.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new SE(fE.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&t))throw OE.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new SE(fE.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{const e=GE(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,n=t.replace(/:\\d+\\/?$/,\":\".concat(e));this.emit(VS.STATE_CHANGE,xS.CONNECT_WORKER,n),this._needWorkUrlOnly?this.emit(VS.REQUEST_NEW_WORKER_URL,n):await this.connectWorker(n)}}),this.workerManagerConnection.on(Hf.WILL_RECONNECT,(e,t)=>{t(e)}),this.workerManagerConnection.on(Hf.REQUEST_NEW_URLS,(e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)})}handleWorkerEvents(){this.workerConnection.on(Hf.CONNECTED,async()=>{this.emit(VS.STATE_CHANGE,xS.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=US.CONNECTED}),this.workerConnection.on(Hf.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){const i=jb(new Uint8Array(e.data));if(GE(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&OE.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),200===i.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&\"supervise\"===this.inspectType[0])return void this.emit(VS.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var t;const e={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},n=zi(t=Object.keys(e)).call(t,(t,i)=>e[t]>e[i]?t:i,\"porn\"),r=Object.keys(e).find(e=>e===n);this.emit(VS.INSPECT_RESULT,r)}else this.emit(VS.INSPECT_RESULT,void 0,new SE(fE.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"))}else this.emit(VS.INSPECT_RESULT,void 0,new SE(fE.UNEXPECTED_RESPONSE,i.code+\"\",i.msg))}else OE.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(VS.INSPECT_RESULT,void 0,new SE(fE.UNEXPECTED_RESPONSE,\"invalid worker message type\"))}),this.workerConnection.on(Hf.CLOSED,()=>{this.connectionState=US.CLOSED}),this.workerConnection.on(Hf.FAILED,()=>{this.connectionState=US.CLOSED}),this.workerConnection.on(Hf.RECONNECTING,()=>{this.connectionState=this.connectionState===US.CONNECTED?US.RECONNECTING:US.CONNECTING}),this.workerConnection.on(Hf.WILL_RECONNECT,(e,t)=>{\"recover\"===e&&t(e),t(\"tryNext\")}),this.workerConnection.on(Hf.REQUEST_NEW_URLS,(e,t)=>{this.workerManagerConnection.close(),this.once(VS.REQUEST_NEW_WORKER_URL,t=>{e([t])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e=>{this.connectWorkerManager(e,!0)}).catch(e=>{t(e)})})}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=oC(this,VS.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(VS.INSPECT_RESULT,void 0,new SE(fE.INVALID_OPERATION,\"Only the track being played can be inspected\"));const i=await this.generateRequestData(e,t);this.workerConnection.sendMessage(i,!0,!0)}else this.emit(VS.INSPECT_RESULT,void 0,new SE(fE.INVALID_OPERATION,\"Only the track being published can be inspected\"))}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await hw(d,i,n),l=this.sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+ZI(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:Ew.intToLong(Number(c-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:d.height,width:d.width,jpg:u,networkType:6,osType:7,requestId:l,sdkVersion:\"4.18.2\",sequence:this.sequence,sid:s,timestamp:Ew.intToLong(c),uid:a,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=Vb(h);if(p.byteLength<this.workerMessageLengthLimit){if(GE(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pw(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pw(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,OE.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=pE.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=US.CLOSED,this.emit(VS.STATE_CHANGE,xS.CLOSED)}}function mw(e){let t=function(){const e=gw.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let i=e.appId;void 0!==i&&(Dw(t,10),Ow(t,i));let n=e.cid;void 0!==n&&(Dw(t,16),Dw(t,n));let r=e.cname;void 0!==r&&(Dw(t,26),Ow(t,r));let o=e.deviceId;void 0!==o&&(Dw(t,34),Ow(t,o));let s=e.elapse;void 0!==s&&(Dw(t,40),Lw(t,s));let a=e.fileSize;void 0!==a&&(Dw(t,48),Lw(t,Tw(a)));let c=e.height;void 0!==c&&(Dw(t,56),Lw(t,Tw(c)));let d=e.jpg;void 0!==d&&(Dw(t,66),Dw(t,d.length),yw(t,d));let u=e.networkType;void 0!==u&&(Dw(t,72),Lw(t,Tw(u)));let l=e.osType;void 0!==l&&(Dw(t,80),Lw(t,Tw(l)));let h=e.requestId;void 0!==h&&(Dw(t,90),Ow(t,h));let p=e.sdkVersion;void 0!==p&&(Dw(t,98),Ow(t,p));let _=e.sequence;void 0!==_&&(Dw(t,104),Lw(t,Tw(_)));let E=e.sid;void 0!==E&&(Dw(t,114),Ow(t,E));let m=e.timestamp;void 0!==m&&(Dw(t,120),Lw(t,m));let f=e.uid;void 0!==f&&(Dw(t,128),Dw(t,f));let S=e.vid;void 0!==S&&(Dw(t,136),Dw(t,S));let T=e.width;void 0!==T&&(Dw(t,144),Lw(t,Tw(T)));let g=e.service;void 0!==g&&(Dw(t,152),Dw(t,g));let R=e.callbackData;void 0!==R&&(Dw(t,162),Dw(t,R.length),yw(t,R));let I=e.ticket;void 0!==I&&(Dw(t,170),Ow(t,I))}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function fw(e){return function(e){let t={};e:for(;!Iw(e);){let i=ww(e);switch(i>>>3){case 0:break e;case 1:t.code=ww(e);break;case 2:t.msg=Aw(e,ww(e));break;case 3:t.requestId=Aw(e,ww(e));break;case 4:t.timestamp=Pw(e,!1);break;default:Sw(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function Sw(e,t){switch(t){case 0:for(;128&Nw(e););break;case 2:Rw(e,ww(e));break;case 5:Rw(e,4);break;case 1:Rw(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}function Tw(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let gw=[];function Rw(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Iw(e){return e.offset>=e.limit}function Cw(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function vw(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function yw(e,t){let i=Cw(e,t.length);e.bytes.set(t,i)}function Aw(e,t){let i=vw(e,t),n=String.fromCharCode,r=e.bytes,o=\"�\",s=\"\";for(let e=0;e<t;e++){let a,c,d,u,l=r[e+i];0==(128&l)?s+=n(l):192==(224&l)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(u=(31&l)<<6|63&a,u<128?s+=o:(s+=n(u),e++))):224==(240&l)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(u=(15&l)<<12|(63&a)<<6|63&c,u<2048||u>=55296&&u<=57343?s+=o:(s+=n(u),e+=2))):240==(248&l)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(u=(7&l)<<18|(63&a)<<12|(63&c)<<6|63&d,u<65536||u>1114111?s+=o:(u-=65536,s+=n(55296+(u>>10),56320+(1023&u)),e+=3))):s+=o}return s}function Ow(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}Dw(e,n);let r=Cw(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function Nw(e){return e.bytes[vw(e,1)]}function bw(e,t){let i=Cw(e,1);e.bytes[i]=t}function ww(e){let t,i=0,n=0;do{t=Nw(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function Dw(e,t){for(t>>>=0;t>=128;)bw(e,127&t|128),t>>>=7;bw(e,t)}function Pw(e,t){let i,n=0,r=0,o=0;return i=Nw(e),n=127&i,128&i&&(i=Nw(e),n|=(127&i)<<7,128&i&&(i=Nw(e),n|=(127&i)<<14,128&i&&(i=Nw(e),n|=(127&i)<<21,128&i&&(i=Nw(e),r=127&i,128&i&&(i=Nw(e),r|=(127&i)<<7,128&i&&(i=Nw(e),r|=(127&i)<<14,128&i&&(i=Nw(e),r|=(127&i)<<21,128&i&&(i=Nw(e),o=127&i,128&i&&(i=Nw(e),o|=(127&i)<<7))))))))),{low:n|r<<28,high:r>>>4|o<<24,unsigned:t}}function Lw(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=Cw(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}const kw={},Mw={},Uw=4294967296,xw=0x10000000000000000,Vw=xw/2,jw=Hw(0,!0),Fw=Hw(0),Bw=Kw(0,-2147483648,!1),Gw=Kw(-1,2147483647,!1),Ww=Kw(-1,-1,!0);function Hw(e,t){let i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=Mw[e],n)?n:(i=Kw(e,0,!0),r&&(Mw[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=kw[e],n)?n:(i=Kw(e,e<0?-1:0,!1),r&&(kw[e]=i),i)}function Kw(e,t,i){return{low:0|e,high:0|t,unsigned:!!i}}function Yw(e,t){if(isNaN(e))return t?jw:Fw;if(t){if(e<0)return jw;if(e>=xw)return Ww}else{if(e<=-Vw)return Bw;if(e+1>=Vw)return Gw}return e<0?t?jw:Fw:Kw(e%Uw|0,e/Uw|0,t)}function qw(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class Jw extends EE{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(HS.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(e){var t;super(),_p(this,\"name\",\"AgoraRTCImageModeration\"),_p(this,\"_connectionState\",WS.CONNECTING),_p(this,\"_sequence\",0),_p(this,\"_moderationStartTime\",void 0),_p(this,\"_workerConnection\",void 0),_p(this,\"_workerMessageLengthLimit\",void 0),_p(this,\"_qualityRatio\",void 0),_p(this,\"_connectInfo\",void 0),_p(this,\"_cancelTokenSource\",pE.CancelToken.source()),_p(this,\"_retryConfig\",void 0),_p(this,\"_moderationInterval\",void 0),_p(this,\"_moderationTimer\",null),_p(this,\"_moderationMode\",1),_p(this,\"_quality\",1),_p(this,\"_qualityTimer\",null),_p(this,\"_ticket\",void 0),_p(this,\"_moderationIntervalMinimum\",void 0),_p(this,\"_uploadFailedNum\",0),_p(this,\"_uploadNum\",0),_p(this,\"_uploadTimer\",null),_p(this,\"_moderationId\",void 0),_p(this,\"inspectImage\",()=>{if(this.connectionState!==WS.CONNECTED)throw new SE(fE.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===WS.CONNECTED?this.requestToInspectImage():OE.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=ZI(5,\"image-moderation-\"),this._workerMessageLengthLimit=GE(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=GE(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,this._qualityRatio=GE(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new vC(\"worker-\"+this._moderationId,TE),this.on(HS.STATE_CHANGE,(e,t)=>{OE.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(KS[e],\" \").concat(t||\"\"))}),this.handleWorkerEvents()}async init(e,t){this.emit(HS.STATE_CHANGE,KS.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new Sl((n,r)=>{this.on(HS.CONNECTION_STATE_CHANGE,(e,t)=>{e===WS.CONNECTED&&n()}),this.requestAP(e,i,t).then(e=>{this.connectWorker(e)}).catch(e=>{r(e)})})}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,OE.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===WS.CONNECTED&&this.inspectImage()}async requestAP(e,t,i){const n=GE(\"WEBCS_DOMAIN\").map(e=>\"https://\".concat(e,\"/api/v1\")),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;sv++;const u=\"moderation_plugin\",l={service_name:u,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:sv,seq:sv,sid:a,appToken:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return RE(async()=>{h=Date.now();const e=await gg(_,{data:l,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new SE(fE.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+e.code,{retry:!0,responseTime:p});throw OE.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new SE(fE.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw OE.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new SE(fE.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:t.code,responseTime:p});throw OE.error(e.toString()),e}if(!t.servers.some(e=>!!e.wss)){const e=new SE(fE.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:t.code,responseTime:p});throw OE.error(e.toString()),e}const n=GE(\"IMAGE_MODERATION_WORKER_HOST\");return{addressList:t.servers.map(e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(i,\"/moderation\")}).filter(e=>!!e),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}},(t,i)=>(Pg.apworkerEvent(a,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1),(t,i)=>(Pg.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==fE.OPERATION_ABORTED&&t.code!==fE.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0)),n)}(n,e,t,i);this.emit(HS.STATE_CHANGE,KS.AP_CONNECTED);const{addressList:o,ticket:s}=r;return this._ticket=s,o}async connectWorker(e){this.emit(HS.STATE_CHANGE,KS.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(Hf.CONNECTED,async()=>{this.emit(HS.STATE_CHANGE,KS.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=WS.CONNECTED}),this._workerConnection.on(Hf.CLOSED,()=>{this.connectionState=WS.CLOSED}),this._workerConnection.on(Hf.FAILED,()=>{this.connectionState=WS.CLOSED}),this._workerConnection.on(Hf.RECONNECTING,()=>{this.connectionState=this.connectionState===WS.CONNECTED?WS.RECONNECTING:WS.CONNECTING}),this._workerConnection.on(Hf.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){const t=fw(new Uint8Array(e.data));GE(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&OE.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,OE.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(t.code,\", msg is \").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{Pg.reportApiInvoke(this._connectInfo.sid||null,{name:_f.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:Ef.TRACER}).onError(new SE(fE.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null},GE(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))))}else OE.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"))}),this._workerConnection.on(Hf.WILL_RECONNECT,(e,t)=>{\"recover\"===e&&t(e),t(\"tryNext\")}),this._workerConnection.on(Hf.REQUEST_NEW_URLS,(e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)})}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=oC(this,HS.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(GE(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&OE.debug(\"Only the track being played can be inspected\"));this._sequence++;const i=await this.generateRequestData(e,t);this._workerConnection.sendMessage(i,!0,!0)}else GE(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&OE.debug(\"Only the track being published can be inspected\")}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await hw(d,i,n),l=this._sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+ZI(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:Jw.intToLong(Number(c-this._moderationStartTime)),fileSize:d.buffer.byteLength,height:d.height,width:d.width,jpg:u,networkType:6,osType:7,requestId:l,sdkVersion:\"4.18.2\",sequence:this._sequence,sid:s,timestamp:Yw(c),uid:a,vid:o,service:this._moderationMode,ticket:this._ticket},p=mw(h);if(p.byteLength<this._workerMessageLengthLimit){if(GE(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qw(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qw(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,OE.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=pE.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=WS.CLOSED,this.emit(HS.STATE_CHANGE,KS.CLOSED)}}var Xw,zw,Qw,Zw,$w,eD,tD,iD,nD,rD,oD,sD,aD,cD,dD,uD,lD,hD,pD,_D,ED,mD,fD,SD,TD,gD,RD,ID,CD,vD,yD,AD,OD,ND,bD,wD,DD,PD,LD,kD;function MD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function UD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?MD(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):MD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let xD=(Xw=Dg(),zw=Dg({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),t.map(e=>e?Object(e).toString():\"null\"))}),Qw=Dg({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||(t=[t]),t.map(e=>e.getTrackId()))}),Zw=Dg({argsMap:(e,t,i)=>[t.uid,i]}),$w=Dg({argsMap:(e,t)=>t.map(e=>{let{user:t,mediaType:i}=e;return[null==t?void 0:t.uid,i]})}),eD=Dg({argsMap:(e,t,i)=>[t.uid,i]}),tD=Dg({argsMap:(e,t)=>t.map(e=>{let{user:t,mediaType:i}=e;return{uid:null==t?void 0:t.uid,mediaType:i}})}),iD=Dg(),nD=Dg(),rD=Dg(),oD=Dg(),sD=Dg(),aD=Dg(),cD=Dg(),dD=Dg(),uD=Dg(),lD=Dg(),hD=Dg(),pD=Dg(),_D=Dg(),ED=Dg(),mD=Dg({argsMap:(e,t)=>[t]}),fD=Dg(),SD=Dg(),TD=Dg(),gD=Dg(),RD=Dg(),ID=Dg(),CD=Dg(),vD=Dg(),yD=Dg(),AD=Dg(),OD=Dg({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),ND=Dg(),bD=Dg(),wD=Dg(),DD=Dg(),PD=Dg({reportResult:!0}),LD=Dg(),ag((kD=class extends EE{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return\"Client\"}constructor(e){let t;if(super(),_p(this,\"store\",void 0),_p(this,\"_uid\",void 0),_p(this,\"_channelName\",void 0),_p(this,\"_uintUid\",void 0),_p(this,\"_users\",[]),_p(this,\"_config\",void 0),_p(this,\"_clientId\",void 0),_p(this,\"_appId\",void 0),_p(this,\"_sessionId\",null),_p(this,\"_key\",void 0),_p(this,\"_joinInfo\",void 0),_p(this,\"_gateway\",void 0),_p(this,\"_statsCollector\",void 0),_p(this,\"_configDistribute\",void 0),_p(this,\"_leaveMutex\",new Ug(\"client-leave\")),_p(this,\"_publishMutex\",new Ug(\"client-publish\")),_p(this,\"_renewTokenMutex\",new Ug(\"client-renewtoken\")),_p(this,\"_subscribeMutex\",new Ug(\"client-subscribe\")),_p(this,\"_encryptionMode\",\"none\"),_p(this,\"_encryptionSecret\",null),_p(this,\"_encryptionSalt\",null),_p(this,\"_proxyServer\",void 0),_p(this,\"_turnServer\",{servers:[],mode:\"auto\"}),_p(this,\"_cloudProxyServerMode\",\"disabled\"),_p(this,\"_isDualStreamEnabled\",!1),_p(this,\"_defaultStreamFallbackType\",void 0),_p(this,\"_lowStreamParameter\",void 0),_p(this,\"_streamFallbackTypeCacheMap\",new Map),_p(this,\"_remoteStreamTypeCacheMap\",new Map),_p(this,\"_axiosCancelSource\",pE.CancelToken.source()),_p(this,\"_audioVolumeIndicationInterval\",void 0),_p(this,\"_networkQualityInterval\",void 0),_p(this,\"_userOfflineTimeout\",void 0),_p(this,\"_streamRemovedTimeout\",void 0),_p(this,\"_injectStreamingClient\",void 0),_p(this,\"_liveTranscodeStreamingClient\",void 0),_p(this,\"_liveRawStreamingClient\",void 0),_p(this,\"_channelMediaRelayClient\",void 0),_p(this,\"_networkQualitySensitivity\",\"normal\"),_p(this,\"_p2pChannel\",void 0),_p(this,\"_useLocalAccessPoint\",!1),_p(this,\"_setLocalAPVersion\",void 0),_p(this,\"_joinAndNotLeaveYet\",!1),_p(this,\"_numberOfJoinCount\",0),_p(this,\"_remoteDefaultVideoStreamType\",void 0),_p(this,\"_inspect\",void 0),_p(this,\"_moderation\",void 0),_p(this,\"_license\",void 0),_p(this,\"_handleLocalTrackEnable\",(e,t,i)=>{this.publish(e,!1).then(t).catch(i)}),_p(this,\"_handleLocalTrackDisable\",(e,t,i)=>{this.unpublish(e).then(t).catch(i)}),_p(this,\"_handleUserOnline\",e=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(e.uid,this.channelName))return void OE.debug(\"[\".concat(e.uid,\"] will be ignored in local\"));this.isStringUID&&\"string\"!=typeof e.uid&&OE.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));const t=this._users.find(t=>t.uid===e.uid);if(t)t._trust_in_room_=!0;else{const t=new yy(e.uid,e.uint_id||e.uid);this._users.push(t),OE.debug(\"[\".concat(this._clientId,\"] user online\"),e.uid),this.safeEmit(yf.USER_JOINED,t)}}),_p(this,\"_handleUserOffline\",e=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(e.uid,this.channelName))return;const t=this._users.find(t=>t.uid===e.uid);t&&(this._handleRemoveStream(e),aC(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),OE.debug(\"[\".concat(this._clientId,\"] user offline\"),e.uid,\"reason:\",e.reason),this.safeEmit(yf.USER_LEAVED,t,e.reason))}),_p(this,\"_handleAddAudioOrVideoStream\",(e,t,i,n,r,o,s)=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(t,this.channelName))return;const a=this._users.find(e=>e.uid===t);if(!a)return void OE.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));OE.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(a.uid,e,void 0,void 0,void 0,Date.now());const c=\"audio\"===e?a.hasAudio:a.hasVideo;a._uintid||(a._uintid=r||t),\"audio\"===e?a._trust_audio_stream_added_state_=!0:a._trust_video_stream_added_state_=!0,\"audio\"===e?(a._audio_added_=!0,void 0!==i&&(a._audioSSRC=i),void 0!==n&&(a._cname=n),o&&(a._audioOrtc=o)):(a._video_added_=!0,void 0!==i&&(a._videoSSRC=i),void 0!==n&&(a._cname=n),void 0!==s&&(a._rtxSsrcId=s),o&&(a._videoOrtc=o)),(\"audio\"===e?a.hasAudio:a.hasVideo)&&!c&&(OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(a.uid,\" published \").concat(e)),this.safeEmit(yf.USER_PUBLISHED,a,e)),\"video\"===e?Pg.onGatewayStream(this._sessionId,uf.ON_ADD_VIDEO_STREAM,lf.ON_ADD_VIDEO_STREAM,{peer:r||t}):Pg.onGatewayStream(this._sessionId,uf.ON_ADD_AUDIO_STREAM,lf.ON_ADD_AUDIO_STREAM,{peer:r||t}),this._p2pChannel.remoteMediaSsrcChanged(a,e,i).then(t=>{if(t)return OE.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel.unsubscribe(a,e,!0).then(()=>this._subscribe(a,e,!0).catch(e=>{OE.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(a,e)&&(OE.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after reconnect.\")),this._subscribe(a,e,!0).catch(e=>{OE.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))}),_p(this,\"_handleRemoveStream\",e=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(e.uid,this.channelName))return;const t=this._users.find(t=>t.uid===e.uid);if(!t)return void OE.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));OE.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(e.uid));let i=()=>{};t.hasAudio&&t.hasVideo?i=()=>{OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(yf.USER_UNPUBLISHED,t,\"audio\"),OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(yf.USER_UNPUBLISHED,t,\"video\")}:t.hasVideo?i=()=>{OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(yf.USER_UNPUBLISHED,t,\"video\")}:t.hasAudio&&(i=()=>{OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(yf.USER_UNPUBLISHED,t,\"audio\")}),t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel.unsubscribe(t).then(e=>{if(e)return this._gateway.unsubscribe(e,t.uid)}),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0,Pg.onGatewayStream(this._sessionId,uf.ON_REMOVE_STREAM,lf.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),i()}),_p(this,\"_handleSetStreamLocalEnable\",(e,t,i)=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(t,this.channelName))return;const n=this._users.find(e=>e.uid===t);if(!n)return void OE.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));OE.debug(\"[\".concat(this._clientId,\"] local \").concat(e,\" \").concat(i?\"enabled\":\"disabled\",\" with uid \").concat(t));const r=\"audio\"===e?n.hasAudio:n.hasVideo;if(\"audio\"===e){n._trust_audio_enabled_state_=!0;const e=n._audio_enabled_;if(n._audio_enabled_=i,n._audio_enabled_===e)return;{const e=n._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";OE.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(yf.USER_INFO_UPDATED,t,e)}}else{n._trust_video_enabled_state_=!0;const e=n._video_enabled_;if(n._video_enabled_=i,n._video_enabled_===e)return;{const e=n._video_enabled_?\"enable-local-video\":\"disable-local-video\";OE.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(yf.USER_INFO_UPDATED,t,e)}}const o=\"audio\"===e?n.hasAudio:n.hasVideo;return r!==o?!r&&o?(OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" published \").concat(e)),void this.safeEmit(yf.USER_PUBLISHED,n,e)):(\"video\"===e&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===e&&n._audioTrack,this._p2pChannel.muteRemote(n,e),OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished \").concat(e)),void this.safeEmit(yf.USER_UNPUBLISHED,n,e)):void 0}),_p(this,\"_handleMuteStream\",(e,t,i)=>{if(GE(\"BLOCK_LOCAL_CLIENT\")&&ZE(e,this.channelName))return;OE.debug(\"[\".concat(this._clientId,\"] receive mute message\"),e,t,i);const n=this._users.find(t=>t.uid===e);if(!n)return void OE.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(e));const r=\"audio\"===t?n.hasAudio:n.hasVideo;if(\"audio\"===t){n._trust_audio_mute_state_=!0;const t=n._audio_muted_;if(n._audio_muted_=i,n._audio_muted_===t)return;{const t=n._audio_muted_?\"mute-audio\":\"unmute-audio\";OE.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(yf.USER_INFO_UPDATED,e,t)}}else{n._trust_video_mute_state_=!0;const t=n._video_muted_;if(n._video_muted_=i,n._video_muted_===t)return;{const t=n._video_muted_?\"mute-video\":\"unmute-video\";OE.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(yf.USER_INFO_UPDATED,e,t)}}const o=\"audio\"===t?n.hasAudio:n.hasVideo;if(r!==o){if(!r&&o){return(\"audio\"===t?n._audioSSRC:n._videoSSRC)?(OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" published \").concat(t)),void this.safeEmit(yf.USER_PUBLISHED,n,t)):void OE.warning(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" receive \").concat(t,\" unmute message  before add stream message, \").concat(t,\" SSRC doesn't exist yet.\"))}\"video\"===t&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===t&&n._audioTrack,this._p2pChannel.muteRemote(n,t),OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" unpublished \").concat(t)),this.safeEmit(yf.USER_UNPUBLISHED,n,t)}}),_p(this,\"_handleP2PLost\",async e=>{OE.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():OE.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),e)}),_p(this,\"_handleTokenWillExpire\",()=>{OE.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(yf.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),_p(this,\"_handleBeforeUnload\",e=>{\"beforeunload\"===e.type&&void 0!==e.returnValue&&\"\"!==e.returnValue||(this.leave(),OE.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")))}),_p(this,\"_handleUpdateNetworkQuality\",()=>{if(\"normal\"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(yf.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(yf.NETWORK_QUALITY,e)}),this._config=e,this._clientId=ZI(5,\"client-\"),this.store=new kb(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),OE.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(bE,\" build: \").concat(NE,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),e.clientRoleOptions)try{Vf(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){OE.warning(\"[\".concat(this._clientId,\"] \").concat(e.toString()))}this._statsCollector=new kI(this.store),this._statsCollector.onStatsException=(e,t,i)=>{OE.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(e,\", msg: \").concat(t,\", uid: \").concat(i)),this.safeEmit(yf.EXCEPTION,{code:e,msg:t,uid:i})},this._statsCollector.onUploadPublishDuration=(e,t,i,n)=>{const r=this._users.find(t=>t.uid===e);r&&Pg.peerPublishStatus(this._sessionId,{subscribeElapse:n,audioPublishDuration:t,videoPublishDuration:i,peer:r._uintid})},this.store.useDataChannel=JS().supportDataChannel&&GE(\"SIGNAL_CHANNEL\"),this._gateway=new VC(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||TE,httpRetryConfig:e.httpRetryConfig||TE,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._configDistribute=new fv,this._p2pChannel=new bb(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async join(e,t,i,n,r){const o=++this._numberOfJoinCount;this.store.joinStart(),n&&(this.store.uid=n);const s=Ub(),a=xb()?window.isSecureContext:\"Browser Not Support\";if(!xb()&&!s||!window.isSecureContext){const e=\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";OE.warning(e)}const c=$I();\"DISCONNECTED\"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),OE.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart)));const d=Pg.reportApiInvoke(c,{name:_f.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:Ef.TRACER});Pg.setAppId(e);try{if(!i&&null!==i)throw new SE(fE.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&Xm(i,\"token\",1,2047),Xm(e,\"appid\",1,2047),Qm(t),n&&Zm(n),r&&Xm(r,\"optionalInfo\",1,2047)}catch(e){throw d.onError(e),e}if(OE.info(\"[\".concat(this._clientId,\"] start join channel \").concat(t,\", join number: \").concat(o)),this._leaveMutex.isLocked){OE.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\"));(await this._leaveMutex.lock())(),OE.debug(\"[\".concat(this._clientId,\"] join: continue\"))}if(this._joinAndNotLeaveYet=!0,\"DISCONNECTED\"!==this.connectionState){const e=new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw d.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state=\"CONNECTING\";const u=UD({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:\"string\"!=typeof n?n:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(u.setLocalAPVersion=this._setLocalAPVersion),\"string\"==typeof n&&(u.stringUid=n,this._uintUid?(u.uid=this._uintUid,this._uintUid=void 0):u.uid=0),\"none\"!==this._encryptionMode&&this._encryptionSecret){if(u.aesmode=this._encryptionMode,u.aespassword=await(async e=>{const t=pC(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\"),i=await window.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),n=Ag(e),r=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},i,n);return _C(new Uint8Array(r))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(u.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const l=this._sessionId;setTimeout(()=>{\"CONNECTING\"===this.connectionState&&l===this._sessionId&&Pg.joinChannelTimeout(this._sessionId,5)},5e3);try{let n;const r=u.cloudProxyServer;if([\"proxy3\",\"proxy4\",\"proxy5\"].includes(r)){const e=GE(\"PROXY_SERVER_TYPE3\");Array.isArray(e)?u.proxyServer=e[0]:u.proxyServer=e}if(Pg.setProxyServer(u.proxyServer),OE.setProxyServer(u.proxyServer),this.store.requestAPStart(),u.stringUid&&!u.uid){const e=await dv(u.stringUid,u,this._axiosCancelSource.token,this._config.httpRetryConfig||TE,this.store);OE.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(u.stringUid,\" => \").concat(e)),u.uid=e,n=await cv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||TE,!0,this.store)}else n=await cv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||TE,!0,this.store);if(!this._joinAndNotLeaveYet)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(u,this._axiosCancelSource.token),this._configDistribute.on(vS.UPDATE_BITRATE_LIMIT,e=>{this._p2pChannel.updateBitrateLimit(e)})},0),this._key=i||e;const o=n.gatewayInfo;this._joinInfo=UD(UD({},u),{},{cid:o.cid,uid:u.uid?u.uid:o.uid,vid:o.vid,apResponse:o.res,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs});const s=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));d.onSuccess(s),this._appId=e,this._channelName=u.cname,this._uid=s,this.store.uid=s,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Hh()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload)},0);const a=u.stringUid?\"string uid: \".concat(u.stringUid,\",uid: \").concat(u.uid):\"uid: \".concat(this._uid);return OE.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(t,\",\").concat(a)),setTimeout(()=>{OE.startUpload()},5e3),this.store.joinEnd(),h=this,zE.includes(h)||zE.push(h),s}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===fE.OPERATION_ABORTED?OE.warning(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t):OE.error(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t),t.code!==fE.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state=\"DISCONNECTED\",this._reset()),d.onError(t),t}var h}_joinGateway(){if(!this._joinInfo||!this._key)throw new SE(fE.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(\"disabled\"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!GE(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\"))).then(e=>e).catch(e=>{if(e.code===fE.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,vf.FALLBACK),e;if(e.code===fE.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,vf.FALLBACK),e;throw e}).then(e=>{if(e instanceof SE){if(e.code===fE.INIT_WEBSOCKET_TIMEOUT){if(OE.info(\"[\".concat(this._clientId,\"] join timeout, fallback to proxy\")),!this._joinInfo||!this._key)throw new SE(fE.INVALID_OPERATION);this._joinInfo.cloudProxyServer=\"fallback\",this._cloudProxyServerMode=\"fallback\",this.store.cloudProxyServerMode=\"fallback\";const e=GE(\"PROXY_SERVER_TYPE3\");if(Array.isArray(e))if(this._joinInfo.apUrl){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(this._joinInfo.apUrl)[1].split(\".\"),i=t.slice(t.length-2).join(\".\");e.forEach(e=>{this._joinInfo&&e.includes(i)&&(this._joinInfo.proxyServer=e)}),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=e[0])}else this._joinInfo.proxyServer=e[0];else this._joinInfo.proxyServer=e;const t=GE(\"LOG_UPLOAD_SERVER\").match(/.+:(\\d{1,5})$/);t&&t[1]&&\"443\"!==t[1]&&OE.setProxyServer(this._joinInfo.proxyServer),\"443\"!==GE(\"STATS_COLLECTOR_PORT\").toString()&&Pg.setProxyServer(this._joinInfo.proxyServer);return Pg.reportApiInvoke(this._sessionId,{name:_f.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:Ef.TRACER}).onSuccess(),this.safeEmit(yf.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),GE(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&this._joinInfo.turnServer.servers.forEach(e=>{\"forceturn\"in e&&(e.forceturn=!0)}),this._gateway.join(this._joinInfo,this._key)}if(OE.info(\"[\".concat(this._clientId,\"] join by datachannel timeout, fallback to websocket\")),!this._joinInfo||!this._key)throw new SE(fE.INVALID_OPERATION);return Pg.reportApiInvoke(this._sessionId,{name:_f.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:Ef.TRACER}).onSuccess(),this._joinGateway()}return e}).then(e=>e)}async leave(){OE.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(Hh()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){const t=zE.indexOf(e);-1!==t&&zE.splice(t,1)}(this);const e=await this._leaveMutex.lock();if(\"DISCONNECTED\"===this.connectionState)return OE.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void e();await this._gateway.leave(\"CONNECTED\"!==this.connectionState),OE.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Array.isArray(e)||(e=[e]),0===e.length)throw new SE(fE.INVALID_PARAMS,\"track list is empty\");if(\"audience\"===this._gateway.role)throw new SE(fE.INVALID_OPERATION,\"audience can not publish stream\");for(const i of e){if(!(i instanceof Vg))throw new SE(fE.INVALID_PARAMS,\"parameter is not local track\");if(!i._enabled&&t)throw new SE(fE.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(i.getTrackId()))}OE.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(e.map(e=>\"\".concat(e.getTrackId(),\" \"))));const i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&e.forEach(e=>{const t=this._configDistribute.getBitrateLimit();e instanceof Cy&&t&&e.setBitrateLimit(t.uplink)});try{await this._publishHighStream(e),OE.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(e.map(e=>\"\".concat(e.getTrackId(),\" \"))))}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] publish error\"),e.toString()),e}finally{i()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new SE(fE.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");e?Array.isArray(e)||(e=[e]):e=this._p2pChannel.getAllTracks(!0),OE.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(e.map(e=>\"\".concat(e.getTrackId(),\" \")),\" \"));const t=await this._publishMutex.lock();try{const i=await this._p2pChannel.unpublish(e);i&&await this._gateway.unpublish(i,this._uid),OE.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(e.map(e=>\"\".concat(e.getTrackId()))))}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] unpublish error\"),e.toString()),e}finally{t&&t()}}async subscribe(e,t){return this._subscribe(e,t)}async _subscribe(e,t,i){if(Ym(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find(t=>t===e)){const t=new SE(fE.INVALID_REMOTE_USER,\"user is not in the channel\");throw OE.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new SE(fE.INVALID_REMOTE_USER,\"user is not published\");throw OE.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!(i||(\"audio\"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&(\"video\"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const i=new SE(fE.REMOTE_USER_IS_NOT_PUBLISHED);throw OE.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}const n=\"audio\"===t?e._audioSSRC:e._videoSSRC,r=\"audio\"===t?e._audioOrtc:e._videoOrtc,o=\"video\"===t?e._rtxSsrcId:void 0,s={stream_type:\"audio\"===t?AS.AUDIO:AS.VIDEO,ssrcId:n},a=await this._subscribeMutex.lock();OE.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{DI.markSubscribeStart(this.store.clientId,n),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,n,o,r);try{await this._gateway.subscribe(e.uid,s,!0)}catch(i){if((null==i?void 0:i.code)!==fE.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),i;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(i){throw this._p2pChannel.reportSubscribeEvent(!1,null==i?void 0:i.code,e,t),i}OE.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch(e=>{OE.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)});const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new SE(fE.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw OE.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{a()}}async massSubscribe(e){if(zm(e,\"subscribeList\"),!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const t=Date.now(),i=new Map,n=await this._subscribeMutex.lock();OE.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(e.map(e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)}).join(\"; \")));const r=(e=[...e]).map(e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i}}),o=await this._p2pChannel.globalLock();try{var s;for(let t=e.length-1;t>=0;t--){const n=e[t],{user:o,mediaType:s}=n;if(Ym(s,\"mediaType\",[\"audio\",\"video\"]),!o){const e=new SE(fE.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw OE.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),e}if(!this._users.find(e=>e===o)){const i=new SE(fE.INVALID_REMOTE_USER,\"user is not in the channel\");OE.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(o.uid,\", this user is not in the channel\")),r[t].error=i,e.splice(t,1);continue}if(\"audio\"===s&&(!o.hasAudio||void 0===o._audioSSRC)||\"video\"===s&&(!o.hasVideo||void 0===o._videoSSRC)){const i=new SE(fE.REMOTE_USER_IS_NOT_PUBLISHED);OE.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(o.uid,\" with mediaType \").concat(s,\", remote user is not published\")),r[t].error=i,e.splice(t,1);continue}const a=cS.Video|cS.LwoVideo,c=i.get(o);if(c){if(\"video\"===s?c&a:c&cS.Audio){e.splice(t,1),OE.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(o.uid,\", mediaType:\").concat(s,\" twice\"));continue}i.set(o,c|(\"video\"===s?a:cS.Audio))}else i.set(o,\"video\"===s?a:cS.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:r,mediaType:o}=n,s=cS.Video|cS.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,o)){await this._p2pChannel.unmuteRemoteNoLock(r,o);const n=i.get(r);i.set(r,\"video\"===o?n^s:n^cS.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map(e=>({userId:e.user.uid,type:e.mediaType})),t);const a=zi(s=Array.from(i.entries())).call(s,(e,t)=>{let[i,n]=t;if(0===n)return e;const r={stream_id:i.uid,stream_type:n};return n&cS.Audio&&(r.audio_ssrc=i._audioSSRC),n&cS.Video&&(r.video_ssrc=i._videoSSRC),e.push(r),e},[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map(e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i,ssrcId:i===AS.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:i===AS.VIDEO?t._rtxSsrcId:void 0}}));const i=new Map;if(a.length>0){const e=await this._gateway.subscribeAll(a,!0);((null==e?void 0:e.users)||[]).forEach(e=>{let{stream_id:t,video_error_code:n,audio_error_code:r,error_code:o}=e;(n||r||o)&&i.set(t,{video_error_code:n,audio_error_code:r,error_code:o})})}if(Array.from(i.entries()).length>0){const e=Array.from(i.entries()).map(e=>{let t,[i,n]=e;n.error_code||n.video_error_code&&n.audio_error_code?t=void 0:n.video_error_code?t=AS.VIDEO:n.audio_error_code&&(t=AS.AUDIO);return{user:this.remoteUsers.find(e=>e.uid===i),mediaType:t}});await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=i.get(e.user.uid);if(t){const i=t.error_code||\"audio\"===e.mediaType&&t.audio_error_code||\"video\"===e.mediaType&&t.video_error_code;if(i){const t=IC(i);OE.error(\"user:\".concat(e.user.uid,\" mediaType:\").concat(e.mediaType,\" has massSubscribe error \").concat(t.desc)),e.error=new SE(fE.SUBSCRIBE_FAILED,\"code \".concat(i,\": \").concat(t.desc))}}e.error||(\"video\"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter(e=>!e.error).map(e=>({userId:e.user.uid,type:e.mediaType})),void 0,Date.now()),r.forEach(e=>{var i;Pg.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(i=e.error)||void 0===i?void 0:i.code)||null,video:e.mediaType===AS.VIDEO,audio:e.mediaType===AS.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===AS.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t)},!0)}),OE.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(e.map(e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)}).join(\"; \"))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),n()}}async unsubscribe(e,t){if(t&&Ym(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");if(!this._users.find(t=>t===e)){const t=new SE(fE.INVALID_REMOTE_USER,\"user is not in the channel\");throw OE.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}OE.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: \").concat(t));const i=await this._subscribeMutex.lock();try{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),OE.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(e.uid,\", mediaType: \").concat(t))}catch(t){if(t.code===fE.DISCONNECT_P2P)return void OE.warning(\"disconnecting p2p, abort unsubscribe request.\");throw OE.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}finally{i()}}async massUnsubscribe(e){if(zm(e,\"unsubscribeList\"),!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");OE.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(e.map(e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")}).join())),e=[...e];const t=new Map;for(let i=e.length-1;i>=0;i--){const{user:n,mediaType:r}=e[i];if(!n){const e=new SE(fE.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw OE.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),e}Ym(r,\"mediaType\",[\"video\",\"audio\",void 0]);if(!this._users.find(e=>e===n)){OE.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(n.uid,\", user is not in the channel\")),e.splice(i,1);continue}const o=cS.Video|cS.LwoVideo;if(t.has(n)){const s=t.get(n);let a;switch(r){case\"video\":a=s&o;break;case\"audio\":a=s&cS.Audio;break;default:a=s&(cS.Audio|o)}if(a){OE.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(n.uid,\",mediaType:\").concat(r,\" twice.\")),e.splice(i,1);continue}r?\"audio\"===r?t.set(n,s|cS.Audio):\"video\"===r&&t.set(n,s|o):t.set(n,s|cS.Audio|o)}else r?\"audio\"===r?t.set(n,cS.Audio):\"video\"===r&&t.set(n,o):t.set(n,cS.Audio|o)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),OE.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(e.map(e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")}).join()))}catch(e){if(e.code===fE.DISCONNECT_P2P)return void OE.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw OE.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),e.toString()),e}}setLowStreamParameter(e){!function(e){if(!e)throw new SE(fE.INVALID_PARAMS);$m(e.width)||Jm(e.width,\"streamParameter.width\"),$m(e.height)||Jm(e.height,\"streamParameter.height\"),$m(e.framerate)||Jm(e.framerate,\"streamParameter.framerate\"),$m(e.bitrate)||qm(e.bitrate,\"streamParameter.bitrate\")}(e),(!e.width&&e.height||e.width&&!e.height)&&OE.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),OE.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e}async enableDualStream(){if(!JS().supportDualStream)throw Pg.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new SE(fE.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new SE(fE.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw Pg.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,Pg.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),OE.info(\"[\".concat(this._clientId,\"] enable dual stream\"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(bS.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw Pg.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,Pg.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),OE.info(\"[\".concat(this._clientId,\"] disable dual stream\"))}}async setClientRole(e,t){if(function(e){Ym(e,\"role\",[\"audience\",\"host\"])}(e),t&&Vf(t),\"rtc\"===this.mode)throw OE.warning(\"[\".concat(this._clientId,\"]rtc mode can not use setClientRole\")),new SE(fE.INVALID_OPERATION,\"rtc mode can not use setClientRole\");if(t&&t.level&&\"host\"===e)throw new SE(fE.INVALID_OPERATION,\"host mode can not set audience latency level\");if(\"audience\"===e&&this._p2pChannel.hasLocalMedia())throw new SE(fE.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(e,t),this._config.role=e,OE.info(\"[\".concat(this._clientId,\"] set client role to \").concat(e,\", level: \").concat(t&&t.level))}setProxyServer(e,t){if(Xm(e,\"proxyServer\"),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Set proxy server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new SE(fE.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=e,Pg.setProxyServer(this._proxyServer),OE.setProxyServer(this._proxyServer),OE.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(t?\"by initialize call\":\"\",\" success.\"))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Set turn server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new SE(fE.INVALID_OPERATION,\"You have already set the proxy\")}if(Uf(e))return this._turnServer={servers:e,mode:\"original-manual\"},void OE.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(t?\"by initialize call\":\"\",\" success: \").concat(e.map(e=>e.urls).join(\",\"),\".\"));e.forEach(e=>xf(e)),this._turnServer={servers:e,mode:\"manual\"},OE.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(t?\"by initialize call\":\"\",\" success.\"))}setLicense(e){if(\"DISCONNECTED\"!==this.connectionState){throw new SE(fE.INVALID_OPERATION,\"you should set license before join channel\")}if(Xm(e,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(e))throw new SE(fE.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=e,OE.info(\"[\".concat(this._clientId,\"] set license success\"),e)}startProxyServer(e){if(\"DISCONNECTED\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||\"manual\"===this._turnServer.mode||this._useLocalAccessPoint)throw new SE(fE.INVALID_OPERATION,\"You have already set the proxy\");const t=[3,4,5];let i;switch(void 0===e&&(e=3),e){case 1:case 2:throw new SE(fE.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:i=\"proxy3\";break;case 4:i=\"proxy4\";break;case 5:i=\"proxy5\";break;default:throw new SE(fE.INVALID_PARAMS,\"proxy server mode must be \".concat(t.join(\"|\")))}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,OE.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode)}stopProxyServer(){if(\"DISCONNECTED\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"Stop proxy server after leave channel\");Pg.setProxyServer(),OE.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",OE.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new SE(fE.INVALID_PARAMS,\"accessPoints is required.\");zm(e.accessPoints.serverList,\"accessPoints.serverList\"),Xm(e.accessPoints.domain,\"accessPoints.domain\");const t=(e,t)=>{qm(e,t,0,65535,!0)};let i=443;if(e.accessPoints.port&&(t(e.accessPoints.port,\"accessPoints.port\"),i=e.accessPoints.port),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new SE(fE.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");GE(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(BE(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),BE(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));const n=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=e.accessPoints.domain,o=e.accessPoints.serverList.map(e=>n.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(r):e),s=o.map(e=>\"\".concat(e,\":\").concat(i));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,BE(\"WEBCS_DOMAIN\",s),BE(\"WEBCS_DOMAIN_BACKUP_LIST\",s),BE(\"GATEWAY_DOMAINS\",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(zm(e.report.hostname,\"report.hostname\"),BE(\"EVENT_REPORT_DOMAIN\",e.report.hostname[0]),BE(\"EVENT_REPORT_BACKUP_DOMAIN\",e.report.hostname[1]||e.report.hostname[0])):(BE(\"EVENT_REPORT_DOMAIN\",o[0]),BE(\"EVENT_REPORT_BACKUP_DOMAIN\",o[1]||o[0]));let a=6443;e.report&&e.report.port&&(t(e.report.port,\"report.port\"),a=e.report.port),BE(\"STATS_COLLECTOR_PORT\",a),e.report?BE(\"ENABLE_EVENT_REPORT\",!0):BE(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(zm(e.log.hostname,\"log.hostname\"),c=e.log.hostname[0]):c=o[0];let d=6444;e.log&&e.log.port&&(t(e.log.port,\"log.port\"),d=e.log.port),BE(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let u=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(zm(e.cds.hostname,\"cds.hostname\"),u=e.cds.hostname):u=o;let l=443;e.cds&&e.cds.port&&(t(e.cds.port,\"cds.port\"),l=e.cds.port),BE(\"CDS_AP\",u.map(e=>\"\".concat(e,\":\").concat(l))),e.cds?BE(\"ENABLE_CONFIG_DISTRIBUTE\",!0):BE(\"ENABLE_CONFIG_DISTRIBUTE\",!1),OE.info(\"set local access point v2 success\")}setLocalAccessPoints(e,t){if(zm(e,\"serverList\"),Xm(t,\"domain\"),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new SE(fE.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");const i=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;e=e.map(e=>i.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(t):e),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,BE(\"WEBCS_DOMAIN\",e),BE(\"WEBCS_DOMAIN_BACKUP_LIST\",e),BE(\"GATEWAY_DOMAINS\",[t]),BE(\"EVENT_REPORT_DOMAIN\",e[0]),BE(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]||e[0]),BE(\"LOG_UPLOAD_SERVER\",\"\".concat(e[0],\":6444\")),OE.info(\"[\".concat(this._clientId,\"] set local access point success\"))}async setRemoteDefaultVideoStreamType(e){if(Ym(e,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else OE.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(e))}async setRemoteVideoStreamType(e,t){Ym(t,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout(()=>{const t=this._users.find(t=>t.uid===e);t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),e.toString()),e}OE.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" video stream type to \").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){Ym(t,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),e.toString()),e}OE.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" stream fallback type to \").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,i){!function(e){Ym(e,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"])}(e),Xm(t,\"secret\");if([\"aes-128-gcm2\",\"aes-256-gcm2\"].includes(e)){if(!i||!(i instanceof Uint8Array&&32===i.length))throw new SE(fE.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(i)throw new SE(fE.INVALID_PARAMS,\"current encrypt mode does not need salt\");new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t)||OE.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"),this._encryptionMode=e,this._encryptionSecret=t,i&&(this._encryptionSalt=_C(i))}async renewToken(e){if(Xm(e,\"token\",1,2047),!this._key||!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"renewToken should not be called before user join\");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const i=await this._renewTokenMutex.lock();try{if(GE(\"USE_NEW_TOKEN\")){OE.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));const t=await _v(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||TE);OE.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:e,ticket:t})}else OE.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:e});OE.debug(\"[\".concat(this._clientId,\"] renewToken success\"))}catch(e){throw this._key=t,this._joinInfo.token=t,OE.error(\"[\".concat(this._clientId,\"] renewToken failed\"),e.toString()),e}finally{i()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?OE.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(yf.VOLUME_INDICATOR,e)},GE(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(\"h264\"!==this.codec)throw new SE(fE.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new SE(fE.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new SE(fE.LIVE_STREAMING_TASK_CONFLICT);const i=t?Kf.TRANSCODE:Kf.RAW;return this._createLiveStreamingClient(i).startLiveStreamingTask(e,i)}setLiveTranscoding(e){return this._createLiveStreamingClient(Kf.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(t=>t&&t.hasUrl(e));if(!t.length)throw new SE(fE.INVALID_PARAMS,\"can not find live streaming url to stop\");await Sl.all(t.map(t=>t&&t.stopLiveStreamingTask(e)))}async addInjectStreamUrl(e,t){if(!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"can not addInjectStreamUrl, no joininfo\");const i=this._createLiveStreamingClient(Kf.INJECT);i.setInjectStreamConfig(t,0),await i.startLiveStreamingTask(e,Kf.INJECT)}async removeInjectStreamUrl(){var e;const t=this._createLiveStreamingClient(Kf.INJECT),i=Array.from(IR(e=t.streamingTasks).call(e)).find(e=>e.mode===Kf.INJECT);if(!this._joinInfo||!i)throw new SE(fE.INVALID_OPERATION,\"can remove addInjectStreamUrl, no joininfo or inject task\");await t.stopLiveStreamingTask(i.url)}async startChannelMediaRelay(e){yv(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){yv(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"can not send data stream, not joined\");if(\"string\"==typeof e){e=(new TextEncoder).encode(e)}if(new Blob([e]).size>1024)throw new SE(fE.INVALID_PARAMS,\"stream message out of range.\");return this._gateway.signal.request(bf.DATA_STREAM,{payload:_C(e)},!t)}sendMetadata(e){if(!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([e]).size>1024)throw new SE(fE.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(bf.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:_C(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(cf),!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"can not send custom report, not joined\");await Pg.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){Ym(t.spatialLayer,\"spatialLayer\",[0,1,2,3]),Ym(t.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw OE.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),e.toString()),e}}_reset(){if(OE.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=pE.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._users.forEach(e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy()}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),\"fallback\"===this._cloudProxyServerMode&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new Ug(\"client-publish\"),this._subscribeMutex=new Ug(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){const i=e||$I();e?OE.debug(\"[\".concat(this._clientId,\"] new Session \").concat(i)):OE.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(i)),this._sessionId=i,this.store.sessionId=i,t?Pg.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this.mode}):this._joinInfo?Pg.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this.mode}):this._gateway.joinInfo&&Pg.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this.mode}),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new SE(fE.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&GE(\"FORCE_TURN\")&&!GE(\"TURN_ENABLE_TCP\")&&!GE(\"TURN_ENABLE_UDP\"))throw new SE(fE.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");OE.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{const i=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),n=(await i.next()).value;if(n){var t;let e;try{e=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==fE.DISCONNECT_P2P)throw i.throw(e),e}await i.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof Cy&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===fE.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new SE(fE.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new SE(fE.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));OE.debug(\"[\".concat(this._clientId,\"] publish low stream\"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await e.next()).value;if(i){var t;let n;try{n=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==fE.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=n)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===fE.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId){return new SE(fE.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw()}const t=()=>new Cv(this._joinInfo,this._config.websocketRetryConfig||TE,this._config.httpRetryConfig||TE),i=e=>{e.onLiveStreamError=(e,t)=>{Pg.reportApiInvoke(this._sessionId,{name:_f.ON_LIVE_STREAM_ERROR,options:[e,t],tag:Ef.TRACER}).onSuccess(),this.safeEmit(yf.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{Pg.reportApiInvoke(this._sessionId,{name:_f.ON_LIVE_STREAM_WARNING,options:[e,t],tag:Ef.TRACER}).onSuccess(),this.safeEmit(yf.LIVE_STREAMING_WARNING,e,t)},e.on($f.REQUEST_WORKER_MANAGER_LIST,(e,t,i)=>{if(!this._joinInfo)return i(new SE(fE.INVALID_OPERATION,\"can not find join info to get worker manager\"));hv(e,this._joinInfo,this._axiosCancelSource.token,TE).then(t).catch(i)})};switch(e){case Kf.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),i(this._liveRawStreamingClient)),this._liveRawStreamingClient;case Kf.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),i(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case Kf.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on($f.REQUEST_WORKER_MANAGER_LIST,(e,t,i)=>{if(!this._joinInfo)return i(new SE(fE.INVALID_OPERATION,\"can not find join info to get worker manager\"));hv(e,this._joinInfo,this._axiosCancelSource.token,TE).then(t).catch(i)}),this._injectStreamingClient.onInjectStatusChange=(e,t,i)=>{this.emit(yf.INJECT_STREAM_STATUS,e,t,i)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){if(!this._joinInfo){return new SE(fE.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw()}if(!this._channelMediaRelayClient){const{sendResolutionWidth:e,sendResolutionHeight:t}=this.getLocalVideoStats(),i={width:e,height:t};this._channelMediaRelayClient=new Ov(this._joinInfo,this._clientId,this._config.websocketRetryConfig||TE,this._config.httpRetryConfig||TE,i),this._channelMediaRelayClient.on(\"state\",e=>{e===rS.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.safeEmit(yf.CHANNEL_MEDIA_RELAY_STATE,e)}),this._channelMediaRelayClient.on(\"event\",e=>{this.safeEmit(yf.CHANNEL_MEDIA_RELAY_EVENT,e)}),this._statsCollector.onStatsChanged=(e,t)=>{var i;\"resolution\"===e&&(null===(i=this._channelMediaRelayClient)||void 0===i||i.setVideoProfile(t))}}return this._channelMediaRelayClient}_handleGatewayEvents(){this._gateway.on(aS.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(aS.CONNECTION_STATE_CHANGE,(e,t,i)=>{var n;if(i===vf.FALLBACK)return;const r=()=>{this.safeEmit(yf.CONNECTION_STATE_CHANGE,e,t,i)};if(Pg.reportApiInvoke(this._sessionId||(null===(n=this._gateway.joinInfo)||void 0===n?void 0:n.sid)||null,{name:_f.CONNECTION_STATE_CHANGE,options:[e,t,i],tag:Ef.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:i})),OE.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(t,\" -> \").concat(e)),\"DISCONNECTED\"===e)return this._reset(),void r();if(\"RECONNECTING\"===e)this._users.forEach(e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(\"CONNECTED\"===e){var o;this._streamFallbackTypeCacheMap.forEach((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch(e=>{OE.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),e)})}),this._remoteStreamTypeCacheMap.forEach((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch(e=>{OE.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),e)})}),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{OE.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"))}).catch(e=>{OE.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e))}),this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{if(\"CONNECTED\"!==this.connectionState)return;this._userOfflineTimeout=void 0;this._users.filter(e=>!e._trust_in_room_).forEach(e=>{OE.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(e.uid)),this._handleUserOffline({uid:e.uid})})},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{\"CONNECTED\"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach(e=>{e._trust_audio_mute_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,\"audio\",!1)),e._trust_video_mute_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,\"video\",!1)),e._trust_audio_enabled_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(e.uid)),this._handleSetStreamLocalEnable(\"audio\",e.uid,!0)),e._trust_video_enabled_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(e.uid)),this._handleSetStreamLocalEnable(\"video\",e.uid,!0)),e._trust_video_stream_added_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(e.uid)),this._handleResetAddStream(e,\"video\")),e._trust_audio_stream_added_state_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(e.uid)),this._handleResetAddStream(e,\"audio\")),e._video_added_||e._audio_added_||(OE.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))}))},1e3)}r()}),this._gateway.on(aS.REQUEST_NEW_GATEWAY_LIST,(e,t)=>{if(!this._joinInfo)return t(new SE(fE.UNEXPECTED_ERROR,\"can not recover, no join info\"));av(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||TE,this.store).then(t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip),e(t.gatewayInfo.gatewayAddrs.map(e=>{if(this._joinInfo&&this._joinInfo.proxyServer){const t=e.address.split(\":\");return\"wss://\".concat(this._joinInfo.proxyServer,\"/ws/?h=\").concat(t[0],\"&p=\").concat(t[1])}return\"wss://\".concat(e.address)}))}).catch(t)}),this._gateway.on(aS.NETWORK_QUALITY,e=>{\"normal\"===this._networkQualitySensitivity&&this.safeEmit(yf.NETWORK_QUALITY,e)}),this._gateway.on(aS.STREAM_TYPE_CHANGE,(e,t)=>{this.safeEmit(yf.STREAM_TYPE_CHANGED,e,t);Pg.reportApiInvoke(this._sessionId,{name:_f.STREAM_TYPE_CHANGE,options:[e,t],tag:Ef.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))}),this._gateway.on(aS.IS_P2P_DISCONNECTED,e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)}),this._gateway.on(aS.NEED_RENEW_SESSION,()=>{this._startSession()}),this._gateway.on(aS.REQUEST_P2P_CONNECTION_PARAMS,async(e,t,i)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){i(e)}}),this._gateway.on(aS.JOIN_RESPONSE,(e,t)=>{const{dtlsParameters:i,iceParameters:n,candidates:r,rtpCapabilities:o,setup:s,cname:a}=GO(e.ortc,t);this._p2pChannel.connect(n,i,r,o,s,a)}),this._gateway.on(aS.REQUEST_DC_CONNECTION_PARAMS,e=>{e(this._p2pChannel.getEstablishParams())}),this._gateway.on(aS.RESET_SIGNAL,e=>{this._p2pChannel.resetConnection(e),this._handleGatewaySignalEvents()}),this._gateway.on(aS.DATACHANNEL_FAILBACK,()=>{this._joinGateway()}),this._gateway.on(aS.DATACHANNEL_PRECONNECT,async(e,t,i,n)=>{var r,o,s,a,c,d;await this._p2pChannel.startP2PConnection({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},!0);const u=function(e,t){let i;return t&&t.ip&&\"number\"==typeof t.port?(i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],OE.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(i.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),OE.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip,port:e.port.toString(),type:\"host\",extension:{}}],i}(e,t);return this._p2pChannel.preConnect({iceUfrag:\"\".concat(null===(o=this._joinInfo)||void 0===o?void 0:o.apResponse.cid,\"_\").concat(null===(s=this._joinInfo)||void 0===s?void 0:s.apResponse.cert),icePwd:\"\".concat(null===(a=this._joinInfo)||void 0===a?void 0:a.apResponse.cid,\"_\").concat(null===(c=this._joinInfo)||void 0===c?void 0:c.apResponse.cert)},{fingerprints:[{hashFunction:\"sha-256\",fingerprint:null!==(d=GE(\"FINGERPRINT\"))&&void 0!==d?d:e.fingerprint}]},u,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},\"active\",\"o/i14u9pJrxRKAsu\").then(i).catch(n)})}_handleGatewaySignalEvents(){this._gateway.signal.on(Df.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(Df.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(Df.ON_ADD_AUDIO_STREAM,e=>this._handleAddAudioOrVideoStream(\"audio\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc)),this._gateway.signal.on(Df.ON_ADD_VIDEO_STREAM,e=>this._handleAddAudioOrVideoStream(\"video\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId)),this._gateway.signal.on(Df.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(Df.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(Df.MUTE_AUDIO,e=>this._handleMuteStream(e.uid,\"audio\",!0)),this._gateway.signal.on(Df.UNMUTE_AUDIO,e=>this._handleMuteStream(e.uid,\"audio\",!1)),this._gateway.signal.on(Df.MUTE_VIDEO,e=>this._handleMuteStream(e.uid,\"video\",!0)),this._gateway.signal.on(Df.UNMUTE_VIDEO,e=>this._handleMuteStream(e.uid,\"video\",!1)),this._gateway.signal.on(Df.RECEIVE_METADATA,e=>{const t=pC(e.metadata);this.safeEmit(yf.RECEIVE_METADATA,e.uid,t)}),this._gateway.signal.on(Df.ON_DATA_STREAM,e=>{e.seq&&delete e.seq,e.payload=pC(e.payload),this.safeEmit(yf.STREAM_MESSAGE,e.uid,e.payload),this.onStreamMessage&&this.onStreamMessage(e)}),this._gateway.signal.on(Df.ON_CRYPT_ERROR,()=>{hC(()=>{OE.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(yf.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(Df.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(Df.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{OE.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0),this.safeEmit(yf.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(Df.ON_STREAM_FALLBACK_UPDATE,e=>{OE.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(e.stream_id,\", attr: \").concat(e.stream_type)),this.safeEmit(yf.STREAM_FALLBACK,e.stream_id,1===e.stream_type?\"fallback\":\"recover\")}),this._gateway.signal.on(Df.ON_PUBLISH_STREAM,e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),OE.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(e))))}),this._gateway.signal.on(Df.ENABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!0)}),this._gateway.signal.on(Df.DISABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!1)}),this._gateway.signal.on(Nf.REQUEST_TIMEOUT,(e,t)=>{if(this._joinInfo)switch(e){case bf.PUBLISH:{if(!t)return;const e=(t=t).ortc;if(e){var i,n,r,o;const s=e.some(e=>{let{stream_type:t}=e;return t===sS.Audio}),a=e.some(e=>{let{stream_type:t}=e;return t!==sS.Audio}),c=e.some(e=>{let{stream_type:t}=e;return t===sS.Screen||t===sS.ScreenLow});\"offer\"===t.state&&Pg.publish(this._joinInfo.sid,{eventElapse:DI.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:fE.TIMEOUT,audio:s,video:a,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:c,audioName:s?null===(i=e.find(e=>{let{stream_type:t}=e;return t===sS.Audio}))||void 0===i||null===(n=i.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:a?null===(r=e.find(e=>{let{stream_type:t}=e;return t!==sS.Audio}))||void 0===r||null===(o=r.ssrcs[0])||void 0===o?void 0:o.ssrcId.toString():void 0})}break}case bf.SUBSCRIBE:(t=t)&&Pg.subscribe(this._joinInfo.sid,{succ:!1,ec:fE.TIMEOUT,audio:t.stream_type===AS.AUDIO,video:t.stream_type===AS.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:DI.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}}),this._gateway.signal.on(Df.ON_P2P_OK,e=>{this.uid,this._uid}),this._gateway.signal.on(Df.ON_PUBLISHED_USER_LIST,e=>{if(null==e||!e.users)return;GE(\"BLOCK_LOCAL_CLIENT\")&&(e.users=e.users.filter(e=>!ZE(e.audio_ssrc,this.channelName)));const t=[],i=[];for(const n of e.users){let e=this._users.find(e=>e.uid===n.stream_id);e?e._trust_in_room_=!0:(e=new yy(n.stream_id,n.stream_id),this._users.push(e),0===this.getListeners(yf.PUBLISHED_USER_LIST).length&&(OE.debug(\"[\".concat(this._clientId,\"] user online\"),n.stream_id),this.safeEmit(yf.USER_JOINED,e)));const r=cS.Audio&n.stream_type,o=(cS.Video|cS.LwoVideo)&n.stream_type,s=r&&e.hasAudio,a=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=n.video_ssrc,e._rtxSsrcId=n.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=n.audio_ssrc),r&&!s&&0===this.getListeners(yf.PUBLISHED_USER_LIST).length&&(OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published audio\")),this.safeEmit(yf.USER_PUBLISHED,e,\"audio\")),o&&!a&&0===this.getListeners(yf.PUBLISHED_USER_LIST).length&&(OE.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published video\")),this.safeEmit(yf.USER_PUBLISHED,e,\"video\")),(r&&!s||o&&!a)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,\"video\")&&i.push({user:e,mediaType:\"video\"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,\"audio\")&&i.push({user:e,mediaType:\"audio\"})}i.length>0&&(OE.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(i.map(e=>\"user: \".concat(e.user.uid,\", mediaType: \").concat(e.mediaType)).join(\"; \"),\" \")),this.massSubscribe(i).catch(e=>{OE.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),e.toString())})),this.getListeners(yf.PUBLISHED_USER_LIST).length>0?(OE.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(t.map(e=>e.uid).join(\", \"))),this.safeEmit(yf.PUBLISHED_USER_LIST,t)):OE.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map(e=>e.uid).join(\", \")))})}_handleP2PChannelEvents(){this._p2pChannel.on(DS.RequestMuteLocal,async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===fE.DISCONNECT_P2P?t():i(e)}else t()}),this._p2pChannel.on(DS.RequestUnmuteLocal,async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===fE.DISCONNECT_P2P?t():i(e)}else t()}),this._p2pChannel.on(DS.RequestRePublish,(e,t,i)=>{this.publish(e,!1).then(t).catch(i)}),this._p2pChannel.on(DS.RequestReSubscribe,async(e,t,i)=>{try{for(const{user:t,kind:i}of e)i===AS.VIDEO?await this.subscribe(t,\"video\"):await this.subscribe(t,\"audio\");t()}catch(e){i(e)}}),this._p2pChannel.on(DS.RequestUploadStats,(e,t)=>{this._gateway.uploadStats(e,t)}),this._p2pChannel.on(DS.MediaReconnectStart,e=>{this.safeEmit(yf.MEDIA_RECONNECT_START,e)}),this._p2pChannel.on(DS.MediaReconnectEnd,e=>{this.safeEmit(yf.MEDIA_RECONNECT_END,e)}),this._p2pChannel.on(DS.NeedSignalRTT,e=>{e(this._gateway.getSignalRTT())}),this._p2pChannel.on(DS.RequestRestartICE,async e=>{const t=await this._p2pChannel.restartICE(e),i=await t.next();if(i.done)return;const n=i.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(e){return void t.throw(e)}const{iceParameters:o}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:o})}),this._p2pChannel.on(DS.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(DS.RequestReconnectPC,async()=>{var e;const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:i,rtpCapabilities:n}),{dtlsParameters:s,iceParameters:a,candidates:c,rtpCapabilities:d,setup:u,cname:l}=GO(r,o);await this._p2pChannel.connect(a,s,c,d,u,l),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(DS.RequestUnpublishForReconnectPC,async(e,t,i)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):i()}),this._p2pChannel.on(DS.P2PLost,()=>{this.safeEmit(yf.P2P_LOST,this.store.uid)}),this._p2pChannel.on(DS.UpdateVideoEncoder,e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)}),this._p2pChannel.on(DS.ConnectionTypeChange,e=>{this.safeEmit(yf.IS_USING_CLOUD_PROXY,e)}),this._p2pChannel.on(DS.RequestLowStreamParameter,e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(DS.QueryClientConnectionState,e=>{e(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client did not join channel\"));if(this._inspect)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));if(!e)throw new SE(fE.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig is necessary\"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new SE(fE.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.inspectType is necessary and is an instance of Array.\"));{const t=[...new Set(e.inspectType)];t.forEach(e=>{if(![\"supervise\",\"moderation\"].includes(e))throw new SE(fE.INVALID_PARAMS,\"[\".concat(this._clientId,\"] \").concat(e,\" is not a valid inspect type.\"))}),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new SE(fE.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.extraInfo length cannot exceed 1024 bytes\"));try{const t=new Ew(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},TE)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(Km(e,\"enabled\"),e){if(!t)throw new SE(fE.INVALID_PARAMS,\"[\".concat(this._clientId,\"] config is necessary\"));if(qm(t.interval,\"interval\",1e3,1/0),\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,'] can not enable image moderation, not joined\"'));try{if(this._moderation)return void this._moderation.updateConfig(t);const e=new Jw(t);this._moderation=e,this.handleImageModerationEvents(this._moderation),await e.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},TE)}catch(e){throw Array.isArray(e)?e[0]:e}}else{if(!this._moderation)throw new SE(fE.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(HS.CONNECTION_STATE_CHANGE,(t,i)=>{switch(this.emit(yf.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,i),t){case WS.CONNECTED:if(\"CONNECTED\"!==this.connectionState)throw this.setImageModeration(!1),new SE(fE.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");e.inspectImage()}}),e.on(HS.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(e=>\"video\"===e.trackMediaType)[0])})}handleVideoInspectEvents(e){e.on(VS.CONNECTION_STATE_CHANGE,(t,i)=>{switch(this.emit(yf.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,i),i){case US.CONNECTED:if(\"CONNECTED\"!==this.connectionState)return void this.emit(yf.CONTENT_INSPECT_ERROR,new SE(fE.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));e.inspectImage()}}),e.on(VS.INSPECT_RESULT,(e,t)=>{var i;if((null==t?void 0:t.code)===fE.INVALID_OPERATION&&\"DISCONNECTED\"===this.connectionState)return OE.debug(\"Stop inspect content because that has left channel\"),null==this||null===(i=this._inspect)||void 0===i||i.close(),void(this._inspect=void 0);this.emit(yf.CONTENT_INSPECT_RESULT,e,t)}),e.on(VS.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(e=>\"video\"===e.trackMediaType)[0])})}getJoinChannelServiceRecords(){return OE.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){Km(e,\"enabled\"),BE(\"ENABLE_PUBLISH_AUDIO_FILTER\",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case\"audio\":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case\"video\":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}).prototype,\"leave\",[Xw],Object.getOwnPropertyDescriptor(kD.prototype,\"leave\"),kD.prototype),ag(kD.prototype,\"publish\",[zw],Object.getOwnPropertyDescriptor(kD.prototype,\"publish\"),kD.prototype),ag(kD.prototype,\"unpublish\",[Qw],Object.getOwnPropertyDescriptor(kD.prototype,\"unpublish\"),kD.prototype),ag(kD.prototype,\"subscribe\",[Zw],Object.getOwnPropertyDescriptor(kD.prototype,\"subscribe\"),kD.prototype),ag(kD.prototype,\"massSubscribe\",[$w],Object.getOwnPropertyDescriptor(kD.prototype,\"massSubscribe\"),kD.prototype),ag(kD.prototype,\"unsubscribe\",[eD],Object.getOwnPropertyDescriptor(kD.prototype,\"unsubscribe\"),kD.prototype),ag(kD.prototype,\"massUnsubscribe\",[tD],Object.getOwnPropertyDescriptor(kD.prototype,\"massUnsubscribe\"),kD.prototype),ag(kD.prototype,\"setLowStreamParameter\",[iD],Object.getOwnPropertyDescriptor(kD.prototype,\"setLowStreamParameter\"),kD.prototype),ag(kD.prototype,\"enableDualStream\",[nD],Object.getOwnPropertyDescriptor(kD.prototype,\"enableDualStream\"),kD.prototype),ag(kD.prototype,\"disableDualStream\",[rD],Object.getOwnPropertyDescriptor(kD.prototype,\"disableDualStream\"),kD.prototype),ag(kD.prototype,\"setClientRole\",[oD],Object.getOwnPropertyDescriptor(kD.prototype,\"setClientRole\"),kD.prototype),ag(kD.prototype,\"setProxyServer\",[sD],Object.getOwnPropertyDescriptor(kD.prototype,\"setProxyServer\"),kD.prototype),ag(kD.prototype,\"setTurnServer\",[aD],Object.getOwnPropertyDescriptor(kD.prototype,\"setTurnServer\"),kD.prototype),ag(kD.prototype,\"setLicense\",[cD],Object.getOwnPropertyDescriptor(kD.prototype,\"setLicense\"),kD.prototype),ag(kD.prototype,\"startProxyServer\",[dD],Object.getOwnPropertyDescriptor(kD.prototype,\"startProxyServer\"),kD.prototype),ag(kD.prototype,\"stopProxyServer\",[uD],Object.getOwnPropertyDescriptor(kD.prototype,\"stopProxyServer\"),kD.prototype),ag(kD.prototype,\"setLocalAccessPointsV2\",[lD],Object.getOwnPropertyDescriptor(kD.prototype,\"setLocalAccessPointsV2\"),kD.prototype),ag(kD.prototype,\"setLocalAccessPoints\",[hD],Object.getOwnPropertyDescriptor(kD.prototype,\"setLocalAccessPoints\"),kD.prototype),ag(kD.prototype,\"setRemoteDefaultVideoStreamType\",[pD],Object.getOwnPropertyDescriptor(kD.prototype,\"setRemoteDefaultVideoStreamType\"),kD.prototype),ag(kD.prototype,\"setRemoteVideoStreamType\",[_D],Object.getOwnPropertyDescriptor(kD.prototype,\"setRemoteVideoStreamType\"),kD.prototype),ag(kD.prototype,\"setStreamFallbackOption\",[ED],Object.getOwnPropertyDescriptor(kD.prototype,\"setStreamFallbackOption\"),kD.prototype),ag(kD.prototype,\"setEncryptionConfig\",[mD],Object.getOwnPropertyDescriptor(kD.prototype,\"setEncryptionConfig\"),kD.prototype),ag(kD.prototype,\"renewToken\",[fD],Object.getOwnPropertyDescriptor(kD.prototype,\"renewToken\"),kD.prototype),ag(kD.prototype,\"enableAudioVolumeIndicator\",[SD],Object.getOwnPropertyDescriptor(kD.prototype,\"enableAudioVolumeIndicator\"),kD.prototype),ag(kD.prototype,\"startLiveStreaming\",[TD],Object.getOwnPropertyDescriptor(kD.prototype,\"startLiveStreaming\"),kD.prototype),ag(kD.prototype,\"setLiveTranscoding\",[gD],Object.getOwnPropertyDescriptor(kD.prototype,\"setLiveTranscoding\"),kD.prototype),ag(kD.prototype,\"stopLiveStreaming\",[RD],Object.getOwnPropertyDescriptor(kD.prototype,\"stopLiveStreaming\"),kD.prototype),ag(kD.prototype,\"addInjectStreamUrl\",[ID],Object.getOwnPropertyDescriptor(kD.prototype,\"addInjectStreamUrl\"),kD.prototype),ag(kD.prototype,\"removeInjectStreamUrl\",[CD],Object.getOwnPropertyDescriptor(kD.prototype,\"removeInjectStreamUrl\"),kD.prototype),ag(kD.prototype,\"startChannelMediaRelay\",[vD],Object.getOwnPropertyDescriptor(kD.prototype,\"startChannelMediaRelay\"),kD.prototype),ag(kD.prototype,\"updateChannelMediaRelay\",[yD],Object.getOwnPropertyDescriptor(kD.prototype,\"updateChannelMediaRelay\"),kD.prototype),ag(kD.prototype,\"stopChannelMediaRelay\",[AD],Object.getOwnPropertyDescriptor(kD.prototype,\"stopChannelMediaRelay\"),kD.prototype),ag(kD.prototype,\"sendCustomReportMessage\",[OD],Object.getOwnPropertyDescriptor(kD.prototype,\"sendCustomReportMessage\"),kD.prototype),ag(kD.prototype,\"pickSVCLayer\",[ND],Object.getOwnPropertyDescriptor(kD.prototype,\"pickSVCLayer\"),kD.prototype),ag(kD.prototype,\"enableContentInspect\",[bD],Object.getOwnPropertyDescriptor(kD.prototype,\"enableContentInspect\"),kD.prototype),ag(kD.prototype,\"disableContentInspect\",[wD],Object.getOwnPropertyDescriptor(kD.prototype,\"disableContentInspect\"),kD.prototype),ag(kD.prototype,\"setImageModeration\",[DD],Object.getOwnPropertyDescriptor(kD.prototype,\"setImageModeration\"),kD.prototype),ag(kD.prototype,\"getJoinChannelServiceRecords\",[PD],Object.getOwnPropertyDescriptor(kD.prototype,\"getJoinChannelServiceRecords\"),kD.prototype),ag(kD.prototype,\"setPublishAudioFilterEnabled\",[LD],Object.getOwnPropertyDescriptor(kD.prototype,\"setPublishAudioFilterEnabled\"),kD.prototype),kD);class VD extends zg{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(Lf.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),_p(this,\"audioBuffer\",void 0),_p(this,\"sourceNode\",void 0),_p(this,\"startPlayTime\",0),_p(this,\"startPlayOffset\",0),_p(this,\"pausePlayTime\",0),_p(this,\"options\",void 0),_p(this,\"currentLoopCount\",0),_p(this,\"currentPlaybackSpeed\",100),_p(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer.duration}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return\"stopped\"===this.currentState?0:\"paused\"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration}updateOptions(e){\"stopped\"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):OE.warning(\"can not set audio source options\")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\"}pauseProcessAudioBuffer(){this.sourceNode&&\"playing\"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,\"playing\"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),\"playing\"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):\"paused\"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){\"paused\"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(\"playing\"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const jD=new Map;async function FD(e,t){let i=null;if(\"string\"==typeof e){const t=jD.get(e);if(t)return OE.debug(\"use cached audio resource: \",e),t;try{i=(await RE(()=>pE.get(e,{responseType:\"arraybuffer\"}),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new SE(fE.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new Sl((t,i)=>{const n=new FileReader;n.onload=e=>{e.target?t(e.target.result):i(new SE(fE.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=()=>{i(new SE(fE.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(e)});i=await t}const n=await function(e){const t=Hg();return new Sl((i,n)=>{t.decodeAudioData(e,e=>{i(e)},e=>{n(new SE(fE.DECODE_AUDIO_FILE_FAILED,e.toString()))})})}(i);return\"string\"==typeof e&&t&&jD.set(e,n),n}function BD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function GD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?BD(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):BD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function WD(e,t,i,n){i.optimizationMode&&(n&&n.width&&n.height?(i.encoderConfig=GD(GD({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),\"motion\"!==i.optimizationMode&&\"detail\"!==i.optimizationMode||(t.contentHint=i.optimizationMode,t.contentHint===i.optimizationMode?OE.debug(\"[\".concat(e,\"] set content hint to\"),i.optimizationMode):OE.debug(\"[\".concat(e,\"] set content hint failed\")))):OE.warning(\"[\".concat(e,\"] can not apply optimization mode bitrate config, no encoderConfig\")))}const HD=xh().name;function KD(e,t,i,n){let r,o=0,s=null;return new Sl((a,c)=>{setTimeout(()=>{r&&(r(),a(o))},t),r=Jg(()=>{!function(){o>n&&r&&(r(),a(o));const t=i.getContext(\"2d\");if(!t){const e=new SE(fE.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return OE.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const d=t.getImageData(0,0,i.width,i.height),u=Math.floor(d.data.length/3);if(s){for(let e=0;e<u;e+=3)if(d.data[e]!==s[e])return o+=1,void(s=d.data);s=d.data}else s=d.data}()},30)})}class YD{constructor(e,t){_p(this,\"id\",0),_p(this,\"element\",void 0),_p(this,\"peerPair\",void 0),_p(this,\"context\",void 0),_p(this,\"audioPlayerElement\",void 0),_p(this,\"audioTrack\",void 0),YD.count+=1,this.id=YD.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement(\"audio\");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const i=\"offer\"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(i),\"complete\"===e.iceGatheringState?e.localDescription:new Sl(t=>{e.onicegatheringstatechange=()=>{\"complete\"===e.iceGatheringState&&t(e.localDescription)}})},t=async(e,t)=>await e.setRemoteDescription(t);try{const i=await e(this.peerPair[0],\"offer\");await t(this.peerPair[1],i);const n=await e(this.peerPair[1],\"answer\");await t(this.peerPair[0],n)}catch(e){throw new SE(fE.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination();this.context.createMediaElementSource(e).connect(t)}catch(e){throw new SE(fE.LOCAL_AEC_ERROR,e.toString()).print()}if(!t){throw new SE(fE.LOCAL_AEC_ERROR,\"no dest node when local aec\").print()}const i=t.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){OE.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(e=>{e.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var qD,JD;_p(YD,\"count\",0);const XD=window.AudioContext||window.webkitAudioContext;const zD=new(qD=Dg({report:Pg}),ag((JD=class{constructor(){_p(this,\"units\",[]),_p(this,\"context\",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return OE.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new XD);let t=this.units.find(t=>t&&t.getElement()===e);return t||(t=new YD(e,this.context),this.units.push(t)),t.startEchoCancellation(),OE.debug(\"start processing local audio echo cancellation, id is\",t.id),t.id}_doesEnvironmentNeedAEC(){return xh().name!==wh.SAFARI}}).prototype,\"processExternalMediaAEC\",[qD],Object.getOwnPropertyDescriptor(JD.prototype,\"processExternalMediaAEC\"),JD.prototype),JD);function QD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ZD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(i),!0).forEach((function(t){_p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):QD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const $D=window||document;function eP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!$D)return;const i=tP._cspEventHandlerPointer;if(i&&t)return void console.error(i,t);const n=e=>{if(!(e&&e.blockedURI&&(tP.onSecurityPolicyViolation||tP.getListeners(BS.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;GE(\"CSP_DETECTED_HOSTNAME_LIST\").some(e=>t.includes(e))&&(tP.onSecurityPolicyViolation&&\"function\"==typeof tP.onSecurityPolicyViolation&&tP.onSecurityPolicyViolation(e),tP.getListeners(BS.SECURITY_POLICY_VIOLATION).length>0&&tP.safeEmit(BS.SECURITY_POLICY_VIOLATION,e))};i&&$D.removeEventListener(\"securitypolicyviolation\",i),(t||e&&\"function\"==typeof e||tP.getListeners(BS.SECURITY_POLICY_VIOLATION).length>0)&&$D.addEventListener(\"securitypolicyviolation\",n),tP._cspEventHandlerPointer=n}BE(\"PROCESS_ID\",\"process-\".concat(ZI(8,\"\"),\"-\").concat(ZI(4,\"\"),\"-\").concat(ZI(4,\"\"),\"-\").concat(ZI(4,\"\"),\"-\").concat(ZI(12,\"\"))),function(){const e=xh();qS.getDisplayMedia=function(e){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;return!1}(),qS.getStreamFromExtension=e.name===wh.CHROME&&Number(e.version)>34,qS.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!(\"currentDirection\"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver(\"audio\"),t=!0}catch(e){}return e.close(),t}(),qS.supportMinBitrate=e.name===wh.CHROME||e.name===wh.EDGE,qS.supportSetRtpSenderParameters=function(){const e=xh();if(!window.RTCRtpSender||!window.RTCRtpSender.prototype.setParameters||!window.RTCRtpSender.prototype.getParameters)return!1;return!!rp()||(!(!Hh()&&!Fh())||e.name===wh.FIREFOX&&Number(e.version)>=64)}(),e.name===wh.SAFARI&&(Number(e.version)>=14?qS.supportDualStream=!0:qS.supportDualStream=!1),qS.webAudioMediaStreamDest=function(){const e=xh();if(e.name===wh.SAFARI&&Number(e.version)<12)return!1;return!0}(),qS.supportReplaceTrack=function(){if(!window.RTCRtpSender)return!1;if(\"function\"==typeof RTCRtpSender.prototype.replaceTrack)return!0;return!1}(),qS.supportWebGL=\"undefined\"!=typeof WebGLRenderingContext,qS.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,rp()||(qS.webAudioWithAEC=!0),qS.supportShareAudio=function(){const e=xh();if((e.os===bh.WIN_10||e.os===bh.WIN_81||e.os===bh.WIN_7||e.os===bh.LINUX||e.os===bh.MAC_OS)&&e.name===wh.CHROME&&Number(e.version)>=74)return!0;return!1}(),qS.supportDualStreamEncoding=function(){const e=xh();if(GE(\"DISABLE_WEBAUDIO\"))return!0;return\"Safari\"===e.name&&Number(e.version)>=14||!!(\"Chrome\"===e.name&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&GE(\"CHROME_DUAL_STREAM_USE_ENCODING\"))}(),qS.supportDataChannel=function(){if(qh(76)||function(e){const t=xh();return!(t.name!==wh.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||function(e){const t=xh();return!(t.name!==wh.SAFARI||!t.osVersion)&&Number(t.version)>=e}(14))return!0;return!1}(),qS.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!Kh()&&!!e&&e.prototype.setConfiguration instanceof Function}(),qS.supportWebRTCEncodedTransform=function(){const e=xh();return\"Chrome\"===e.name&&Number(e.version)>=86}(),OE.info(\"browser compatibility\",JSON.stringify(qS),JSON.stringify(e))}(),function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void OE.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();OE.debug(\"Loading global parameters from cache\",t),Object.keys(t).forEach(e=>{if(Object.prototype.hasOwnProperty.call(WE,e)){const{value:n,expires:r}=t[e];if(r&&r<=i)return;HE[e]=n,WE[e]=n}})}catch(t){OE.error(\"Error loading mutableParamsCache: \".concat(e),t.message)}}(),Array.isArray(HE.AREAS)&&HE.AREAS.length>0&&qC(HE.AREAS,!0);const tP=function(e){const t=new EE,i=e,n={getListeners:t.getListeners.bind(t),on:(e,i)=>(function(e,t){e===BS.SECURITY_POLICY_VIOLATION&&eP(t,!0)}(e,i),t.on.bind(t)(e,i)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return ZD(ZD({},i),n)}({__CLIENT_LIST__:zE,__TRACK_LIST__:QE,VERSION:bE,BUILD:NE,setParameter:(e,t,i)=>{OE.debug(\"setParameter key:\".concat(e,\", value:\").concat(JSON.stringify(t))),BE(e,t,i)},getParameter:GE,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver(\"video\",{direction:\"recvonly\"}),t.addTransceiver(\"audio\",{direction:\"recvonly\"});const i=(await t.createOffer()).sdp;if(!i)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push(\"VP8\"),e.match(/ VP9/i)&&t.video.push(\"VP9\"),e.match(/ AV1/i)&&t.video.push(\"AV1\"),e.match(/ H264/i)&&t.video.push(\"H264\"),e.match(/ H265/i)&&t.video.push(\"H265\"),e.match(/ opus/i)&&t.audio.push(\"OPUS\"),e.match(/ PCMU/i)&&t.audio.push(\"PCMU\"),e.match(/ PCMA/i)&&t.audio.push(\"PCMA\"),e.match(/ G722/i)&&t.audio.push(\"G722\"),t}(i)}catch(e){throw new SE(fE.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=Pg.reportApiInvoke(null,{name:_f.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Ef.TRACER});let t=!1;try{const e=window.RTCPeerConnection,i=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;t=!!(e&&i&&n)}catch(e){return OE.error(\"check system requirement failed: \",e),!1}let i=!1;const n=xh();n.name===wh.CHROME&&Number(n.version)>=58&&(!Gh()||Bh())&&(i=!0),n.name===wh.FIREFOX&&Number(n.version)>=56&&(i=!0),n.name===wh.OPERA&&Number(n.version)>=45&&(i=!0),n.name===wh.SAFARI&&Number(n.version)>=11&&(i=!0),(ip()||xh().name===wh.QQ)&&(i=!0),OE.debug(\"checkSystemRequirements, api:\",t,\"browser\",i);const r=t&&i;return e.onSuccess(r),r},getDevices:function(e){return lR.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return lR.getRecordingDevices(e)},getCameras:function(e){return lR.getCamerasDevices(e)},getElectronScreenSources:eR,getPlaybackDevices:function(e){return lR.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"};const t=Pg.reportApiInvoke(null,{name:_f.CREATE_CLIENT,options:[e],tag:Ef.TRACER});try{Mf(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec=\"opus\"),t.onSuccess(),new xD(UD(UD({forceWaitGatewayResponse:!0},e),{},{role:\"rtc\"===e.mode?\"host\":e.role||\"audience\"}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_CAM_VIDEO_TRACK,options:[GD({},e)]}),i=Mv(e),n=ZI(8,\"track-cam-\");let r=null;OE.info(\"start create camera video track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await aR({video:i},n)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new SE(fE.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw()}e.optimizationMode&&WD(n,r,e,UE(e.encoderConfig));const o=new vy(r,e,i,e.scalabiltyMode?VE(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return t.onSuccess(o.getTrackId()),OE.info(\"create camera video success, trackId:\",n),o},createCustomVideoTrack:function(e){const t=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),i=new Cy(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?VE(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,ZI(8,\"track-cus-\"),[lS.CUSTOM_TRACK]);return t.onSuccess(i.getTrackId()),OE.info(\"create custom video track success with config\",e,\"trackId\",i.getTrackId()),i},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"disable\";const i=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_SCREEN_VIDEO_TRACK,options:[GD({},e),t]});e.encoderConfig?\"string\"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig=\"1080p_2\";const n=Uv(e),r=ZI(8,\"track-scr-v-\");let o=null,s=null;const a=JS();if(!a.supportShareAudio&&\"enable\"===t){const e=new SE(fE.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return i.onError(e),e.throw()}OE.info(\"start create screen video track with config\",e,\"withAudio\",t,\"trackId\",r);try{const e=await aR({screen:n,screenAudio:\"auto\"===t?a.supportShareAudio:\"enable\"===t},r);o=e.getVideoTracks()[0]||null,s=e.getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!o){const e=new SE(fE.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw()}if(!s&&\"enable\"===t){o&&o.stop();const e=new SE(fE.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw()}e.optimizationMode||(e.optimizationMode=\"detail\"),e.optimizationMode&&(WD(r,o,e,e.encoderConfig&&xE(e.encoderConfig)),e.encoderConfig&&\"string\"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const c=new Cy(o,e.encoderConfig?xE(e.encoderConfig):{},e.scalabiltyMode?VE(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r,[lS.SCREEN_TRACK]);if(!s)return i.onSuccess(c.getTrackId()),OE.info(\"create screen video track success\",\"video:\",c.getTrackId()),c;const d=new yI(s,void 0,ZI(8,\"track-scr-a-\"),!1,!0);return i.onSuccess([c.getTrackId(),d.getTrackId()]),OE.info(\"create screen video track success\",\"video:\",c.getTrackId(),\"audio:\",d.getTrackId()),[c,d]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),n=Mv(t),r=xv(e),o=ZI(8,\"track-mic-\"),s=ZI(8,\"track-cam-\");let a=null,c=null;OE.info(\"start create camera video track(\".concat(s,\") and microphone audio track(\").concat(o,\") with config, audio: \").concat(JSON.stringify(e),\", video: \").concat(JSON.stringify(t)));try{const e=await aR({audio:r,video:n},\"\".concat(o,\"-\").concat(s));a=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw i.onError(e),e}if(!a||!c){const e=new SE(fE.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return i.onError(e),e.throw()}t.optimizationMode&&WD(s,c,t,UE(t.encoderConfig));const d=new AI(a,e,r,o),u=new vy(c,t,n,t.scalabiltyMode?VE(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,s);return i.onSuccess([d.getTrackId(),u.getTrackId()]),OE.info(\"create camera video track(\".concat(s,\") and microphone audio track(\").concat(o,\") success\")),[d,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_MIC_AUDIO_TRACK,options:[e]}),i=xv(e),n=ZI(8,\"track-mic-\");let r=null;OE.info(\"start create microphone audio track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await aR({audio:i},n)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new SE(fE.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw()}const o=new AI(r,e,i,n);return t.onSuccess(o.getTrackId()),OE.info(\"create microphone audio track success, trackId:\",n),o},createCustomAudioTrack:function(e){const t=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),i=new yI(e.mediaStreamTrack,e.encoderConfig?FE(e.encoderConfig):{},ZI(8,\"track-cus-\"),!1,!0);return OE.info(\"create custom audio track success with config\",e,\"trackId\",i.getTrackId()),t.onSuccess(i.getTrackId()),i},createBufferSourceAudioTrack:async function(e){const t=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CREATE_BUFFER_AUDIO_TRACK,options:[e]});if(GE(\"DISABLE_WEBAUDIO\"))throw new SE(fE.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");const i=ZI(8,\"track-buf-\");OE.info(\"start create buffer source audio track with config\",JSON.stringify(e),\"trackId\",i);const n=e.source;if(!(e.source instanceof AudioBuffer))try{e.source=await FD(e.source,e.cacheOnlineFile)}catch(e){return t.onError(e),e.throw()}const r=new VD(e.source),o=new OI(n,r,e.encoderConfig?FE(e.encoderConfig):{},i);return OE.info(\"create buffer source audio track success, trackId:\",i),t.onSuccess(o.getTrackId()),o},setAppType:function(e){if(OE.debug(\"setAppType: \".concat(e)),!(Number.isInteger(e)&&e>=0))throw OE.debug(\"Invalid appType\"),new SE(fE.INVALID_PARAMS,\"invalid app type\",e);BE(\"APP_TYPE\",Math.floor(e))},setLogLevel:function(e){OE.setLogLevel(e)},enableLogUpload:function(){GE(\"USE_NEW_LOG\")?BE(\"UPLOAD_LOG\",!0):OE.enableLogUpload()},disableLogUpload:function(){GE(\"USE_NEW_LOG\")?BE(\"UPLOAD_LOG\",!1):OE.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new vv},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof yI||e instanceof nb)){const e=new SE(fE.INVALID_TRACK,\"the parameter is not a audio track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof yI?e.getTrackLabel():\"remote_track\",r=e.getVolumeLevel();let o=r,s=r;const a=Date.now();return new Sl(r=>{const c=setInterval(()=>{const d=e.getVolumeLevel();o=d>o?d:o,s=d<s?d:s;const u=o-s>1e-4,l=Date.now()-a;if(u||l>t){clearInterval(c);const t=u,s={duration:l,deviceLabel:n,maxVolumeLevel:o,result:t};OE.info(\"[track-\".concat(e.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(s))),i.onSuccess(s),r(t)}},200)})},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=Pg.reportApiInvoke(null,{tag:Ef.TRACER,name:_f.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Cy||e instanceof ib)){const e=new SE(fE.INVALID_TRACK,\"the parameter is not a video track\");return i.onError(e),e.throw()}const n=4;t&&t<1e3&&(t=1e3);const r=e instanceof Cy?e.getTrackLabel():\"remote_track\",o=e.getMediaStreamTrack(!0),s=document.createElement(\"video\");s.style.width=\"1px\",s.style.height=\"1px\",s.setAttribute(\"muted\",\"\"),s.muted=!0,s.setAttribute(\"playsinline\",\"\"),s.controls=!1,(Hh()||Fh())&&(s.style.opacity=\"0.01\",s.style.position=\"fixed\",s.style.left=\"0\",s.style.top=\"0\",document.body.appendChild(s)),s.srcObject=new MediaStream([o]),s.play();const a=document.createElement(\"canvas\");a.width=160,a.height=120;let c=0,d=0;try{const e=Date.now();c=await KD(s,t,a,n),d=Date.now()-e}catch(e){throw i.onError(e),e}HD===wh.SAFARI&&(s.pause(),s.remove()),s.srcObject=null;const u=c>n,l={duration:d,changedPicNum:c,deviceLabel:r,result:u};return OE.info(\"[track-\".concat(e.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),i.onSuccess(l),u},setArea:qC,audioElementPlayCenter:pR,processExternalMediaAEC:function(e){zD.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach(e=>{const t=e;t.__registered__=!0,t.logger.hookLog=OE.extLog,t.reporter.hookApiInvoke=Pg.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach(e=>{t.parameters[e]=GE(e)})})},ChannelMediaRelayError:oS,ChannelMediaRelayEvent:nS,ChannelMediaRelayState:rS,RemoteStreamFallbackType:_S,RemoteStreamType:pS,ConnectionDisconnectedReason:vf,AudienceLatencyLevelType:Cf,AREAS:SS});return Object.defineProperties(tP,{onAudioAutoplayFailed:{get:()=>vg.onAudioAutoplayFailed,set:e=>{vg.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>vg.onAutoplayFailed,set:e=>{vg.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>tP._onSecurityPolicyViolation,set(e){tP._onSecurityPolicyViolation=e,eP(e)}}}),lR.on(ff.CAMERA_DEVICE_CHANGED,e=>{OE.info(\"camera device changed\",JSON.stringify(e)),tP.onCameraChanged&&tP.onCameraChanged(e),tP.safeEmit(BS.CAMERA_CHANGED,e)}),lR.on(ff.RECORDING_DEVICE_CHANGED,e=>{OE.info(\"microphone device changed\",JSON.stringify(e)),tP.onMicrophoneChanged&&tP.onMicrophoneChanged(e),tP.safeEmit(BS.MICROPHONE_CHANGED,e)}),lR.on(ff.PLAYOUT_DEVICE_CHANGED,e=>{OE.debug(\"playout device changed\",JSON.stringify(e)),tP.onPlaybackDeviceChanged&&tP.onPlaybackDeviceChanged(e),tP.safeEmit(BS.PLAYBACK_DEVICE_CHANGED,e)}),pR.onAutoplayFailed=()=>{OE.info(\"detect audio element autoplay failed\"),vg.onAudioAutoplayFailed&&vg.onAudioAutoplayFailed()},Gg.on(\"autoplay-failed\",()=>{OE.info(\"detect webaudio autoplay failed\"),vg.onAudioAutoplayFailed&&vg.onAudioAutoplayFailed(),tP.safeEmit(BS.AUTOPLAY_FAILED)}),window&&(window.__ARTC__=tP),tP}));\n","\r\nexport const DevicePlatform = {\r\n\tUnknown: 'unknown',\r\n\tIOS: 'ios',\r\n\tAndroid: 'android',\r\n\tWindowsPhone: 'windowsPhone',\r\n\tVRHeadset: 'vrHeadset',\r\n};\r\n\r\nexport class DeviceService {\r\n\r\n\tstatic get platform() {\r\n\t\tif (!this.platform_) {\r\n\t\t\tthis.platform_ = this.getDevicePlatform();\r\n\t\t}\r\n\t\treturn this.platform_;\r\n\t}\r\n\r\n\tstatic get isIOS() {\r\n\t\treturn ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) !== -1\r\n\t\t\t// iPad on iOS 13 detection\r\n\t\t\t|| (navigator.userAgent.indexOf('Mac') !== -1 && 'ontouchend' in document);\r\n\t}\r\n\r\n\tstatic get isVRHeadset() {\r\n\t\treturn navigator.userAgent.indexOf('VR') !== -1 || navigator.userAgent.indexOf('Quest') !== -1 || navigator.userAgent.indexOf('Oculus') !== -1;\r\n\t}\r\n\r\n\tstatic getDevicePlatform() {\r\n\t\tconst userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\t\t// Windows Phone must come first because its UA also contains 'Android'\r\n\t\tif (/windows phone/i.test(userAgent)) {\r\n\t\t\treturn DevicePlatform.WindowsPhone;\r\n\t\t}\r\n\t\tif (/android/i.test(userAgent)) {\r\n\t\t\treturn DevicePlatform.Android;\r\n\t\t}\r\n\t\t// iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n\t\t// if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n\t\tif (this.isIOS) {\r\n\t\t\treturn DevicePlatform.IOS;\r\n\t\t}\r\n\t\tif (this.isVRHeadset) {\r\n\t\t\treturn DevicePlatform.VRHeadset;\r\n\t\t}\r\n\t\treturn DevicePlatform.Unknown;\r\n\t}\r\n\r\n}\r\n","import { environment } from '../environment.js';\r\n\r\nexport const LoggerLevel = {\r\n\tNONE: 0,\r\n\tERROR: 1,\r\n\tWARN: 2,\r\n\tINFO: 3,\r\n\tLOG: 4,\r\n\tALL: 5,\r\n};\r\n\r\nexport class Logger {\r\n\r\n\tstatic level_ = LoggerLevel.ALL;\r\n\r\n\tstatic setLevel(level) {\r\n\t\tthis.level_ = level;\r\n\t}\r\n\r\n\tstatic getLevel() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn LoggerLevel.ERROR;\r\n\t\t} else {\r\n\t\t\treturn this.level_;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic error(...args) {\r\n\t\tif (this.getLevel() >= LoggerLevel.ERROR) {\r\n\t\t\tconsole.error(...args);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic warn(...args) {\r\n\t\tif (this.getLevel() >= LoggerLevel.WARN) {\r\n\t\t\tconsole.warn(...args);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic info(...args) {\r\n\t\tif (this.getLevel() >= LoggerLevel.INFO) {\r\n\t\t\tconsole.info(...args);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic log(...args) {\r\n\t\tif (this.getLevel() >= LoggerLevel.LOG) {\r\n\t\t\tconsole.log(...args);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","export default class SessionStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\twindow.sessionStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\treturn window.sessionStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isSessionStorageSupported() && window.sessionStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.sessionStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('SessionStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.sessionStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('SessionStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isSessionStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'sessionStorage' in window && window.sessionStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.sessionStorage.setItem('test', '1');\r\n\t\t\t\twindow.sessionStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n}\r\n","import { IAgoraRTCRemoteUser } from 'agora-rtc-sdk-ng';\r\nimport { Logger } from '../logger/logger';\r\n\r\nexport class Stream {\r\n\r\n\t/**\r\n\t *\r\n\t * @param {IAgoraRTCRemoteUser} user\r\n\t * @param {'audio' | 'video'} mediaType\r\n\t * @param {boolean} isLocal\r\n\t */\r\n\tconstructor(user, mediaType, isLocal = false) {\r\n\t\tthis.user = user;\r\n\t\tthis.mediaType = mediaType;\r\n\t\tthis.isLocal = isLocal;\r\n\t\tthis.clientInfo = null;\r\n\t\tthis.texture = null;\r\n\t\tthis.element = null;\r\n\t\tthis.parentNode = null;\r\n\t}\r\n\r\n\tget streamId() {\r\n\t\treturn this.user?.uid.toString();\r\n\t}\r\n\r\n\tget hasVideo() {\r\n\t\treturn this.user?.hasVideo;\r\n\t}\r\n\r\n\tget hasAudio() {\r\n\t\treturn this.user?.hasAudio;\r\n\t}\r\n\r\n\tget videoTrack() {\r\n\t\treturn this.user?.videoTrack;\r\n\t}\r\n\r\n\tget audioTrack() {\r\n\t\treturn this.user?.audioTrack;\r\n\t}\r\n\r\n\tget video() {\r\n\t\treturn this.videoTrack ? true : false;\r\n\t}\r\n\r\n\tget audio() {\r\n\t\treturn this.audioTrack ? true : false;\r\n\t}\r\n\r\n\tget userMuteVideo() {\r\n\t\t// return this.videoTrack ? !this.videoTrack.enabled : false;\r\n\t\treturn this.videoTrack ? this.videoTrack.muted : false;\r\n\t}\r\n\r\n\tget userMuteAudio() {\r\n\t\t// return this.audioTrack ? !this.audioTrack.enabled : false;\r\n\t\treturn this.audioTrack ? this.audioTrack.muted : false;\r\n\t}\r\n\r\n\tgetTracks() {\r\n\t\tconst tracks = [];\r\n\t\tif (this.user.hasVideo) {\r\n\t\t\ttracks.push(this.videoTrack);\r\n\t\t}\r\n\t\tif (this.user.hasAudio) {\r\n\t\t\ttracks.push(this.audioTrack);\r\n\t\t}\r\n\t\treturn tracks;\r\n\t}\r\n\r\n\tasync muteVideo() {\r\n\t\tif (this.videoTrack) {\r\n\t\t\t// await this.videoTrack.setEnabled(true);\r\n\t\t\tawait this.videoTrack.setMuted(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync unmuteVideo() {\r\n\t\tif (this.videoTrack) {\r\n\t\t\t// await this.videoTrack.setEnabled(false);\r\n\t\t\tawait this.videoTrack.setMuted(false);\r\n\t\t}\r\n\t}\r\n\r\n\tasync muteAudio() {\r\n\t\tif (this.audioTrack) {\r\n\t\t\t// await this.audioTrack.setEnabled(true);\r\n\t\t\tawait this.audioTrack.setMuted(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync unmuteAudio() {\r\n\t\tif (this.audioTrack) {\r\n\t\t\t// await this.audioTrack.setEnabled(false);\r\n\t\t\tawait this.audioTrack.setMuted(false);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tgetIsSpeakingUser() {\r\n\t\treturn this.getAudioLevel() > 0.6 ? 1 : 0;\r\n\t}\r\n\t*/\r\n\r\n\tgetAudioLevel() {\r\n\t\treturn this.audioTrack ? this.audioTrack.getVolumeLevel() : 0;\r\n\t}\r\n\r\n\tisPlaying() {\r\n\t\treturn this.videoTrack?.isPlaying || this.audioTrack?.isPlaying;\r\n\t}\r\n\r\n\tplay(parentNode) {\r\n\t\twhile (parentNode.childElementCount > 0) {\r\n\t\t\tparentNode.removeChild(parentNode.firstElementChild);\r\n\t\t}\r\n\t\tthis.parentNode = parentNode;\r\n\t\tif (this.mediaType === 'video') {\r\n\t\t\tthis.videoTrack.play(parentNode, {\r\n\t\t\t\tfit: 'cover',\r\n\t\t\t\tmirror: undefined,\r\n\t\t\t});\r\n\t\t\tthis.element = parentNode.firstElementChild;\r\n\t\t\tLogger.log('Stream.play.videoTrack', parentNode, this.element);\r\n\t\t} else if (this.audioTrack && !this.isLocal) {\r\n\t\t\tthis.audioTrack.play();\r\n\t\t}\r\n\t}\r\n\r\n\tstop() {\r\n\t\tif (this.videoTrack && this.videoTrack.isPlaying) {\r\n\t\t\tthis.videoTrack.stop();\r\n\t\t}\r\n\t\tif (this.audioTrack && this.audioTrack.isPlaying) {\r\n\t\t\tthis.audioTrack.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tif (this.videoTrack) {\r\n\t\t\tthis.videoTrack.close();\r\n\t\t}\r\n\t\tif (this.audioTrack) {\r\n\t\t\tthis.audioTrack.close();\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(stream) {\r\n\t\tthis.user = stream.user;\r\n\t\tthis.mediaType = stream.mediaType;\r\n\t\t/*\r\n\t\tif (this.parentNode) {\r\n\t\t\tthis.play(this.parentNode);\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\tresume(parentNode) {\r\n\t\tLogger.log('Stream.resume', parentNode, this.element);\r\n\t\tif (this.element) {\r\n\t\t\tparentNode.appendChild(this.element);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, combineLatest, interval, of } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, shareReplay, switchMap } from 'rxjs/operators';\r\nimport { RoleType } from '../user/user';\r\n\r\nexport const StreamServiceMode = {\r\n\tClient: 'client',\r\n\tEditor: 'editor',\r\n};\r\n\r\nexport default class StreamService {\r\n\r\n\tstatic mode = StreamServiceMode.Client;\r\n\r\n\tstatic editorStreams$ = new BehaviorSubject(null);\r\n\tstatic set editorStreams(editorStreams) {\r\n\t\tthis.editorStreams$.next(editorStreams);\r\n\t}\r\n\tstatic get editorStreams() {\r\n\t\treturn this.editorStreams$.getValue();\r\n\t}\r\n\r\n\tstatic editorScreens$ = new BehaviorSubject(null);\r\n\tstatic set editorScreens(editorScreens) {\r\n\t\tthis.editorScreens$.next(editorScreens);\r\n\t}\r\n\tstatic get editorScreens() {\r\n\t\treturn this.editorScreens$.getValue();\r\n\t}\r\n\r\n\t/** @type {BehaviorSubject<Stream | null>} */\r\n\tstatic local$ = new BehaviorSubject(null);\r\n\tstatic set local(local) {\r\n\t\tthis.local$.next(local);\r\n\t}\r\n\tstatic get local() {\r\n\t\treturn this.local$.getValue();\r\n\t}\r\n\r\n\t/** @type {BehaviorSubject<Stream | null>} */\r\n\tstatic screen$ = new BehaviorSubject(null);\r\n\tstatic set screen(screen) {\r\n\t\tthis.screen$.next(screen);\r\n\t}\r\n\tstatic get screen() {\r\n\t\treturn this.screen$.getValue();\r\n\t}\r\n\r\n\t/** @type {BehaviorSubject<Stream[]>} */\r\n\tstatic remotes$ = new BehaviorSubject([]);\r\n\tstatic set remotes(remotes) {\r\n\t\tthis.remotes$.next(remotes);\r\n\t}\r\n\tstatic get remotes() {\r\n\t\treturn this.remotes$.getValue();\r\n\t}\r\n\r\n\t/** @type {BehaviorSubject<{ uid: string }[]>} */\r\n\tstatic peers$ = new BehaviorSubject([]);\r\n\tstatic set peers(peers) {\r\n\t\tthis.peers$.next(peers);\r\n\t}\r\n\tstatic get peers() {\r\n\t\treturn this.peers$.getValue();\r\n\t}\r\n\r\n\tstatic orderedRemotes$() {\r\n\t\treturn combineLatest([StreamService.remotes$, interval(1000)]).pipe(\r\n\t\t\tmap(datas => {\r\n\t\t\t\tconst orderedRemotes = [];\r\n\t\t\t\tconst remotes = datas[0];\r\n\t\t\t\tremotes.forEach(remote => {\r\n\t\t\t\t\tlet role = null, uid = null, screenUid = null, audioLevel = 0, peekAudioLevel = 0, order = 0;\r\n\t\t\t\t\tif (remote.clientInfo) {\r\n\t\t\t\t\t\taudioLevel = remote.clientInfo.audioLevel = remote.getAudioLevel();\r\n\t\t\t\t\t\tpeekAudioLevel = remote.clientInfo.peekAudioLevel = Math.max(remote.clientInfo.audioLevel, 0.2);\r\n\t\t\t\t\t\torder = remote.clientInfo.order;\r\n\t\t\t\t\t\trole = remote.clientInfo.role || null;\r\n\t\t\t\t\t\tuid = remote.clientInfo.uid || null;\r\n\t\t\t\t\t\tscreenUid = remote.clientInfo.screenUid || null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\torderedRemotes.push({ role, uid, screenUid, audioLevel, peekAudioLevel, order, remote });\r\n\t\t\t\t});\r\n\t\t\t\torderedRemotes.sort((a, b) => {\r\n\t\t\t\t\tconst av = a.role === RoleType.Publisher ? 2 : (a.role === RoleType.Attendee ? 1 : 0);\r\n\t\t\t\t\tconst bv = b.role === RoleType.Publisher ? 2 : (b.role === RoleType.Attendee ? 1 : 0);\r\n\t\t\t\t\treturn (bv - av) ||\r\n\t\t\t\t\t\t(b.peekAudioLevel - a.peekAudioLevel) ||\r\n\t\t\t\t\t\t((a.order || 0) - (b.order || 0));\r\n\t\t\t\t});\r\n\t\t\t\torderedRemotes.forEach((x, i) => {\r\n\t\t\t\t\tif (x.remote.clientInfo) {\r\n\t\t\t\t\t\tx.remote.clientInfo.order = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn orderedRemotes;\r\n\t\t\t}),\r\n\t\t\tdistinctUntilChanged((a, b) => {\r\n\t\t\t\tconst auid = a.map(x => `${x.uid}-${x.screenUid}`).join('|');\r\n\t\t\t\tconst buid = b.map(x => `${x.uid}-${x.screenUid}`).join('|');\r\n\t\t\t\t// console.log('StreamService.orderedRemotes$', auid, buid);\r\n\t\t\t\treturn auid === buid;\r\n\t\t\t}),\r\n\t\t\tmap(remotes => remotes.map(x => x.remote)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic streams$ = combineLatest([StreamService.local$, StreamService.screen$, StreamService.remotes$, StreamService.getEditorStreams$(), StreamService.getEditorScreens$()]).pipe(\r\n\t\tmap(data => {\r\n\t\t\tconst local = data[0];\r\n\t\t\tconst screen = data[1];\r\n\t\t\tconst remotes = data[2];\r\n\t\t\tconst editorStreams = data[3];\r\n\t\t\tconst editorScreens = data[4];\r\n\t\t\tlet streams = remotes;\r\n\t\t\tif (local) { // my stream\r\n\t\t\t\tstreams = streams.slice();\r\n\t\t\t\tstreams.push(local);\r\n\t\t\t}\r\n\t\t\tif (screen) { // my screen\r\n\t\t\t\tstreams = streams.slice();\r\n\t\t\t\tstreams.push(screen);\r\n\t\t\t}\r\n\t\t\tif (editorStreams) { // editor streams\r\n\t\t\t\tstreams.push(...editorStreams);\r\n\t\t\t}\r\n\t\t\tif (editorScreens) { // editor screens\r\n\t\t\t\tstreams.push(...editorScreens);\r\n\t\t\t}\r\n\t\t\treturn streams;\r\n\t\t}),\r\n\t\tshareReplay(1),\r\n\t);\r\n\r\n\tstatic getEditorStreams$() {\r\n\t\treturn of(null).pipe(\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\tif (navigator.mediaDevices && navigator.mediaDevices.getUserMedia && this.mode === StreamServiceMode.Editor) {\r\n\t\t\t\t\tconst body = document.querySelector('body');\r\n\t\t\t\t\tconst media = document.createElement('div');\r\n\t\t\t\t\tconst video = document.createElement('video');\r\n\t\t\t\t\tmedia.setAttribute('id', 'stream-editor');\r\n\t\t\t\t\tmedia.setAttribute('style', 'position:absolute; top: 5000px; line-height: 0;');\r\n\t\t\t\t\tmedia.appendChild(video);\r\n\t\t\t\t\tbody.appendChild(media);\r\n\t\t\t\t\tnavigator.mediaDevices.getUserMedia({\r\n\t\t\t\t\t\tvideo: { width: 800, height: 450 },\r\n\t\t\t\t\t}).then((stream) => {\r\n\t\t\t\t\t\t// console.log(stream);\r\n\t\t\t\t\t\tif ('srcObject' in video) {\r\n\t\t\t\t\t\t\tvideo.srcObject = stream;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvideo.src = window.URL.createObjectURL(stream);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\t\t\t\tconst fakePublisherStream = {\r\n\t\t\t\t\t\t\t\tstreamId: 'editor',\r\n\t\t\t\t\t\t\t\tclientInfo: {\r\n\t\t\t\t\t\t\t\t\trole: RoleType.Publisher,\r\n\t\t\t\t\t\t\t\t\tuid: 'editor',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconst fakeAttendeeStream = {\r\n\t\t\t\t\t\t\t\tstreamId: 'editor',\r\n\t\t\t\t\t\t\t\tclientInfo: {\r\n\t\t\t\t\t\t\t\t\trole: RoleType.Attendee,\r\n\t\t\t\t\t\t\t\t\tuid: 'editor',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconst fakeSmartDeviceStream = {\r\n\t\t\t\t\t\t\t\tstreamId: 'editor',\r\n\t\t\t\t\t\t\t\tclientInfo: {\r\n\t\t\t\t\t\t\t\t\trole: RoleType.SmartDevice,\r\n\t\t\t\t\t\t\t\t\tuid: 'editor',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.editorStreams$.next([fakePublisherStream, fakeAttendeeStream, fakeAttendeeStream, fakeAttendeeStream, fakeAttendeeStream, fakeSmartDeviceStream]);\r\n\t\t\t\t\t\t\t// StreamService.editorStreams = [fakePublisherStream, fakeAttendeeStream, fakeAttendeeStream, fakeAttendeeStream, fakeAttendeeStream];\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvideo.play();\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\tconsole.log('EditorComponent.getUserMedia.error', error.name, error.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.editorStreams$;\r\n\t\t\t}),\r\n\t\t\tshareReplay(1),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic getEditorScreens$() {\r\n\t\treturn of(null).pipe(\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\tif (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia && this.mode === StreamServiceMode.Editor) {\r\n\t\t\t\t\tconst body = document.querySelector('body');\r\n\t\t\t\t\tconst media = document.createElement('div');\r\n\t\t\t\t\tconst video = document.createElement('video');\r\n\t\t\t\t\tmedia.setAttribute('id', 'stream-editor-screen');\r\n\t\t\t\t\tmedia.setAttribute('style', 'position:absolute; top: 5000px; line-height: 0;');\r\n\t\t\t\t\tmedia.appendChild(video);\r\n\t\t\t\t\tbody.appendChild(media);\r\n\t\t\t\t\tnavigator.mediaDevices.getDisplayMedia({\r\n\t\t\t\t\t\tscreen: { width: 800, height: 450 },\r\n\t\t\t\t\t}).then((stream) => {\r\n\t\t\t\t\t\t// console.log(stream);\r\n\t\t\t\t\t\tif ('srcObject' in video) {\r\n\t\t\t\t\t\t\tvideo.srcObject = stream;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvideo.src = window.URL.createObjectURL(stream);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\t\t\t\tconst fakePublisherScreen = {\r\n\t\t\t\t\t\t\t\tstreamId: 'editor-screen',\r\n\t\t\t\t\t\t\t\tclientInfo: {\r\n\t\t\t\t\t\t\t\t\trole: RoleType.Publisher,\r\n\t\t\t\t\t\t\t\t\tuid: 'editor',\r\n\t\t\t\t\t\t\t\t\tscreenUid: 'editor-screen',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconst fakeAttendeeScreen = {\r\n\t\t\t\t\t\t\t\tstreamId: 'editor-screen',\r\n\t\t\t\t\t\t\t\tclientInfo: {\r\n\t\t\t\t\t\t\t\t\trole: RoleType.Attendee,\r\n\t\t\t\t\t\t\t\t\tuid: 'editor',\r\n\t\t\t\t\t\t\t\t\tscreenUid: 'editor-screen',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.editorScreens$.next([fakePublisherScreen, fakeAttendeeScreen]);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvideo.play();\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\tconsole.log('EditorComponent.getUserMedia.error', error.name, error.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.editorScreens$;\r\n\t\t\t}),\r\n\t\t\tshareReplay(1),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get publisherStreamId() {\r\n\t\tconst streams = this.remotes.slice();\r\n\t\tconst local = this.local;\r\n\t\tif (local) {\r\n\t\t\tstreams.unshift(local);\r\n\t\t}\r\n\t\tconst publisherStream = streams.find(x => x.clientInfo && x.clientInfo.role === RoleType.Publisher && x.clientInfo.uid === x.streamId);\r\n\t\tif (publisherStream) {\r\n\t\t\treturn publisherStream.streamId;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstatic getPublisherStreamId$() {\r\n\t\tconst publisherStreamId = this.publisherStreamId;\r\n\t\tif (publisherStreamId) {\r\n\t\t\treturn of(publisherStreamId);\r\n\t\t} else {\r\n\t\t\treturn this.streams$.pipe(\r\n\t\t\t\tmap(() => this.publisherStreamId),\r\n\t\t\t\tfilter(x => x),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get attendeeStreamId() {\r\n\t\tconst streams = this.remotes.slice();\r\n\t\tconst local = this.local;\r\n\t\tif (local) {\r\n\t\t\tstreams.unshift(local);\r\n\t\t}\r\n\t\tconst attendeeStream = streams.find(x => x.clientInfo && x.clientInfo.role === RoleType.Attendee && x.clientInfo.uid === x.streamId);\r\n\t\tif (attendeeStream) {\r\n\t\t\treturn attendeeStream.streamId;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstatic getAttendeeStreamId$() {\r\n\t\tconst attendeeStreamId = this.attendeeStreamId;\r\n\t\tif (attendeeStreamId) {\r\n\t\t\treturn of(attendeeStreamId);\r\n\t\t} else {\r\n\t\t\treturn this.streams$.pipe(\r\n\t\t\t\tmap(() => this.attendeeStreamId),\r\n\t\t\t\tfilter(x => x),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getRemoteById(streamId) {\r\n\t\t// console.log('StreamService.getRemoteById', streamId);\r\n\t\tconst remotes = StreamService.remotes;\r\n\t\tconst remote = remotes.find(x => x.streamId === streamId);\r\n\t\tif (remote) {\r\n\t\t\treturn remote;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic remoteAdd(stream) {\r\n\t\tconst remotes = this.remotes.slice();\r\n\t\tconst remote = remotes.find(x => x.streamId === stream.streamId);\r\n\t\tif (remote) {\r\n\t\t\tremote.update(stream);\r\n\t\t} else {\r\n\t\t\tremotes.push(stream);\r\n\t\t}\r\n\t\tthis.remotes = remotes;\r\n\t}\r\n\r\n\tstatic remoteRemove(streamId) {\r\n\t\tconst remotes = this.remotes.slice();\r\n\t\tconst remote = remotes.find(x => x.streamId === streamId);\r\n\t\t// console.log('StreamService.remoteRemove', streamId, remote);\r\n\t\tif (remote) {\r\n\t\t\tremote.stop();\r\n\t\t\tremotes.splice(remotes.indexOf(remote), 1);\r\n\t\t\tthis.remotes = remotes;\r\n\t\t}\r\n\t\treturn remote;\r\n\t}\r\n\r\n\tstatic remoteSetClientInfo(remoteId, clientInfo) {\r\n\t\tconst remotes = this.remotes;\r\n\t\tconst remote = remotes.find(x => x.streamId === remoteId);\r\n\t\tif (remote) {\r\n\t\t\tremote.clientInfo = clientInfo;\r\n\t\t}\r\n\t\tthis.remotes = remotes;\r\n\t}\r\n}\r\n","import AgoraRTC, { IAgoraRTCRemoteUser } from 'agora-rtc-sdk-ng';\r\nimport { from, interval, of } from 'rxjs';\r\nimport { catchError, distinctUntilChanged, map, switchMap } from 'rxjs/operators';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport Emittable from '../emittable/emittable';\r\nimport { DEBUG, environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { Logger } from '../logger/logger';\r\nimport { MessageService } from '../message/message.service';\r\nimport StateService from '../state/state.service';\r\nimport SessionStorageService from '../storage/session-storage.service';\r\nimport { Stream } from '../stream/stream';\r\nimport StreamService from '../stream/stream.service';\r\nimport { RoleType } from '../user/user';\r\nimport { AgoraMuteAudioEvent, AgoraMuteVideoEvent, AgoraPeerEvent, AgoraRemoteEvent, AgoraStatus, AgoraUnmuteAudioEvent, AgoraUnmuteVideoEvent, AgoraUserInfoUpdateEvent, AgoraVolumeLevelsEvent, MessageType, UIMode, USE_AUTODETECT, USE_RTM, USE_VOLUME_INDICATOR, getStreamQuality } from './agora.types';\r\n\r\n\r\nexport default class AgoraService extends Emittable {\r\n\r\n\tstatic getSingleton(defaultDevices) {\r\n\t\tif (DEBUG) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.AGORA) {\r\n\t\t\tthis.AGORA = new AgoraService(defaultDevices);\r\n\t\t}\r\n\t\treturn this.AGORA;\r\n\t}\r\n\r\n\tconstructor(defaultDevices) {\r\n\t\tif (AgoraService.AGORA) {\r\n\t\t\tthrow ('AgoraService is a singleton');\r\n\t\t}\r\n\t\tsuper();\r\n\t\tthis.channelState = {};\r\n\t\tthis.channelSnapshot = {};\r\n\t\tthis.onException = this.onException.bind(this);\r\n\t\tthis.onUserJoined = this.onUserJoined.bind(this);\r\n\t\tthis.onUserLeft = this.onUserLeft.bind(this);\r\n\t\tthis.onUserPublished = this.onUserPublished.bind(this);\r\n\t\tthis.onUserUnpublished = this.onUserUnpublished.bind(this);\r\n\t\tthis.onUserInfoUpdated = this.onUserInfoUpdated.bind(this);\r\n\t\t/*\r\n\t\tthis.onStreamAdded = this.onStreamAdded.bind(this);\r\n\t\tthis.onStreamRemoved = this.onStreamRemoved.bind(this);\r\n\t\tthis.onStreamSubscribed = this.onStreamSubscribed.bind(this);\r\n\t\tthis.onMuteVideo = this.onMuteVideo.bind(this);\r\n\t\tthis.onUnmuteVideo = this.onUnmuteVideo.bind(this);\r\n\t\tthis.onMuteAudio = this.onMuteAudio.bind(this);\r\n\t\tthis.onUnmuteAudio = this.onUnmuteAudio.bind(this);\r\n\t\t*/\r\n\t\tthis.onVolumeIndicator = this.onVolumeIndicator.bind(this);\r\n\t\tthis.onConnectionStateChange = this.onConnectionStateChange.bind(this);\r\n\t\tthis.onTokenPrivilegeWillExpire = this.onTokenPrivilegeWillExpire.bind(this);\r\n\t\tthis.onTokenPrivilegeDidExpire = this.onTokenPrivilegeDidExpire.bind(this);\r\n\t\tthis.onMessage = this.onMessage.bind(this);\r\n\t\tconst state = StateService.state;\r\n\t\tStateService.patchState({\r\n\t\t\tdevices: (state.role !== RoleType.Attendee && defaultDevices) ? defaultDevices : { videos: [], audios: [] },\r\n\t\t\tquality: getStreamQuality(state),\r\n\t\t\tmembersCount: 0,\r\n\t\t});\r\n\t}\r\n\r\n\tget isHostRole() {\r\n\t\treturn StateService.state.role === RoleType.Publisher || StateService.state.role === RoleType.Attendee;\r\n\t}\r\n\r\n\tget isAudienceRole() {\r\n\t\treturn StateService.state.role === RoleType.Viewer || StateService.state.role === RoleType.SelfService;\r\n\t}\r\n\r\n\taddStreamDevice(src) {\r\n\t\tthis.removeStreamDevice();\r\n\t\tconst video = {\r\n\t\t\tdeviceId: 'video-stream',\r\n\t\t\tlabel: 'videostream',\r\n\t\t\tkind: 'videostream',\r\n\t\t\tsrc: src,\r\n\t\t};\r\n\t\tconst audio = {\r\n\t\t\tdeviceId: 'audio-stream',\r\n\t\t\tlabel: 'videostream',\r\n\t\t\tkind: 'videostream',\r\n\t\t\tsrc: src,\r\n\t\t};\r\n\t\tconst devices = StateService.state.devices;\r\n\t\tdevices.videos.push(video);\r\n\t\tdevices.audios.push(audio);\r\n\t\tStateService.patchState({ devices: devices });\r\n\t}\r\n\r\n\tremoveStreamDevice() {\r\n\t\tconst devices = StateService.state.devices;\r\n\t\tdevices.videos = devices.videos.filter(x => x.kind !== 'videostream');\r\n\t\tdevices.audios = devices.audios.filter(x => x.kind !== 'videostream');\r\n\t\tStateService.patchState({ devices: devices });\r\n\t}\r\n\r\n\tdevices$() {\r\n\t\tconst inputs = StateService.state.devices;\r\n\t\tconst defaultVideos = this.defaultVideos = (this.defaultVideos || inputs.videos.slice());\r\n\t\tconst defaultAudios = this.defaultAudios = (this.defaultAudios || inputs.videos.slice());\r\n\t\tinputs.videos = defaultVideos.slice();\r\n\t\tinputs.audios = defaultAudios.slice();\r\n\t\tconst devices = async () => {\r\n\t\t\tconst videoTrack = await AgoraRTC.createCameraVideoTrack();\r\n\t\t\tconst audioTrack = await AgoraRTC.createMicrophoneAudioTrack();\r\n\t\t\tconst devices = await AgoraService.getDevices();\r\n\t\t\t// Logger.log('AgoraService.devices$.getDevices', devices);\r\n\t\t\tvideoTrack.close();\r\n\t\t\taudioTrack.close();\r\n\t\t\tfor (let i = 0; i < devices.length; i++) {\r\n\t\t\t\tconst device = devices[i];\r\n\t\t\t\t// Logger.log('AgoraService.devices$', device.deviceId);\r\n\t\t\t\tif (device.kind === 'videoinput' && device.deviceId) {\r\n\t\t\t\t\tinputs.videos.push({\r\n\t\t\t\t\t\tlabel: device.label || 'camera-' + inputs.videos.length,\r\n\t\t\t\t\t\tdeviceId: device.deviceId,\r\n\t\t\t\t\t\tkind: device.kind,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (device.kind === 'audioinput' && device.deviceId) {\r\n\t\t\t\t\tinputs.audios.push({\r\n\t\t\t\t\t\tlabel: device.label || 'microphone-' + inputs.audios.length,\r\n\t\t\t\t\t\tdeviceId: device.deviceId,\r\n\t\t\t\t\t\tkind: device.kind,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (inputs.videos.length > 0 || inputs.audios.length > 0) {\r\n\t\t\t\treturn inputs;\r\n\t\t\t} else {\r\n\t\t\t\tthrow inputs;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn from(devices());\r\n\t}\r\n\r\n\tasync connect(preferences) {\r\n\t\tif (!StateService.state.connecting) {\r\n\t\t\tconst devices = StateService.state.devices;\r\n\t\t\tif (preferences) {\r\n\t\t\t\tdevices.video = preferences.video;\r\n\t\t\t\tdevices.audio = preferences.audio;\r\n\t\t\t}\r\n\t\t\t// Logger.log('AgoraService.connect', preferences, devices);\r\n\t\t\tStateService.patchState({ status: AgoraStatus.Connecting, connecting: true, devices });\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\tawait this.createClient();\r\n\t\t\t\tconst channelNameLink = this.getChannelNameLink();\r\n\t\t\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\t\t\tLogger.log('AgoraService.rtcToken$', token);\r\n\t\t\t\t\tawait this.join(token.token, channelNameLink);\r\n\t\t\t\t});\r\n\t\t\t}, 250);\r\n\t\t}\r\n\t\treturn StateService.state$;\r\n\t}\r\n\r\n\tconnect$(preferences) {\r\n\t\treturn from(this.connect(preferences)).pipe(\r\n\t\t\tswitchMap(() => StateService.state$),\r\n\t\t);\r\n\t}\r\n\r\n\tmembersCount$(channelId) {\r\n\t\tconst messageClient = this.messageClient;\r\n\t\treturn interval(3000).pipe(\r\n\t\t\tswitchMap(() => from(messageClient.getChannelMemberCount([channelId]))),\r\n\t\t\tmap(counters => counters[channelId]),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tLogger.error('AgoraService.membersCount$.error', error);\r\n\t\t\t\treturn of(0);\r\n\t\t\t}),\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t);\r\n\t}\r\n\r\n\tobserveMemberCount() {\r\n\t\tthis.unobserveMemberCount();\r\n\t\t// !!! perf\r\n\t\t// only host roles collect membersCount to reduce call/sec.\r\n\t\tif (this.isHostRole) {\r\n\t\t\tthis.membersCountSubscription = this.membersCount$(StateService.state.channelNameLink).subscribe(\r\n\t\t\t\tmembersCount => {\r\n\t\t\t\t\tStateService.patchState({ membersCount: membersCount });\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tunobserveMemberCount() {\r\n\t\tif (this.membersCountSubscription) {\r\n\t\t\tthis.membersCountSubscription.unsubscribe();\r\n\t\t\tthis.membersCountSubscription = null;\r\n\t\t\tStateService.patchState({ membersCount: 0 });\r\n\t\t}\r\n\t}\r\n\r\n\tasync createClient() {\r\n\t\tif (this.client) {\r\n\t\t\treturn this.client;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t/*\r\n\t\t\t0: DEBUG. Output all API logs.\r\n\t\t\t1: INFO. Output logs of the INFO, WARNING and ERROR level.\r\n\t\t\t2: WARNING. Output logs of the WARNING and ERROR level.\r\n\t\t\t3: ERROR. Output logs of the ERROR level.\r\n\t\t\t4: NONE. Do not output any log.\r\n\t\t\t*/\r\n\t\t\tAgoraRTC.setLogLevel(2);\r\n\t\t\tconst client = this.client = AgoraRTC.createClient({ mode: 'live', codec: 'h264' }); // rtc, vp8\r\n\t\t\tclient.on('exception', this.onException);\r\n\t\t\tclient.on('user-joined', this.onUserJoined);\r\n\t\t\tclient.on('user-left', this.onUserLeft);\r\n\t\t\tclient.on('user-published', this.onUserPublished);\r\n\t\t\tclient.on('user-unpublished', this.onUserUnpublished);\r\n\t\t\tclient.on('user-info-updated', this.onUserInfoUpdated);\r\n\t\t\t/*\r\n\t\t\tclient.on('stream-added', this.onStreamAdded);\r\n\t\t\tclient.on('stream-removed', this.onStreamRemoved);\r\n\t\t\tclient.on('stream-subscribed', this.onStreamSubscribed);\r\n\t\t\tclient.on('mute-video', this.onMuteVideo);\r\n\t\t\tclient.on('unmute-video', this.onUnmuteVideo);\r\n\t\t\tclient.on('mute-audio', this.onMuteAudio);\r\n\t\t\tclient.on('unmute-audio', this.onUnmuteAudio);\r\n\t\t\t*/\r\n\t\t\tif (USE_VOLUME_INDICATOR) {\r\n\t\t\t\tclient.enableAudioVolumeIndicator(); // Triggers the 'volume-indicator' callback event every two seconds.\r\n\t\t\t\tclient.on('volume-indicator', this.onVolumeIndicator);\r\n\t\t\t}\r\n\t\t\t// client.on('connection-state-change', this.onConnectionStateChange);\r\n\t\t\tclient.on('onTokenPrivilegeWillExpire', this.onTokenPrivilegeWillExpire);\r\n\t\t\tclient.on('onTokenPrivilegeDidExpire', this.onTokenPrivilegeDidExpire);\r\n\t\t\t// Logger.log('AgoraService.createClient', 'agora rtm sdk version: ' + AgoraRTM.VERSION + ' compatible');\r\n\t\t\tif (USE_RTM) {\r\n\t\t\t\t/*\r\n\t\t\t\tAgoraRTM.LOG_FILTER_OFF\r\n\t\t\t\tAgoraRTM.LOG_FILTER_ERROR\r\n\t\t\t\tAgoraRTM.LOG_FILTER_INFO (Default)\r\n\t\t\t\tAgoraRTM.LOG_FILTER_WARNING\r\n\t\t\t\t*/\r\n\t\t\t\tconst messageClient = this.messageClient = AgoraRTM.createInstance(environment.appKey, { logFilter: AgoraRTM.LOG_FILTER_OFF }); // LOG_FILTER_DEBUG\r\n\t\t\t\tmessageClient.setParameters({ logFilter: AgoraRTM.LOG_FILTER_OFF });\r\n\t\t\t\tLogger.log('AgoraService.createClient', 'client initialized');\r\n\t\t\t\t// messageClient.on('ConnectionStateChanged', Logger.warn);\r\n\t\t\t\t// messageClient.on('MessageFromPeer', Logger.log);\r\n\t\t\t}\r\n\t\t\tawait client.setClientRole(this.isAudienceRole ? 'audience' : 'host'); // 'audience' | 'host', AUDIENCE_LEVEL_LOW_LATENCY = 1\r\n\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\tclient.startProxyServer(3);\r\n\t\t\t\t/*\r\n\t\t\t\t3: The cloud proxy for the UDP protocol, that is, the Force UDP cloud proxy mode. In this mode, the SDK always transmits data over UDP.\r\n\t\t\t\t5: The cloud proxy for the TCP (encryption) protocol, that is, the Force TCP cloud proxy mode. In this mode, the SDK always transmits data over TLS 443.\r\n\t\t\t\tNote: As of v4.15.0, the default value of mode is 3.\r\n\t\t\t\t*/\r\n\t\t\t\tLogger.log('AgoraService.createClient.startProxyServer');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.createClient.error', error);\r\n\t\t\tthis.client = null;\r\n\t\t}\r\n\t\treturn this.client;\r\n\t}\r\n\r\n\tgetChannelNameLink() {\r\n\t\tlet link = StateService.state.link || '';\r\n\t\tconst match = link.match(/(\\d{9})-(\\d{4})-(\\d{13})/);\r\n\t\tif (match) {\r\n\t\t\tlink = `${match[1]}-${match[3]}`;\r\n\t\t}\r\n\t\tconst channelName = StateService.state.channelName;\r\n\t\tconst channelNameLink = `${channelName}-${link}`;\r\n\t\t// Logger.log('AgoraService.getChannelNameLink', channelNameLink);\r\n\t\treturn channelNameLink;\r\n\t}\r\n\r\n\tstatic getUniqueUserId() {\r\n\t\t// max safe integer 9007199254740991 length 16\r\n\t\t// max allowed integer 4294967296 2^32\r\n\t\t// const m = 9007199254740991;\r\n\t\tconst mult = 10000000000000;\r\n\t\tconst a = (1 + Math.floor(Math.random() * 8)) * 100;\r\n\t\tconst b = (1 + Math.floor(Math.random() * 8)) * 10;\r\n\t\tconst c = (1 + Math.floor(Math.random() * 8)) * 1;\r\n\t\tconst combo = (a + b + c);\r\n\t\tconst date = Date.now();\r\n\t\tconst uid = combo * mult + date;\r\n\t\t// Logger.log('AgoraService.getUniqueUserId', combo);\r\n\t\t// Logger.log('AgoraService.getUniqueUserId', date);\r\n\t\t// Logger.log('AgoraService.getUniqueUserId', m);\r\n\t\t// Logger.log('AgoraService.getUniqueUserId', uid);\r\n\t\treturn uid.toString();\r\n\t}\r\n\r\n\tasync join(token, channelNameLink) {\r\n\t\tthis.channel = null;\r\n\t\tconst client = this.client;\r\n\t\tconst clientId = SessionStorageService.get('bHereClientId') || AgoraService.getUniqueUserId();\r\n\t\tLogger.log('AgoraService.join', { token, channelNameLink, clientId });\r\n\t\ttry {\r\n\t\t\tconst uid = await client.join(environment.appKey, channelNameLink, token, clientId);\r\n\t\t\t// Logger.log('AgoraService.join', uid);\r\n\t\t\tStateService.patchState({ status: AgoraStatus.Connected, channelNameLink, connected: true, uid: uid });\r\n\t\t\tSessionStorageService.set('bHereClientId', uid);\r\n\t\t\tif (USE_RTM) {\r\n\t\t\t\tAgoraService.rtmToken$(uid).subscribe(async (token) => {\r\n\t\t\t\t\t// Logger.log('AgoraService.join.rtmToken$', token);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.joinMessageChannel(token.token, uid);\r\n\t\t\t\t\t\t// Logger.log('AgoraService.join.joinMessageChannel.success', success);\r\n\t\t\t\t\t\tif (!this.isAudienceRole) {\r\n\t\t\t\t\t\t\tconst devices = await this.autoDetectDevice();\r\n\t\t\t\t\t\t\tawait this.createMediaStream(uid, devices.video, devices.audio);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.observeMemberCount();\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tLogger.error('AgoraService.join.joinMessageChannel.error', error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.isAudienceRole) {\r\n\t\t\t\t\tconst devices = await this.autoDetectDevice();\r\n\t\t\t\t\tawait this.createMediaStream(uid, devices.video, devices.audio);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.join.error', error);\r\n\t\t\tif (error === 'DYNAMIC_KEY_EXPIRED') {\r\n\t\t\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\t\t\tawait this.join(token.token, channelNameLink);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tjoinMessageChannel(token, uid) {\r\n\t\tlet channel;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tLogger.log('AgoraService.joinMessageChannel', messageClient);\r\n\t\t\tmessageClient.login({ token: token, uid: uid.toString() }).then(() => {\r\n\t\t\t\tLogger.log('AgoraService.joinMessageChannel.login.success');\r\n\t\t\t\tchannel = messageClient.createChannel(StateService.state.channelNameLink);\r\n\t\t\t\treturn channel.join();\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.channel = channel;\r\n\t\t\t\tchannel.on('ChannelMessage', this.onMessage);\r\n\t\t\t\tthis.emit('channel', channel);\r\n\t\t\t\t// Logger.log('AgoraService.joinMessageChannel.success');\r\n\t\t\t\tresolve(uid);\r\n\t\t\t\tLogger.log('AgoraService.joinMessageChannel.join.success');\r\n\t\t\t\tchannel.getMembers().then(members => {\r\n\t\t\t\t\tmembers = members.filter(x => x !== uid.toString());\r\n\t\t\t\t\tconst message = { type: MessageType.ChannelMembers, members };\r\n\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t\tLogger.log('AgoraService.joinMessageChannel.members', message);\r\n\t\t\t\t});\r\n\t\t\t\tLogger.log('AgoraService.joinMessageChannel', StateService.state.channelNameLink);\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tLogger.error('AgoraService.joinMessageChannel.error', error);\r\n\t\t\t\treject(error);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tdetectDevices(next) {\r\n\t\tAgoraService.getDevices().then((devices) => {\r\n\t\t\tconst videos = [];\r\n\t\t\tconst audios = [];\r\n\t\t\tfor (let i = 0; i < devices.length; i++) {\r\n\t\t\t\tconst device = devices[i];\r\n\t\t\t\tif ('videoinput' == device.kind) {\r\n\t\t\t\t\tvideos.push({\r\n\t\t\t\t\t\tlabel: device.label || 'camera-' + videos.length,\r\n\t\t\t\t\t\tdeviceId: device.deviceId,\r\n\t\t\t\t\t\tkind: device.kind,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif ('audioinput' == device.kind) {\r\n\t\t\t\t\taudios.push({\r\n\t\t\t\t\t\tlabel: device.label || 'microphone-' + videos.length,\r\n\t\t\t\t\t\tdeviceId: device.deviceId,\r\n\t\t\t\t\t\tkind: device.kind,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnext({ videos: videos, audios: audios });\r\n\t\t}).catch((error) => {\r\n\t\t\tLogger.error('AgoraService.detectDevices', error);\r\n\t\t});\r\n\t}\r\n\r\n\tgetVideoOptions(options, video) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (video) {\r\n\t\t\t\tif (video.kind === 'videostream') {\r\n\t\t\t\t\tconst element = document.querySelector('#' + video.deviceId);\r\n\t\t\t\t\telement.crossOrigin = 'anonymous';\r\n\t\t\t\t\tvar hls = new Hls();\r\n\t\t\t\t\thls.attachMedia(element);\r\n\t\t\t\t\thls.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n\t\t\t\t\t\thls.loadSource(video.src);\r\n\t\t\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n\t\t\t\t\t\t\t// Logger.log('AgoraService.getVideoOptions.hls', data.levels);\r\n\t\t\t\t\t\t\telement.play().then(success => {\r\n\t\t\t\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\t\t\t\toptions.videoSource = stream.getVideoTracks()[0];\r\n\t\t\t\t\t\t\t\t// Logger.log('AgoraService.getVideoOptions', element, stream, stream.getVideoTracks());\r\n\t\t\t\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t\t\tLogger.error('AgoraService.getVideoOptions.error', error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (video.kind === 'videoplayer' || video.kind === 'videostream') {\r\n\t\t\t\t\tconst element = document.querySelector('#' + video.deviceId);\r\n\t\t\t\t\telement.crossOrigin = 'anonymous';\r\n\t\t\t\t\t// element.oncanplay = () => {\r\n\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\toptions.videoSource = stream.getVideoTracks()[0];\r\n\t\t\t\t\t// Logger.log('getVideoOptions', element, stream, stream.getVideoTracks());\r\n\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t// };\r\n\t\t\t\t\t/*\r\n\t\t\t\t\telement.play().then(success => {\r\n\t\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\t\toptions.videoSource = stream.getVideoTracks()[0];\r\n\t\t\t\t\t\t// Logger.log('getVideoOptions', element, stream, stream.getVideoTracks());\r\n\t\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t// Logger.error('AgoraService.getVideoOptions.error', error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t*/\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.cameraId = video.deviceId;\r\n\t\t\t\t\tresolve(options);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresolve(options);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetAudioOptions(options, audio) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (audio) {\r\n\t\t\t\tif (audio.kind === 'videostream') {\r\n\t\t\t\t\tconst element = document.querySelector('#' + audio.deviceId);\r\n\t\t\t\t\telement.crossOrigin = 'anonymous';\r\n\t\t\t\t\t// !!! try hls.service;\r\n\t\t\t\t\tvar hls = new Hls();\r\n\t\t\t\t\thls.attachMedia(element);\r\n\t\t\t\t\thls.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n\t\t\t\t\t\thls.loadSource(audio.src);\r\n\t\t\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n\t\t\t\t\t\t\t// Logger.log('AgoraService.getAudioOptions.hls', data.levels);\r\n\t\t\t\t\t\t\thls.loadLevel = data.levels.length - 1;\r\n\t\t\t\t\t\t\telement.play().then(success => {\r\n\t\t\t\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\t\t\t\toptions.audioSource = stream.getAudioTracks()[0];\r\n\t\t\t\t\t\t\t\t// Logger.log('AgoraService.getAudioOptions', element, stream, stream.getAudioTracks());\r\n\t\t\t\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t\t\tLogger.error('AgoraService.getAudioOptions.error', error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (audio.kind === 'videoplayer' || audio.kind === 'videostream') {\r\n\t\t\t\t\tconst element = document.querySelector('#' + audio.deviceId);\r\n\t\t\t\t\telement.crossOrigin = 'anonymous';\r\n\t\t\t\t\t// element.oncanplay = () => {\r\n\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\toptions.audioSource = stream.getAudioTracks()[0];\r\n\t\t\t\t\t// Logger.log('AgoraService.getAudioOptions', element, stream, stream.getAudioTracks());\r\n\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t// };\r\n\t\t\t\t\t/*\r\n\t\t\t\t\telement.play().then(success => {\r\n\t\t\t\t\t\tconst stream = element.captureStream();\r\n\t\t\t\t\t\toptions.audioSource = stream.getAudioTracks()[0];\r\n\t\t\t\t\t\t// Logger.log('AgoraService.getAudioOptions', element, stream, stream.getAudioTracks());\r\n\t\t\t\t\t\tresolve(options);\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t// Logger.error('AgoraService.getAudioOptions.error', error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t*/\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.microphoneId = audio.deviceId;\r\n\t\t\t\t\tresolve(options);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresolve(options);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync autoDetectDevice() {\r\n\t\tconst state = StateService.state;\r\n\t\tif (state.role === RoleType.SmartDevice || USE_AUTODETECT) {\r\n\t\t\tconst inputDevices = await AgoraService.getDevices();\r\n\t\t\tconst devices = { videos: [], audios: [], video: null, audio: null };\r\n\t\t\tinputDevices.forEach(x => {\r\n\t\t\t\tif (x.kind === 'videoinput') {\r\n\t\t\t\t\tdevices.videos.push(x);\r\n\t\t\t\t} else if (x.kind === 'audioinput') {\r\n\t\t\t\t\tdevices.audios.push(x);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdevices.video = devices.videos[0] || null;\r\n\t\t\tdevices.audio = devices.audios[0] || null;\r\n\t\t\tStateService.patchState({ devices });\r\n\t\t\treturn devices;\r\n\t\t}\r\n\t\treturn state.devices;\r\n\t}\r\n\r\n\tasync createMediaStream(uid, video, audio) {\r\n\t\t// this.releaseStream('_mediaVideoStream')\r\n\t\tconst options = {\r\n\t\t\tstreamID: uid,\r\n\t\t\tvideo: Boolean(video),\r\n\t\t\taudio: Boolean(audio),\r\n\t\t\tscreen: false,\r\n\t\t};\r\n\t\tawait this.getVideoOptions(options, video);\r\n\t\tawait this.getAudioOptions(options, audio);\r\n\t\tconst quality = Object.assign({}, StateService.state.quality);\r\n\t\tawait this.createLocalStreamWithOptions(options, quality);\r\n\t}\r\n\r\n\t// If you prefer video smoothness to sharpness, use setVideoProfile\r\n\t// to set the video resolution and Agora self-adapts the video bitrate according to the network condition.\r\n\t// If you prefer video sharpness to smoothness, use setVideoEncoderConfiguration,\r\n\t// and set min in bitrate as 0.4 - 0.5 times the bitrate value in the video profile table.\r\n\tasync createLocalStreamWithOptions(options, quality) {\r\n\t\ttry {\r\n\t\t\tLogger.log('AgoraService.createLocalStreamWithOptions', options, quality);\r\n\t\t\tlet videoTrack = undefined;\r\n\t\t\tlet audioTrack = undefined;\r\n\t\t\tif (options.video) {\r\n\t\t\t\tvideoTrack = await AgoraRTC.createCameraVideoTrack({\r\n\t\t\t\t\tcameraId: options.cameraId,\r\n\t\t\t\t\tencoderConfig: quality.profile,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (options.audio) {\r\n\t\t\t\taudioTrack = await AgoraRTC.createMicrophoneAudioTrack({\r\n\t\t\t\t\tmicrophoneId: options.microphoneId,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst user = {\r\n\t\t\t\tuid: options.streamID,\r\n\t\t\t\tvideoTrack,\r\n\t\t\t\taudioTrack,\r\n\t\t\t\thasVideo: videoTrack !== undefined,\r\n\t\t\t\thasAudio: audioTrack !== undefined,\r\n\t\t\t};\r\n\t\t\tconst stream = new Stream(user, options.video ? 'video' : 'audio', true);\r\n\t\t\tStreamService.local = stream;\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\tawait this.publishLocalStream();\r\n\t\t\t}, 1);\r\n\t\t\tLogger.log('AgoraService.createLocalStreamWithOptions.success', stream);\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.createLocalStreamWithOptions.error', error);\r\n\t\t\t// throw error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync publishLocalStream() {\r\n\t\ttry {\r\n\t\t\tLogger.log('AgoraService.publishLocalStream');\r\n\t\t\tconst clientInfo = await this.setUserState();\r\n\t\t\tconst local = StreamService.local;\r\n\t\t\tconst client = this.client;\r\n\t\t\tawait client.publish(local.getTracks());\r\n\t\t\tlocal.clientInfo = clientInfo;\r\n\t\t\tStreamService.local = local;\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.publishLocalStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync unpublishLocalStream() {\r\n\t\ttry {\r\n\t\t\tLogger.log('AgoraService.unpublishLocalStream');\r\n\t\t\tconst client = this.client;\r\n\t\t\tconst local = StreamService.local;\r\n\t\t\tif (local) {\r\n\t\t\t\tawait client.unpublish(local.getTracks());\r\n\t\t\t}\r\n\t\t\tawait this.clearLocalUserAttributes();\r\n\t\t\tStreamService.local = null;\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.unpublishLocalStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync closeLocalStream() {\r\n\t\ttry {\r\n\t\t\tconst local = StreamService.local;\r\n\t\t\tif (local) {\r\n\t\t\t\tawait local.close();\r\n\t\t\t}\r\n\t\t\tawait this.clearLocalUserAttributes();\r\n\t\t\tStreamService.local = null;\r\n\t\t\tLogger.log('AgoraService.closeLocalStream', local);\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.closeLocalStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync leaveChannel() {\r\n\t\ttry {\r\n\t\t\tStateService.patchState({ connecting: false });\r\n\t\t\tawait this.closeLocalStream();\r\n\t\t\tawait this.closeScreenStream();\r\n\t\t\tStreamService.remotes = [];\r\n\t\t\tStreamService.peers = [];\r\n\t\t\tawait this.leaveMessageChannel();\r\n\t\t\tawait this.leaveClient();\r\n\t\t\tawait this.leaveScreenClient();\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.leaveChannel.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tleaveClient() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst client = this.client;\r\n\t\t\tif (client) {\r\n\t\t\t\tclient.leave(() => {\r\n\t\t\t\t\tthis.client = null;\r\n\t\t\t\t\t// Logger.log('AgoraService.leaveClient', 'Leave channel successfully');\r\n\t\t\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\t\t\tclient.stopProxyServer();\r\n\t\t\t\t\t\tLogger.log('AgoraService.leaveClient.stopProxyServer');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\t\tLogger.error('AgoraService.leaveClient.error', error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tleaveMessageChannel() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (USE_RTM) {\r\n\t\t\t\tthis.unobserveMemberCount();\r\n\t\t\t\tconst channel = this.channel;\r\n\t\t\t\tif (!channel) {\r\n\t\t\t\t\treturn resolve();\r\n\t\t\t\t}\r\n\t\t\t\tconst messageClient = this.messageClient;\r\n\t\t\t\tchannel.leave().then(() => {\r\n\t\t\t\t\tthis.channel = null;\r\n\t\t\t\t\tmessageClient.logout().then(() => {\r\n\t\t\t\t\t\tthis.messageClient = null;\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}, reject);\r\n\t\t\t\t}, reject);\r\n\t\t\t} else {\r\n\t\t\t\treturn resolve();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync toggleCamera() {\r\n\t\tconst local = StreamService.local;\r\n\t\t// Logger.log('AgoraService.toggleCamera', local);\r\n\t\tif (local && local.video) {\r\n\t\t\tif (local.userMuteVideo) {\r\n\t\t\t\tawait local.unmuteVideo();\r\n\t\t\t\tStateService.patchState({ cameraMuted: false });\r\n\t\t\t\tthis.broadcastEvent(new AgoraUnmuteVideoEvent({ streamId: local.streamId }));\r\n\t\t\t\tthis.setUserState();\r\n\t\t\t} else {\r\n\t\t\t\tawait local.muteVideo();\r\n\t\t\t\tStateService.patchState({ cameraMuted: true });\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteVideoEvent({ streamId: local.streamId }));\r\n\t\t\t\tthis.setUserState();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync toggleAudio() {\r\n\t\tconst local = StreamService.local;\r\n\t\t// Logger.log('AgoraService.toggleAudio', local);\r\n\t\tif (local && local.audio) {\r\n\t\t\tif (local.userMuteAudio) {\r\n\t\t\t\tawait local.unmuteAudio();\r\n\t\t\t\tStateService.patchState({ audioMuted: false });\r\n\t\t\t\tthis.broadcastEvent(new AgoraUnmuteAudioEvent({ streamId: local.streamId }));\r\n\t\t\t\tthis.setUserState();\r\n\t\t\t} else {\r\n\t\t\t\tawait local.muteAudio();\r\n\t\t\t\tStateService.patchState({ audioMuted: true });\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteAudioEvent({ streamId: local.streamId }));\r\n\t\t\t\tthis.setUserState();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpreviousMuteAudio_ = false;\r\n\tsetAudio(audioMuted) {\r\n\t\tconst local = StreamService.local;\r\n\t\tif (local && local.audio) {\r\n\t\t\tif (audioMuted) {\r\n\t\t\t\tthis.previousMuteAudio_ = local.userMuteAudio;\r\n\t\t\t\tif (!local.userMuteAudio) {\r\n\t\t\t\t\tlocal.muteAudio();\r\n\t\t\t\t\tStateService.patchState({ audioMuted: true });\r\n\t\t\t\t\tthis.broadcastEvent(new AgoraMuteAudioEvent({ streamId: local.streamId }));\r\n\t\t\t\t\tthis.setUserState();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (local.userMuteAudio && !this.previousMuteAudio_) {\r\n\t\t\t\t\tlocal.unmuteAudio();\r\n\t\t\t\t\tStateService.patchState({ audioMuted: false });\r\n\t\t\t\t\tthis.broadcastEvent(new AgoraUnmuteAudioEvent({ streamId: local.streamId }));\r\n\t\t\t\t\tthis.setUserState();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleMode() {\r\n\t\tconst mode = StateService.state.mode === UIMode.VirtualTour ? UIMode.LiveMeeting : UIMode.VirtualTour;\r\n\t\tStateService.patchState({ mode });\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.Mode,\r\n\t\t\tmode: mode,\r\n\t\t});\r\n\t\tthis.setChannelState({ mode });\r\n\t}\r\n\r\n\ttoggleNavInfo() {\r\n\t\tconst showNavInfo = !StateService.state.showNavInfo;\r\n\t\tStateService.patchState({ showNavInfo });\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.NavInfo,\r\n\t\t\tshowNavInfo: showNavInfo,\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * controllingId is the uid of the controller user.\r\n\t */\r\n\trequestControl(controllingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendRequestControl(controllingId).then((controllingId) => {\r\n\t\t\t\tStateService.patchState({ controlling: controllingId, spying: false });\r\n\t\t\t\tresolve(controllingId);\r\n\t\t\t\tthis.setChannelState({ controlling: controllingId, spying: '' });\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trequestSpy(spyingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendRequestSpy(spyingId).then((spyingId) => {\r\n\t\t\t\tStateService.patchState({ spying: spyingId, controlling: false });\r\n\t\t\t\tresolve(spyingId);\r\n\t\t\t\tthis.setChannelState({ spying: spyingId, controlling: '' });\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * controllingId is the uid of the controller user.\r\n\t */\r\n\tdismissControl(skipAttributes = false) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tconst controllingId = StateService.state.controlling;\r\n\t\t\tif (controllingId) {\r\n\t\t\t\tthis.sendRequestControlDismiss(controllingId).then(() => {\r\n\t\t\t\t\tStateService.patchState({ controlling: false });\r\n\t\t\t\t\tresolve(controllingId);\r\n\t\t\t\t\tif (!skipAttributes) {\r\n\t\t\t\t\t\tthis.setChannelState({ controlling: '' });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve(false);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdismissSpy(skipAttributes = false) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tconst spyingId = StateService.state.spying;\r\n\t\t\tif (spyingId) {\r\n\t\t\t\tthis.sendRequestSpyDismiss(spyingId).then(() => {\r\n\t\t\t\t\tStateService.patchState({ spying: false });\r\n\t\t\t\t\tresolve(spyingId);\r\n\t\t\t\t\tif (!skipAttributes) {\r\n\t\t\t\t\t\tthis.setChannelState({ spying: '' });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve(false);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * controllingId is the uid of the controller user.\r\n\t */\r\n\ttoggleControl(controllingId) {\r\n\t\tthis.dismissSpy(true).then(() => {\r\n\t\t\tthis.dismissControl(true).then((dismissedControllingId) => {\r\n\t\t\t\tif (dismissedControllingId !== controllingId) {\r\n\t\t\t\t\tthis.requestControl(controllingId).then((controllingId) => {\r\n\t\t\t\t\t\tLogger.log('AgoraService.toggleControl', controllingId);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setChannelState({ controlling: '' });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleSpy(spyingId) {\r\n\t\tthis.dismissControl(true).then(() => {\r\n\t\t\tthis.dismissSpy(true).then((dismissedSpyingId) => {\r\n\t\t\t\tif (dismissedSpyingId !== spyingId) {\r\n\t\t\t\t\tthis.requestSpy(spyingId).then((spyingId) => {\r\n\t\t\t\t\t\tLogger.log('AgoraService.toggleSpy', spyingId);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setChannelState({ spying: '' });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsendRequestControl(controllingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendMessage({\r\n\t\t\t\ttype: MessageType.RequestControl,\r\n\t\t\t\tcontrollingId: controllingId,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tresolve(controllingId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsendRequestSpy(spyingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendMessage({\r\n\t\t\t\ttype: MessageType.RequestSpy,\r\n\t\t\t\tspyingId: spyingId,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tresolve(spyingId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsendRequestControlDismiss(controllingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendMessage({\r\n\t\t\t\ttype: MessageType.RequestControlDismiss,\r\n\t\t\t\tcontrollingId: controllingId,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tresolve(controllingId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsendRequestSpyDismiss(spyingId) {\r\n\t\treturn new Promise((resolve, _) => {\r\n\t\t\tthis.sendMessage({\r\n\t\t\t\ttype: MessageType.RequestSpyDismiss,\r\n\t\t\t\tspyingId: spyingId,\r\n\t\t\t}).then(() => {\r\n\t\t\t\tresolve(spyingId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleSilence() {\r\n\t\tconst silencing = !StateService.state.silencing;\r\n\t\tthis.sendMessage({\r\n\t\t\ttype: MessageType.RemoteSilencing,\r\n\t\t\tsilencing: silencing,\r\n\t\t});\r\n\t\tStateService.patchState({ silencing });\r\n\t\t// !!! todo silencing\r\n\t\t// this.setChannelState({ silencing });\r\n\t}\r\n\r\n\tnewMessageId() {\r\n\t\treturn `${StateService.state.uid}-${Date.now().toString()}`;\r\n\t}\r\n\r\n\tnavToView(viewId, keepOrientation = false, useLastOrientation = false) {\r\n\t\tif (StateService.state.controlling === StateService.state.uid || StateService.state.spying === StateService.state.uid) {\r\n\t\t\tthis.sendMessage({\r\n\t\t\t\ttype: MessageType.NavToView,\r\n\t\t\t\tviewId: viewId,\r\n\t\t\t\tkeepOrientation: keepOrientation,\r\n\t\t\t\tuseLastOrientation: useLastOrientation,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetSessionStats() {\r\n\t\tconst client = this.client;\r\n\t\tclient.getSessionStats((stats) => {\r\n\t\t\tLogger.log(`\r\nAgoraService.getSessionStats\r\n\tDuration: ${stats.Duration}\r\n\tUserCount: ${stats.UserCount}\r\n\tSendBytes: ${stats.SendBytes}\r\n\tRecvBytes: ${stats.RecvBytes}\r\n\tSendBitrate: ${stats.SendBitrate}\r\n\tRecvBitrate: ${stats.RecvBitrate}\r\n`);\r\n\t\t});\r\n\t}\r\n\r\n\tgetSystemStats() {\r\n\t\tconst client = this.client;\r\n\t\tclient.getSystemStats((stats) => {\r\n\t\t\tLogger.log(`\r\nAgoraService.getSystemStats\r\n\t\t\tBatteryLevel: ${stats.BatteryLevel}\r\n`);\r\n\t\t});\r\n\t}\r\n\r\n\tsendMessage(message) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (StateService.state.connected) {\r\n\t\t\t\tmessage.clientId = StateService.state.uid;\r\n\t\t\t\t// Logger.log('AgoraService.sendMessage');\r\n\t\t\t\tswitch (message.type) {\r\n\t\t\t\t\tcase MessageType.ControlInfo:\r\n\t\t\t\t\tcase MessageType.CurrentTimeMedia:\r\n\t\t\t\t\tcase MessageType.MenuToggle:\r\n\t\t\t\t\tcase MessageType.Mode:\r\n\t\t\t\t\tcase MessageType.NavInfo:\r\n\t\t\t\t\tcase MessageType.NavLink:\r\n\t\t\t\t\tcase MessageType.NavLinkClose:\r\n\t\t\t\t\tcase MessageType.NavToGrid:\r\n\t\t\t\t\tcase MessageType.NavToView:\r\n\t\t\t\t\tcase MessageType.PlayMedia:\r\n\t\t\t\t\tcase MessageType.PlayModel:\r\n\t\t\t\t\tcase MessageType.SelectItem:\r\n\t\t\t\t\tcase MessageType.ShowPanel:\r\n\t\t\t\t\tcase MessageType.SlideChange:\r\n\t\t\t\t\tcase MessageType.VREnded:\r\n\t\t\t\t\tcase MessageType.VRStarted:\r\n\t\t\t\t\tcase MessageType.VRState:\r\n\t\t\t\t\tcase MessageType.ZoomMedia:\r\n\t\t\t\t\tcase MessageType.SetSnapshot:\r\n\t\t\t\t\t\t// Logger.log('AgoraService.sendMessage', StateService.state.uid, StateService.state.controlling, StateService.state.spying, StateService.state.controlling !== StateService.state.uid && StateService.state.spying !== StateService.state.uid);\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tStateService.state.controlling !== StateService.state.uid &&\r\n\t\t\t\t\t\t\tStateService.state.spying !== StateService.state.uid\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t// message.wrc_version = 'beta';\r\n\t\t\t\t// message.uid = StateService.state.uid;\r\n\t\t\t\tconst onMessageSent = (message) => {\r\n\t\t\t\t\tresolve(message);\r\n\t\t\t\t\t// rewire inner messages\r\n\t\t\t\t\tswitch (message.type) {\r\n\t\t\t\t\t\tcase MessageType.RequestControl:\r\n\t\t\t\t\t\t\t// !!! rewire inner message\r\n\t\t\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase MessageType.SetSnapshot:\r\n\t\t\t\t\t\t\t// !!! saving channel snapshot\r\n\t\t\t\t\t\t\tthis.setChannelSnapshot(message);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tconst send = (message, channel) => {\r\n\t\t\t\t\tLogger.log('AgoraService.sendMessage', message);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst text = JSON.stringify(message);\r\n\t\t\t\t\t\tif (message.messageId) {\r\n\t\t\t\t\t\t\tthis.once(`message-${message.messageId}`, (message) => {\r\n\t\t\t\t\t\t\t\tonMessageSent(message);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Logger.log('AgoraService.sendMessage.sending', message.type);\r\n\t\t\t\t\t\tchannel.sendMessage({ text: text }).then(() => {\r\n\t\t\t\t\t\t\t// Logger.log('AgoraService.sendMessage', text);\r\n\t\t\t\t\t\t\tif (!message.messageId) {\r\n\t\t\t\t\t\t\t\tonMessageSent(message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\tLogger.error('AgoraService.sendMessage.error', error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tLogger.error('AgoraService.sendMessage.error', error);\r\n\t\t\t\t\t\t// reject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tconst channel = this.channel;\r\n\t\t\t\tif (channel) {\r\n\t\t\t\t\tsend(message, channel);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis.once('channel', (channel) => {\r\n\t\t\t\t\t\t\tsend(message, channel);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tLogger.error('AgoraService.sendMessage.error', error);\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.sendMessage.error', 'not connected');\r\n\t\t\t\t// reject();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelAttributes\r\n\t * @returns Record<string, { lastUpdateTs: number, value: string }>\r\n\t */\r\n\tgetChannelAttributes() {\r\n\t\tLogger.log('AgoraService.getChannelAttributes');\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient) {\r\n\t\t\t\tconst promise = messageClient.getChannelAttributes(StateService.state.channelNameLink);\r\n\t\t\t\tpromise.then((attributes) => {\r\n\t\t\t\t\tLogger.log('AgoraService.getChannelAttributes', attributes);\r\n\t\t\t\t\tresolve(attributes);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.getChannelAttributes.error', error);\r\n\t\t\t\t\tresolve({});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.getChannelAttributes.noop');\r\n\t\t\t\tresolve({});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelAttributesByKeys\r\n\t * @params string[]\r\n\t * @returns Record<string, string>\r\n\t */\r\n\tgetChannelAttributesByKeys(...keys) {\r\n\t\tLogger.log('AgoraService.getChannelAttributesByKeys', keys);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient) {\r\n\t\t\t\tconst promise = messageClient.getChannelAttributes(StateService.state.channelNameLink, keys);\r\n\t\t\t\tpromise.then((attributes) => {\r\n\t\t\t\t\tLogger.log('AgoraService.getChannelAttributesByKeys', attributes);\r\n\t\t\t\t\tconst mappedAttributes = {};\r\n\t\t\t\t\tObject.keys(attributes).forEach(key => {\r\n\t\t\t\t\t\tmappedAttributes[key] = attributes[key].value;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tresolve(mappedAttributes);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.getChannelAttributesByKeys.error', error);\r\n\t\t\t\t\tresolve({});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.getChannelAttributesByKeys.noop', keys);\r\n\t\t\t\tresolve({});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelMessages\r\n\t * @returns { date: number, clientId: string, name: string, message: string }[]\r\n\t */\r\n\tgetChannelMessages() {\r\n\t\tLogger.log('AgoraService.getChannelMessages');\r\n\t\treturn from(this.getChannelAttributes()).pipe(\r\n\t\t\tmap(attributes => Object.keys(attributes)\r\n\t\t\t\t.filter(key => key.indexOf('message-') === 0)\r\n\t\t\t\t.map(key => attributes[key]),\r\n\t\t\t),\r\n\t\t\tmap(attributes => {\r\n\t\t\t\tattributes.sort((a, b) => {\r\n\t\t\t\t\treturn a.lastUpdateTs - b.lastUpdateTs;\r\n\t\t\t\t});\r\n\t\t\t\tconst messages = attributes.map(attribute => {\r\n\t\t\t\t\tconst message = JSON.parse(attribute.value);\r\n\t\t\t\t\treturn message;\r\n\t\t\t\t});\r\n\t\t\t\tLogger.log('AgoraService.getChannelMessages', messages);\r\n\t\t\t\treturn messages;\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tLogger.error('AgoraService.getChannelMessages.error', error);\r\n\t\t\t\treturn of([]);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * @description addOrUpdateChannelAttributes\r\n\t * @params attributes: Record<string, string>\r\n\t */\r\n\taddOrUpdateChannelAttributes(attributes) {\r\n\t\tLogger.log('AgoraService.addOrUpdateChannelAttributes', attributes);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient && Object.keys(attributes).length > 0) {\r\n\t\t\t\tconst promise = messageClient.addOrUpdateChannelAttributes(StateService.state.channelNameLink, attributes, { enableNotificationToChannelMembers: false });\r\n\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\tLogger.log('AgoraService.addOrUpdateChannelAttributes', attributes);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.addOrUpdateChannelAttributes.error', error);\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.addOrUpdateChannelAttributes.noop', attributes);\r\n\t\t\t\tresolve();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * this method is called after remote stream of the publisher has been added.\r\n\t */\r\n\tgetInitialSession() {\r\n\t\tthis.getChannelSession().then(session => {\r\n\t\t\tStateService.patchState(session.state);\r\n\t\t\tif (session.state.controlling && session.snapshot) {\r\n\t\t\t\t// !!! rewire inner message to update view snapshot\r\n\t\t\t\tthis.broadcastMessage(session.snapshot);\r\n\t\t\t}\r\n\t\t\t// handle window mode changes\r\n\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelSession\r\n\t * @returns { state: State, snapshot: Snapshot }\r\n\t */\r\n\tgetChannelSession() {\r\n\t\tLogger.log('AgoraService.getChannelSession');\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.getChannelAttributesByKeys('channelState', 'channelSnapshot').then(attributes => {\r\n\t\t\t\tconst channelSession = {\r\n\t\t\t\t\tstate: {},\r\n\t\t\t\t\tsnapshot: {},\r\n\t\t\t\t};\r\n\t\t\t\tif (attributes.channelState) {\r\n\t\t\t\t\tconst channelState = JSON.parse(attributes.channelState);\r\n\t\t\t\t\tthis.channelState = channelState;\r\n\t\t\t\t\tchannelSession.state = channelState;\r\n\t\t\t\t}\r\n\t\t\t\tif (attributes.channelSnapshot) {\r\n\t\t\t\t\tconst channelSnapshot = JSON.parse(attributes.channelSnapshot);\r\n\t\t\t\t\tthis.channelSnapshot = channelSnapshot;\r\n\t\t\t\t\tchannelSession.snapshot = channelSnapshot;\r\n\t\t\t\t}\r\n\t\t\t\tLogger.log('AgoraService.getChannelSession', channelSession);\r\n\t\t\t\tresolve(channelSession);\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tLogger.error('AgoraService.getChannelSession.error', error);\r\n\t\t\t\tresolve({});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelState\r\n\t * @returns State\r\n\t */\r\n\tgetChannelState() {\r\n\t\tLogger.log('AgoraService.getChannelState');\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.getChannelAttributesByKeys('channelState').then(attributes => {\r\n\t\t\t\tif (attributes.channelState) {\r\n\t\t\t\t\tconst channelState = JSON.parse(attributes.channelState);\r\n\t\t\t\t\tthis.channelState = channelState;\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tconst channelState = {\r\n\t\t\t\t\t\trole: StateService.state.role,\r\n\t\t\t\t\t\tname: StateService.state.name,\r\n\t\t\t\t\t\tuid: StateService.state.uid,\r\n\t\t\t\t\t\tscreenUid: StateService.state.screenUid,\r\n\t\t\t\t\t\tcontrolling: StateService.state.controlling,\r\n\t\t\t\t\t\tspying: StateService.state.spying,\r\n\t\t\t\t\t\tmode: StateService.state.mode,\r\n\t\t\t\t\t};\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tLogger.log('AgoraService.getChannelState', channelState);\r\n\t\t\t\t\tresolve(channelState);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve({});\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tLogger.error('AgoraService.getChannelState.error', error);\r\n\t\t\t\tresolve({});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description setChannelState\r\n\t * @params partialState: Record<string, string>\r\n\t */\r\n\tsetChannelState(partialState) {\r\n\t\tconst channelState = { ...(this.channelState || {}), ...partialState };\r\n\t\tLogger.log('AgoraService.setChannelState', partialState, channelState);\r\n\t\treturn this.addOrUpdateChannelAttributes({ channelState: JSON.stringify(channelState) });\r\n\t}\r\n\r\n\t/**\r\n\t * @description getChannelSnapshot\r\n\t * @returns Snapshot\r\n\t */\r\n\tgetChannelSnapshot() {\r\n\t\tLogger.log('AgoraService.getChannelSnapshot');\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.getChannelAttributesByKeys('channelSnapshot').then(attributes => {\r\n\t\t\t\tif (attributes.channelSnapshot) {\r\n\t\t\t\t\tconst channelSnapshot = JSON.parse(attributes.channelSnapshot);\r\n\t\t\t\t\tthis.channelSnapshot = channelSnapshot;\r\n\t\t\t\t\tLogger.log('AgoraService.getChannelSnapshot', channelSnapshot);\r\n\t\t\t\t\tresolve(channelSnapshot);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve({});\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tLogger.error('AgoraService.getChannelSnapshot.error', error);\r\n\t\t\t\tresolve({});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @description setChannelSnapshot\r\n\t * @params partialSnapshot: Record<string, string>\r\n\t */\r\n\tsetChannelSnapshot(partialSnapshot) {\r\n\t\tconst channelSnapshot = { ...(this.channelSnapshot || {}), ...partialSnapshot };\r\n\t\tLogger.log('AgoraService.setChannelSnapshot', partialSnapshot, channelSnapshot);\r\n\t\treturn this.addOrUpdateChannelAttributes({ channelSnapshot: JSON.stringify(channelSnapshot) });\r\n\t}\r\n\r\n\tpadStart(num, count = 5, char = '0') {\r\n\t\tconst s = String(num);\r\n\t\treturn s.length >= count ? s : new Array(count - s.length + 1).join(char) + s;\r\n\t}\r\n\r\n\t/**\r\n\t * @description addOrUpdateChannelMessages\r\n\t * @params messages: { date: number, clientId: string, name: string, message: string }[]\r\n\t */\r\n\taddOrUpdateChannelMessages(messages) {\r\n\t\tconst attributes = {};\r\n\t\tmessages.forEach(message => {\r\n\t\t\tconst num = Math.floor(Math.random() * 10000);\r\n\t\t\tconst key = `message-${message.date}-${this.padStart(num)}`;\r\n\t\t\tattributes[key] = JSON.stringify(message);\r\n\t\t});\r\n\t\treturn this.addOrUpdateChannelAttributes(attributes);\r\n\t}\r\n\r\n\tdeleteChannelAttributesByKeys(keys) {\r\n\t\tLogger.log('AgoraService.deleteChannelAttributesByKeys', keys);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient && keys.length > 0) {\r\n\t\t\t\tconst promise = messageClient.deleteChannelAttributesByKeys(StateService.state.channelNameLink, keys, { enableNotificationToChannelMembers: false });\r\n\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\tLogger.log('AgoraService.deleteChannelAttributesByKeys', keys);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.deleteChannelAttributesByKeys.error', error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.deleteChannelAttributesByKeys.noop', keys);\r\n\t\t\t\treject('missing rtm client or keys');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsetUserState() {\r\n\t\tconst clientInfo = {\r\n\t\t\trole: StateService.state.role,\r\n\t\t\tname: StateService.state.name,\r\n\t\t\tuid: StateService.state.uid,\r\n\t\t\tscreenUid: StateService.state.screenUid,\r\n\t\t\tcameraMuted: StateService.state.cameraMuted,\r\n\t\t\taudioMuted: StateService.state.audioMuted,\r\n\t\t};\r\n\t\tLogger.log('AgoraService.setUserState', clientInfo);\r\n\t\treturn this.addOrUpdateLocalUserAttributes({ clientInfo: JSON.stringify(clientInfo) }).then(() => {\r\n\t\t\treturn clientInfo;\r\n\t\t});\r\n\t}\r\n\r\n\tgetUserState(remoteId) {\r\n\t\treturn this.getUserAttributes(remoteId).then(attributes => {\r\n\t\t\tconst clientInfo = JSON.parse(attributes.clientInfo || '');\r\n\t\t\tLogger.log('AgoraService.getUserState', clientInfo);\r\n\t\t\treturn clientInfo;\r\n\t\t});\r\n\t}\r\n\r\n\taddOrUpdateLocalUserAttributes(attributes) {\r\n\t\tLogger.log('AgoraService.addOrUpdateLocalUserAttributes', attributes);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient && Object.keys(attributes).length > 0) {\r\n\t\t\t\tconst promise = messageClient.addOrUpdateLocalUserAttributes(attributes);\r\n\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\tLogger.log('AgoraService.addOrUpdateLocalUserAttributes', attributes);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.addOrUpdateLocalUserAttributes.error', error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.addOrUpdateLocalUserAttributes.noop', attributes);\r\n\t\t\t\treject('missing rtm client or attributes');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetUserAttributes(userId) {\r\n\t\tLogger.log('AgoraService.getUserAttributes', userId);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient) {\r\n\t\t\t\tconst promise = messageClient.getUserAttributes(userId);\r\n\t\t\t\tpromise.then((attributes) => {\r\n\t\t\t\t\tLogger.log('AgoraService.getUserAttributes', attributes);\r\n\t\t\t\t\tresolve(attributes);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.getUserAttributes.error', error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tLogger.error('AgoraService.getUserAttributes', 'missing rtm client');\r\n\t\t\t\treject('missing rtm client');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tclearLocalUserAttributes() {\r\n\t\tLogger.log('AgoraService.clearLocalUserAttributes');\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst messageClient = this.messageClient;\r\n\t\t\tif (messageClient) {\r\n\t\t\t\tconst promise = messageClient.clearLocalUserAttributes();\r\n\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\tLogger.log('AgoraService.clearLocalUserAttributes');\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tLogger.error('AgoraService.clearLocalUserAttributes.error', error);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcheckBroadcastMessage(message) {\r\n\t\t// filter for broadcast\r\n\t\t// !!! filter events here\r\n\t\tswitch (message.type) {\r\n\t\t\tcase MessageType.RequestControlDismiss:\r\n\t\t\t\tStateService.patchState({ controlling: false });\r\n\t\t\t\tif (message.controllingId === StateService.state.uid) {\r\n\t\t\t\t\tthis.closeScreenStream();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase MessageType.RequestSpyDismiss:\r\n\t\t\t\tStateService.patchState({ spying: false });\r\n\t\t\t\tbreak;\r\n\t\t\tcase MessageType.SetSnapshot:\r\n\t\t\t\t// Logger.log('AgoraService.checkBroadcastMessage.SetSnapshot', message);\r\n\t\t\t\tif (StateService.state.role === RoleType.Publisher) {\r\n\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t} else if (StateService.state.controlling && StateService.state.controlling !== StateService.state.uid) {\r\n\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase MessageType.RemoteSilencing:\r\n\t\t\t\t// only streamers can be silenced\r\n\t\t\t\tif (StateService.state.role === RoleType.Streamer) {\r\n\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase MessageType.ControlInfo:\r\n\t\t\tcase MessageType.CurrentTimeMedia:\r\n\t\t\tcase MessageType.MenuToggle:\r\n\t\t\tcase MessageType.Mode:\r\n\t\t\tcase MessageType.NavInfo:\r\n\t\t\tcase MessageType.NavLink:\r\n\t\t\tcase MessageType.NavLinkClose:\r\n\t\t\tcase MessageType.NavToGrid:\r\n\t\t\tcase MessageType.NavToView:\r\n\t\t\tcase MessageType.PlayMedia:\r\n\t\t\tcase MessageType.PlayModel:\r\n\t\t\tcase MessageType.SelectItem:\r\n\t\t\tcase MessageType.ShowPanel:\r\n\t\t\tcase MessageType.SlideChange:\r\n\t\t\tcase MessageType.VREnded:\r\n\t\t\tcase MessageType.VRStarted:\r\n\t\t\tcase MessageType.VRState:\r\n\t\t\tcase MessageType.ZoomMedia:\r\n\t\t\t\tif (\r\n\t\t\t\t\t(StateService.state.controlling && StateService.state.controlling !== StateService.state.uid) ||\r\n\t\t\t\t\t(StateService.state.spying && StateService.state.spying !== StateService.state.uid)) {\r\n\t\t\t\t\tthis.broadcastMessage(message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// send dismiss request info\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.broadcastMessage(message);\r\n\t\t}\r\n\t}\r\n\r\n\tbroadcastMessage(message) {\r\n\t\tMessageService.out(message);\r\n\t}\r\n\r\n\tbroadcastEvent(event) {\r\n\t\tMessageService.out({\r\n\t\t\ttype: MessageType.AgoraEvent,\r\n\t\t\tevent,\r\n\t\t});\r\n\t}\r\n\r\n\tpeerAdd(remoteId) {\r\n\t\tLogger.log('AgoraService.peerAdd', remoteId);\r\n\t\tconst peer = {\r\n\t\t\tuid: remoteId,\r\n\t\t};\r\n\t\tconst peers = StreamService.peers;\r\n\t\tpeers.push(peer);\r\n\t\tStreamService.peers = peers;\r\n\t\tthis.broadcastEvent(new AgoraPeerEvent({ peer }));\r\n\t}\r\n\r\n\tpeerRemove(remoteId) {\r\n\t\tLogger.log('AgoraService.peerRemove', remoteId);\r\n\t\tconst peers = StreamService.peers;\r\n\t\tconst peer = peers.find(x => x.uid === remoteId);\r\n\t\tif (peer) {\r\n\t\t\tpeers.splice(peers.indexOf(peer), 1);\r\n\t\t\tStreamService.peers = peers;\r\n\t\t}\r\n\t}\r\n\r\n\tonMessage(data, uid) {\r\n\t\t// Logger.log('AgoraService.onMessage', data.text, uid, StateService.state.uid);\r\n\t\t// discard message delivered by current state uid;\r\n\t\tif (uid !== StateService.state.uid) {\r\n\t\t\tLogger.log('AgoraService.onMessage', data.text, uid);\r\n\t\t\tconst message = JSON.parse(data.text);\r\n\t\t\tif (message.messageId && this.has(`message-${message.messageId}`)) {\r\n\t\t\t\t// !!! removed return\r\n\t\t\t\tthis.emit(`message-${message.messageId}`, message);\r\n\t\t\t}\r\n\t\t\t// discard message delivered to specific remoteId when differs from current state uid;\r\n\t\t\tif (message.remoteId && message.remoteId !== StateService.state.uid && message.remoteId !== StateService.state.screenUid) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// !!! check position !!!\r\n\t\t\tif (message.type === MessageType.VRStarted) {\r\n\t\t\t\tconst container = document.createElement('div');\r\n\t\t\t\tcontainer.classList.add('player__vr');\r\n\t\t\t\tmessage.container = container;\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\tif (message.type === MessageType.VRStarted || message.type === MessageType.VREnded) {\r\n\t\t\t\t// Logger.log('AgoraService.onMessage', message.type, message);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tthis.checkBroadcastMessage(message);\r\n\t\t} else {\r\n\t\t\tLogger.log('AgoraService.onMessage', data.text);\r\n\t\t}\r\n\t}\r\n\r\n\tonException(event) {\r\n\t\tLogger.error('AgoraService.onException', event);\r\n\t}\r\n\r\n\tasync onUserJoined(user) {\r\n\t\tLogger.log('AgoraService.onUserJoined', user);\r\n\t\tthis.peerAdd(user.uid);\r\n\t}\r\n\r\n\tasync onUserLeft(user, reason) {\r\n\t\tLogger.log('AgoraService.onUserLeft', user, reason);\r\n\t\tconst remoteId = user.uid.toString();\r\n\t\tif (remoteId !== StateService.state.uid) {\r\n\t\t\t// Logger.log('AgoraService.onUserLeft', user.uid);\r\n\t\t\tconst remote = this.remoteRemove(remoteId);\r\n\t\t\tif (remote && remote.clientInfo) {\r\n\t\t\t\t// !!! remove screenRemote?\r\n\t\t\t\tif (remote.clientInfo.role === RoleType.Publisher) {\r\n\t\t\t\t\tif (StateService.state.role === RoleType.SelfService) {\r\n\t\t\t\t\t\tStateService.patchState({ hosted: true, controlling: false, spying: false, silencing: false });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tStateService.patchState({ hosted: false, controlling: false, spying: false, silencing: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (StateService.state.controlling === remoteId) {\r\n\t\t\t\t\t\tStateService.patchState({ controlling: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (StateService.state.spying === remoteId) {\r\n\t\t\t\t\t\tStateService.patchState({ spying: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.peerRemove(remoteId);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {IAgoraRTCRemoteUser} user\r\n\t * @param {'audio' | 'video'} mediaType\r\n\t */\r\n\tasync onUserPublished(user, mediaType) {\r\n\t\tconst uid = user.uid.toString();\r\n\t\tLogger.log('AgoraService.onUserPublished', uid, user, mediaType);\r\n\t\tif (\r\n\t\t\tuid !== StateService.state.uid &&\r\n\t\t\tuid !== StateService.state.screenUid\r\n\t\t) {\r\n\t\t\tawait this.client.subscribe(user, mediaType);\r\n\t\t\tconst stream = new Stream(user, mediaType);\r\n\t\t\tawait this.remoteAdd(stream);\r\n\t\t\t/*\r\n\t\t\tif (mediaType === 'video') {\r\n\t\t\t\tconst stream = new Stream(user, mediaType);\r\n\t\t\t\tawait this.remoteAdd(stream);\r\n\t\t\t} else if (mediaType === 'audio') {\r\n\t\t\t\tuser.audioTrack?.play();\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t} else {\r\n\t\t\tconst clientInfo = {\r\n\t\t\t\trole: StateService.state.role,\r\n\t\t\t\tname: StateService.state.name,\r\n\t\t\t\tuid: StateService.state.uid,\r\n\t\t\t\tscreenUid: StateService.state.screenUid,\r\n\t\t\t};\r\n\t\t\tconst local = StreamService.local;\r\n\t\t\tlocal.clientInfo = clientInfo;\r\n\t\t\tStreamService.local = local;\r\n\t\t}\r\n\t}\r\n\r\n\tasync remoteAdd(stream) {\r\n\t\tLogger.log('AgoraService.remoteAdd', stream);\r\n\t\tStreamService.remoteAdd(stream);\r\n\t\tthis.broadcastEvent(new AgoraRemoteEvent({ stream }));\r\n\t\tconst remoteId = stream.streamId;\r\n\t\tsetTimeout(async () => {\r\n\t\t\tconst clientInfo = await this.getUserState(remoteId);\r\n\t\t\tLogger.log('AgoraService.remoteAdd.getUserState', clientInfo);\r\n\t\t\tStreamService.remoteSetClientInfo(remoteId, clientInfo);\r\n\t\t\tif (clientInfo.cameraMuted) {\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteVideoEvent({ streamId: remoteId }));\r\n\t\t\t}\r\n\t\t\tif (clientInfo.audioMuted) {\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteAudioEvent({ streamId: remoteId }));\r\n\t\t\t}\r\n\t\t\tif (clientInfo.role === RoleType.Publisher) {\r\n\t\t\t\tconst state = { hosted: true };\r\n\t\t\t\tStateService.patchState(state);\r\n\t\t\t\tthis.getInitialSession();\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {IAgoraRTCRemoteUser} user\r\n\t * @param {'audio' | 'video'} mediaType\r\n\t */\r\n\tasync onUserUnpublished(user, mediaType) {\r\n\t\tconst uid = user.uid.toString();\r\n\t\tLogger.log('AgoraService.onUserUnpublished', uid, user, mediaType);\r\n\t\tif (uid === StateService.state.uid) {\r\n\t\t\tStreamService.local = null;\r\n\t\t} else if (uid === StateService.state.screenUid) {\r\n\t\t\tStreamService.screen = null;\r\n\t\t} else if (mediaType === 'video') {\r\n\t\t\t// !!! this happen on oculus removed timeout\r\n\t\t\tthis.remoteRemove(uid);\r\n\t\t} else if (mediaType === 'audio') {\r\n\t\t\tuser.audioTrack?.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tremoteRemove(streamId) {\r\n\t\t// Logger.log('AgoraService.remoteRemove', streamId);\r\n\t\tconst remote = StreamService.remoteRemove(streamId);\r\n\t\tif (remote && remote.clientInfo && remote.clientInfo.role === RoleType.Publisher && remote.clientInfo.screenUid !== streamId) {\r\n\t\t\tStateService.patchState({ hosted: false });\r\n\t\t}\r\n\t\treturn remote;\r\n\t}\r\n\r\n\tonUserInfoUpdated(event) {\r\n\t\tLogger.log('AgoraService.onUserInfoUpdated', event);\r\n\t\tswitch (event.msg) {\r\n\t\t\tcase 'mute-audio':\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteAudioEvent({ streamId: event.uid }));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'unmute-audio':\r\n\t\t\t\tthis.broadcastEvent(new AgoraUnmuteAudioEvent({ streamId: event.uid }));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mute-video':\r\n\t\t\t\tthis.broadcastEvent(new AgoraMuteVideoEvent({ streamId: event.uid }));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'unmute-video':\r\n\t\t\t\tthis.broadcastEvent(new AgoraUnmuteVideoEvent({ streamId: event.uid }));\r\n\t\t\t\tbreak;\r\n\t\t\t/*\r\n\t\tcase 'disable-local-video':\r\n\t\t\tthis.broadcastEvent(new AgoraDisableVideoEvent({ streamId: event.uid }));\r\n\t\t\tbreak;\r\n\t\tcase 'enable-local-video':\r\n\t\t\tthis.broadcastEvent(new AgoraEnableVideoEvent({ streamId: event.uid }));\r\n\t\t\tbreak;\r\n\t\t\t*/\r\n\t\t}\r\n\t\tthis.broadcastEvent(new AgoraUserInfoUpdateEvent({ streamId: event.uid, message: event.msg }));\r\n\t}\r\n\r\n\t/*\r\n\tonMuteVideo(event) {\r\n\t\t// Logger.log('AgoraService.onMuteVideo', event);\r\n\t\tthis.broadcastEvent(new AgoraMuteVideoEvent({ streamId: event.uid }));\r\n\t}\r\n\r\n\tonUnmuteVideo(event) {\r\n\t\t// Logger.log('AgoraService.onUnmuteVideo', event);\r\n\t\tthis.broadcastEvent(new AgoraUnmuteVideoEvent({ streamId: event.uid }));\r\n\t}\r\n\r\n\tonMuteAudio(event) {\r\n\t\t// Logger.log('AgoraService.onMuteAudio', event);\r\n\t\tthis.broadcastEvent(new AgoraMuteAudioEvent({ streamId: event.uid }));\r\n\t}\r\n\r\n\tonUnmuteAudio(event) {\r\n\t\t// Logger.log('AgoraService.onUnmuteAudio', event);\r\n\t\tthis.broadcastEvent(new AgoraUnmuteAudioEvent({ streamId: event.uid }));\r\n\t}\r\n\t*/\r\n\r\n\tonVolumeIndicator(event) {\r\n\t\t// Logger.log('AgoraService.onVolumeIndicator', event);\r\n\t\tconst streams = event.attr.map(x => {\r\n\t\t\treturn { streamId: x.uid, level: x.level };\r\n\t\t});\r\n\t\tthis.broadcastEvent(new AgoraVolumeLevelsEvent({ streams: streams }));\r\n\t}\r\n\r\n\tonConnectionStateChange(event) {\r\n\t\tLogger.log('AgoraService.onConnectionStateChange', event);\r\n\t}\r\n\r\n\tonTokenPrivilegeWillExpire(event) {\r\n\t\tLogger.log('AgoraService.onTokenPrivilegeWillExpire');\r\n\t\tconst client = this.client;\r\n\t\tconst channelNameLink = this.getChannelNameLink();\r\n\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\tif (token.token) {\r\n\t\t\t\tawait client.renewToken(token.token);\r\n\t\t\t\tLogger.log('AgoraService.onTokenPrivilegeWillExpire.renewed');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonTokenPrivilegeDidExpire(event) {\r\n\t\tLogger.log('AgoraService.onTokenPrivilegeDidExpire');\r\n\t\tconst client = this.client;\r\n\t\tconst channelNameLink = this.getChannelNameLink();\r\n\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\tif (token.token) {\r\n\t\t\t\tawait client.renewToken(token.token);\r\n\t\t\t\tLogger.log('AgoraService.onTokenPrivilegeDidExpire.renewed');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// screen\r\n\r\n\ttoggleScreen() {\r\n\t\tconst screen = StreamService.screen;\r\n\t\tif (screen) {\r\n\t\t\tthis.closeScreenStream();\r\n\t\t} else {\r\n\t\t\tif (this.screenClient) {\r\n\t\t\t\tthis.createScreenStream(StateService.state.screenUid);\r\n\t\t\t} else {\r\n\t\t\t\tthis.createScreenClient().then(() => {\r\n\t\t\t\t\tconst channelNameLink = this.getChannelNameLink();\r\n\t\t\t\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\t\t\t\tLogger.log('AgoraService.toggleScreen.rtcToken$', token);\r\n\t\t\t\t\t\tawait this.screenJoin(token.token, channelNameLink);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync createScreenClient() {\r\n\t\tif (this.screenClient) {\r\n\t\t\treturn this.screenClient;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst screenClient = this.screenClient = AgoraRTC.createClient({ mode: 'live', codec: 'h264' }); // rtc, vp8\r\n\t\t\tscreenClient.on('error', this.onScreenError);\r\n\t\t\tscreenClient.on('stream-published', this.onScreenStreamPublished);\r\n\t\t\tscreenClient.on('stream-unpublished', this.onScreenStreamUnpublished);\r\n\t\t\t// only for remotes\r\n\t\t\t// screenClient.on('stream-added', this.onScreenStreamAdded);\r\n\t\t\t// screenClient.on('stream-removed', this.onScreenStreamRemoved);\r\n\t\t\t// screenClient.on('stream-subscribed', this.onScreenStreamSubscribed);\r\n\t\t\t// screenClient.on('peer-online', this.onScreenPeerConnect);\r\n\t\t\t// screenClient.on('peer-leave', this.onScreenPeerLeaved);\r\n\t\t\t// screenClient.on('onTokenPrivilegeWillExpire', this.onScreenTokenPrivilegeWillExpire);\r\n\t\t\t// screenClient.on('onTokenPrivilegeDidExpire', this.onScreenTokenPrivilegeDidExpire);\r\n\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\tscreenClient.startProxyServer(3);\r\n\t\t\t\t/*\r\n\t\t\t\t3: The cloud proxy for the UDP protocol, that is, the Force UDP cloud proxy mode. In this mode, the SDK always transmits data over UDP.\r\n\t\t\t\t5: The cloud proxy for the TCP (encryption) protocol, that is, the Force TCP cloud proxy mode. In this mode, the SDK always transmits data over TLS 443.\r\n\t\t\t\tNote: As of v4.15.0, the default value of mode is 3.\r\n\t\t\t\t*/\r\n\t\t\t\tLogger.log('AgoraService.createScreenClient.startProxyServer');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.createScreenClient.error', error);\r\n\t\t\tthis.screenClient = null;\r\n\t\t}\r\n\t\treturn this.screenClient;\r\n\t}\r\n\r\n\tasync screenJoin(token, channelNameLink) {\r\n\t\tconst screenClient = this.screenClient;\r\n\t\tconst screenClientId = AgoraService.getUniqueUserId();\r\n\t\ttry {\r\n\t\t\tconst screenUid = await screenClient.join(environment.appKey, channelNameLink, token, screenClientId);\r\n\t\t\tLogger.log('AgoraService.screenJoin', screenUid);\r\n\t\t\tStateService.patchState({ screenUid });\r\n\t\t\tthis.createScreenStream(screenUid);\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.screenJoin.error', error);\r\n\t\t\tif (error === 'DYNAMIC_KEY_EXPIRED') {\r\n\t\t\t\tAgoraService.rtcToken$(channelNameLink).subscribe(async (token) => {\r\n\t\t\t\t\tawait this.screenJoin(token.token, channelNameLink);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcreateScreenStream(screenUid) {\r\n\t\tconst options = {\r\n\t\t\tstreamID: screenUid,\r\n\t\t\taudio: false,\r\n\t\t\tvideo: false,\r\n\t\t\tscreen: true,\r\n\t\t\t// extensionId: 'minllpmhdgpndnkomcoccfekfegnlikg', // Google Chrome:\r\n\t\t\t// mediaSource:  'screen', // Firefox: 'screen', 'application', 'window' (select one)\r\n\t\t};\r\n\t\t// !!! todo\r\n\t\tconst stream = AgoraRTC.createStream(options);\r\n\t\tstream.setScreenProfile(environment.profiles.screen);\r\n\t\tLogger.log('AgoraService.createScreenStream', options);\r\n\t\tconst onStopScreenSharing = () => {\r\n\t\t\tthis.closeScreenStream();\r\n\t\t};\r\n\t\t// Initialize the stream.\r\n\t\tstream.init(() => {\r\n\t\t\tStreamService.screen = stream;\r\n\t\t\tstream.on('stopScreenSharing', onStopScreenSharing);\r\n\t\t\tstream.muteAudio();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.publishScreenStream();\r\n\t\t\t}, 1);\r\n\t\t}, function(error) {\r\n\t\t\tLogger.error('AgoraService.createScreenStream.screen.init.error', error);\r\n\t\t});\r\n\t}\r\n\r\n\tasync publishScreenStream() {\r\n\t\ttry {\r\n\t\t\tLogger.log('AgoraService.publishScreenStream');\r\n\t\t\tconst clientInfo = await this.setUserState();\r\n\t\t\tconst screen = StreamService.screen;\r\n\t\t\tconst screenClient = this.screenClient;\r\n\t\t\tawait screenClient.publish(screen.getTracks());\r\n\t\t\tscreen.clientInfo = clientInfo;\r\n\t\t\tStreamService.screen = screen;\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.publishScreenStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync unpublishScreenStream() {\r\n\t\ttry {\r\n\t\t\tconst screenClient = this.screenClient;\r\n\t\t\tconst screen = StreamService.screen;\r\n\t\t\tif (screenClient && screen) {\r\n\t\t\t\tawait screenClient.unpublish(screen.getTracks());\r\n\t\t\t}\r\n\t\t\tStreamService.screen = null;\r\n\t\t\tLogger.log('AgoraService.unpublishScreenStream', screen);\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.unpublishScreenStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tasync closeScreenStream() {\r\n\t\ttry {\r\n\t\t\tconst screen = StreamService.screen;\r\n\t\t\tif (screen) {\r\n\t\t\t\tawait screen.close();\r\n\t\t\t}\r\n\t\t\tStreamService.screen = null;\r\n\t\t\tLogger.log('AgoraService.closeScreenStream', screen);\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraService.closeScreenStream.error', error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tleaveScreenClient() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst screenClient = this.screenClient;\r\n\t\t\tif (screenClient) {\r\n\t\t\t\tscreenClient.leave(() => {\r\n\t\t\t\t\tthis.screenClient = null;\r\n\t\t\t\t\t// Logger.log(AgoraService.leaveScreenClient');\r\n\t\t\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\t\t\tscreenClient.stopProxyServer();\r\n\t\t\t\t\t\tLogger.log('AgoraService.leaveScreenClient.stopProxyServer');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\t\tLogger.error('AgoraService.leaveScreenClient.error', error);\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonScreenError(error) {\r\n\t\tLogger.error('AgoraService.onScreenError', error);\r\n\t}\r\n\r\n\tonScreenStreamPublished(event) {\r\n\t\t// Logger.log('AgoraService.onScreenStreamPublished');\r\n\t\tconst screen = StreamService.screen;\r\n\t\tscreen.clientInfo = {\r\n\t\t\trole: StateService.state.role,\r\n\t\t\tname: StateService.state.name,\r\n\t\t\tuid: StateService.state.uid,\r\n\t\t\tscreenUid: StateService.state.screenUid,\r\n\t\t};\r\n\t\tStreamService.screen = screen;\r\n\t}\r\n\r\n\tonScreenStreamUnpublished(event) {\r\n\t\t// Logger.log('AgoraService.onScreenStreamUnpublished');\r\n\t\tStreamService.screen = null;\r\n\t}\r\n\r\n\t// tokens\r\n\r\n\tstatic rtcToken$(channelNameLink) {\r\n\t\tif (environment.flags.useToken) {\r\n\t\t\treturn HttpService.post$('/api/token/rtc', { channelName: channelNameLink, uid: null });\r\n\t\t} else {\r\n\t\t\treturn of({ token: null });\r\n\t\t}\r\n\t}\r\n\r\n\tstatic rtmToken$(uid) {\r\n\t\tif (environment.flags.useToken) {\r\n\t\t\treturn HttpService.post$('/api/token/rtm', { uid: uid });\r\n\t\t} else {\r\n\t\t\treturn of({ token: null });\r\n\t\t}\r\n\t}\r\n\r\n\t// checks\r\n\r\n\tstatic checkRtcConnection() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst client = AgoraRTC.createClient({ mode: 'live', codec: 'h264' }); // rtc, vp8\r\n\t\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\t\tclient.startProxyServer(3);\r\n\t\t\t\t}\r\n\t\t\t\tAgoraService.checkRtcTryJoin(client).then(uid => {\r\n\t\t\t\t\tresolve(uid);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t// clear\r\n\t\t\t\t\tclient.leave(() => {\r\n\t\t\t\t\t\tif (environment.flags.useProxy) {\r\n\t\t\t\t\t\t\tclient.stopProxyServer();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, () => { });\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\treject(error);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tstatic checkRtcTryJoin(client) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst channelName = 'checkRtcConnection';\r\n\t\t\tAgoraService.rtcToken$(channelName).subscribe(async (token) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst uid = await client.join(environment.appKey, channelName, token.token, null);\r\n\t\t\t\t\t// await this.createMediaStream(uid, StateService.state.devices.video, StateService.state.devices.audio);\r\n\t\t\t\t\tresolve(uid);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error === 'DYNAMIC_KEY_EXPIRED') {\r\n\t\t\t\t\t\treturn AgoraService.checkRtcTryJoin(client);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLogger.error('AgoraService.checkRtcConnection.error', error);\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, error => reject(error));\r\n\t\t});\r\n\t}\r\n\r\n\tstatic checkRtmConnection(uid) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!USE_RTM) {\r\n\t\t\t\treturn resolve();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tlet client = AgoraRTM.createInstance(environment.appKey, { logFilter: AgoraRTM.LOG_FILTER_OFF });\r\n\t\t\t\tclient.setParameters({ logFilter: AgoraRTM.LOG_FILTER_OFF });\r\n\t\t\t\tlet channel;\r\n\t\t\t\tAgoraService.rtmToken$(uid).subscribe(token => {\r\n\t\t\t\t\t// Logger.log('AgoraService.rtmToken$', token);\r\n\t\t\t\t\tconst channelName = 'checkRtcConnection';\r\n\t\t\t\t\tclient.login({ token: token.token, uid: uid.toString() }).then(() => {\r\n\t\t\t\t\t\tchannel = client.createChannel(channelName);\r\n\t\t\t\t\t\tchannel.join().then(() => {\r\n\t\t\t\t\t\t\tresolve(uid);\r\n\t\t\t\t\t\t\tchannel.leave();\r\n\t\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t// clear\r\n\t\t\t\t\t\t\tchannel.leave().then(() => {\r\n\t\t\t\t\t\t\t\tchannel = null;\r\n\t\t\t\t\t\t\t\tclient.logout().then(() => {\r\n\t\t\t\t\t\t\t\t\tclient = null;\r\n\t\t\t\t\t\t\t\t}).catch(() => { });\r\n\t\t\t\t\t\t\t}).catch(() => { });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\tLogger.error('checkRtmConnection.error', error);\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t// clear\r\n\t\t\t\t\t\tif (client) {\r\n\t\t\t\t\t\t\tclient.logout().then(() => {\r\n\t\t\t\t\t\t\t\tclient = null;\r\n\t\t\t\t\t\t\t}).catch(() => { });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, error => reject(error));\r\n\t\t\t} catch (error) {\r\n\t\t\t\treject(error);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tstatic async getDevices() {\r\n\t\tlet devices_ = AgoraService.devices_;\r\n\t\tif (devices_) {\r\n\t\t\treturn devices_;\r\n\t\t} else {\r\n\t\t\tdevices_ = AgoraService.devices_ = [];\r\n\t\t\tconst constraints = {\r\n\t\t\t\taudio: true,\r\n\t\t\t\tvideo: true,\r\n\t\t\t};\r\n\t\t\tif (DeviceService.platform === DevicePlatform.IOS) {\r\n\t\t\t\tconstraints.video = { facingMode: 'user' };\r\n\t\t\t}\r\n\t\t\tif (DeviceService.platform === DevicePlatform.VRHeadset) {\r\n\t\t\t\tconstraints.video = false;\r\n\t\t\t}\r\n\t\t\tif (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n\t\t\t\tconst devices = await navigator.mediaDevices.enumerateDevices();\r\n\t\t\t\tstream.getTracks().forEach((track) => {\r\n\t\t\t\t\ttrack.stop();\r\n\t\t\t\t});\r\n\t\t\t\tdevices.forEach((device) => {\r\n\t\t\t\t\tdevices_.push(device);\r\n\t\t\t\t});\r\n\t\t\t\treturn devices_;\r\n\t\t\t} else {\r\n\t\t\t\tthrow ('Media device not available');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic fixLegacy() {\r\n\t\tconst prefixes = ['moz', 'webkit'];\r\n\t\tprefixes.forEach(prefix => {\r\n\t\t\tLogger.log('AgoraService.fixLegacy', `${prefix}RTC`);\r\n\t\t\tObject.getOwnPropertyNames(window).filter(key => key.indexOf('RTC') === 0).map(key => {\r\n\t\t\t\tconst legacyKey = `${prefix}${key}`;\r\n\t\t\t\tif (typeof window[key] !== 'undefined' && typeof window[legacyKey] === 'undefined') {\r\n\t\t\t\t\twindow[legacyKey] = window[key];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Emittable {\r\n\r\n\tconstructor() {\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\ton(type, callback) {\r\n\t\tconst event = this.events[type] = this.events[type] || [];\r\n\t\tevent.push(callback);\r\n\t\treturn () => {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t};\r\n\t}\r\n\r\n\toff(type, callback) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t}\r\n\t}\r\n\r\n\tonce(type, callback) {\r\n\t\tconst once = (data) => {\r\n\t\t\tcallback(data);\r\n\t\t\tthis.off(type, once);\r\n\t\t};\r\n\t\tthis.on(type, once);\r\n\t}\r\n\r\n\temit(type, data) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tevent.forEach(callback => {\r\n\t\t\t\t// callback.call(this, data);\r\n\t\t\t\tcallback(data);\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst broadcast = this.events.broadcast;\r\n\t\tif (broadcast) {\r\n\t\t\tbroadcast.forEach(callback => {\r\n\t\t\t\tcallback(type, data);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thas(type) {\r\n\t\tconst callbacks = this.events[type];\r\n\t\treturn callbacks && callbacks.length;\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\n// import { UserService } from './user/user.service';\r\nimport { FormGroup } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { MessageService } from '../message/message.service';\r\nimport StateService from '../state/state.service';\r\nimport AgoraService from './agora.service';\r\nimport { MessageType } from './agora.types';\r\n\r\nconst USE_RANDOM_MESSAGE = false;\r\nconst USE_GROUPED_MESSAGE = true;\r\n\r\nexport class ChatMessage {\r\n\r\n\tconstructor(message, clientId, name) {\r\n\t\tthis.type = MessageType.ChatMessage;\r\n\t\tthis.clientId_ = clientId;\r\n\t\tif (typeof message === 'string') {\r\n\t\t\tthis.date = Date.now();\r\n\t\t\tthis.clientId = clientId;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.message = message;\r\n\t\t} else if (typeof message === 'object') {\r\n\t\t\tthis.date = message.date;\r\n\t\t\tthis.clientId = message.clientId;\r\n\t\t\tthis.name = message.name;\r\n\t\t\tthis.message = message.message;\r\n\t\t}\r\n\t\tconst names = this.name.split(' ');\r\n\t\tthis.shortName = names[0].substr(0, 1).toUpperCase() + (names.length > 1 ? names[1] : names[0]).substr(0, 1).toUpperCase();\r\n\t}\r\n\r\n\tget me() {\r\n\t\treturn this.clientId === this.clientId_;\r\n\t}\r\n\r\n\tgetPayload() {\r\n\t\treturn {\r\n\t\t\tdate: this.date,\r\n\t\t\tclientId: this.clientId,\r\n\t\t\tname: this.name,\r\n\t\t\tmessage: this.message,\r\n\t\t};\r\n\t}\r\n\r\n\tgetCopy() {\r\n\t\treturn new ChatMessage({\r\n\t\t\tdate: this.date,\r\n\t\t\tclientId: this.clientId,\r\n\t\t\tname: this.name,\r\n\t\t\tmessage: this.message,\r\n\t\t}, this.clientId_);\r\n\t}\r\n}\r\nexport default class AgoraChatComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.rows = 1;\r\n\t\tthis.showEmoji = false;\r\n\t\tthis.demo = window.location.pathname.indexOf('layout') !== -1;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tmessage: null,\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AgoraChatComponent.changes$', form.value);\r\n\t\t\tthis.checkTypings(changes);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\t// console.log('AgoraChatComponent.state', state);\r\n\t\t});\r\n\t\tMessageService.out$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\t// console.log('AgoraChatComponent.MessageService', message);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.ChatMessage:\r\n\t\t\t\t\tthis.pushMessage(new ChatMessage(message, StateService.state.uid, StateService.state.name));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.ChatTypingBegin:\r\n\t\t\t\t\tthis.typingBegin(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.ChatTypingEnd:\r\n\t\t\t\t\tthis.typingEnd(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.messages = [];\r\n\t\tthis.groupedMessages = [];\r\n\t\tif (this.demo) {\r\n\t\t\t// !!! only for demo\r\n\t\t\tconst messages = AgoraChatComponent.getFakeList().map(x => new ChatMessage(x, StateService.state.uid, StateService.state.name));\r\n\t\t\tthis.updateMessages(messages.slice(0, 5));\r\n\t\t\tMessageService.in$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(message => {\r\n\t\t\t\tmessage.clientId = message.clientId || StateService.state.uid;\r\n\t\t\t\t// console.log('AgoraChatComponent.MessageService.in$', message);\r\n\t\t\t\tswitch (message.type) {\r\n\t\t\t\t\tcase MessageType.ChatMessage:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase MessageType.ChatTypingBegin:\r\n\t\t\t\t\t\tMessageService.out(message);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase MessageType.ChatTypingEnd:\r\n\t\t\t\t\t\tMessageService.out(message);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (USE_RANDOM_MESSAGE) {\r\n\t\t\t\tAgoraChatComponent.randomMessage(this, messages);\r\n\t\t\t}\r\n\t\t\t// !!! only for demo\r\n\t\t} else {\r\n\t\t\tconst agora = this.agora = AgoraService.getSingleton();\r\n\t\t\tif (agora) {\r\n\t\t\t\tagora.getChannelMessages().pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(messages => {\r\n\t\t\t\t\tmessages = messages.map(x => new ChatMessage(x, StateService.state.uid, StateService.state.name));\r\n\t\t\t\t\t// console.log('AgoraChatComponent.getChannelAttributes.messages', messages);\r\n\t\t\t\t\tthis.updateMessages(messages);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonView() {\r\n\t\t// this.scrollToBottom();\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\t// this.scrollToBottom();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tif (AgoraChatComponent.to) {\r\n\t\t\tclearTimeout(AgoraChatComponent.to);\r\n\t\t\tAgoraChatComponent.to = null;\r\n\t\t}\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconst secureMessage = this.secureText(this.form.value.message);\r\n\t\t// console.log('secureMessage', secureMessage);\r\n\t\tconst message = this.createMessage(secureMessage);\r\n\t\tthis.sendMessage(message);\r\n\t\tthis.form.get('message').value = null;\r\n\t\tif (this.demo && USE_RANDOM_MESSAGE) {\r\n\t\t\tthis.randomMessage();\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown(event) {\r\n\t\t// console.log('onKeyDown', event);\r\n\t\tif (event.key === 'Enter') {\r\n\t\t\tif (event.shiftKey) {\r\n\t\t\t\tthis.rows = Math.min(4, this.rows + 1);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t} else {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.onSubmit();\r\n\t\t\t\tthis.rows = 1;\r\n\t\t\t}\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst textareaNode = node.querySelector('textarea');\r\n\t\t\ttextareaNode.setAttribute('rows', this.rows);\r\n\t\t}\r\n\t}\r\n\r\n\tonToggleEmoji() {\r\n\t\tthis.showEmoji = !this.showEmoji;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSelectEmoji(emoji) {\r\n\t\tthis.showEmoji = false;\r\n\t\tthis.form.get('message').value = (this.form.get('message').value || '') + emoji.char;\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tsecureText(unsecureText) {\r\n\t\tlet newDocument = new DOMParser().parseFromString(unsecureText, 'text/html');\r\n\t\treturn newDocument.body.textContent || '';\r\n\t}\r\n\r\n\tcreateMessage(text) {\r\n\t\tconst message = new ChatMessage(text, StateService.state.uid, StateService.state.name);\r\n\t\treturn message;\r\n\t}\r\n\r\n\tsendMessage(message) {\r\n\t\tthis.pushMessage(message);\r\n\t\tconst agora = this.agora;\r\n\t\tif (agora) {\r\n\t\t\tagora.addOrUpdateChannelMessages([message.getPayload()]);\r\n\t\t}\r\n\t\tMessageService.send(message);\r\n\t}\r\n\r\n\tonClose(event) {\r\n\t\tthis.close.next();\r\n\t}\r\n\r\n\tscrollToBottom() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst scrollView = node.querySelector('.group--scrollview');\r\n\t\tscrollView.scrollTop = scrollView.scrollHeight;\r\n\t}\r\n\r\n\tpushMessage(message) {\r\n\t\tconst messages = this.messages ? this.messages.slice() : [];\r\n\t\tthis.removeTyping({ type: MessageType.ChatTypingBegin, clientId: message.clientId }, this.messages);\r\n\t\tmessages.push(message);\r\n\t\tthis.updateMessages(messages);\r\n\t}\r\n\r\n\ttypingBegin(message) {\r\n\t\t// console.log('AgoraChatComponent.typingBegin', message);\r\n\t\tconst messages = this.messages ? this.messages.slice() : [];\r\n\t\tmessages.push(message);\r\n\t\tthis.updateMessages(messages);\r\n\t}\r\n\r\n\ttypingEnd(message) {\r\n\t\t// console.log('AgoraChatComponent.typingEnd', message);\r\n\t\tconst messages = this.messages ? this.messages.slice() : [];\r\n\t\tthis.removeTyping({ type: MessageType.ChatTypingBegin, clientId: message.clientId }, messages);\r\n\t\tthis.updateMessages(messages);\r\n\t}\r\n\r\n\tremoveTyping(message, messages, recursive = true) {\r\n\t\tconst index = messages.reduce((p, c, i) => {\r\n\t\t\treturn (c.type === message.type && c.clientId === message.clientId) ? i : p;\r\n\t\t}, -1);\r\n\t\tif (index !== -1) {\r\n\t\t\tmessages.splice(index, 1);\r\n\t\t\tif (recursive === true) {\r\n\t\t\t\tthis.removeTyping(message, messages, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\ttypings_ = false;\r\n\tcheckTypings(changes) {\r\n\t\tconst typings = (changes.message && changes.message.length > 0) || false;\r\n\t\t// console.log('AgoraChatComponent.checkTypings', typings, this.typings_);\r\n\t\tif (this.typings_ !== typings) {\r\n\t\t\tthis.typings_ = typings;\r\n\t\t\tif (typings) {\r\n\t\t\t\tMessageService.send({ type: MessageType.ChatTypingBegin });\r\n\t\t\t} else {\r\n\t\t\t\tMessageService.send({ type: MessageType.ChatTypingEnd });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateMessages(messages) {\r\n\t\tthis.messages = messages;\r\n\t\tif (USE_GROUPED_MESSAGE) {\r\n\t\t\tthis.groupedMessages = [];\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t\tconst groupedMessages = [];\r\n\t\tmessages.forEach(message => {\r\n\t\t\tif (message.type === MessageType.ChatMessage) {\r\n\t\t\t\t// ChatMessage\r\n\t\t\t\tconst lastMessage = groupedMessages.length ? groupedMessages[groupedMessages.length - 1] : null;\r\n\t\t\t\tif (lastMessage && lastMessage.clientId === message.clientId) {\r\n\t\t\t\t\tlastMessage.message += `<p>${message.message}</p>`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroupedMessages.push(message.getCopy());\r\n\t\t\t\t}\r\n\t\t\t} else if (message.type === MessageType.ChatTypingBegin) {\r\n\t\t\t\t// ChatTypingBegin\r\n\t\t\t\tconst lastMessage = groupedMessages.reduce((p, c, i) => {\r\n\t\t\t\t\treturn (c.clientId === message.clientId) ? c : p;\r\n\t\t\t\t}, null);\r\n\t\t\t\tif (lastMessage) {\r\n\t\t\t\t\tlastMessage.typing = true;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('MessageType.ChatTypingBegin', lastMessage, message);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// setTimeout(() => {\r\n\t\tthis.groupedMessages = groupedMessages;\r\n\t\tthis.pushChanges();\r\n\t\t// console.log('AgoraChatComponent.updateMessages', messages, groupedMessages);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.scrollToBottom();\r\n\t\t}, 1);\r\n\t\t// }, 1);\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid && this.form.value.message && this.form.value.message.length > 0;\r\n\t}\r\n\r\n\t// demo\r\n\r\n\trandomMessage() {\r\n\t\tif (AgoraChatComponent.to) {\r\n\t\t\tclearTimeout(AgoraChatComponent.to);\r\n\t\t\tAgoraChatComponent.to = null;\r\n\t\t}\r\n\t\tAgoraChatComponent.to = setTimeout(() => {\r\n\t\t\tconst message = AgoraChatComponent.createRandomMessage();\r\n\t\t\tthis.sendMessage(message);\r\n\t\t}, (2 + Math.random() * 6) * 1000);\r\n\t}\r\n\r\n}\r\nAgoraChatComponent.meta = {\r\n\tselector: '[agora-chat]',\r\n\toutputs: ['close'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"group--scrollview\" [class]=\"'rows--' + rows\">\r\n\t\t\t<div class=\"group--virtual\" *virtual=\"let item of groupedMessages\" [mode]=\"4\" [width]=\"350\" [gutter]=\"0\" [reverse]=\"true\">\r\n\t\t\t\t<!-- serve un nodo figlio -->\r\n\t\t\t\t<div class=\"listing__item message\" [class]=\"{ me: item.me, typing: item.typing }\">\r\n\t\t\t\t\t<div class=\"message__avatar\" [title]=\"item.name\"><span [innerHTML]=\"item.shortName\"></span></div>\r\n\t\t\t\t\t<div class=\"message__content\">\r\n\t\t\t\t\t\t<div [innerHTML]=\"item.message | message\"></div>\r\n\t\t\t\t\t\t<div class=\"typing-indicator\">\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"group--message\" [class]=\"'rows--' + rows\">\r\n\t\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onSubmit($event)\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t<div class=\"group--form group--form--addon\" [class]=\"{ required: controls.message.validators.length, 'addon': controls.message.valid }\">\r\n\t\t\t\t\t<!-- <input type=\"text\" class=\"control--text\" [formControl]=\"controls.message\" [placeholder]=\"'bhere_write_a_message' | label\" /> -->\r\n\t\t\t\t\t<button type=\"button\" class=\"control--pre\" (click)=\"onToggleEmoji()\">\r\n\t\t\t\t\t\t<svg class=\"emoji\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#emoji\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<textarea class=\"control--text\" [formControl]=\"controls.message\" [placeholder]=\"'bhere_write_a_message' | label\" rows=\"1\" (keydown)=\"onKeyDown($event)\"></textarea>\r\n\t\t\t\t\t<button type=\"submit\" class=\"control--addon\">\r\n\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#send\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div class=\"group--close\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" [title]=\"'title_close' | label\" (click)=\"onClose($event)\">\r\n\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"group--emoji\" [class]=\"'rows--' + rows\" agora-chat-emoji (emoji)=\"onSelectEmoji($event)\" (close)=\"onToggleEmoji()\" *if=\"showEmoji\">\r\n\t\t\t<div class=\"group--virtual\" *virtual=\"let item of items\" [mode]=\"1\" [width]=\"40\" [gutter]=\"10\" [reverse]=\"true\">\r\n\t\t\t\t<!-- serve un nodo figlio -->\r\n\t\t\t\t<div class=\"listing__item emoji\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--emoji\" (click)=\"onSelect(item)\"><span [innerHTML]=\"item.char\"></span></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--close\">\r\n\t\t\t\t<button type=\"button\" class=\"btn--close\" [title]=\"'title_close' | label\" (click)=\"onClose($event)\">\r\n\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nAgoraChatComponent.getFakeList = () => {\r\n\tlet messages = [\r\n\t\t{\r\n\t\t\t'date': 1614592230000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Function-based web-enabled benchmark',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592240000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Customizable exuding superstructure',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592250000,\r\n\t\t\t'name': 'Gilles Pitkins',\r\n\t\t\t'message': 'Synergistic interactive archive',\r\n\t\t\t'clientId': 'cfe9ff5b-f7da-449d-bf5a-3184b5eba6ea',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592260000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Digitized client-server initiative',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592270000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Quality-focused tertiary open system',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592280000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Exclusive uniform middleware',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592290000,\r\n\t\t\t'name': 'John Pruckner',\r\n\t\t\t'message': 'Decentralized disintermediate extranet',\r\n\t\t\t'clientId': 'ae51e846-d043-41e9-bb5c-3189181e5b43',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592300000,\r\n\t\t\t'name': 'Lamont Georgievski',\r\n\t\t\t'message': 'Enhanced static approach',\r\n\t\t\t'clientId': '1961cd9e-93aa-4bd0-b96a-89fcbd36b257',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592310000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Ergonomic clear-thinking info-mediaries',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592320000,\r\n\t\t\t'name': 'Jeri Pedroni',\r\n\t\t\t'message': 'Grass-roots dynamic encryption',\r\n\t\t\t'clientId': '13d69bba-3656-449b-8fe3-d7a87062b044',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592330000,\r\n\t\t\t'name': 'Frederik Dechelle',\r\n\t\t\t'message': 'Compatible disintermediate policy',\r\n\t\t\t'clientId': '9151ebe0-efa8-40b4-a341-b8fd489e9c88',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592340000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Inverse user-facing adapter',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592350000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Future-proofed even-keeled application',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592360000,\r\n\t\t\t'name': 'Cassie Jonathon',\r\n\t\t\t'message': 'Profit-focused content-based budgetary management',\r\n\t\t\t'clientId': '5b3dc6f3-2a3d-493d-aac5-66ddfce2d709',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592370000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Managed intermediate monitoring',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592380000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Exclusive client-server encoding',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592390000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Cross-group system-worthy matrices',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592400000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Upgradable encompassing benchmark',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592410000,\r\n\t\t\t'name': 'Emelen Beevors',\r\n\t\t\t'message': 'Function-based full-range knowledge base',\r\n\t\t\t'clientId': 'c93aea47-ebd8-4e5e-88fd-52053dd35cd1',\r\n\t\t},\r\n\t\t{\r\n\t\t\t'date': 1614592420000,\r\n\t\t\t'name': 'Jhon Appleseed',\r\n\t\t\t'message': 'Synergistic system-worthy capability',\r\n\t\t\t'clientId': '7341614597544882',\r\n\t\t},\r\n\t];\r\n\twhile (messages.length < 100) {\r\n\t\tmessages = messages.concat(messages);\r\n\t}\r\n\treturn messages;\r\n\t// return messages.slice(0, 5);\r\n};\r\n\r\nAgoraChatComponent.createRandomMessage = (text) => {\r\n\tconst message = new ChatMessage({\r\n\t\tdate: Date.now(),\r\n\t\tclientId: '9fe0e1b9-6a6b-418b-b916-4bbff3eeb123',\r\n\t\tname: 'Herman frederick',\r\n\t\tmessage: 'Lorem ipsum dolor',\r\n\t}, StateService.state.uid, StateService.state.name);\r\n\treturn message;\r\n};\r\n\r\nAgoraChatComponent.randomMessage = (instance, messages) => {\r\n\tconst getRandomMessage = function() {\r\n\t\tconst others = messages.filter(x => x.id !== '7341614597544882');\r\n\t\tlet message = others[Math.floor(others.length * Math.random())];\r\n\t\tmessage = new ChatMessage({\r\n\t\t\tdate: Date.now(),\r\n\t\t\tclientId: '9fe0e1b9-6a6b-418b-b916-4bbff3eeb123',\r\n\t\t\tname: message.name,\r\n\t\t\tmessage: message.message,\r\n\t\t}, StateService.state.uid, StateService.state.name);\r\n\t\treturn message;\r\n\t};\r\n\tif (AgoraChatComponent.to) {\r\n\t\tclearTimeout(AgoraChatComponent.to);\r\n\t\tAgoraChatComponent.to = null;\r\n\t}\r\n\tAgoraChatComponent.to = setTimeout(() => {\r\n\t\tconst message = getRandomMessage();\r\n\t\tinstance.sendMessage(message);\r\n\t\tAgoraChatComponent.randomMessage(instance, messages);\r\n\t}, (2 + Math.random() * 6) * 1000);\r\n};\r\n","import { Component } from 'rxcomp';\r\n\r\nexport default class AgoraCheckComponent extends Component { }\r\n\r\nAgoraCheckComponent.meta = {\r\n\tselector: '[agora-check]',\r\n\tinputs: ['value'],\r\n\ttemplate: /* html */ `\r\n\t\t<svg *if=\"value == null\" class=\"checkmark idle\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n\t\t\t<circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n\t\t</svg>\r\n\t\t<svg *if=\"value === true\" class=\"checkmark success\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n\t\t\t<circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n\t\t\t<path class=\"checkmark__icon\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\" stroke-linecap=\"round\"/>\r\n\t\t</svg>\r\n\t\t<svg *if=\"value === false\" class=\"checkmark error\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n\t\t\t<circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n\t\t\t<path class=\"checkmark__icon\" stroke-linecap=\"round\" fill=\"none\" d=\"M16 16 36 36 M36 16 16 36\"/>\r\n\t\t</svg>\r\n\t`,\r\n};\r\n","import { EMPTY, from, of, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent { }\r\nexport class ModalRejectEvent extends ModalEvent { }\r\n\r\nexport class ModalService {\r\n\r\n\tstatic get hasModal() {\r\n\t\treturn this.hasModal_;\r\n\t}\r\n\tstatic set hasModal(hasModal) {\r\n\t\tif (this.hasModal_ !== hasModal) {\r\n\t\t\tthis.hasModal_ = hasModal;\r\n\t\t\tconst body = document.querySelector('body');\r\n\t\t\thasModal ? body.classList.add('modal-open') : body.classList.remove('modal-open');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic open$(modal) {\r\n\t\tthis.busy$.next(true);\r\n\t\treturn (\r\n\t\t\tmodal.iframe ? of(/* html */`<div class=\"iframe-modal\" iframe-modal src=\"${modal.iframe}\"></div>`) : this.getTemplate$(modal)\r\n\t\t).pipe(\r\n\t\t\t// startWith(new ModalLoadEvent(Object.assign({}, modal.data, { $src: modal.src }))),\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => {\r\n\t\t\t\tthis.modal$.next(node);\r\n\t\t\t\tthis.hasModal = true;\r\n\t\t\t\tthis.busy$.next(false);\r\n\t\t\t\t// this.events$.next(new ModalLoadedEvent(Object.assign({}, modal.data, { $src: modal.src })));\r\n\t\t\t}),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t\ttap(_ => this.hasModal = false),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic getTemplate$(modal) {\r\n\t\tif (modal.src) {\r\n\t\t\treturn from(fetch(modal.src).then(response => {\r\n\t\t\t\treturn response.text();\r\n\t\t\t}));\r\n\t\t} else if (modal.template) {\r\n\t\t\treturn of(modal.template);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\nModalService.busy$ = new Subject();\r\n","export class LocalStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\treturn window.localStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.localStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.localStorage.setItem('test', '1');\r\n\t\t\t\twindow.localStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n}\r\n","import { from, merge, of, Subject, throwError } from 'rxjs';\r\nimport { catchError, delay, first, map, switchMap, tap } from 'rxjs/operators';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport StateService from '../state/state.service';\r\nimport { LocalStorageService } from '../storage/local-storage.service';\r\nimport { RoleType } from '../user/user';\r\nimport AgoraService from './agora.service';\r\n\r\nconst TIMEOUT = 100;\r\nconst FORCE_ERROR = false;\r\n\r\nexport class AgoraChecklistService {\r\n\r\n\tstatic checklist$() {\r\n\t\treturn StateService.state$.pipe(\r\n\t\t\tfirst(),\r\n\t\t\tmap(state => {\r\n\t\t\t\tconst event = {\r\n\t\t\t\t\tshouldCheckAudio: true,\r\n\t\t\t\t\tshouldCheckVideo: true,\r\n\t\t\t\t\tkey: 'checklist_audio_video',\r\n\t\t\t\t\tuid: null,\r\n\t\t\t\t\tchecklist: {\r\n\t\t\t\t\t\tbrowser: null,\r\n\t\t\t\t\t\thttps: null,\r\n\t\t\t\t\t\tvideo: null,\r\n\t\t\t\t\t\taudio: null,\r\n\t\t\t\t\t\trtc: null,\r\n\t\t\t\t\t\trtm: null,\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrors: {},\r\n\t\t\t\t};\r\n\t\t\t\tif (state.role === RoleType.Viewer) {\r\n\t\t\t\t\tevent.shouldCheckAudio = false;\r\n\t\t\t\t\tevent.shouldCheckVideo = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (DeviceService.platform === DevicePlatform.VRHeadset) {\r\n\t\t\t\t\tevent.shouldCheckAudio = true;\r\n\t\t\t\t\tevent.shouldCheckVideo = false;\r\n\t\t\t\t}\r\n\t\t\t\tevent.key = `checklist${event.shouldCheckAudio ? '_audio' : ''}${event.shouldCheckVideo ? '_video' : ''}`;\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst checklist = LocalStorageService.get(event.key);\r\n\t\t\t\tif (checklist === true) {\r\n\t\t\t\t\tObject.keys(event.checklist).forEach(key => {\r\n\t\t\t\t\t\tevent.checklist[key] = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn of(event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic isChecked(event) {\r\n\t\tconst isChecked = Object.keys(event.checklist).reduce((p, c, i) => {\r\n\t\t\tconst checked = p && event.checklist[c];\r\n\t\t\tswitch (c) {\r\n\t\t\t\tcase 'audio':\r\n\t\t\t\t\treturn checked || !event.shouldCheckAudio;\r\n\t\t\t\tcase 'video':\r\n\t\t\t\t\treturn checked || !event.shouldCheckVideo;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn checked;\r\n\t\t\t}\r\n\t\t}, true);\r\n\t\treturn isChecked;\r\n\t}\r\n\r\n\tstatic isChecked$() {\r\n\t\treturn this.checklist$().pipe(\r\n\t\t\tmap(event => this.isChecked(event)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkEvent$() {\r\n\t\treturn this.checklist$().pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst checklist = Object.keys(event.checklist).reduce((p, c, i) => {\r\n\t\t\t\t\treturn p && event.checklist[c];\r\n\t\t\t\t}, true);\r\n\t\t\t\tif (checklist === true) {\r\n\t\t\t\t\treturn of(event);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLocalStorageService.set(event.key, false);\r\n\t\t\t\t\tconst event$ = new Subject();\r\n\t\t\t\t\tconst check$ = of(event).pipe(\r\n\t\t\t\t\t\tdelay(1000),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkBrowserEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkHttpsEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkAudioEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkVideoEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkRtcEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tevent$.next(event);\r\n\t\t\t\t\t\t\treturn this.checkRtmEvent$(event);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttap(event => {\r\n\t\t\t\t\t\t\t// console.log('AgoraChecklistService', event);\r\n\t\t\t\t\t\t\tLocalStorageService.set(event.key, true);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn merge(event$, check$);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic check$() {\r\n\t\treturn this.checklist$().pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst checklist = Object.keys(event.checklist).reduce((p, c, i) => {\r\n\t\t\t\t\treturn p && event.checklist[c];\r\n\t\t\t\t}, true);\r\n\t\t\t\tif (checklist === true) {\r\n\t\t\t\t\treturn of(event);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLocalStorageService.set(event.key, false);\r\n\t\t\t\t\treturn of(event).pipe(\r\n\t\t\t\t\t\tdelay(1000),\r\n\t\t\t\t\t\tswitchMap(event => this.checkBrowserEvent$(event)),\r\n\t\t\t\t\t\tswitchMap(event => this.checkHttpsEvent$(event)),\r\n\t\t\t\t\t\tswitchMap(event => this.checkAudioEvent$(event)),\r\n\t\t\t\t\t\tswitchMap(event => this.checkVideoEvent$(event)),\r\n\t\t\t\t\t\tswitchMap(event => this.checkRtcEvent$(event)),\r\n\t\t\t\t\t\tswitchMap(event => this.checkRtmEvent$(event)),\r\n\t\t\t\t\t\ttap(event => {\r\n\t\t\t\t\t\t\t// console.log('AgoraChecklistService', event);\r\n\t\t\t\t\t\t\tLocalStorageService.set(event.key, true);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkBrowser$() {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\tconst browser = AgoraRTC.checkSystemRequirements();\r\n\t\treturn of(browser);\r\n\t}\r\n\r\n\tstatic checkBrowserEvent$(event) {\r\n\t\treturn this.checkBrowser$().pipe(\r\n\t\t\tswitchMap(browser => {\r\n\t\t\t\tevent.checklist.browser = browser;\r\n\t\t\t\tif (browser) {\r\n\t\t\t\t\treturn of(event).pipe(delay(TIMEOUT));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tevent.errors.browser = LabelPipe.transform('bhere_browser_error');\r\n\t\t\t\t\treturn this.checkHttpsEvent$(event).pipe(\r\n\t\t\t\t\t\tswitchMap(event => {\r\n\t\t\t\t\t\t\tif (FORCE_ERROR) {\r\n\t\t\t\t\t\t\t\treturn of(event);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tconsole.log('checkBrowserEvent$.error', error);\r\n\t\t\t\tevent.checklist.browser = false;\r\n\t\t\t\tevent.errors.browser = LabelPipe.transform('bhere_browser_error');\r\n\t\t\t\treturn throwError(event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkHttps$() {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\tconst https = window.location.protocol === 'https:';\r\n\t\treturn of(https);\r\n\t}\r\n\r\n\tstatic checkHttpsEvent$(event) {\r\n\t\treturn this.checkHttps$().pipe(\r\n\t\t\tswitchMap(https => {\r\n\t\t\t\tevent.checklist.https = https;\r\n\t\t\t\tif (https) {\r\n\t\t\t\t\treturn of(event).pipe(delay(TIMEOUT));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tevent.errors.https = LabelPipe.transform('bhere_https_error');\r\n\t\t\t\t\tif (FORCE_ERROR) {\r\n\t\t\t\t\t\treturn of(event);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tconsole.log('checkHttpsEvent$.error', error);\r\n\t\t\t\tevent.checklist.https = false;\r\n\t\t\t\tevent.errors.https = LabelPipe.transform('bhere_https_error');\r\n\t\t\t\treturn throwError(event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkAudio$() {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\treturn from(AgoraService.getDevices()).pipe(\r\n\t\t\tmap(devices => {\r\n\t\t\t\tconst audioinput = devices.find(x => x.kind === 'audioinput' && x.deviceId);\r\n\t\t\t\treturn audioinput != null;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkAudioEvent$(event) {\r\n\t\t// console.log('checkAudioEvent$', event);\r\n\t\tif (event.shouldCheckAudio) {\r\n\t\t\treturn this.checkAudio$().pipe(\r\n\t\t\t\tswitchMap(audio => {\r\n\t\t\t\t\tevent.checklist.audio = audio;\r\n\t\t\t\t\tif (audio) {\r\n\t\t\t\t\t\treturn of(event).pipe(delay(TIMEOUT));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tevent.errors.audio = LabelPipe.transform('bhere_audio_error');\r\n\t\t\t\t\t\t// console.log('checkAudioEvent$.error', event);\r\n\t\t\t\t\t\tif (FORCE_ERROR) {\r\n\t\t\t\t\t\t\treturn of(event);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tcatchError(error => {\r\n\t\t\t\t\tconsole.log('checkAudioEvent$.error', error);\r\n\t\t\t\t\tevent.checklist.audio = false;\r\n\t\t\t\t\tevent.errors.audio = LabelPipe.transform('bhere_audio_error');\r\n\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(event);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic checkVideo$() {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\treturn from(AgoraService.getDevices()).pipe(\r\n\t\t\tmap(devices => {\r\n\t\t\t\tconst videoinput = devices.find(x => x.kind === 'videoinput' && x.deviceId);\r\n\t\t\t\treturn videoinput != null;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkVideoEvent$(event) {\r\n\t\tif (event.shouldCheckVideo) {\r\n\t\t\treturn this.checkVideo$().pipe(\r\n\t\t\t\tswitchMap(video => {\r\n\t\t\t\t\tevent.checklist.video = video;\r\n\t\t\t\t\tif (video) {\r\n\t\t\t\t\t\treturn of(event).pipe(delay(TIMEOUT));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tevent.errors.video = LabelPipe.transform('bhere_video_error');\r\n\t\t\t\t\t\tif (FORCE_ERROR) {\r\n\t\t\t\t\t\t\treturn of(event);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tcatchError(error => {\r\n\t\t\t\t\tconsole.log('checkVideoEvent$.error', error);\r\n\t\t\t\t\tevent.checklist.video = false;\r\n\t\t\t\t\tevent.errors.video = LabelPipe.transform('bhere_video_error');\r\n\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(event);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic checkRtc$() {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\treturn from(AgoraService.checkRtcConnection());\r\n\t}\r\n\r\n\tstatic checkRtcEvent$(event) {\r\n\t\treturn this.checkRtc$().pipe(\r\n\t\t\tswitchMap(uid => {\r\n\t\t\t\tevent.uid = uid;\r\n\t\t\t\tevent.checklist.rtc = uid !== false;\r\n\t\t\t\tif (uid) {\r\n\t\t\t\t\treturn of(event).pipe(delay(TIMEOUT));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tevent.errors.rtc = LabelPipe.transform('bhere_rtc_error');\r\n\t\t\t\t\tif (FORCE_ERROR) {\r\n\t\t\t\t\t\treturn of(event);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tconsole.log('checkRtcEvent$.error', error);\r\n\t\t\t\tevent.checklist.rtc = false;\r\n\t\t\t\tevent.errors.rtc = LabelPipe.transform('bhere_rtc_error');\r\n\t\t\t\treturn throwError(event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic checkRtm$(uid) {\r\n\t\tif (FORCE_ERROR) {\r\n\t\t\treturn of(false);\r\n\t\t}\r\n\t\treturn from(AgoraService.checkRtmConnection(uid));\r\n\t}\r\n\r\n\tstatic checkRtmEvent$(event) {\r\n\t\treturn this.checkRtm$(event.uid).pipe(\r\n\t\t\tswitchMap(uid => {\r\n\t\t\t\tevent.checklist.rtm = uid !== false;\r\n\t\t\t\tif (uid) {\r\n\t\t\t\t\treturn of(event);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tevent.errors.rtm = LabelPipe.transform('bhere_rtm_error');\r\n\t\t\t\t\treturn throwError(event);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tconsole.log('checkRtmEvent$.error', error);\r\n\t\t\t\tevent.checklist.rtm = false;\r\n\t\t\t\tevent.errors.rtm = LabelPipe.transform('bhere_rtm_error');\r\n\t\t\t\treturn throwError(event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { ModalService } from '../modal/modal.service';\r\n\r\nexport default class AgoraConfigureFirewallModalComponent extends Component {\r\n\r\n\tonClose() {\r\n\t\tModalService.resolve();\r\n\t}\r\n}\r\n\r\nAgoraConfigureFirewallModalComponent.meta = {\r\n\tselector: '[agora-configure-firewall-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\" [innerHTML]=\"'bhere_configure_firewall' | label\"></div>\r\n\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onClose()\">\r\n\t\t\t\t\t<span>Chiudi</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nAgoraConfigureFirewallModalComponent.chunk = () => /* html */'<div class=\"configure-firewall-modal\" agora-configure-firewall-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { DeviceService } from '../device/device.service';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport { RoleType } from '../user/user';\r\nimport { AgoraChecklistService } from './agora-checklist.service';\r\nimport AgoraConfigureFirewallModalComponent from './agora-configure-firewall-modal.component';\r\n\r\nexport default class AgoraChecklistComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.platform = DeviceService.platform;\r\n\t\tthis.checklist = {};\r\n\t\tthis.errors = {};\r\n\t\tthis.state = {};\r\n\t\tthis.busy = true;\r\n\t\tthis.shouldCheckAudio = false;\r\n\t\tthis.shouldCheckVideo = false;\r\n\t\tAgoraChecklistService.checkEvent$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('AgoraChecklistService', event, event.errors);\r\n\t\t\tthis.shouldCheckAudio = event.shouldCheckAudio;\r\n\t\t\tthis.shouldCheckVideo = event.shouldCheckVideo;\r\n\t\t\tthis.checklist = event.checklist;\r\n\t\t\tthis.errors = event.errors || {};\r\n\t\t\t// console.log(JSON.stringify(event.errors));\r\n\t\t\tconst success = AgoraChecklistService.isChecked(event);\r\n\t\t\tif (success) {\r\n\t\t\t\tthis.checklist.success = success;\r\n\t\t\t\tthis.busy = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tif (this.state.role === RoleType.SmartDevice) {\r\n\t\t\t\t\tthis.onNext();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}\r\n\t\t\t// console.log(event);\r\n\t\t}, error => {\r\n\t\t\t// console.log('AgoraChecklistService.error', error);\r\n\t\t\tthis.errors = error.errors || {};\r\n\t\t\tthis.checklist.error = true;\r\n\t\t\tthis.busy = false;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonNext() {\r\n\t\tthis.checked.next(this.checklist);\r\n\t}\r\n\r\n\topenHttps() {\r\n\t\twindow.location.href = window.location.href.replace('http://', 'https://').replace(':5000', ':6443');\r\n\t}\r\n\r\n\tshowFirewallConfiguration() {\r\n\t\tModalService.open$({ template: AgoraConfigureFirewallModalComponent.chunk() }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n}\r\n\r\nAgoraChecklistComponent.meta = {\r\n\tselector: '[agora-checklist]',\r\n\toutputs: ['checked'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--info\">\r\n\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t<div class=\"title\" *if=\"busy\" [innerHTML]=\"'bhere_checklist_busy' | label\"></div>\r\n\t\t\t<div class=\"title\" *if=\"checklist.success\" [innerHTML]=\"'bhere_checklist_success' | label\"></div>\r\n\t\t\t<div class=\"title\" *if=\"checklist.error\" [innerHTML]=\"'bhere_checklist_error' | label\"></div>\r\n\t\t\t<ul class=\"group--checklist stagger--childs\">\r\n\t\t\t\t<li class=\"checklist__item check\"><span>Browser</span> <span agora-check [value]=\"checklist.browser\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.browser\"><a class=\"btn--link\" href=\"https://browsehappy.com/\" target=\"_blank\" rel=\"noopener\" [innerHTML]=\"errors.browser\"></a></li>\r\n\t\t\t\t<li class=\"checklist__item check\"><span>Https</span> <span agora-check [value]=\"checklist.https\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.https\"><a class=\"btn--link\" (click)=\"openHttps()\" [innerHTML]=\"errors.https\"></a></li>\r\n\t\t\t\t<li class=\"checklist__item check\" *if=\"shouldCheckAudio\"><span>Audio</span> <span agora-check [value]=\"checklist.audio\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.audio\"><span [innerHTML]=\"errors.audio\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item check\" *if=\"shouldCheckVideo\"><span>Video</span> <span agora-check [value]=\"checklist.video\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.video\"><span [innerHTML]=\"errors.video\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item check\"><span>Realtime Communication</span> <span agora-check [value]=\"checklist.rtc\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.rtc\"><a class=\"btn--link\" (click)=\"showFirewallConfiguration()\" [innerHTML]=\"errors.rtc\"></a></li>\r\n\t\t\t\t<li class=\"checklist__item check\"><span>Realtime Messaging</span> <span agora-check [value]=\"checklist.rtm\"></span></li>\r\n\t\t\t\t<li class=\"checklist__item error\" *if=\"errors.rtm\"><a class=\"btn--link\" (click)=\"showFirewallConfiguration()\" [innerHTML]=\"errors.rtm\"></a></li>\r\n\t\t\t</ul>\r\n\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !checklist.success, ready: checklist.success }\" (click)=\"onNext()\">\r\n\t\t\t\t<span [innerHTML]=\"'bhere_proceed' | label\"></span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { expand, filter, finalize, map, share, tap, withLatestFrom } from 'rxjs/operators';\r\n\r\nconst BUFF_SIZE = 512;\r\n\r\nexport default class AudioStreamService {\r\n\r\n\tstatic get context() {\r\n\t\tif (!this.context_ && 'AudioContext' in window) {\r\n\t\t\tthis.context_ = new AudioContext();\r\n\t\t}\r\n\t\treturn this.context_;\r\n\t}\r\n\r\n\t/*\r\n\tstatic get processorNode() {\r\n\t\tif (!this.processorNode_) {\r\n\t\t\tthis.processorNode_ = this.context.createScriptProcessor(BUFF_SIZE, 1, 1);\r\n\t\t}\r\n\t\treturn this.processorNode_;\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tstatic get gain() {\r\n\t\tif (!this.gain_) {\r\n\t\t\tthis.gain_ = this.context.createGain();\r\n\t\t}\r\n\t\treturn this.gain_;\r\n\t}\r\n\t*/\r\n\r\n\tstatic get analyser() {\r\n\t\tif (!this.analyser_) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.analyser_ = this.context.createAnalyser();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('AudioStreamService.analyser', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.analyser_;\r\n\t}\r\n\r\n\tstatic addSource(streamOrElement) {\r\n\t\tconst key = streamOrElement instanceof MediaStream ? streamOrElement.id : streamOrElement;\r\n\t\tif (!this.sources_[key]) {\r\n\t\t\tif (streamOrElement instanceof MediaStream) {\r\n\t\t\t\tthis.sources_[key] = this.context.createMediaStreamSource(streamOrElement.clone());\r\n\t\t\t} else {\r\n\t\t\t\tthis.sources_[key] = this.context.createMediaElementSource(streamOrElement);\r\n\t\t\t}\r\n\t\t\t// this.sources_[key] = streamOrElement instanceof MediaStream ? this.context.createMediaStreamSource(streamOrElement) : this.context.createMediaElementSource(streamOrElement);\r\n\t\t}\r\n\t\treturn this.sources_[key];\r\n\t}\r\n\r\n\tstatic removeSource(streamOrElement) {\r\n\t\tconst key = streamOrElement instanceof MediaStream ? streamOrElement.id : streamOrElement;\r\n\t\treturn this.removeSourceKey(key);\r\n\t}\r\n\r\n\tstatic removeSourceKey(key) {\r\n\t\t// console.log('AudioStreamService.removeSourceKey', key);\r\n\t\tlet source;\r\n\t\tif (this.sources_[key]) {\r\n\t\t\tsource = this.sources_[key];\r\n\t\t\t/*\r\n\t\t\tif (source.mediaStream) {\r\n\t\t\t\tsource.mediaStream.stop();\r\n\t\t\t}\r\n\t\t\tsource.stop();\r\n\t\t\t*/\r\n\t\t\tif (this.analyser) {\r\n\t\t\t\tsource.disconnect(this.analyser);\r\n\t\t\t}\r\n\t\t\tsource.disconnect();\r\n\t\t\tdelete this.sources_[key];\r\n\t\t}\r\n\t\treturn source;\r\n\t}\r\n\r\n\tstatic frequency$(streamOrElement, fftSize = 64) {\r\n\t\tif (fftSize % 2 === 1) {\r\n\t\t\tthrow ('AudioStreamService.error', 'wrong fftSize', fftSize);\r\n\t\t}\r\n\t\tconst state = new Uint8Array(fftSize / 2);\r\n\t\tconst context = this.context;\r\n\t\tif (context) {\r\n\t\t\tconst analyser = this.analyser;\r\n\t\t\tif (analyser) {\r\n\t\t\t\t// Connect the output of the analyser to the destination\r\n\t\t\t\t// analyser.connect(context.destination); // no audio !\r\n\t\t\t\t// console.log(analyser.fftSize); // 2048 by default\r\n\t\t\t\t// console.log(analyser.frequencyBinCount); // will give us 1024 data points\r\n\t\t\t\tanalyser.fftSize = fftSize; // 64\r\n\t\t\t\t// console.log(analyser.frequencyBinCount); // fftSize/2 = 32 data points\r\n\t\t\t\tconst source = this.addSource(streamOrElement);\r\n\t\t\t\t// source.connect(context.destination); // no audio!\r\n\t\t\t\t// Connect the output of the source to the input of the analyser\r\n\t\t\t\tsource.connect(analyser);\r\n\t\t\t}\r\n\t\t\tconst state$ = new BehaviorSubject(state);\r\n\t\t\treturn AudioStreamService.frame$.pipe(\r\n\t\t\t\twithLatestFrom(state$),\r\n\t\t\t\tmap(([deltaTime, state]) => {\r\n\t\t\t\t\tif (analyser) {\r\n\t\t\t\t\t\t// Get the new frequency data\r\n\t\t\t\t\t\tanalyser.getByteFrequencyData(state);\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tconst max = state.reduce((p, c, i) => {\r\n\t\t\t\t\t\t\treturn Math.max(c, p);\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\tif (max > 0) {\r\n\t\t\t\t\t\t\t// console.log(max);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// Update the visualisation\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t}),\r\n\t\t\t\ttap((state) => state$.next(state)),\r\n\t\t\t\tfinalize(() => {\r\n\t\t\t\t\tthis.removeSource(streamOrElement);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(state);\r\n\t\t}\r\n\t}\r\n\r\n\t// unused\r\n\tstatic volume$(streamOrElement) {\r\n\t\tconst state = { volume: 0, clipped: false };\r\n\t\tconst context = this.context;\r\n\t\t// console.log('AudioStreamService.volume$', context, state);\r\n\t\tif (context) {\r\n\t\t\tconst source = this.addSource(streamOrElement);\r\n\t\t\tconst meter = AudioStreamService.audioMeterCreate();\r\n\t\t\tsource.connect(meter);\r\n\t\t\tconst state$ = new BehaviorSubject(state);\r\n\t\t\treturn AudioStreamService.frame$.pipe(\r\n\t\t\t\twithLatestFrom(state$),\r\n\t\t\t\tmap(([deltaTime, state]) => {\r\n\t\t\t\t\tstate.clipped = meter.checkClipping();\r\n\t\t\t\t\tstate.volume = meter.volume;\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t}),\r\n\t\t\t\ttap((state) => state$.next(state)),\r\n\t\t\t\tfinalize(() => {\r\n\t\t\t\t\tthis.removeSource(streamOrElement);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(state);\r\n\t\t}\r\n\t}\r\n\r\n\t// unused\r\n\tstatic audioMeterCreate(clipLevel = 0.98, averaging = 0.95, clipLag = 750) {\r\n\t\tconst context = this.context;\r\n\t\tif (context) {\r\n\t\t\tconst processor = context.createScriptProcessor(512);\r\n\t\t\tprocessor.onaudioprocess = this.audioMeterProcess;\r\n\t\t\tprocessor.checkClipping = this.audioMeterClip;\r\n\t\t\tprocessor.dispose = this.audioMeterDispose;\r\n\t\t\tprocessor.clipping = false;\r\n\t\t\tprocessor.lastClip = 0;\r\n\t\t\tprocessor.volume = 0;\r\n\t\t\tprocessor.clipLevel = clipLevel;\r\n\t\t\tprocessor.averaging = averaging;\r\n\t\t\tprocessor.clipLag = clipLag;\r\n\t\t\t// this will have no effect, since we don't copy the input to the output,\r\n\t\t\t// but works around a current Chrome bug.\r\n\t\t\tprocessor.connect(context.destination);\r\n\t\t\treturn processor;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic audioMeterProcess(event) {\r\n\t\tconst buffer = event.inputBuffer.getChannelData(0);\r\n\t\tconst bufferLength = buffer.length;\r\n\t\tlet sum = 0;\r\n\t\tlet x;\r\n\r\n\t\t// Do a root-mean-square on the samples: sum up the squares...\r\n\t\tfor (let i = 0; i < bufferLength; i++) {\r\n\t\t\tx = buffer[i];\r\n\t\t\tif (Math.abs(x) >= this.clipLevel) {\r\n\t\t\t\tthis.clipping = true;\r\n\t\t\t\tthis.lastClip = window.performance.now();\r\n\t\t\t}\r\n\t\t\tsum += x * x;\r\n\t\t}\r\n\r\n\t\t// ... then take the square root of the sum.\r\n\t\tconst rms = Math.sqrt(sum / bufferLength);\r\n\r\n\t\t// Now smooth this out with the averaging factor applied\r\n\t\t// to the previous sample - take the max here because we\r\n\t\t// want 'fast attack, slow release.'\r\n\t\tthis.volume = Math.max(rms, this.volume * this.averaging);\r\n\t}\r\n\r\n\tstatic audioMeterClip() {\r\n\t\tif (!this.clipping) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif ((this.lastClip + this.clipLag) < window.performance.now()) {\r\n\t\t\tthis.clipping = false;\r\n\t\t}\r\n\t\treturn this.clipping;\r\n\t}\r\n\r\n\tstatic audioMeterDispose() {\r\n\t\tthis.disconnect();\r\n\t\tthis.onaudioprocess = null;\r\n\t}\r\n\r\n\tstatic step$(previous) {\r\n\t\t/**\r\n\t\t * This function returns an observable that will emit the next frame once the\r\n\t\t * browser has returned an animation frame step. Given the previous frame it calculates\r\n\t\t * the delta time, and we also clamp it to 30FPS in case we get long frames.\r\n\t\t */\r\n\t\treturn Observable.create((observer) => {\r\n\t\t\trequestAnimationFrame((startTime) => {\r\n\t\t\t\t// Millis to seconds\r\n\t\t\t\tconst deltaTime = previous ? (startTime - previous.startTime) / 1000 : 0;\r\n\t\t\t\tobserver.next({\r\n\t\t\t\t\tstartTime,\r\n\t\t\t\t\tdeltaTime,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}).pipe(\r\n\t\t\tmap(frame => {\r\n\t\t\t\tif (frame.deltaTime > (1 / 30)) {\r\n\t\t\t\t\tframe.deltaTime = 1 / 30;\r\n\t\t\t\t}\r\n\t\t\t\treturn frame;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic dispose() {\r\n\t\tObject.keys(this.sources_).forEach(key => {\r\n\t\t\tthis.removeSourceKey(key);\r\n\t\t});\r\n\t\tconst analyser = this.analyser;\r\n\t\tif (analyser) {\r\n\t\t\tanalyser.disconnect();\r\n\t\t}\r\n\t\tthis.sources_ = {};\r\n\t\t// this.context_.close().then(() => console.log('AudioStreamService.dispose'));\r\n\t\t// this.context_ = null;\r\n\t}\r\n\r\n}\r\n\r\nAudioStreamService.sources_ = {};\r\nAudioStreamService.frame$ = of(undefined).pipe(\r\n\texpand((value) => AudioStreamService.step$(value)),\r\n\t// Expand emits the first value provided to it, and in this\r\n\t//  case we just want to ignore the undefined input frame\r\n\tfilter(frame => frame !== undefined),\r\n\tmap(frame => frame.deltaTime),\r\n\tshare(),\r\n);\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport AudioStreamService from '../audio/audio-stream.service';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport StateService from '../state/state.service';\r\nimport { getStreamQuality } from './agora.types';\r\n\r\nexport default class AgoraDevicePreviewComponent extends Component {\r\n\r\n\tget video() {\r\n\t\treturn this.video_;\r\n\t}\r\n\r\n\tset video(video) {\r\n\t\tif (this.video_ !== video) {\r\n\t\t\tthis.video_ = video;\r\n\t\t\tif (this.change) {\r\n\t\t\t\tthis.change.next();\r\n\t\t\t\tthis.init();\r\n\t\t\t\tthis.initStream();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget audio() {\r\n\t\treturn this.audio_;\r\n\t}\r\n\r\n\tset audio(audio) {\r\n\t\tif (this.audio_ !== audio) {\r\n\t\t\tthis.audio_ = audio;\r\n\t\t\tif (this.change) {\r\n\t\t\t\tthis.change.next();\r\n\t\t\t\tthis.init();\r\n\t\t\t\tthis.initStream();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget hasPreview() {\r\n\t\treturn this.platform !== DevicePlatform.IOS && this.platform !== DevicePlatform.VRHeadset;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tif (this.initialized_) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.initialized_ = true;\r\n\t\tthis.platform = DeviceService.platform;\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.onLoadedMetadata = this.onLoadedMetadata.bind(this);\r\n\t\tconst preview = this.preview = node.querySelector('video');\r\n\t\tpreview.addEventListener('loadedmetadata', this.onLoadedMetadata);\r\n\t\tconst audio = node.querySelector('.audio');\r\n\t\tif (this.hasPreview) {\r\n\t\t\tconst bars = this.bars = new Array(32).fill(0).map(x => {\r\n\t\t\t\tconst bar = document.createElement('div');\r\n\t\t\t\tbar.classList.add('bar');\r\n\t\t\t\taudio.appendChild(bar);\r\n\t\t\t\treturn bar;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tconst preview = this.preview;\r\n\t\tpreview.removeEventListener('loadedmetadata', this.onLoadedMetadata);\r\n\t\tif (this.hasPreview) {\r\n\t\t\tAudioStreamService.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tinitStream() {\r\n\t\tconst preview = this.preview;\r\n\t\tif (!this.preview) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// console.log(this.video_, this.audio_);\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.video_ || this.audio_) {\r\n\t\t\tnode.classList.add('ready');\r\n\t\t\tif (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n\t\t\t\tconst state = StateService.state;\r\n\t\t\t\tconst quality = getStreamQuality(state);\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tvideo: this.video_ ? {\r\n\t\t\t\t\t\tdeviceId: this.video_,\r\n\t\t\t\t\t\twidth: { ideal: quality.resolution.width },\r\n\t\t\t\t\t\theight: { ideal: quality.resolution.height },\r\n\t\t\t\t\t\tframeRate: { ideal: quality.frameRate.min, max: quality.frameRate.max },\r\n\t\t\t\t\t} : false,\r\n\t\t\t\t\taudio: this.audio_ ? { deviceId: this.audio_ } : false,\r\n\t\t\t\t};\r\n\t\t\t\tif (this.platform === DevicePlatform.IOS) {\r\n\t\t\t\t\toptions.video.facingMode = 'user';\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('AgoraDevicePreviewComponent.initStream.getUserMedia', options);\r\n\t\t\t\tnavigator.mediaDevices.getUserMedia(options).then((stream) => {\r\n\t\t\t\t\tif (this.hasPreview) {\r\n\t\t\t\t\t\tif ('srcObject' in preview) {\r\n\t\t\t\t\t\t\tpreview.srcObject = stream;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpreview.src = window.URL.createObjectURL(stream);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.audio_) {\r\n\t\t\t\t\t\t\tthis.analyzeData(stream);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.loadingStream_ = stream;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.stream.next(stream);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log('AgoraDevicePreviewComponent.initStream.error', error.name, error.message);\r\n\t\t\t\t\tthis.stream.next(null);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnode.classList.remove('ready');\r\n\t\t\tif (this.hasPreview) {\r\n\t\t\t\tif ('srcObject' in preview) {\r\n\t\t\t\t\tpreview.srcObject = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpreview.src = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.analyzeData(null);\r\n\t\t\t}\r\n\t\t\tthis.stream.next(null);\r\n\t\t}\r\n\t}\r\n\r\n\tonLoadedMetadata(event) {\r\n\t\t// console.log('AgoraDevicePreview.onLoadedMetadata', event);\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('loaded');\r\n\t\tthis.preview.play();\r\n\t\tthis.stream.next(this.loadingStream_);\r\n\t}\r\n\r\n\tanalyzeData(stream) {\r\n\t\tif (this.frequencySubscription) {\r\n\t\t\tthis.frequencySubscription.unsubscribe();\r\n\t\t}\r\n\t\t// console.log('AgoraDevicePreviewComponent.analyzeData', stream);\r\n\t\tif (stream) {\r\n\t\t\tthis.frequencySubscription = AudioStreamService.frequency$(stream, 64).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(frequency => {\r\n\t\t\t\t// 32 data points\r\n\t\t\t\t// console.log(frequency);\r\n\t\t\t\tconst spacing = 100 / 32;\r\n\t\t\t\tconst bars = this.bars;\r\n\t\t\t\tbars.forEach((bar, i) => {\r\n\t\t\t\t\tconst pow = Math.min(100, (5 + frequency[i])) / 100;\r\n\t\t\t\t\tbar.style.left = i * spacing + '%';\r\n\t\t\t\t\tbar.style.transform = `scale(1,${pow})`;\r\n\t\t\t\t\tbar.style.opacity = pow;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nAgoraDevicePreviewComponent.meta = {\r\n\tselector: '[agora-device-preview]',\r\n\toutputs: ['stream', 'change'],\r\n\tinputs: ['video', 'audio'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport StateService from '../state/state.service';\r\nimport AgoraService from './agora.service';\r\n\r\nexport default class AgoraDeviceComponent extends Component {\r\n\r\n\tget hasPreview() {\r\n\t\treturn this.platform !== DevicePlatform.IOS && this.platform !== DevicePlatform.VRHeadset; // && this.form && this.form.value.video;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.platform = DeviceService.platform;\r\n\t\tthis.isHttps = window.location.protocol === 'https:';\r\n\t\tthis.state = {};\r\n\t\tthis.devices = { videos: [], audios: [] };\r\n\t\tthis.stream = null;\r\n\t\tthis.form = null;\r\n\t\tif (this.isHttps) {\r\n\t\t\tconst agora = this.agora = AgoraService.getSingleton();\r\n\t\t\tStateService.state$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(state => {\r\n\t\t\t\t// console.log('AgoraDeviceComponent.state', state);\r\n\t\t\t\tthis.state = state;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t\tif (agora) {\r\n\t\t\t\tagora.devices$().subscribe(devices => {\r\n\t\t\t\t\t// console.log(devices);\r\n\t\t\t\t\tthis.devices = devices;\r\n\t\t\t\t\tthis.initForm(devices);\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('AgoraDeviceComponent.devices$.error', error);\r\n\t\t\t\t\t// alert('AgoraDeviceComponent ' + error); // !!!\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\topenHttps(event) {\r\n\t\twindow.location.href = window.location.href.replace('http://', 'https://').replace(':5000', ':6443');\r\n\t}\r\n\r\n\tinitForm(devices) {\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tvideo: new FormControl(null, devices.videos.length ? Validators.RequiredValidator() : undefined),\r\n\t\t\taudio: new FormControl(null, devices.audios.length ? Validators.RequiredValidator() : undefined),\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tconst videoOptions = devices.videos.map(x => {\r\n\t\t\treturn {\r\n\t\t\t\tid: x.deviceId,\r\n\t\t\t\tname: x.label,\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (videoOptions.length > 0) {\r\n\t\t\tvideoOptions.unshift({\r\n\t\t\t\tid: null, name: 'bhere_select_video', // LabelPipe.transform('bhere_select_video')\r\n\t\t\t});\r\n\t\t}\r\n\t\tcontrols.video.options = videoOptions;\r\n\t\tconst audioOptions = devices.audios.map(x => {\r\n\t\t\treturn {\r\n\t\t\t\tid: x.deviceId,\r\n\t\t\t\tname: x.label,\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (audioOptions.length > 0) {\r\n\t\t\taudioOptions.unshift({\r\n\t\t\t\tid: null, name: 'bhere_select_audio', // LabelPipe.transform('bhere_select_audio')\r\n\t\t\t});\r\n\t\t}\r\n\t\tcontrols.audio.options = audioOptions;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AgoraDeviceComponent.changes$', form.value);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonStreamDidChange(event) {\r\n\t\tthis.stream = null;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonStream(stream) {\r\n\t\tthis.stream = stream;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid && (this.stream || !this.hasPreview);\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tonEnter(event) {\r\n\t\tconst preferences = this.form.value;\r\n\t\tconst devices = this.devices;\r\n\t\tdevices.video = devices.videos.find(x => x.deviceId === preferences.video);\r\n\t\tdevices.audio = devices.audios.find(x => x.deviceId === preferences.audio);\r\n\t\tthis.enter.next(devices);\r\n\t}\r\n\r\n}\r\n\r\nAgoraDeviceComponent.meta = {\r\n\tselector: '[agora-device]',\r\n\toutputs: ['enter'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--info\" *if=\"!isHttps\">\r\n\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t<div class=\"title\" [innerHTML]=\"'bhere_invalid_protocol' | label\"></div>\r\n\t\t\t<div class=\"info\" [innerHTML]=\"'bhere_reload_in_https' | label\"></div>\r\n\t\t\t<button type=\"button\" class=\"btn--connect\" (click)=\"openHttps($event)\">\r\n\t\t\t\t<span [innerHTML]=\"'bhere_reload' | label\"></span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"group--info\" *if=\"form\">\r\n\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onEnter($event)\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t<!-- PREVIEW -->\r\n\t\t\t<div class=\"agora-device-preview\" agora-device-preview [video]=\"controls.video.value\" [audio]=\"controls.audio.value\" (stream)=\"onStream($event)\" (change)=\"onStreamDidChange($event)\" *if=\"this.hasPreview\">\r\n\t\t\t\t<video class=\"video\" muted></video>\r\n\t\t\t\t<div class=\"audio\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t<!-- VIDEO -->\r\n\t\t\t\t<div control-custom-select [control]=\"controls.video\" label=\"Video\" *if=\"devices.videos.length\"></div>\r\n\t\t\t\t<!-- AUDIO -->\r\n\t\t\t\t<div control-custom-select [control]=\"controls.audio\" label=\"Audio\" *if=\"devices.audios.length\"></div>\r\n\t\t\t\t<div class=\"info\" *if=\"!isValid()\" [innerHTML]=\"'bhere_select_video_audio' | label\"></div>\r\n\t\t\t\t<div class=\"info\" *if=\"isValid()\" [innerHTML]=\"'bhere_video_audio_connected' | label\"></div>\r\n\t\t\t\t<button type=\"submit\" class=\"btn--connect\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#call\"></use></svg>\r\n\t\t\t\t\t<span *if=\"!state.connecting\" [innerHTML]=\"'bhere_enter' | label\"></span>\r\n\t\t\t\t\t<span *if=\"state.connecting\" [innerHTML]=\"'bhere_connecting' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Subject } from 'rxjs';\r\nimport StateService from '../state/state.service';\r\n\r\nexport const ViewType = {\r\n\tWaitingRoom: { id: 1, name: 'waiting-room' },\r\n\tPanorama: { id: 2, name: 'panorama' },\r\n\tPanoramaGrid: { id: 3, name: 'panorama-grid' },\r\n\tRoom3d: { id: 4, name: 'room-3d' },\r\n\tModel: { id: 5, name: 'model' },\r\n\tMedia: { id: 6, name: 'media' },\r\n};\r\n\r\nexport const ViewItemType = {\r\n\tNav: { id: 1, name: 'nav' },\r\n\tPlane: { id: 2, name: 'plane' },\r\n\tCurvedPlane: { id: 3, name: 'curved-plane' },\r\n\tModel: { id: 4, name: 'model' },\r\n\tTexture: { id: 5, name: 'texture' },\r\n};\r\n\r\nexport class View {\r\n\t// 'liked'\r\n\tstatic allowedProps = ['id', 'type', 'name', 'hidden', 'likes', 'asset', 'items', 'orientation', 'zoom', 'ar', 'tiles', 'invertAxes', 'flipAxes'];\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t\tthis.updateIndices(options.items);\r\n\t\t}\r\n\t\tthis.items = (this.items || []).filter(item => filterViewItem(item)).map(item => mapViewItem(item));\r\n\t\tif (this.tiles) {\r\n\t\t\tthis.tiles = this.tiles.map(tile => mapViewTile(tile));\r\n\t\t}\r\n\t\tthis.originalItems = this.items.slice();\r\n\t\tthis.lastOrientation = { latitude: 0, longitude: 0 };\r\n\t\tthis.path = true;\r\n\t}\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (View.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'items':\r\n\t\t\t\t\t\tpayload[key] = this[key].map(item => mapViewItem(item).payload);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'tiles':\r\n\t\t\t\t\t\tpayload[key] = this[key].map(tile => mapViewTile(tile).payload);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tpayload[key] = this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn payload;\r\n\t}\r\n\r\n\tget pathItems() {\r\n\t\treturn this.items.filter(x => x.path);\r\n\t}\r\n\r\n\tget shortType() {\r\n\t\treturn this.type ? this.type.split('-').map(x => x.substring(0, 1).toUpperCase()).join('') : '??';\r\n\t}\r\n\r\n\tupdateIndices(items) {\r\n\t\tif (items) {\r\n\t\t\tlet publisherStreamIndex = 0;\r\n\t\t\tlet attendeeStreamIndex = 0;\r\n\t\t\tlet smartDeviceStream = 0;\r\n\t\t\tlet publisherScreenIndex = 0;\r\n\t\t\tlet attendeeScreenIndex = 0;\r\n\t\t\titems.forEach((item, index) => {\r\n\t\t\t\titem.index = index;\r\n\t\t\t\tif (item.asset) {\r\n\t\t\t\t\tswitch (item.asset.file) {\r\n\t\t\t\t\t\tcase 'publisherStream':\r\n\t\t\t\t\t\t\titem.asset.index = publisherStreamIndex++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'nextAttendeeStream':\r\n\t\t\t\t\t\t\titem.asset.index = attendeeStreamIndex++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'smartDeviceStream':\r\n\t\t\t\t\t\t\titem.asset.index = smartDeviceStream++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'publisherScreen':\r\n\t\t\t\t\t\t\titem.asset.index = publisherScreenIndex++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'attendeeScreen':\r\n\t\t\t\t\t\t\titem.asset.index = attendeeScreenIndex++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*\r\n\t\t\t\tif (item.asset && item.asset.file === 'publisherStream') {\r\n\t\t\t\t\titem.asset.index = publisherStreamIndex++;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.asset && item.asset.file === 'nextAttendeeStream') {\r\n\t\t\t\t\titem.asset.index = attendeeStreamIndex++;\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class PanoramaView extends View {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nexport class PanoramaGridView extends View {\r\n\r\n\tstatic mapTiles(tiles = [], flipAxes = false, invertAxes = false, folder = '') {\r\n\t\tconst axes = flipAxes ? -1 : 1;\r\n\t\treturn tiles.map((tile, i) => {\r\n\t\t\tconst indices = new THREE.Vector2();\r\n\t\t\ttile = typeof tile === 'string' ? { id: i + 1, asset: { folder: folder, file: tile }, navs: [] } : tile;\r\n\t\t\ttile.asset.file.replace(/_x([-|\\d]+)_y([-|\\d]+)/g, (a, b, c) => {\r\n\t\t\t\tif (invertAxes) {\r\n\t\t\t\t\tindices.y = parseInt(b);\r\n\t\t\t\t\tindices.x = parseInt(c) * axes;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tindices.x = parseInt(b);\r\n\t\t\t\t\tindices.y = parseInt(c) * axes;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\tid: tile.id,\r\n\t\t\t\ttype: Object.assign({}, ViewType.PanoramaGrid),\r\n\t\t\t\tasset: tile.asset,\r\n\t\t\t\tnavs: tile.navs || [],\r\n\t\t\t\tindices,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tset index(index) {\r\n\t\tif (this.index_ !== index) {\r\n\t\t\tthis.index_ = index;\r\n\t\t\tthis.tiles.forEach((tile, i) => tile.selected = i === index);\r\n\t\t\tthis.updateCurrentItems();\r\n\t\t\t// console.log('PanoramaGridView.index.set', index, this.items);\r\n\t\t\tthis.index$.next(index);\r\n\t\t}\r\n\t}\r\n\tget index() {\r\n\t\treturn this.index_;\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\toptions.tiles = PanoramaGridView.mapTiles(options.tiles, options.flipAxes, options.invertAxes, options.asset ? options.asset.folder : '');\r\n\t\tsuper(options);\r\n\t\t/*\r\n\t\tif (!this.tiles.length) {\r\n\t\t\tthrow new Error('PanoramaGridView.constructor tile list is empty!');\r\n\t\t}\r\n\t\t*/\r\n\t\tthis.index_ = 0;\r\n\t\tthis.index$ = new Subject();\r\n\t\tthis.tiles.forEach((tile, i) => tile.selected = i === 0);\r\n\t\tif (this.tiles.length) {\r\n\t\t\tthis.items = this.originalItems.concat(this.tiles[0].navs);\r\n\t\t\tthis.asset = this.tiles[0].asset;\r\n\t\t}\r\n\t}\r\n\r\n\tupdateCurrentItems() {\r\n\t\tthis.items = this.originalItems.concat(this.tiles[this.index_].navs);\r\n\t}\r\n\r\n\tgetTileIndex(x, y) {\r\n\t\treturn this.tiles.reduce((p, c, i) => {\r\n\t\t\tif (c.indices.x === x && c.indices.y === y) {\r\n\t\t\t\treturn i;\r\n\t\t\t} else {\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\t\t}, -1);\r\n\t}\r\n\thasTile(x, y) {\r\n\t\treturn this.getTileIndex(x, y) !== -1;\r\n\t}\r\n\tgetTile(x, y) {\r\n\t\tconst index = this.getTileIndex(x, y);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.index = index;\r\n\t\t\treturn this.tiles[index];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class Room3DView extends View {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nexport class ModelView extends View {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nexport class MediaView extends View {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nexport class ViewItem {\r\n\tstatic allowedProps = ['id', 'type', 'title', 'abstract', 'asset', 'link', 'links', 'viewId', 'hook', 'hookExtra', 'keepOrientation', 'important', 'transparent', 'position', 'rotation', 'scale', 'radius', 'height', 'arc'];\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t\tthis.path = true;\r\n\t\tconst links = this.links || (this.link ? [this.link] : []);\r\n\t\tthis.links = links;\r\n\t}\r\n\tget firstLink() {\r\n\t\treturn (this.links && this.links.length) ? this.links[0] : null;\r\n\t}\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (ViewItem.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tpayload[key] = this[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (payload.link && (!payload.link.title || !payload.link.href)) {\r\n\t\t\tdelete payload.link;\r\n\t\t}\r\n\t\treturn payload;\r\n\t}\r\n\tget hasPanel() {\r\n\t\treturn this.type.name === ViewItemType.Nav.name && (\r\n\t\t\t(this.title && this.title !== '') ||\r\n\t\t\t(this.abstract && this.abstract !== '') ||\r\n\t\t\tthis.asset ||\r\n\t\t\tthis.link\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport class NavViewItem extends ViewItem {\r\n\r\n}\r\n\r\nexport class ViewTile {\r\n\tstatic allowedProps = ['id', 'asset', 'navs'];\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t\tthis.navs = (this.navs || []).map(nav => mapViewItem(nav));\r\n\t\tthis.originalItems = this.navs.slice();\r\n\t}\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (ViewTile.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'navs':\r\n\t\t\t\t\t\tpayload[key] = this[key].map(nav => mapViewItem(nav).payload);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tpayload[key] = this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn payload;\r\n\t}\r\n}\r\n\r\nexport function mapView(view) {\r\n\tswitch (view.type.name) {\r\n\t\tcase ViewType.Panorama.name:\r\n\t\t\tview = new PanoramaView(view);\r\n\t\t\tbreak;\r\n\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\tview = new PanoramaGridView(view);\r\n\t\t\tbreak;\r\n\t\tcase ViewType.Room3d.name:\r\n\t\t\tview = new Room3DView(view);\r\n\t\t\tbreak;\r\n\t\tcase ViewType.Model.name:\r\n\t\t\tview = new ModelView(view);\r\n\t\t\tbreak;\r\n\t\tcase ViewType.Media.name:\r\n\t\t\tview = new MediaView(view);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tview = new View(view);\r\n\t}\r\n\treturn view;\r\n}\r\n\r\nexport function filterViewItem(item) {\r\n\tlet flag;\r\n\tswitch (item.type.name) {\r\n\t\tcase ViewItemType.Nav.name:\r\n\t\t\tflag = item.viewId == null || isNavMove(item) || StateService.state.navigable;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tflag = true;\r\n\t}\r\n\treturn flag;\r\n}\r\n\r\nexport function mapViewItem(item) {\r\n\tswitch (item.type.name) {\r\n\t\tcase ViewItemType.Nav.name:\r\n\t\t\titem = new NavViewItem(item);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\titem = new ViewItem(item);\r\n\t}\r\n\treturn item;\r\n}\r\n\r\nexport function mapViewTile(tile) {\r\n\treturn new ViewTile(tile);\r\n}\r\n\r\nexport function isNavMove(item) {\r\n\treturn !isValidText(item.title) && !isValidText(item.abstract);\r\n}\r\n\r\nexport function isValidText(text) {\r\n\treturn text && text.length > 0;\r\n}\r\n","import { View } from '../../view/view';\r\nexport class Path {\r\n\r\n\tstatic allowedProps = ['id', 'name', 'items'];\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t\tthis.items = (this.items || []);\r\n\t\tthis.originalItems = this.items.slice();\r\n\t}\r\n\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (View.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tpayload[key] = this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn payload;\r\n\t}\r\n}\r\n\r\nexport function mapPath(map) {\r\n\tmap = new Path(map);\r\n\treturn map;\r\n}\r\n","import { BehaviorSubject, of } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport { HttpService } from '../../http/http.service';\r\nimport { mapPath } from './path';\r\n\r\nexport const DEFAULT_PATH = {\r\n\tid: null,\r\n\tname: 'Principale',\r\n\titems: [],\r\n};\r\n\r\nexport default class PathService {\r\n\r\n\tstatic paths$ = new BehaviorSubject([DEFAULT_PATH]);\r\n\tstatic set paths(paths) {\r\n\t\tthis.paths$.next(paths);\r\n\t}\r\n\tstatic get paths() {\r\n\t\treturn this.paths$.getValue();\r\n\t}\r\n\r\n\tstatic path$ = new BehaviorSubject(DEFAULT_PATH);\r\n\tstatic set path(path) {\r\n\t\tthis.path$.next(path);\r\n\t}\r\n\tstatic get path() {\r\n\t\treturn this.path$.getValue();\r\n\t}\r\n\r\n\tstatic getCurrentPath$(pathId = null) {\r\n\t\treturn this.pathGet$().pipe(\r\n\t\t\tswitchMap(paths => {\r\n\t\t\t\tthis.paths = paths;\r\n\t\t\t\tlet path = DEFAULT_PATH;\r\n\t\t\t\tif (pathId) {\r\n\t\t\t\t\tconst selectedPath = paths.find(x => x.id === pathId);\r\n\t\t\t\t\tif (selectedPath) {\r\n\t\t\t\t\t\tpath = selectedPath;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.path = path;\r\n\t\t\t\treturn this.path$;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic pathGet$() {\r\n\t\tif (environment.flags.usePaths) {\r\n\t\t\treturn HttpService.get$('/api/path').pipe(\r\n\t\t\t\tmap(data => {\r\n\t\t\t\t\tdata.paths = data.paths.map(path => mapPath(path));\r\n\t\t\t\t\tdata.paths.unshift(DEFAULT_PATH);\r\n\t\t\t\t\treturn data.paths;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of([]);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic addPath(path) {\r\n\t\tconst paths = this.paths.slice();\r\n\t\tpaths.push(path);\r\n\t\tthis.paths = paths;\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\tstatic editPath(path) {\r\n\t\t// console.log('PathService.editPath', path);\r\n\t\tconst paths = this.paths.slice();\r\n\t\tconst index = paths.reduce((p, c, i) => {\r\n\t\t\treturn c.id === path.id ? i : p;\r\n\t\t}, -1);\r\n\t\t// console.log('PathService.editPath', paths, index);\r\n\t\tif (index > 0) {\r\n\t\t\tlet currentPath = this.path;\r\n\t\t\tif (currentPath.id === path.id) {\r\n\t\t\t\tcurrentPath = path;\r\n\t\t\t}\r\n\t\t\t// console.log('PathService.editPath', currentPath);\r\n\t\t\tpaths.splice(index, 1, path);\r\n\t\t\tthis.paths = paths;\r\n\t\t\tthis.path = currentPath;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deletePath(path) {\r\n\t\tconst paths = this.paths.slice();\r\n\t\tconst index = paths.indexOf(path);\r\n\t\tif (index > 0) {\r\n\t\t\tpaths.splice(index, 1);\r\n\t\t\tthis.paths = paths;\r\n\t\t\tlet currentPath = this.path;\r\n\t\t\tif (currentPath.id === path.id) {\r\n\t\t\t\tcurrentPath = paths[0];\r\n\t\t\t}\r\n\t\t\tthis.path = currentPath;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic pathCreate$(path) {\r\n\t\treturn HttpService.post$('/api/path', path).pipe(\r\n\t\t\tmap(path => mapPath(path)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic pathUpdate$(path) {\r\n\t\treturn HttpService.put$(`/api/path/${path.id}`, path).pipe(\r\n\t\t\tmap(x => mapPath(x)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic pathDelete$(path) {\r\n\t\treturn HttpService.delete$(`/api/path/${path.id}`);\r\n\t}\r\n\r\n\t/*\r\n\tstatic itemCreate$(path, item) {\r\n\t\treturn HttpService.post$(`/api/path/${path.id}/item`, item).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic itemUpdate$(path, item) {\r\n\t\titem = mapViewItem(item); // !!! ??\r\n\t\treturn HttpService.put$(`/api/path/${path.id}/item/${item.id}`, item.payload).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic itemDelete$(path, item) {\r\n\t\treturn HttpService.delete$(`/api/path/${path.id}/item/${item.id}`);\r\n\t}\r\n\t*/\r\n}\r\n","import { Component } from 'rxcomp';\r\n// import { UserService } from './user/user.service';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport PathService from '../editor/path/path.service';\r\nimport { environment } from '../environment';\r\nimport { MEETING_ID_VALIDATOR, MeetingId } from '../meeting/meeting-id';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RoutePipe } from '../router/route.pipe';\r\nimport StateService from '../state/state.service';\r\n\r\nexport default class AgoraLinkComponent extends Component {\r\n\r\n\tget selfServiceTourRoute() {\r\n\t\tconst pathId = this.form.get('path').value;\r\n\t\tconst route = [RoutePipe.transform(':lang.selfServiceTour')];\r\n\t\tif (pathId) {\r\n\t\t\troute.push(MeetingUrl.validateParams({ pathId }));\r\n\t\t}\r\n\t\treturn route;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.state = {};\r\n\t\tthis.paths = [];\r\n\t\tthis.pathId = null;\r\n\t\tthis.form = null;\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\t// console.log('AgoraLinkComponent.state', state);\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tif (environment.flags.usePaths) {\r\n\t\t\tPathService.getCurrentPath$().pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t\ttap(),\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(path => {\r\n\t\t\t\tthis.paths = PathService.paths;\r\n\t\t\t\tthis.pathId = path.id || '';\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n\r\n\tonLoad() {\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tpath: this.pathId,\r\n\t\t\tid: new FormControl(null, [Validators.PatternValidator(MEETING_ID_VALIDATOR), Validators.RequiredValidator()]),\r\n\t\t\tidAttendee: null,\r\n\t\t\tidStreamer: null,\r\n\t\t\tidViewer: null,\r\n\t\t\tidSmartDevice: null,\r\n\t\t\t// id: new FormControl(null),\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tconst pathOptions = this.paths.map(x => {\r\n\t\t\treturn {\r\n\t\t\t\tid: x.id || '',\r\n\t\t\t\tname: x.name,\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (pathOptions.length > 0) {\r\n\t\t\tpathOptions.unshift({\r\n\t\t\t\tid: null, name: 'bhere_select_path', // LabelPipe.transform('bhere_select_path')\r\n\t\t\t});\r\n\t\t}\r\n\t\tcontrols.path.options = pathOptions;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AgoraLinkComponent.changes$', form.value);\r\n\t\t\t// console.log(changes.path, changes.id);\r\n\t\t\tif (this.pathId !== changes.path && changes.id !== null) {\r\n\t\t\t\tthis.pathId = changes.path;\r\n\t\t\t\tthis.onGenerateMeetingId();\r\n\t\t\t}\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonGenerateMeetingId($event) {\r\n\t\tlet pathId = this.pathId ? String(this.pathId) : null;\r\n\t\tpathId = pathId && pathId.length ? pathId : null;\r\n\t\t// console.log('onGenerateMeetingId', this.pathId, pathId);\r\n\t\tconst meetingId = new MeetingId({ pathId });\r\n\t\tconst meetingIdRoles = meetingId.toRoles();\r\n\t\tthis.form.patch(meetingIdRoles);\r\n\t}\r\n\r\n\tonInputDidChange($event) {\r\n\t\t// console.log('onInputDidChange', this.form.get('id').value, this.form.get('id').valid);\r\n\t\tif (this.state.role !== 'publisher') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.form.get('id').valid) {\r\n\t\t\t\tconst value = this.form.get('id').value;\r\n\t\t\t\tconst meetingId = new MeetingId(value);\r\n\t\t\t\tconst meetingIdRoles = meetingId.toRoles();\r\n\t\t\t\tthis.form.patch(meetingIdRoles);\r\n\t\t\t} else {\r\n\t\t\t\tthis.form.get('idAttendee').reset();\r\n\t\t\t\tthis.form.get('idStreamer').reset();\r\n\t\t\t\tthis.form.get('idViewer').reset();\r\n\t\t\t\tthis.form.get('idSmartDevice').reset();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tonCopyToClipBoard(id, asAccessCode = false) {\r\n\t\tconst meetingUrl = new MeetingUrl({ link: id });\r\n\t\tmeetingUrl.copyToClipBoard(asAccessCode);\r\n\t}\r\n\r\n\tonNext(event) {\r\n\t\tlet meetingId = this.controls.id.value;\r\n\t\tMeetingUrl.replaceWithLink(meetingId);\r\n\t\tthis.link.next(meetingId);\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid;\r\n\t}\r\n}\r\n\r\nAgoraLinkComponent.meta = {\r\n\tselector: '[agora-link]',\r\n\toutputs: ['link'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--info\" *if=\"form\">\r\n\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onNext($event)\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t<div class=\"stagger--childs\" *if=\"state.role !== 'publisher'\">\r\n\t\t\t\t\t<div class=\"group--form group--form--addon\" [class]=\"{ required: controls.id.validators.length, 'addon': controls.id.valid }\">\r\n\t\t\t\t\t\t<label [innerHTML]=\"'bhere_insert_meeting_id' | label\"></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.id\" [placeholder]=\"'bhere_meeting_id' | label\" />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.id.value)\" *if=\"controls.id.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"stagger--childs\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t<!-- PATH -->\r\n\t\t\t\t\t<div control-custom-select [control]=\"controls.path\" [label]=\"'bhere_path' | label\" *if=\"('usePaths' | flag) && paths.length\"></div>\r\n\t\t\t\t\t<!--IDS -->\r\n\t\t\t\t\t<div class=\"group--form group--form--addon\" [class]=\"{ required: controls.id.validators.length, 'addon': controls.id.valid }\">\r\n\t\t\t\t\t\t<label><svg class=\"lock\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#lock\"></use></svg> <span [innerHTML]=\"'bhere_insert_meeting_id' | label\"></span></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.id\" [placeholder]=\"'bhere_meeting_id' | label\" (change)=\"onInputDidChange($event)\" />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.id.value)\" *if=\"controls.id.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--form group--form--addon addon\" *if=\"('attendee' | flag) && controls.idAttendee.valid && controls.idAttendee.value !== null\">\r\n\t\t\t\t\t\t<label><svg class=\"lock\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#lock\"></use></svg> <span [innerHTML]=\"'bhere_attendee_meeting_id' | label\"></span></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.idAttendee\" [placeholder]=\"'bhere_attendee_meeting_id' | label\" readonly />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.idAttendee.value)\" *if=\"controls.idAttendee.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--form group--form--addon addon\" *if=\"('streamer' | flag) && controls.idStreamer.valid && controls.idStreamer.value !== null\">\r\n\t\t\t\t\t\t<label [innerHTML]=\"'bhere_streamer_meeting_id' | label\"></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.idStreamer\" [placeholder]=\"'bhere_streamer_meeting_id' | label\" readonly />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.idStreamer.value)\" *if=\"controls.idStreamer.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--form group--form--addon addon\" *if=\"('viewer' | flag) && controls.idViewer.valid && controls.idViewer.value !== null\">\r\n\t\t\t\t\t\t<label [innerHTML]=\"'bhere_viewer_meeting_id' | label\"></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.idViewer\" [placeholder]=\"'bhere_viewer_meeting_id' | label\" readonly />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.idViewer.value)\" *if=\"controls.idViewer.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--form group--form--addon addon\" *if=\"('smartDevice' | flag) && controls.idSmartDevice.valid && controls.idSmartDevice.value !== null\">\r\n\t\t\t\t\t\t<label [innerHTML]=\"'bhere_smart_device_meeting_id' | label\"></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.idSmartDevice\" [placeholder]=\"'bhere_smart_device_meeting_id' | label\" readonly />\r\n\t\t\t\t\t\t<div class=\"control--addon\" (click)=\"onCopyToClipBoard(controls.idSmartDevice.value, true)\" *if=\"controls.idSmartDevice.valid\">\r\n\t\t\t\t\t\t\t<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"info\" *if=\"controls.id.errors.required\" [innerHTML]=\"'bhere_insert_meeting_id' | label\"></div>\r\n\t\t\t\t<div class=\"info\" *if=\"controls.id.errors.pattern\" [innerHTML]=\"'bhere_invalid_meeting_id' | label\"></div>\r\n\t\t\t\t<div class=\"info\" *if=\"isValid()\" [innerHTML]=\"'bhere_take_part_meeting' | label\"></div>\r\n\t\t\t\t<button type=\"button\" class=\"btn--generate\" *if=\"state.role == 'publisher'\" (click)=\"onGenerateMeetingId($event)\">\r\n\t\t\t\t\t<span [innerHTML]=\"'bhere_generate_meeting_id' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'bhere_take_part' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<a [routerLink]=\"selfServiceTourRoute\" class=\"btn--secondary\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t<span [innerHTML]=\"'bhere_self_service' | label\"></span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport StateService from '../state/state.service';\r\nimport { UserService } from '../user/user.service';\r\n\r\nexport default class AgoraLoginComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tusername: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery || '',\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = this.controls = form.controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.error = null;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tusername: 'publisher',\r\n\t\t\tpassword: 'publisher',\r\n\t\t\tcheckRequest: window.antiforgery || '',\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tconst payload = this.form.value;\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tthis.error = null;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tUserService.login$(payload).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(user => {\r\n\t\t\t\tif (StateService.state.role === user.type) {\r\n\t\t\t\t\t// this.login.next(user);\r\n\t\t\t\t\tthis.onNext(user);\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.error = { friendlyMessage: LabelPipe.transform('error_credentials') };\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('AccessComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tonNext(user) {\r\n\t\tMeetingUrl.replaceWithUser(user);\r\n\t\tthis.login.next(user);\r\n\t}\r\n}\r\n\r\nAgoraLoginComponent.meta = {\r\n\tselector: '[agora-login]',\r\n\toutputs: ['login'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--info\">\r\n\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'bhere_login' | label\"></div>\r\n\t\t\t\t<input name=\"checkField\" [formControl]=\"controls.checkField\" value=\"\" type=\"text\" style=\"display:none !important;\" />\r\n\t\t\t\t<div control-text [control]=\"controls.username\" [label]=\"'bhere_username' | label\"></div>\r\n\t\t\t\t<div control-password [control]=\"controls.password\" [label]=\"'bhere_password' | label\"></div>\r\n\t\t\t\t<div class=\"group--error\" *if=\"error\">\r\n\t\t\t\t\t<span class=\"status-code\" [innerHTML]=\"error.statusCode\"></span>\r\n\t\t\t\t\t<span class=\"status-message\" [innerHTML]=\"error.statusMessage\"></span>\r\n\t\t\t\t\t<span class=\"friendly-message\" [innerHTML]=\"error.friendlyMessage\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"info\" *if=\"isValid()\" [innerHTML]=\"'bhere_cta' | label\"></div>\r\n\t\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'bhere_cta' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<test-component [form]=\"form\" (test)=\"test($event)\" (reset)=\"reset($event)\"></test-component>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { fieldsToFormGroup, patchFields } from '../forms/controls.component';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport StateService from '../state/state.service';\r\n\r\nexport default class AgoraNameComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tthis.state = {};\r\n\r\n\t\tconst fields = this.fields = [];\r\n\r\n\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\tconst firstName = meetingUrl.firstName;\r\n\t\t\tconst lastName = meetingUrl.lastName;\r\n\t\t\tconst email = meetingUrl.email;\r\n\t\t\tfields.push(\r\n\t\t\t\t{ type: 'text', name: 'firstName', label: 'access_first_name', required: true, value: firstName, test: 'Jhon' },\r\n\t\t\t\t{ type: 'text', name: 'lastName', label: 'access_last_name', required: true, value: lastName, test: 'Appleseed' },\r\n\t\t\t\t{ type: 'email', name: 'email', label: 'access_email', required: true, value: email, test: 'jhonappleseed@gmail.com' },\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst name = meetingUrl.name;\r\n\t\t\tfields.push(\r\n\t\t\t\t{ type: 'text', name: 'name', label: 'bhere_name_and_surname', pattern: /^\\w{2,}\\s\\w{2,}/, required: true, value: name, test: 'Jhon Appleseed' },\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfields.push(\r\n\t\t\t{ type: 'checkbox', name: 'privacy', label: 'access_privacy_disclaimer', required: true, test: true },\r\n\t\t\t{ type: 'hidden', name: 'checkField', value: '', test: '' },\r\n\t\t\t{ type: 'none', name: 'checkRequest', value: environment.antiforgery || '', test: environment.antiforgery || '' },\r\n\t\t);\r\n\r\n\t\tconst form = this.form = fieldsToFormGroup(fields);\r\n\r\n\t\t/*\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tname: new FormControl(name, [Validators.PatternValidator(/^\\w{2,}\\s\\w{2,}/), Validators.RequiredValidator()]),\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AgoraNameComponent.changes$', form.value);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\t// console.log('AgoraNameComponent.state', state);\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\ttest() {\r\n\t\tpatchFields(this.fields, this.form);\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tonNext(event) {\r\n\t\tlet name;\r\n\t\tlet options;\r\n\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\toptions = {\r\n\t\t\t\tfirstName: this.controls.firstName.value,\r\n\t\t\t\tlastName: this.controls.lastName.value,\r\n\t\t\t\temail: this.controls.email.value,\r\n\t\t\t};\r\n\t\t\tname = `${options.firstName} ${options.lastName}`;\r\n\t\t} else {\r\n\t\t\toptions = {\r\n\t\t\t\tname: this.controls.name.value,\r\n\t\t\t};\r\n\t\t\tname = options.name;\r\n\t\t}\r\n\t\tMeetingUrl.replaceWithOptions(options);\r\n\t\tthis.name.next(name);\r\n\t}\r\n\r\n}\r\n\r\nAgoraNameComponent.meta = {\r\n\tselector: '[agora-name]',\r\n\toutputs: ['name'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--info\" *if=\"form\">\r\n\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onNext($event)\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t<div class=\"group--info__content stagger--childs\">\r\n\t\t\t\t<!-- controls -->\r\n\t\t\t\t<div controls [formGroup]=\"form\" [fields]=\"fields\"></div>\r\n\t\t\t\t<!-- NAME -->\r\n\t\t\t\t<!--\r\n\t\t\t\t<div class=\"group--form group--form--addon\" [class]=\"{ required: controls.name.validators.length }\">\r\n\t\t\t\t\t<label [innerHTML]=\"'bhere_fill_fullname' | label\"></label>\r\n\t\t\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"controls.name\" [placeholder]=\"'bhere_name_and_surname' | label\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"info\" *if=\"!controls.name.valid\" [innerHTML]=\"'bhere_fill_name_and_surname' | label\"></div>\r\n\t\t\t\t-->\r\n\t\t\t\t<div class=\"info\" *if=\"!isValid()\"><span [innerHTML]=\"'bhere_fill_name_and_surname' | label\"></span></div>\r\n\t\t\t\t<div class=\"info\" *if=\"isValid()\"><span [innerHTML]=\"'bhere_proceed_as' | label\"></span> <span [innerHTML]=\"controls.name.value\"></span></div>\r\n\t\t\t\t<button type=\"submit\" class=\"btn--next\" [class]=\"{ disabled: !isValid() }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'bhere_proceed' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<test-component [form]=\"form\" (test)=\"test($event)\" (reset)=\"reset($event)\"></test-component>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Logger } from '../logger/logger';\r\nimport { MessageService } from '../message/message.service';\r\nimport StateService from '../state/state.service';\r\nimport { Stream } from '../stream/stream';\r\nimport { AgoraMuteAudioEvent, AgoraMuteVideoEvent, AgoraUnmuteAudioEvent, AgoraUnmuteVideoEvent, MessageType } from './agora.types';\r\nexport default class AgoraStreamComponent extends Component {\r\n\r\n\tset videoMuted(videoMuted) {\r\n\t\tif (this.videoMuted_ !== videoMuted) {\r\n\t\t\tthis.videoMuted_ = videoMuted;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tvideoMuted ? node.classList.add('video--muted') : node.classList.remove('video--muted');\r\n\t\t}\r\n\t}\r\n\r\n\tset audioMuted(audioMuted) {\r\n\t\tif (this.audioMuted_ !== audioMuted) {\r\n\t\t\tthis.audioMuted_ = audioMuted;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\taudioMuted ? node.classList.add('audio--muted') : node.classList.remove('audio--muted');\r\n\t\t}\r\n\t}\r\n\r\n\tget streamId() {\r\n\t\treturn this.streamId_;\r\n\t}\r\n\r\n\tset streamId(streamId) {\r\n\t\tthis.streamId_ = streamId;\r\n\t}\r\n\r\n\t/** @type {Stream} */\r\n\tget stream() {\r\n\t\treturn this.stream_;\r\n\t}\r\n\r\n\t/**\r\n\t * @param stream {Stream}\r\n\t * */\r\n\tset stream(stream) {\r\n\t\ttry {\r\n\t\t\tif (this.stream_ !== stream) {\r\n\t\t\t\tconsole.log('AgoraStreamComponent set stream', stream);\r\n\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\tconst player = this.player = node.querySelector('.agora-stream__player');\r\n\t\t\t\t/*\r\n\t\t\t\twhile (player.childElementCount > 0) {\r\n\t\t\t\t\tplayer.removeChild(player.firstElementChild);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.stream_ && this.stream_.isPlaying() && this.stream_.player.div.parentNode === player) {\r\n\t\t\t\t\tLogger.log('AgoraStreamComponent', 'stopping stream', this.stream_.streamId);\r\n\t\t\t\t\tthis.stream_.stop();\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tthis.stream_ = stream;\r\n\t\t\t\tif (stream) {\r\n\t\t\t\t\tthis.videoMuted = stream.userMuteVideo;\r\n\t\t\t\t\tthis.audioMuted = stream.userMuteAudio;\r\n\t\t\t\t}\r\n\t\t\t\tconst streamId = stream ? stream.streamId : null;\r\n\t\t\t\tthis.streamId = streamId;\r\n\t\t\t\tif (streamId) {\r\n\t\t\t\t\tconst playerId = `stream-${streamId}`;\r\n\t\t\t\t\tplayer.setAttribute('id', playerId);\r\n\t\t\t\t\tconst self = this;\r\n\t\t\t\t\t// Logger.log('AgoraStreamComponent', streamId);\r\n\t\t\t\t\tif (stream.isPlaying()) {\r\n\t\t\t\t\t\tstream.resume(player);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.shouldUseResumeGesture = false;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tstream.play(player);\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tLogger.error('Stream.videoTrack.play.error', error);\r\n\t\t\t\t\t\t\tif (error && error.status !== 'aborted') {\r\n\t\t\t\t\t\t\t\t// The playback fails, probably due to browser policy. You can resume the playback by user gesture.\r\n\t\t\t\t\t\t\t\tself.shouldUseResumeGesture = true;\r\n\t\t\t\t\t\t\t\tself.pushChanges();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplayer.removeAttribute('id');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tLogger.error('AgoraStreamComponent.stream.set.error', error);\r\n\t\t}\r\n\t}\r\n\r\n\tset vrContainer(vrContainer) {\r\n\t\tif (this.vrContainer_ !== vrContainer) {\r\n\t\t\tthis.vrContainer_ = vrContainer;\r\n\t\t\tif (vrContainer) {\r\n\t\t\t\tthis.stream_.vrContainer = vrContainer;\r\n\t\t\t\tthis.player.appendChild(vrContainer);\r\n\t\t\t} else if (this.stream_.vrContainer && this.stream_.vrContainer.parentNode) {\r\n\t\t\t\tthis.stream_.vrContainer.parentNode.removeChild(this.stream_.vrContainer);\r\n\t\t\t\tthis.stream_.vrContainer = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget videoNode() {\r\n\t\tlet videoNode = this.videoNode_;\r\n\t\tif (!videoNode) {\r\n\t\t\tconst player = getContext(this).node.querySelector('.agora-stream__player');\r\n\t\t\tvideoNode = document.createElement('video');\r\n\t\t\tthis.onLoadedMetadata = this.onLoadedMetadata.bind(this);\r\n\t\t\tvideoNode.addEventListener('loadedmetadata', this.onLoadedMetadata);\r\n\t\t\tplayer.appendChild(videoNode);\r\n\t\t\tthis.videoNode_ = videoNode;\r\n\t\t}\r\n\t\treturn videoNode;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.videoMuted = false;\r\n\t\tthis.audioMuted = false;\r\n\t\tthis.shouldUseResumeGesture = false;\r\n\t\tthis.state = {};\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t// console.log('AgoraStreamComponent.StateService.state$', this.streamId, state);\r\n\t\t});\r\n\t\tMessageService.out$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\t// console.log('AgoraStreamComponent.MessageService.out$', this.streamId, message);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.AgoraEvent:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst event = message.event;\r\n\t\t\t\t\t\t// console.log('AgoraStreamComponent.AgoraEvent', message.event);\r\n\t\t\t\t\t\tif (this.streamId && event.streamId === this.streamId) {\r\n\t\t\t\t\t\t\tif (event instanceof AgoraMuteVideoEvent) {\r\n\t\t\t\t\t\t\t\tthis.videoMuted = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (event instanceof AgoraUnmuteVideoEvent) {\r\n\t\t\t\t\t\t\t\tthis.videoMuted = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (event instanceof AgoraMuteAudioEvent) {\r\n\t\t\t\t\t\t\t\tthis.audioMuted = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (event instanceof AgoraUnmuteAudioEvent) {\r\n\t\t\t\t\t\t\t\tthis.audioMuted = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase MessageType.VRStarted:\r\n\t\t\t\t\t// console.log('AgoraStreamComponent.VRStarted', this.streamId, message.clientId, message.container);\r\n\t\t\t\t\tif (this.streamId === message.clientId) {\r\n\t\t\t\t\t\tthis.vrContainer = message.container;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.VREnded:\r\n\t\t\t\t\t// console.log('AgoraStreamComponent.VREnded', this.streamId, message.clientId);\r\n\t\t\t\t\tif (this.streamId === message.clientId) {\r\n\t\t\t\t\t\tthis.vrContainer = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsetMediaStream(mediaStream) {\r\n\t\tconst videoNode = this.videoNode;\r\n\t\tif ('srcObject' in videoNode) {\r\n\t\t\tvideoNode.srcObject = mediaStream;\r\n\t\t} else {\r\n\t\t\tvideoNode.src = mediaStream ? window.URL.createObjectURL(mediaStream) : null;\r\n\t\t}\r\n\t}\r\n\r\n\tonLoadedMetadata(event) {\r\n\t\t// console.log('AgoraStreamComponent.onLoadedMetadata', event);\r\n\t\tthis.videoNode.play().then(success => {\r\n\t\t\t// console.log('AgoraStreamComponent.play.success', success);\r\n\t\t}, error => {\r\n\t\t\tconsole.log('AgoraStreamComponent.play.error', error);\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleControl($event) {\r\n\t\tthis.toggleControl.next($event);\r\n\t}\r\n\r\n\tonToggleSpy($event) {\r\n\t\tthis.toggleSpy.next($event);\r\n\t}\r\n}\r\n\r\nAgoraStreamComponent.meta = {\r\n\tselector: '[agora-stream]',\r\n\toutputs: ['toggleControl', 'toggleSpy'],\r\n\tinputs: ['stream'],\r\n};\r\n","import { mapViewItem, View } from '../../view/view';\r\n\r\nexport class Navmap {\r\n\r\n\tstatic allowedProps = ['id', 'name', 'asset', 'items'];\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t\tthis.items = (this.items || []).map(item => mapViewItem(item));\r\n\t\tthis.originalItems = this.items.slice();\r\n\t}\r\n\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (View.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'items':\r\n\t\t\t\t\t\tpayload[key] = this[key].map(item => mapViewItem(item).payload);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tpayload[key] = this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn payload;\r\n\t}\r\n}\r\n\r\nexport function mapNavmap(map) {\r\n\tmap = new Navmap(map);\r\n\treturn map;\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { HttpService } from '../../http/http.service';\r\nimport { mapViewItem } from '../../view/view';\r\nimport { mapNavmap } from './navmap';\r\n\r\nexport default class NavmapService {\r\n\r\n\tstatic active$ = new BehaviorSubject(false);\r\n\tstatic set active(active) {\r\n\t\tthis.active$.next(active);\r\n\t}\r\n\tstatic get active() {\r\n\t\treturn this.active$.getValue();\r\n\t}\r\n\r\n\tstatic navmapGet$() {\r\n\t\treturn HttpService.get$('/api/navmap').pipe(\r\n\t\t\tmap(data => {\r\n\t\t\t\tdata.navmaps.map(navmap => mapNavmap(navmap));\r\n\t\t\t\treturn data.navmaps;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic navmapCreate$(navmap) {\r\n\t\treturn HttpService.post$('/api/navmap', navmap).pipe(\r\n\t\t\tmap(navmap => mapNavmap(navmap)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic navmapUpdate$(navmap) {\r\n\t\treturn HttpService.put$(`/api/navmap/${navmap.id}`, navmap).pipe(\r\n\t\t\tmap(x => mapNavmap(x)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic navmapDelete$(navmap) {\r\n\t\treturn HttpService.delete$(`/api/navmap/${navmap.id}`);\r\n\t}\r\n\r\n\tstatic itemCreate$(navmap, item) {\r\n\t\treturn HttpService.post$(`/api/navmap/${navmap.id}/item`, item).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic itemUpdate$(navmap, item) {\r\n\t\titem = mapViewItem(item); // !!! ??\r\n\t\treturn HttpService.put$(`/api/navmap/${navmap.id}/item/${item.id}`, item.payload).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic itemDelete$(navmap, item) {\r\n\t\treturn HttpService.delete$(`/api/navmap/${navmap.id}/item/${item.id}`);\r\n\t}\r\n}\r\n","function push_(event) {\r\n\tconst dataLayer = window.dataLayer || [];\r\n\tdataLayer.push(event);\r\n\tconsole.log('GtmService.dataLayer', event);\r\n}\r\n\r\nexport default class GtmService {\r\n\r\n\tstatic push(event) {\r\n\t\treturn push_(event);\r\n\t}\r\n\r\n}\r\n","import { Subject } from 'rxjs';\r\n\r\nexport const ToastType = {\r\n\tInfo: 'info',\r\n\tAlert: 'alert',\r\n\tDialog: 'dialog',\r\n};\r\n\r\nexport const ToastPosition = {\r\n\tCentered: 'centered',\r\n\tTopLeft: 'top-left',\r\n\tTop: 'top',\r\n\tTopRight: 'top-right',\r\n\tRight: 'right',\r\n\tBottomRight: 'bottom-right',\r\n\tBottom: 'bottom',\r\n\tBottomLeft: 'bottom-left',\r\n\tLeft: 'left',\r\n};\r\n\r\nexport class ToastEvent {\r\n\tconstructor(toast) {\r\n\t\tthis.toast = toast;\r\n\t}\r\n}\r\n\r\nexport class ToastResolveEvent extends ToastEvent { }\r\nexport class ToastRejectEvent extends ToastEvent { }\r\n\r\nexport default class ToastService {\r\n\tstatic open$(toast) {\r\n\t\ttoast.id = new Date().getTime();\r\n\t\ttoast.type = toast.type || ToastType.Info;\r\n\t\ttoast.position = toast.position || ToastPosition.Centered;\r\n\t\tswitch (toast.type) {\r\n\t\t\tcase ToastType.Alert:\r\n\t\t\t\ttoast.acceptMessage = toast.acceptMessage || 'Ok';\r\n\t\t\t\tbreak;\r\n\t\t\tcase ToastType.Dialog:\r\n\t\t\t\ttoast.acceptMessage = toast.acceptMessage || 'Accept';\r\n\t\t\t\ttoast.rejectMessage = toast.rejectMessage || 'Reject';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.toast$.next(toast);\r\n\t\tif (toast.type === ToastType.Info) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.resolve(toast);\r\n\t\t\t}, toast.duration || 4000);\r\n\t\t}\r\n\t\treturn this.events$;\r\n\t\t/*\r\n\t\treturn of(toast).pipe(\r\n\t\t\ttap(toast => this.toast$.next(toast)),\r\n\t\t\tswitchMap(toast => this.events$),\r\n\t\t);\r\n\t\t*/\r\n\t}\r\n\r\n\tstatic resolve(toast) {\r\n\t\tthis.toast$.next(null);\r\n\t\tthis.events$.next(new ToastResolveEvent(toast));\r\n\t}\r\n\r\n\tstatic reject(toast) {\r\n\t\tthis.toast$.next(null);\r\n\t\tthis.events$.next(new ToastRejectEvent(toast));\r\n\t}\r\n}\r\n\r\nToastService.toast$ = new Subject();\r\nToastService.events$ = new Subject();\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ModalService } from './modal.service';\r\n\r\nexport default class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tget busy() {\r\n\t\treturn this.busy_;\r\n\t}\r\n\r\n\tset busy(busy) {\r\n\t\t// console.log('ModalOutletComponent set busy', busy, this);\r\n\t\tif (this.busy_ !== busy) {\r\n\t\t\tthis.busy_ = busy;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.busy_ = false;\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(modal => this.modal = modal);\r\n\t\tModalService.busy$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(busy => this.busy = busy);\r\n\t}\r\n\r\n\treject(event) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal, busy: busy }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"reject($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t\t<!-- spinner -->\r\n\t\t<div class=\"spinner spinner--contrasted\" *if=\"busy\"></div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport { RoutePipe } from '../router/route.pipe';\r\nimport { RouterService } from '../router/router.service';\r\n\r\nexport default class TryInARModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance, node } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = this.data = parentInstance.modal.data;\r\n\t\t\t// console.log('data', data);\r\n\t\t\tif (data && data.ar) {\r\n\t\t\t\tconst url = TryInARModalComponent.getUrl(data);\r\n\t\t\t\tconst qrcode = new QRious({\r\n\t\t\t\t\telement: node.querySelector('.qrcode'),\r\n\t\t\t\t\tvalue: url,\r\n\t\t\t\t\tsize: 256,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\tstatic getUrl(data) {\r\n\t\tconst path = RouterService.buildUrl(RoutePipe.transform(':lang.tryInAr'), { viewId: data.id });\r\n\t\tconst url = window.location.origin + path;\r\n\t\tconsole.log('TryInARModalComponent.getUrl', url);\r\n\t\treturn url;\r\n\t}\r\n\r\n\tstatic openInAR(data) {\r\n\t\tconst url = this.getUrl(data);\r\n\t\twindow.open(url, '_blank');\r\n\t}\r\n\r\n}\r\n\r\nTryInARModalComponent.meta = {\r\n\tselector: '[try-in-ar-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'bhere_ar' | label\"></div>\r\n\t\t\t\t<div class=\"picture\">\r\n\t\t\t\t\t<canvas class=\"qrcode\"></canvas>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onClose()\">\r\n\t\t\t\t\t\t<span [innerHTML]=\"'close' | label\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nTryInARModalComponent.chunk = () => /* html */'<div class=\"try-in-ar-modal\" try-in-ar-modal></div>';\r\n\r\n","import { environment } from '../environment';\r\n\r\nexport const EXT_IMAGE = [\r\n\t'jpeg', 'jpg', 'png', 'hdr',\r\n];\r\nexport const EXT_VIDEO = [\r\n\t'mp4', 'webm',\r\n];\r\nexport const EXT_MODEL = [\r\n\t'fbx', 'gltf', 'glb', 'usdz',\r\n];\r\n\r\nexport const AssetType = {\r\n\tImage: { id: 1, name: 'image' }, // jpg, png, ...\r\n\tVideo: { id: 2, name: 'video' }, // mp4, webm, ...\r\n\tModel: { id: 3, name: 'model' }, // fbx, gltf, glb, usdz ...\r\n\tPublisherStream: { id: 4, name: 'publisher-stream', file: 'publisherStream' }, // valore fisso di file a ‘publisherStream’ e folder string.empty\r\n\tAttendeeStream: { id: 5, name: 'next-attendee-stream', file: 'nextAttendeeStream' }, // valore fisso di file a ‘nextAttendeeStream’ e folder string.empty\r\n\tPublisherScreen: { id: 6, name: 'publisher-screen', file: 'publisherScreen' }, // valore fisso di file a ‘publisherScreen’ e folder string.empty\r\n\tAttendeeScreen: { id: 7, name: 'attendee-screen', file: 'attendeeScreen' }, // valore fisso di file a ‘attendeeScreen’ e folder string.empty\r\n\tSmartDeviceStream: { id: 8, name: 'smart-device-stream', file: 'smartDeviceStream' }, // valore fisso di file a smartDeviceStream e folder string.empty\r\n};\r\n\r\nexport const AssetGroupType = {\r\n\tImageOrVideo: { id: 1, name: 'Image or Video', ids: [1, 2] },\r\n\t// Model: { id: 2, name: 'Model 3D', ids: [3] },\r\n\tPublisher: { id: 3, name: 'Publisher', ids: [4] },\r\n\tAttendee: { id: 4, name: 'Attendee', ids: [5] },\r\n\t// PublisherScreen: { id: 5, name: 'PublisherScreen', ids: [6] },\r\n\t// AttendeeScreen: { id: 6, name: 'AttendeeScreen', ids: [7] },\r\n};\r\n\r\nexport function AssetGroupTypeInit() {\r\n\t// console.log('environment.flags.editorAssetScreen', environment.flags.editorAssetScreen, environment);\r\n\tif (environment.flags.editorAssetScreen) {\r\n\t\tAssetGroupType.PublisherScreen = { id: 5, name: 'PublisherScreen', ids: [6] };\r\n\t\tAssetGroupType.AttendeeScreen = { id: 6, name: 'AttendeeScreen', ids: [7] };\r\n\t}\r\n\tAssetGroupType.SmartDevice = { id: 7, name: 'Smart Device', ids: [8] };\r\n}\r\n\r\nexport const STREAM_TYPES = [\r\n\tAssetType.PublisherStream.name,\r\n\tAssetType.AttendeeStream.name,\r\n\tAssetType.PublisherScreen.name,\r\n\tAssetType.AttendeeScreen.name,\r\n\tAssetType.SmartDeviceStream.name,\r\n];\r\n\r\nexport function assetIsStream(asset) {\r\n\t// console.log('assetIsStream', asset.type.name, STREAM_TYPES);\r\n\treturn asset && STREAM_TYPES.indexOf(asset.type.name) !== -1;\r\n}\r\n\r\nexport function assetTypeById(id) {\r\n\tconst type = Object.keys(AssetType).reduce((p, key) => {\r\n\t\tconst type = AssetType[key];\r\n\t\treturn type.id === id ? type : p;\r\n\t}, null);\r\n\treturn type;\r\n\t// return Object.keys(AssetType).map(x => AssetType[x]).find(x => x.id === id);\r\n}\r\n\r\nexport function assetGroupTypeById(id) {\r\n\tconst type = Object.keys(AssetGroupType).reduce((p, key) => {\r\n\t\tconst type = AssetGroupType[key];\r\n\t\treturn type.id === id ? type : p;\r\n\t}, null);\r\n\treturn type;\r\n\t// return Object.keys(AssetGroupType).map(x => AssetGroupType[x]).find(x => x.id === id);\r\n}\r\n\r\nexport function assetGroupTypeFromItem(item) {\r\n\tlet key;\r\n\tif (item && item.asset) {\r\n\t\tkey = Object.keys(AssetGroupType).find(key => {\r\n\t\t\t// console.log(key, AssetGroupType[key].ids, item.asset.type.id);\r\n\t\t\treturn AssetGroupType[key].ids.indexOf(item.asset.type.id) !== -1;\r\n\t\t});\r\n\t}\r\n\treturn AssetGroupType[key || 'ImageOrVideo'];\r\n}\r\n\r\nexport function assetPayloadFromGroupTypeId(groupTypeId) {\r\n\tconst groupType = assetGroupTypeById(groupTypeId);\r\n\tconst type = assetTypeById(groupType.ids[0]);\r\n\tconst file = type.file;\r\n\tconst asset = {\r\n\t\ttype: type,\r\n\t\tfolder: '',\r\n\t\tfile: file,\r\n\t};\r\n\t// console.log('assetPayloadFromGroupTypeId', asset);\r\n\treturn new Asset(asset);\r\n}\r\n\r\nexport function assetTypeFromPath(path) {\r\n\tconst extension = path.split('.').pop().toLowerCase();\r\n\tif (EXT_IMAGE.indexOf(extension) !== -1) {\r\n\t\treturn AssetType.Image;\r\n\t} else if (EXT_VIDEO.indexOf(extension) !== -1) {\r\n\t\treturn AssetType.Video;\r\n\t} else if (EXT_MODEL.indexOf(extension) !== -1) {\r\n\t\treturn AssetType.Model;\r\n\t}\r\n}\r\n\r\nexport function isAssetType(path, type) {\r\n\tconst assetType = assetTypeFromPath(path);\r\n\treturn assetType === type;\r\n}\r\n\r\nexport class Asset {\r\n\r\n\tstatic allowedProps = ['id', 'type', 'folder', 'file', 'linkedPlayId', 'chromaKeyColor', 'autoplay', 'loop'];\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n\r\n\tget payload() {\r\n\t\tconst payload = {};\r\n\t\tObject.keys(this).forEach(key => {\r\n\t\t\tif (Asset.allowedProps.indexOf(key) !== -1) {\r\n\t\t\t\tpayload[key] = this[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn payload;\r\n\t}\r\n\r\n\tstatic fromUrl(url) {\r\n\t\tconst segments = url.split('/');\r\n\t\tconst file = segments.pop();\r\n\t\tconst folder = segments.join('/') + '/';\r\n\t\tconst type = assetTypeFromPath(file);\r\n\t\treturn new Asset({\r\n\t\t\ttype: type,\r\n\t\t\tfolder: folder,\r\n\t\t\tfile: file,\r\n\t\t});\r\n\t}\r\n\r\n\tstatic get defaultMediaAsset() {\r\n\t\tconst asset = {\r\n\t\t\tid: -1,\r\n\t\t\ttype: { id: AssetType.Image, name: 'image' },\r\n\t\t\tfolder: '/textures/grid/',\r\n\t\t\tfile: 'grid.jpg',\r\n\t\t};\r\n\t\treturn asset;\r\n\t}\r\n}\r\n\r\nexport function mapAsset(asset) {\r\n\tswitch (asset.type.name) {\r\n\t\tdefault:\r\n\t\t\tasset = new Asset(asset);\r\n\t}\r\n\treturn asset;\r\n}\r\n","import { BehaviorSubject, combineLatest, of } from 'rxjs';\r\nimport { distinctUntilChanged, map, shareReplay, tap } from 'rxjs/operators';\r\nimport { AssetType } from '../asset/asset';\r\nimport { environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { LanguageService } from '../language/language.service';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport StateService from '../state/state.service';\r\nimport { ViewItemType, ViewType, mapView } from '../view/view';\r\n\r\nexport const DEFAULT_WAITING_ROOM = {\r\n\tid: 'waiting-room',\r\n\ttype: { id: 1, name: 'waiting-room' },\r\n\tname: 'Waiting Room',\r\n\tlikes: 0,\r\n\tliked: false,\r\n\tasset: {\r\n\t\ttype: { id: 1, name: 'image' },\r\n\t\tfolder: '/textures/waiting-room/',\r\n\t\tfile: 'waiting-room.jpg',\r\n\t},\r\n\titems: [],\r\n\torientation: {\r\n\t\tlatitude: 0,\r\n\t\tlongitude: 0,\r\n\t},\r\n};\r\nexport class ViewService {\r\n\r\n\tstatic get dataViews() {\r\n\t\treturn this.data ? this.data.views : [];\r\n\t}\r\n\r\n\tstatic get validViews() {\r\n\t\treturn this.data ? this.data.views.filter(x => x.type.name !== ViewType.WaitingRoom.name) : [];\r\n\t}\r\n\r\n\tstatic get pathViews() {\r\n\t\tconst views = this.validViews;\r\n\t\treturn views.filter(x => x.path);\r\n\t}\r\n\r\n\tstatic get validPathViews() {\r\n\t\tconst views = this.editor ? this.data.views : this.validViews;\r\n\t\treturn views.filter(x => x.path);\r\n\t}\r\n\r\n\t// action: { viewId:number, keepOrientation:boolean, useLastOrientation:boolean };\r\n\tstatic action$_ = new BehaviorSubject(null);\r\n\tstatic set action(action) {\r\n\t\tthis.action$_.next(action);\r\n\t}\r\n\tstatic get action() {\r\n\t\treturn this.action$_.getValue();\r\n\t}\r\n\r\n\t// static viewId$_ = new BehaviorSubject(null);\r\n\tstatic set viewId(viewId) {\r\n\t\tthis.action$_.next({ viewId, keepOrientation: false, useLastOrientation: false });\r\n\t}\r\n\tstatic get viewId() {\r\n\t\tconst action = this.action$_.getValue();\r\n\t\treturn action ? action.viewId : null;\r\n\t}\r\n\r\n\tstatic getDataView(viewId) {\r\n\t\tconst views = this.dataViews;\r\n\t\treturn views.find(x => x.id === viewId) || null;\r\n\t}\r\n\r\n\tstatic get currentView() {\r\n\t\tconst viewId = this.viewId;\r\n\t\tif (viewId !== null) {\r\n\t\t\treturn this.getDataView(viewId);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstatic getValidPathId(viewId) {\r\n\t\tif (!viewId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst views = this.validPathViews;\r\n\t\tif (views.find(x => x.id === viewId) == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn viewId;\r\n\t}\r\n\r\n\tstatic getFirstPathId() {\r\n\t\tconst views = (this.editor && this.path.id === null) ? this.dataViews : this.pathViews;\r\n\t\t// console.log('ViewService.getFirstPathId', this.editor, this.path, views);\r\n\t\treturn views.length ? views[0].id : null;\r\n\t}\r\n\r\n\tstatic data$() {\r\n\t\tif (!this.data$_) {\r\n\t\t\tconst dataUrl = (environment.flags.production ? '/api/view' : `${environment.assets}api/data.json`) + '?lang=' + LanguageService.lang;\r\n\t\t\tthis.data$_ = HttpService.get$(dataUrl).pipe(\r\n\t\t\t\tmap(data => {\r\n\t\t\t\t\tdata.views = data.views.map(view => mapView(view));\r\n\t\t\t\t\tthis.data = data;\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.data$_;\r\n\t}\r\n\r\n\tstatic view$() {\r\n\t\t// const editor = this.editor;\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\t// const pathId = meetingUrl.pathId;\r\n\t\tconst viewId = this.getValidPathId(meetingUrl.viewId);\r\n\t\tconst embedViewId = this.getValidPathId(meetingUrl.embedViewId);\r\n\t\tconst initialViewId = embedViewId || viewId || this.getFirstPathId();\r\n\t\t// console.log('ViewService.view$', viewId, embedViewId, initialViewId);\r\n\t\tthis.action$_.next({ viewId: initialViewId });\r\n\t\treturn this.action$_.pipe(\r\n\t\t\tdistinctUntilChanged((a, b) => a.viewId === b.viewId),\r\n\t\t\tmap(action => {\r\n\t\t\t\t// const view = data.views.find(view => view.id === action.viewId);\r\n\t\t\t\t// console.log('ViewService.view$', 'path', path);\r\n\t\t\t\t// filter path\r\n\t\t\t\tlet view = this.dataViews.find(view => view.id === action.viewId);\r\n\t\t\t\t/*\r\n\t\t\t\tif (path && !editor) {\r\n\t\t\t\t\tif (path.items.indexOf(view.id) === -1) {\r\n\t\t\t\t\t\tconst newView = Object.assign({}, view);\r\n\t\t\t\t\t\tnewView.items = view.items.filter(x => {\r\n\t\t\t\t\t\t\tif (x.type.name === ViewItemType.Nav.name) {\r\n\t\t\t\t\t\t\t\treturn path.items.indexOf(x.viewId) === -1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tview = mapView(newView);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tview = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('ViewService.view$', view, path);\r\n\t\t\t\t*/\r\n\t\t\t\tif (view) {\r\n\t\t\t\t\tview.keepOrientation = action.keepOrientation || false;\r\n\t\t\t\t\tview.useLastOrientation = action.useLastOrientation || false;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('ViewService.view$', action.viewId, action.keepOrientation, action.useLastOrientation);\r\n\t\t\t\treturn view || this.getWaitingRoom();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic setDataAndPath(data, path) {\r\n\t\tthis.data = data;\r\n\t\tdata.views.forEach(view => {\r\n\t\t\tview.path = !path || path.items.indexOf(view.id) === -1;\r\n\t\t\tview.items.forEach(item => {\r\n\t\t\t\tlet valid = true;\r\n\t\t\t\tif (path) {\r\n\t\t\t\t\tif (item.type.name === ViewItemType.Nav.name) {\r\n\t\t\t\t\t\tvalid = path.items.indexOf(item.viewId) === -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.path = valid;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\tstatic hostedView$(data, path) {\r\n\t\tthis.setDataAndPath(data, path);\r\n\t\tthis.editor = false;\r\n\t\tconst waitingRoom = this.getWaitingRoom();\r\n\t\treturn combineLatest([this.view$(), this.hosted$()]).pipe(\r\n\t\t\tmap(datas => {\r\n\t\t\t\tconst view = datas[0];\r\n\t\t\t\tconst hosted = datas[1];\r\n\t\t\t\treturn hosted ? view : waitingRoom;\r\n\t\t\t}),\r\n\t\t\tdistinctUntilChanged((a, b) => {\r\n\t\t\t\treturn a.id === b.id;\r\n\t\t\t}),\r\n\t\t\ttap(view => {\r\n\t\t\t\tif (view.id !== waitingRoom.id) {\r\n\t\t\t\t\tMeetingUrl.replaceWithOptions({ viewId: view.id });\r\n\t\t\t\t\tconst prefetchAssets = ViewService.getPrefetchAssets(view);\r\n\t\t\t\t\tview.prefetchAssets = prefetchAssets;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic editorView$(data, path) {\r\n\t\tthis.setDataAndPath(data, path);\r\n\t\tthis.editor = true;\r\n\t\tconst waitingRoom = this.getWaitingRoom();\r\n\t\treturn this.view$().pipe(\r\n\t\t\tmap(view => {\r\n\t\t\t\t// console.log('ViewService.editorView$.view', view.updateIndices);\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tpathId: null,\r\n\t\t\t\t};\r\n\t\t\t\tif (view.id !== waitingRoom.id) {\r\n\t\t\t\t\toptions.viewId = view.id;\r\n\t\t\t\t}\r\n\t\t\t\tif (path && path.id !== null) {\r\n\t\t\t\t\toptions.pathId = path.id;\r\n\t\t\t\t}\r\n\t\t\t\tMeetingUrl.replaceWithOptions(options);\r\n\t\t\t\treturn view;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic hosted$() {\r\n\t\treturn StateService.state$.pipe(\r\n\t\t\tmap(state => state.hosted),\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic viewById$(viewId) {\r\n\t\treturn this.data$().pipe(\r\n\t\t\tmap(data => this.dataViews.find(x => x.id === viewId)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic viewLike$(view) {\r\n\t\tif (!view.liked) {\r\n\t\t\tview.liked = true;\r\n\t\t\tif (environment.flags.production) {\r\n\t\t\t\treturn HttpService.get$(`/api/view/${view.id}/like`);\r\n\t\t\t} else {\r\n\t\t\t\tview.likes = view.likes || 0;\r\n\t\t\t\tview.likes++;\r\n\t\t\t\treturn of(view);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic setViewLike$(message) {\r\n\t\treturn this.viewById$(message.viewId).pipe(\r\n\t\t\ttap(view => {\r\n\t\t\t\tif (view) {\r\n\t\t\t\t\tview.likes = message.likes;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic getWaitingRoom() {\r\n\t\treturn this.dataViews.find(x => x.type.name === ViewType.WaitingRoom.name) || DEFAULT_WAITING_ROOM;\r\n\t}\r\n\r\n\tstatic getPrefetchAssets(view) {\r\n\t\tconst views = this.validPathViews;\r\n\t\tconst assets = view.items\r\n\t\t\t// filter nav items\r\n\t\t\t.filter(x => x.type.name === ViewItemType.Nav.name && x.viewId != null)\r\n\t\t\t// map to view\r\n\t\t\t.map(x => views.find(v => v.id === x.viewId))\r\n\t\t\t// filter view with image\r\n\t\t\t.filter(v => v && v.asset && v.asset.type.name === AssetType.Image.name)\r\n\t\t\t// map to asset\r\n\t\t\t.map(v => environment.getPath(v.asset.folder + v.asset.file));\r\n\t\t// console.log('ViewService.getPrefetchAssets', assets);\r\n\t\treturn assets;\r\n\t}\r\n\r\n\tstatic addView(view) {\r\n\t\tconst data = this.data;\r\n\t\tconst views = data.views.slice();\r\n\t\tviews.push(view);\r\n\t\tdata.views = views;\r\n\t\tthis.viewId = view.id;\r\n\t}\r\n\r\n\tstatic deleteView(view) {\r\n\t\tconst data = this.data;\r\n\t\tconst views = data.views.slice();\r\n\t\tconst index = views.reduce((p, c, i) => {\r\n\t\t\treturn c.id === view.id ? i : p;\r\n\t\t}, -1);\r\n\t\tif (index > 0) {\r\n\t\t\tviews.splice(index, 1);\r\n\t\t\tdata.views = views;\r\n\t\t\tconst dataViews = this.dataViews;\r\n\t\t\tif (dataViews.length > 0) {\r\n\t\t\t\tthis.viewId = dataViews[0].id;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { LocalStorageService } from '../storage/local-storage.service';\r\n\r\nlet items$_ = null;\r\n\r\nexport class WishlistService {\r\n\r\n\tstatic get items$() {\r\n\t\tif (!items$_) {\r\n\t\t\tconst items = LocalStorageService.get('wishlist') || [];\r\n\t\t\titems$_ = new BehaviorSubject(items);\r\n\t\t}\r\n\t\treturn items$_;\r\n\t}\r\n\r\n\tstatic getItems() {\r\n\t\treturn this.items$.getValue();\r\n\t}\r\n\r\n\tstatic indexOf(item) {\r\n\t\tconst items = this.getItems();\r\n\t\treturn items.reduce((p, c, i) => {\r\n\t\t\treturn (p === -1 && c.viewId === item.viewId && c.itemId === item.itemId) ? i : p;\r\n\t\t}, -1);\r\n\t}\r\n\r\n\tstatic has(item) {\r\n\t\treturn this.indexOf(item) !== -1;\r\n\t}\r\n\r\n\tstatic add$(item) {\r\n\t\tconst items = this.getItems();\r\n\t\tif (!this.has(item)) {\r\n\t\t\titems.push(item);\r\n\t\t\tLocalStorageService.set('wishlist', items);\r\n\t\t\tthis.items$.next(items);\r\n\t\t}\r\n\t\treturn this.items$;\r\n\t}\r\n\r\n\tstatic remove$(item) {\r\n\t\tconst items = this.getItems();\r\n\t\tconst index = this.indexOf(item);\r\n\t\tif (index !== -1) {\r\n\t\t\titems.splice(index, 1);\r\n\t\t\tLocalStorageService.set('wishlist', items);\r\n\t\t\tthis.items$.next(items);\r\n\t\t}\r\n\t\treturn this.items$;\r\n\t}\r\n\r\n\tstatic toggle$(item) {\r\n\t\tconst items = this.getItems();\r\n\t\tconst index = this.indexOf(item);\r\n\t\tif (index !== -1) {\r\n\t\t\titems.splice(index, 1);\r\n\t\t\tLocalStorageService.set('wishlist', items);\r\n\t\t\tthis.items$.next(items);\r\n\t\t} else {\r\n\t\t\titems.push(item);\r\n\t\t\tLocalStorageService.set('wishlist', items);\r\n\t\t\tthis.items$.next(items);\r\n\t\t}\r\n\t\treturn this.items$;\r\n\t}\r\n\r\n}\r\n","import { ReplaySubject } from 'rxjs';\r\nimport { assetIsStream, AssetType } from '../../asset/asset';\r\nimport { environment } from '../../environment';\r\nimport StateService from '../../state/state.service';\r\nimport { RoleType } from '../../user/user';\r\n\r\nexport class MediaLoaderEvent {\r\n\tconstructor(loader) {\r\n\t\tthis.loader = loader;\r\n\t}\r\n}\r\n\r\nexport class MediaLoaderPlayEvent extends MediaLoaderEvent { }\r\n\r\nexport class MediaLoaderPauseEvent extends MediaLoaderEvent { }\r\n\r\nexport class MediaLoaderDisposeEvent extends MediaLoaderEvent { }\r\n\r\nexport class MediaLoaderTimeUpdateEvent extends MediaLoaderEvent { }\r\n\r\nexport class MediaLoaderTimeSetEvent extends MediaLoaderEvent { }\r\n\r\nexport default class MediaLoader {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn MediaLoader.loader || (MediaLoader.loader = new THREE.TextureLoader());\r\n\t}\r\n\r\n\tstatic getPath(item) {\r\n\t\treturn environment.getPath(item.asset.folder + item.asset.file);\r\n\t}\r\n\r\n\tstatic loadTexture(item, callback) {\r\n\t\tconst path = MediaLoader.getPath(item);\r\n\t\treturn MediaLoader.getLoader().load(path, callback);\r\n\t}\r\n\r\n\tstatic isVideo(item) {\r\n\t\treturn item.asset && item.asset.file && (item.asset.file.indexOf('.mp4') !== -1 || item.asset.file.indexOf('.webm') !== -1);\r\n\t}\r\n\r\n\tstatic isStream(item) {\r\n\t\treturn assetIsStream(item.asset);\r\n\t}\r\n\r\n\tstatic isMutedStream(item) {\r\n\t\tlet isMutedStream = false;\r\n\t\tswitch (item.asset.type.name) {\r\n\t\t\tcase AssetType.PublisherStream.name:\r\n\t\t\t\tisMutedStream = StateService.state.role === RoleType.Publisher;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.AttendeeStream.name:\r\n\t\t\t\tisMutedStream = StateService.state.role === RoleType.Attendee;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.PublisherScreen.name:\r\n\t\t\t\tisMutedStream = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.AttendeeScreen.name:\r\n\t\t\t\tisMutedStream = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.SmartDeviceStream.name:\r\n\t\t\t\tisMutedStream = StateService.state.role === RoleType.SmartDevice;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t}\r\n\t\t// console.log('isMutedStream', isMutedStream, item.asset.type.name, AssetType.PublisherStream.name, StateService.state.role, RoleType.Publisher);\r\n\t\treturn isMutedStream;\r\n\t}\r\n\r\n\tstatic isPublisherStream(item) {\r\n\t\treturn item.asset && item.asset.type.name === AssetType.PublisherStream.name;\r\n\t}\r\n\r\n\tstatic isAttendeeStream(item) {\r\n\t\treturn item.asset && item.asset.type.name === AssetType.AttendeeStream.name;\r\n\t}\r\n\r\n\tstatic isSmartDeviceStream(item) {\r\n\t\treturn item.asset && item.asset.type.name === AssetType.SmartDeviceStream.name;\r\n\t}\r\n\r\n\tstatic isPublisherScreen(item) {\r\n\t\treturn item.asset && item.asset.type.name === AssetType.PublisherScreen.name;\r\n\t}\r\n\r\n\tstatic isAttendeeScreen(item) {\r\n\t\treturn item.asset && item.asset.type.name === AssetType.AttendeeScreen.name;\r\n\t}\r\n\r\n\tget isVideo() {\r\n\t\treturn MediaLoader.isVideo(this.item);\r\n\t}\r\n\r\n\tget isStream() {\r\n\t\treturn MediaLoader.isStream(this.item);\r\n\t}\r\n\r\n\tget isMutedStream() {\r\n\t\treturn MediaLoader.isMutedStream(this.item);\r\n\t}\r\n\r\n\tget isPublisherStream() {\r\n\t\treturn MediaLoader.isPublisherStream(this.item);\r\n\t}\r\n\r\n\tget isAttendeeStream() {\r\n\t\treturn MediaLoader.isAttendeeStream(this.item);\r\n\t}\r\n\r\n\tget isSmartDeviceStream() {\r\n\t\treturn MediaLoader.isSmartDeviceStream(this.item);\r\n\t}\r\n\r\n\tget isPublisherScreen() {\r\n\t\treturn MediaLoader.isPublisherScreen(this.item);\r\n\t}\r\n\r\n\tget isAttendeeScreen() {\r\n\t\treturn MediaLoader.isAttendeeScreen(this.item);\r\n\t}\r\n\r\n\tget isPlayableVideo() {\r\n\t\treturn this.isVideo; // && !this.item.asset.autoplay;\r\n\t}\r\n\r\n\tget isAutoplayVideo() {\r\n\t\treturn this.isStream; // || (this.isVideo && (this.item.asset.autoplay != null));\r\n\t}\r\n\r\n\tget muted() {\r\n\t\treturn this.muted_;\r\n\t}\r\n\r\n\tset muted(muted) {\r\n\t\tthis.muted_ = muted;\r\n\t\t// console.log('MediaLoader.muted', muted, this.video);\r\n\t\tif (this.video && this.isVideo) {\r\n\t\t\tthis.video.muted = muted === true;\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(item) {\r\n\t\tthis.item = item;\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.muted_ = false;\r\n\t\tthis.subscription = StateService.state$.subscribe(state => this.muted = state.volumeMuted);\r\n\t}\r\n\r\n\tload(callback) {\r\n\t\tconst item = this.item;\r\n\t\tlet texture;\r\n\t\t// console.log('MediaLoader.load', item, this.isStream);\r\n\t\tif (this.isStream && item.streamId) {\r\n\t\t\tconst streamId = item.streamId;\r\n\t\t\tconst video = document.querySelector(`#stream-${streamId} video`); // document.querySelector(`#stream-remote-${streamId} video`) || document.querySelector(`#stream-local-${streamId} video`);\r\n\t\t\tif (!video) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst onCanPlay = () => {\r\n\t\t\t\tif (this.disposed) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvideo.removeEventListener('canplay', onCanPlay);\r\n\t\t\t\ttexture = this.texture = new THREE.VideoTexture(video);\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\t// texture.image.width = video.videoWidth;\r\n\t\t\t\t// texture.image.height = video.videoHeight;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture, this);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst isMutedStream = this.isMutedStream;\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\tvideo.volume = isMutedStream ? 0 : 1;\r\n\t\t\tvideo.muted = isMutedStream;\r\n\t\t\tif (video.readyState >= video.HAVE_FUTURE_DATA) {\r\n\t\t\t\tonCanPlay();\r\n\t\t\t} else {\r\n\t\t\t\tvideo.addEventListener('canplay', onCanPlay);\r\n\t\t\t}\r\n\t\t} else if (this.isVideo) {\r\n\t\t\t// create the video element\r\n\t\t\tconst autoplay = (item.asset && item.asset.autoplay) || false;\r\n\t\t\tconst loop = (item.asset && item.asset.loop) || false;\r\n\t\t\tconst video = this.video = document.createElement('video');\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\tvideo.preload = 'metadata';\r\n\t\t\tvideo.volume = 0.8;\r\n\t\t\tvideo.muted = autoplay;\r\n\t\t\tvideo.playsInline = true;\r\n\t\t\tvideo.loop = loop;\r\n\t\t\tconst onCanPlay = () => {\r\n\t\t\t\tif (this.disposed) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('MediaLoader', 'onCanPlay');\r\n\t\t\t\tvideo.oncanplay = null;\r\n\t\t\t\ttexture = new THREE.VideoTexture(video);\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\t// texture.image.width = video.videoWidth;\r\n\t\t\t\t// texture.image.height = video.videoHeight;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture, this);\r\n\t\t\t\t}\r\n\t\t\t\tif (autoplay) {\r\n\t\t\t\t\tthis.play(item.silent);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvideo.pause();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst onTimeUpdate = () => {\r\n\t\t\t\tif (this.disposed) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderTimeUpdateEvent(this));\r\n\t\t\t};\r\n\t\t\tconst onEnded = () => {\r\n\t\t\t\tif (this.disposed) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!loop) {\r\n\t\t\t\t\tMediaLoader.events$.next(new MediaLoaderPauseEvent(this));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvideo.oncanplay = onCanPlay;\r\n\t\t\tvideo.ontimeupdate = onTimeUpdate;\r\n\t\t\tvideo.onended = onEnded;\r\n\t\t\tvideo.src = MediaLoader.getPath(item);\r\n\t\t\tvideo.load(); // must call after setting/changing source\r\n\t\t} else if (item.asset) {\r\n\t\t\tMediaLoader.loadTexture(item, (texture) => {\r\n\t\t\t\tif (this.disposed) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\ttexture.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture, this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tcallback(null, this);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tget progress() {\r\n\t\tif (this.video) {\r\n\t\t\treturn this.video.currentTime / this.video.duration;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\tset progress(progress) {\r\n\t\tif (this.video) {\r\n\t\t\tconst currentTime = this.video.duration * progress;\r\n\t\t\tif (this.video.seekable.length > progress && this.video.currentTime !== currentTime) {\r\n\t\t\t\t// console.log('MediaLoader', 'progress', progress, 'currentTime', currentTime, 'duration', this.video.duration, 'seekable', this.video.seekable);\r\n\t\t\t\tthis.video.currentTime = currentTime;\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderTimeSetEvent(this));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tplay(silent) {\r\n\t\t// console.log('MediaLoader.play');\r\n\t\tif (this.video) {\r\n\t\t\tthis.video.muted = this.muted_;\r\n\t\t\tthis.video.play().then(() => {\r\n\t\t\t\t// console.log('MediaLoader.play.success', this.item.asset.file);\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\tMediaLoader.events$.next(new MediaLoaderPlayEvent(this));\r\n\t\t\t\t}\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('MediaLoader.play.error', this.item.asset.file, error);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpause(silent) {\r\n\t\t// console.log('MediaLoader.pause');\r\n\t\tif (this.video && this.isVideo) {\r\n\t\t\tthis.video.muted = true;\r\n\t\t\tthis.video.pause();\r\n\t\t\tif (!silent) {\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderPauseEvent(this));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\t// console.log('MediaLoader.toggle', this.video);\r\n\t\tif (this.video && this.isVideo) {\r\n\t\t\tif (this.video.paused) {\r\n\t\t\t\tthis.video.muted = this.muted_;\r\n\t\t\t\tthis.play();\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdispose() {\r\n\t\t// console.log('MediaLoader.dispose');\r\n\t\tthis.subscription.unsubscribe();\r\n\t\tthis.pause(true);\r\n\t\tif (this.isVideo && this.video) {\r\n\t\t\tthis.video.ontimeupdate = null;\r\n\t\t\tthis.video.onended = null;\r\n\t\t\tMediaLoader.events$.next(new MediaLoaderDisposeEvent(this));\r\n\t\t}\r\n\t\tthis.disposed = true;\r\n\t\tdelete this.video;\r\n\t}\r\n\r\n}\r\n\r\nMediaLoader.events$ = new ReplaySubject(1);\r\n","export const PANORAMA_RADIUS = 101;\r\n\r\nexport class Geometry {\r\n\r\n\tstatic get defaultGeometry() {\r\n\t\treturn Geometry.defaultGeometry_ || (Geometry.defaultGeometry_ = new THREE.BoxBufferGeometry(1, 1, 1));\r\n\t}\r\n\r\n\tstatic get planeGeometry() {\r\n\t\treturn Geometry.planeGeometry_ || (Geometry.planeGeometry_ = new THREE.PlaneBufferGeometry(1, 1, 2, 2));\r\n\t}\r\n\r\n\tstatic get sphereGeometry() {\r\n\t\treturn Geometry.sphereGeometry_ || (Geometry.sphereGeometry_ = new THREE.SphereBufferGeometry(3, 12, 12));\r\n\t}\r\n\r\n\tstatic get panoramaGeometry() {\r\n\t\treturn Geometry.panoramaGeometry_ || (Geometry.panoramaGeometry_ = new THREE.SphereBufferGeometry(PANORAMA_RADIUS, 36, 36)); // 101, 44, 30\r\n\t\t// return Geometry.panoramaGeometry_ || (Geometry.panoramaGeometry_ = new THREE.IcosahedronBufferGeometry(PANORAMA_RADIUS, 4)); // 101, 44, 30\r\n\t\t// return Geometry.panoramaGeometry_ || (Geometry.panoramaGeometry_ = new THREE.SphereBufferGeometry(PANORAMA_RADIUS, 40, 40)); // 101, 44, 30\r\n\t}\r\n\r\n}\r\n","export const ORIGIN = new THREE.Vector3();\r\n\r\nexport class Host {\r\n\r\n\tstatic origin_ = new THREE.Vector3();\r\n\tstatic get origin() {\r\n\t\tconst host = this.host;\r\n\t\tif (host) {\r\n\t\t\tconst origin = this.origin_;\r\n\t\t\torigin.set(0, 0, 0);\r\n\t\t\tconst camera = host.renderer.xr.isPresenting ? host.renderer.xr.getCamera(host.camera) : host.camera;\r\n\t\t\tcamera.localToWorld(origin);\r\n\t\t\t// return host.cameraGroup.position;\r\n\t\t}\r\n\t\treturn this.origin_;\r\n\t}\r\n\r\n\tstatic getDistanceToCamera(camera, fov, aspect, size, fitOffset = 0.88) {\r\n\t\tconst factor = (2 * Math.atan(Math.PI * fov / 360));\r\n\t\tconst heightDistance = size.y * camera.zoom / factor;\r\n\t\tconst widthDistance = size.x * camera.zoom / factor / aspect;\r\n\t\tconst distance = fitOffset * Math.max(heightDistance, widthDistance);\r\n\t\treturn distance;\r\n\t}\r\n\r\n}\r\n","// import DebugService from '../debug.service';\r\n\r\nconst defaultEvent = {};\r\n\r\nexport default class Interactive { }\r\n\r\nInteractive.items = [];\r\nInteractive.hittest = interactiveHittest.bind(Interactive);\r\nInteractive.dispose = interactiveDispose.bind(Interactive);\r\n\r\nexport function interactiveHittest(raycaster, down = false, event = defaultEvent) {\r\n\t// const debugService = DebugService.getService();\r\n\tlet dirty = false;\r\n\tif (this.down !== down) {\r\n\t\tthis.down = down;\r\n\t\tthis.lock = false;\r\n\t\tdirty = true;\r\n\t}\r\n\tconst items = this.items.filter(x => x.parent && !x.freezed);\r\n\tconst intersections = raycaster.intersectObjects(items);\r\n\tlet key, hit;\r\n\tconst hash = {};\r\n\tintersections.forEach((intersection, i) => {\r\n\t\tconst object = intersection.object;\r\n\t\tkey = object.uuid;\r\n\t\tif (i === 0) {\r\n\t\t\tif (this.lastIntersectedObject !== object || dirty) {\r\n\t\t\t\tthis.lastIntersectedObject = object;\r\n\t\t\t\thit = object;\r\n\t\t\t\t// debugService.setMessage(hit.name || hit.id);\r\n\t\t\t\t// haptic feedback\r\n\t\t\t} else if (\r\n\t\t\t\tobject.intersection && (\r\n\t\t\t\t\tMath.abs(object.intersection.point.x - intersection.point.x) > 0.01 ||\r\n\t\t\t\t\tMath.abs(object.intersection.point.y - intersection.point.y) > 0.01\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tobject.intersection = intersection;\r\n\t\t\t\tobject.emit('move', object);\r\n\t\t\t}\r\n\t\t}\r\n\t\thash[key] = intersection;\r\n\t});\r\n\tif (intersections.length === 0) {\r\n\t\tthis.lastIntersectedObject = null;\r\n\t}\r\n\titems.forEach(x => {\r\n\t\tx.intersection = hash[x.uuid];\r\n\t\tx.over = (x === this.lastIntersectedObject) || (x.intersection && !x.depthTest && (!this.lastIntersectedObject || this.lastIntersectedObject.depthTest));\r\n\t\tx.down = down && x.over && !this.lock;\r\n\t\tif (x.down) {\r\n\t\t\tthis.lock = true;\r\n\t\t}\r\n\t});\r\n\treturn hit;\r\n}\r\n\r\nexport function interactiveDispose(object) {\r\n\tif (object) {\r\n\t\tconst index = this.items.indexOf(object);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.items.splice(index, 1);\r\n\t\t}\r\n\t}\r\n}\r\n","import { Mesh } from 'three';\r\nimport { Geometry } from '../geometry/geometry';\r\n\r\nexport default class FreezableMesh extends Mesh {\r\n\r\n\tget freezed() {\r\n\t\treturn this.freezed_;\r\n\t}\r\n\r\n\tset freezed(freezed) {\r\n\t\t// !!! cycle through freezable and not freezable\r\n\t\tthis.freezed_ = freezed;\r\n\t\tthis.children.filter(x => x.__lookupGetter__('freezed')).forEach(x => x.freezed = freezed);\r\n\t}\r\n\r\n\tconstructor(geometry, material) {\r\n\t\tgeometry = geometry || Geometry.defaultGeometry;\r\n\t\tmaterial = material || new THREE.MeshBasicMaterial({\r\n\t\t\tcolor: 0xff00ff,\r\n\t\t\t// opacity: 1,\r\n\t\t\t// transparent: true,\r\n\t\t});\r\n\t\tsuper(geometry, material);\r\n\t\tthis.freezed = false;\r\n\t}\r\n\r\n\tfreeze() {\r\n\t\tthis.freezed = true;\r\n\t}\r\n\r\n\tunfreeze() {\r\n\t\tthis.freezed = false;\r\n\t}\r\n\r\n}\r\n","import { Geometry } from '../geometry/geometry';\r\nimport FreezableMesh from './freezable.mesh';\r\n\r\nexport default class EmittableMesh extends FreezableMesh {\r\n\r\n\tconstructor(geometry, material) {\r\n\t\tgeometry = geometry || Geometry.defaultGeometry;\r\n\t\tmaterial = material || new THREE.MeshBasicMaterial({\r\n\t\t\tcolor: 0xff00ff,\r\n\t\t\t// opacity: 1,\r\n\t\t\t// transparent: true,\r\n\t\t});\r\n\t\tsuper(geometry, material);\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\ton(type, callback) {\r\n\t\tconst event = this.events[type] = this.events[type] || [];\r\n\t\tevent.push(callback);\r\n\t\treturn () => {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t};\r\n\t}\r\n\r\n\toff(type, callback) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t}\r\n\t}\r\n\r\n\temit(type, data) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tevent.forEach(callback => {\r\n\t\t\t\t// callback.call(this, data);\r\n\t\t\t\tcallback(data);\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst broadcast = this.events.broadcast;\r\n\t\tif (broadcast) {\r\n\t\t\tbroadcast.forEach(callback => {\r\n\t\t\t\tcallback(type, data);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import EmittableMesh from './emittable.mesh';\r\nimport Interactive from './interactive';\r\n\r\nexport default class InteractiveMesh extends EmittableMesh {\r\n\r\n\tconstructor(geometry, material) {\r\n\t\tsuper(geometry, material);\r\n\t\tthis.depthTest = true;\r\n\t\tthis.over_ = false;\r\n\t\tthis.down_ = false;\r\n\t\tInteractive.items.push(this);\r\n\t}\r\n\r\n\tget isInteractiveMesh() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget over() {\r\n\t\treturn this.over_;\r\n\t}\r\n\tset over(over) {\r\n\t\tif (this.over_ != over) {\r\n\t\t\tthis.over_ = over;\r\n\t\t\t/*\r\n\t\t\tif (over) {\r\n\t\t\t\tthis.emit('hit', this);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tif (over) {\r\n\t\t\t\tthis.emit('over', this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.emit('out', this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget down() {\r\n\t\treturn this.down_;\r\n\t}\r\n\tset down(down) {\r\n\t\tdown = down && this.over;\r\n\t\tif (this.down_ != down) {\r\n\t\t\tthis.down_ = down;\r\n\t\t\tif (down) {\r\n\t\t\t\tthis.emit('down', this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.emit('up', this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import {\n\tDataTextureLoader,\n\tDataUtils,\n\tFloatType,\n\tHalfFloatType,\n\tLinearEncoding,\n\tLinearFilter\n} from 'three';\n\n// https://github.com/mrdoob/three.js/issues/5552\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nclass RGBELoader extends DataTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.type = HalfFloatType;\n\n\t}\n\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n\tparse( buffer ) {\n\n\t\tconst\n\t\t\t/* return codes for rgbe routines */\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\n\t\t\tRGBE_RETURN_FAILURE = - 1,\n\n\t\t\t/* default error routine.  change this to change error handling */\n\t\t\trgbe_read_error = 1,\n\t\t\trgbe_write_error = 2,\n\t\t\trgbe_format_error = 3,\n\t\t\trgbe_memory_error = 4,\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\n\n\t\t\t\tswitch ( rgbe_error_code ) {\n\n\t\t\t\t\tcase rgbe_read_error: console.error( 'THREE.RGBELoader Read Error: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgbe_write_error: console.error( 'THREE.RGBELoader Write Error: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgbe_format_error: console.error( 'THREE.RGBELoader Bad File Format: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase rgbe_memory_error: console.error( 'THREE.RGBELoader: Error: ' + ( msg || '' ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn RGBE_RETURN_FAILURE;\n\n\t\t\t},\n\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\n\t\t\t//RGBE_DATA_RED = 0,\n\t\t\t//RGBE_DATA_GREEN = 1,\n\t\t\t//RGBE_DATA_BLUE = 2,\n\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\n\t\t\t//RGBE_DATA_SIZE = 4,\n\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\n\t\t\tRGBE_VALID_FORMAT = 2,\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\n\n\t\t\tNEWLINE = '\\n',\n\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\n\n\t\t\t\tconst chunkSize = 128;\n\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\n\t\t\t\tlet p = buffer.pos,\n\t\t\t\t\ti = - 1, len = 0, s = '',\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\n\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\n\n\t\t\t\t\ts += chunk; len += chunk.length;\n\t\t\t\t\tp += chunkSize;\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( - 1 < i ) {\n\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n\t\t\t\t\t}*/\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\n\t\t\t\t\treturn s + chunk.slice( 0, i );\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\n\n\n\t\t\t\t// regexes to parse header info fields\n\t\t\t\tconst magic_token_re = /^#\\?(\\S+)/,\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n\n\t\t\t\t\t// RGBE format header struct\n\t\t\t\t\theader = {\n\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\n\n\t\t\t\t\t\tstring: '', /* the actual header string */\n\n\t\t\t\t\t\tcomments: '', /* comments found in header */\n\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\n\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\n\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\n\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\n\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\n\n\t\t\t\t\t};\n\n\t\t\t\tlet line, match;\n\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, 'no header found' );\n\n\t\t\t\t}\n\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad initial token' );\n\n\t\t\t\t}\n\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\n\t\t\t\theader.programtype = match[ 1 ];\n\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\twhile ( true ) {\n\n\t\t\t\t\tline = fgets( buffer );\n\t\t\t\t\tif ( false === line ) break;\n\t\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\n\n\t\t\t\t\t\theader.comments += line + '\\n';\n\t\t\t\t\t\tcontinue; // comment line\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\n\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\n\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'missing format specifier' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'missing image size specifier' );\n\n\t\t\t\t}\n\n\t\t\t\treturn header;\n\n\t\t\t},\n\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\n\n\t\t\t\tconst scanline_width = w;\n\n\t\t\t\tif (\n\t\t\t\t\t// run length encoding is not allowed so read flat\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\n\t\t\t\t\t// this file is not run length encoded\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\n\t\t\t\t) {\n\n\t\t\t\t\t// return the flat buffer\n\t\t\t\t\treturn new Uint8Array( buffer );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'wrong scanline width' );\n\n\t\t\t\t}\n\n\t\t\t\tconst data_rgba = new Uint8Array( 4 * w * h );\n\n\t\t\t\tif ( ! data_rgba.length ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, 'unable to allocate buffer space' );\n\n\t\t\t\t}\n\n\t\t\t\tlet offset = 0, pos = 0;\n\n\t\t\t\tconst ptr_end = 4 * scanline_width;\n\t\t\t\tconst rgbeStart = new Uint8Array( 4 );\n\t\t\t\tconst scanline_buffer = new Uint8Array( ptr_end );\n\t\t\t\tlet num_scanlines = h;\n\n\t\t\t\t// read in each successive scanline\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\n\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\n\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\n\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad rgbe scanline format' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\n\t\t\t\t\t// first red, then green, then blue, then exponent\n\t\t\t\t\tlet ptr = 0, count;\n\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\n\t\t\t\t\t\tconst isEncodedRun = count > 128;\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\n\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\n\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad scanline data' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( isEncodedRun ) {\n\n\t\t\t\t\t\t\t// a (encoded) run of the same value\n\t\t\t\t\t\t\tconst byteValue = buffer[ pos ++ ];\n\t\t\t\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//ptr += count;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// a literal-run\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\n\t\t\t\t\t\t\tptr += count; pos += count;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// now convert data from buffer into rgba\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\n\t\t\t\t\tconst l = scanline_width; //scanline_buffer.byteLength;\n\t\t\t\t\tfor ( let i = 0; i < l; i ++ ) {\n\n\t\t\t\t\t\tlet off = 0;\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnum_scanlines --;\n\n\t\t\t\t}\n\n\t\t\t\treturn data_rgba;\n\n\t\t\t};\n\n\t\tconst RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tconst e = sourceArray[ sourceOffset + 3 ];\n\t\t\tconst scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\n\t\t\tdestArray[ destOffset + 3 ] = 1;\n\n\t\t};\n\n\t\tconst RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tconst e = sourceArray[ sourceOffset + 3 ];\n\t\t\tconst scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\t// clamping to 65504, the maximum representable value in float16\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 0 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 1 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( Math.min( sourceArray[ sourceOffset + 2 ] * scale, 65504 ) );\n\t\t\tdestArray[ destOffset + 3 ] = DataUtils.toHalfFloat( 1 );\n\n\t\t};\n\n\t\tconst byteArray = new Uint8Array( buffer );\n\t\tbyteArray.pos = 0;\n\t\tconst rgbe_header_info = RGBE_ReadHeader( byteArray );\n\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\n\n\t\t\tconst w = rgbe_header_info.width,\n\t\t\t\th = rgbe_header_info.height,\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\n\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\n\n\t\t\t\tlet data, format, type;\n\t\t\t\tlet numElements;\n\n\t\t\t\tswitch ( this.type ) {\n\n\t\t\t\t\tcase FloatType:\n\n\t\t\t\t\t\tnumElements = image_rgba_data.length / 4;\n\t\t\t\t\t\tconst floatArray = new Float32Array( numElements * 4 );\n\n\t\t\t\t\t\tfor ( let j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 4 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata = floatArray;\n\t\t\t\t\t\ttype = FloatType;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase HalfFloatType:\n\n\t\t\t\t\t\tnumElements = image_rgba_data.length / 4;\n\t\t\t\t\t\tconst halfArray = new Uint16Array( numElements * 4 );\n\n\t\t\t\t\t\tfor ( let j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 4 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata = halfArray;\n\t\t\t\t\t\ttype = HalfFloatType;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: w, height: h,\n\t\t\t\t\tdata: data,\n\t\t\t\t\theader: rgbe_header_info.string,\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\n\t\t\t\t\texposure: rgbe_header_info.exposure,\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttype: type\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tsetDataType( value ) {\n\n\t\tthis.type = value;\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tfunction onLoadCallback( texture, texData ) {\n\n\t\t\tswitch ( texture.type ) {\n\n\t\t\t\tcase FloatType:\n\n\t\t\t\t\ttexture.encoding = LinearEncoding;\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\ttexture.magFilter = LinearFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase HalfFloatType:\n\n\t\t\t\t\ttexture.encoding = LinearEncoding;\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\ttexture.magFilter = LinearFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}\n\n\t\treturn super.load( url, onLoadCallback, onProgress, onError );\n\n\t}\n\n}\n\nexport { RGBELoader };\n","import { fromEvent, merge } from 'rxjs';\r\nimport { filter, map, shareReplay, startWith } from 'rxjs/operators';\r\n\r\nexport default class KeyboardService {\r\n\r\n\tstatic keys = {};\r\n\r\n\tstatic keydown$() {\r\n\t\tif (!this.keydown$_) {\r\n\t\t\tthis.keydown$_ = fromEvent(window, 'keydown').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keydown$_;\r\n\t}\r\n\r\n\tstatic keyup$() {\r\n\t\tif (!this.keyup$_) {\r\n\t\t\tthis.keyup$_ = fromEvent(window, 'keyup').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keyup$_;\r\n\t}\r\n\r\n\tstatic keys$() {\r\n\t\tif (!this.keys$_) {\r\n\t\t\tthis.keys$_ = merge(this.keydown$(), this.keyup$()).pipe(\r\n\t\t\t\tmap(event => {\r\n\t\t\t\t\tconst keys = this.keys;\r\n\t\t\t\t\tif (event.type === 'keydown') {\r\n\t\t\t\t\t\tkeys[event.key] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdelete keys[event.key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.keys;\r\n\t\t\t\t}),\r\n\t\t\t\tstartWith(this.keys),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keys$_;\r\n\t}\r\n\r\n\tstatic key$() {\r\n\t\tif (!this.key$_) {\r\n\t\t\tconst regexp = /\\w/;\r\n\t\t\tthis.key$_ = this.keydown$().pipe(\r\n\t\t\t\tfilter(event => event.key && event.key.match(regexp)),\r\n\t\t\t\tmap(event => event.key),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.key$_;\r\n\t}\r\n\r\n\tstatic typing$() {\r\n\t\tif (!this.typing$_) {\r\n\t\t\tlet typing = '',\r\n\t\t\t\tto;\r\n\t\t\tthis.typing$_ = this.key$().pipe(\r\n\t\t\t\tmap(key => {\r\n\t\t\t\t\tif (to) {\r\n\t\t\t\t\t\tclearTimeout(to);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttyping += key;\r\n\t\t\t\t\tto = setTimeout(() => {\r\n\t\t\t\t\t\ttyping = '';\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t\treturn typing;\r\n\t\t\t\t}),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.typing$_;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, combineLatest, of, ReplaySubject } from 'rxjs';\r\nimport { map, switchAll } from 'rxjs/operators';\r\n\r\nlet LOADER_UID = 0;\r\n\r\nexport default class LoaderService {\r\n\r\n\tstatic progress = { value: 0, loaded: 0, total: 0, count: 0, title: '' };\r\n\r\n\tstatic items = {};\r\n\r\n\t// merge(this.statusSubject, this.validatorsSubject)\r\n\tstatic progress$ = new ReplaySubject(1).pipe(\r\n\t\tswitchAll(),\r\n\t\tmap(() => {\r\n\t\t\tconst items = Object.keys(this.items).map(key => this.items[key]);\r\n\t\t\tconst progress = items.reduce((progress, subject, i, items) => {\r\n\t\t\t\tconst item = subject.getValue();\r\n\t\t\t\tconst loaded = item.loaded || 0;\r\n\t\t\t\tconst total = item.total || 1;\r\n\t\t\t\tconst value = loaded / total;\r\n\t\t\t\tprogress.value += value;\r\n\t\t\t\tprogress.loaded += loaded;\r\n\t\t\t\tprogress.total += total;\r\n\t\t\t\treturn progress;\r\n\t\t\t}, { value: 0, loaded: 0, total: 0 });\r\n\t\t\tprogress.count = items.length;\r\n\t\t\tif (items.length) {\r\n\t\t\t\tprogress.value /= progress.count;\r\n\t\t\t}\r\n\t\t\tprogress.title = `${Math.round(progress.value * 100)}%`;\r\n\t\t\tthis.progress = progress;\r\n\t\t\treturn progress;\r\n\t\t}),\r\n\t);\r\n\r\n\tstatic switchLoaders() {\r\n\t\tconst items = Object.keys(this.items).map(key => this.items[key]);\r\n\t\tconst items$ = items.length ? combineLatest(items) : of(items);\r\n\t\tthis.progress$.next(items$);\r\n\t}\r\n\r\n\tstatic getRef() {\r\n\t\tconst ref = ++LOADER_UID;\r\n\t\tthis.items[ref] = new BehaviorSubject({ loaded: 0, total: 1 });\r\n\t\tthis.switchLoaders();\r\n\t\treturn ref;\r\n\t}\r\n\r\n\tstatic setProgress(ref, loaded, total = 1) {\r\n\t\t// console.log('LoaderService.setProgress');\r\n\t\tconst item = this.items[ref];\r\n\t\tif (item) {\r\n\t\t\titem.next({ loaded, total });\r\n\t\t}\r\n\t\tif (loaded >= total) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdelete this.items[ref];\r\n\t\t\t\tthis.switchLoaders();\r\n\t\t\t}, 300);\r\n\t\t}\r\n\t\tthis.switchLoaders();\r\n\t}\r\n\r\n}\r\n","import { fromEvent, of } from 'rxjs';\r\nimport { filter, finalize, first, map, takeWhile, tap } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\n\r\nlet UID = 0;\r\n\r\nexport const PrefetchServiceEvent = {\r\n\tProgress: 'progress',\r\n\tComplete: 'complete',\r\n};\r\nexport default class PrefetchService {\r\n\r\n\tstatic worker() {\r\n\t\tif (!this.worker_) {\r\n\t\t\tthis.worker_ = new Worker(environment.workers.prefetch);\r\n\t\t}\r\n\t\treturn this.worker_;\r\n\t}\r\n\r\n\tstatic events$(assets) {\r\n\t\tif (!('Worker' in window)) {\r\n\t\t\treturn of({ type: PrefetchServiceEvent.Complete, data: assets });\r\n\t\t}\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ id: UID });\r\n\t\tconst id = ++UID;\r\n\t\tworker.postMessage({ id, assets });\r\n\t\tlet lastEvent;\r\n\t\treturn fromEvent(worker, 'message').pipe(\r\n\t\t\tmap(event => event.data),\r\n\t\t\tfilter(event => event.assets === assets),\r\n\t\t\ttap(event => {\r\n\t\t\t\t// console.log('PrefetchService', event);\r\n\t\t\t\t/*\r\n\t\t\t\tif (event.type === PrefetchServiceEvent.Complete) {\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tlastEvent = event;\r\n\t\t\t}),\r\n\t\t\ttakeWhile(event => event.type !== PrefetchServiceEvent.Complete, true),\r\n\t\t\tfinalize(() => {\r\n\t\t\t\t// console.log('PrefetchService.finalize', lastEvent);\r\n\t\t\t\tworker.postMessage({ id });\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic load$(assets) {\r\n\t\treturn this.events$(assets).pipe(\r\n\t\t\tfilter(event => event.type === PrefetchServiceEvent.Complete),\r\n\t\t\tmap(event => event.data),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic prefetch(assets) {\r\n\t\tif (environment.flags.usePrefetch) {\r\n\t\t\tthis.load$(assets).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\t// console.log('PrefetchService.prefetch', event);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tstatic cancel() {\r\n\t\tif (!('Worker' in window)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ id: UID });\r\n\t\treturn worker;\r\n\t}\r\n}\r\n","export class Rect {\r\n\r\n\tconstructor(rect) {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t\tthis.top = 0;\r\n\t\tthis.right = 0;\r\n\t\tthis.bottom = 0;\r\n\t\tthis.left = 0;\r\n\t\tthis.width = 0;\r\n\t\tthis.height = 0;\r\n\t\tthis.set(rect);\r\n\t}\r\n\r\n\tstatic contains(rect, left, top) {\r\n\t\treturn rect.top <= top && top <= rect.bottom && rect.left <= left && left <= rect.right;\r\n\t}\r\n\r\n\tstatic intersectRect(r1, r2) {\r\n\t\treturn !(r2.left > r1.right ||\r\n\t\t\tr2.right < r1.left ||\r\n\t\t\tr2.top > r1.bottom ||\r\n\t\t\tr2.bottom < r1.top);\r\n\t}\r\n\r\n\tstatic fromNode(node) {\r\n\t\tif (!node) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst rect = node.rect_ || (node.rect_ = new Rect());\r\n\t\tconst rects = node.getClientRects();\r\n\t\tif (!rects.length) {\r\n\t\t\t// console.log(rects, node);\r\n\t\t\treturn rect;\r\n\t\t}\r\n\t\tconst boundingRect = node.getBoundingClientRect();\r\n\t\t// rect.top: boundingRect.top + defaultView.pageYOffset,\r\n\t\t// rect.left: boundingRect.left + defaultView.pageXOffset,\r\n\t\trect.x = boundingRect.left;\r\n\t\trect.y = boundingRect.top;\r\n\t\trect.top = boundingRect.top;\r\n\t\trect.left = boundingRect.left;\r\n\t\trect.width = boundingRect.width;\r\n\t\trect.height = boundingRect.height;\r\n\t\trect.right = rect.left + rect.width;\r\n\t\trect.bottom = rect.top + rect.height;\r\n\t\trect.setCenter();\r\n\t\treturn rect;\r\n\t}\r\n\r\n\tset(rect) {\r\n\t\tif (rect) {\r\n\t\t\tObject.assign(this, rect);\r\n\t\t\tthis.right = this.left + this.width;\r\n\t\t\tthis.bottom = this.top + this.height;\r\n\t\t}\r\n\t\tthis.setCenter();\r\n\t}\r\n\r\n\tsetSize(w, h) {\r\n\t\tthis.width = w;\r\n\t\tthis.height = h;\r\n\t\tthis.right = this.left + this.width;\r\n\t\tthis.bottom = this.top + this.height;\r\n\t\tthis.setCenter();\r\n\t\t// console.log(w, h);\r\n\t}\r\n\r\n\tsetCenter() {\r\n\t\tconst center = this.center || (this.center = {});\r\n\t\tcenter.top = this.top + this.height / 2;\r\n\t\tcenter.left = this.left + this.width / 2;\r\n\t\tcenter.x = center.left;\r\n\t\tcenter.y = center.top;\r\n\t}\r\n\r\n\tcontains(left, top) {\r\n\t\treturn Rect.contains(this, left, top);\r\n\t}\r\n\r\n\tintersect(rect) {\r\n\t\treturn Rect.intersectRect(this, rect);\r\n\t}\r\n\r\n\tintersection(rect) {\r\n\t\tconst intersection = this.intersection_ || (this.intersection_ = {\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tpow: {\r\n\t\t\t\tx: -1,\r\n\t\t\t\ty: -1,\r\n\t\t\t},\r\n\t\t\toffset: function(offset) {\r\n\t\t\t\toffset = offset || 0;\r\n\t\t\t\tconst pow = (this.top - this.rect.height / 2 + offset) / -this.height;\r\n\t\t\t\treturn pow;\r\n\t\t\t},\r\n\t\t\tscroll: function(offset) {\r\n\t\t\t\toffset = offset || 0;\r\n\t\t\t\tconst pow = (this.top - this.rect.height / 2 + offset) / -this.height;\r\n\t\t\t\treturn pow;\r\n\t\t\t},\r\n\t\t});\r\n\t\tintersection.left = this.left;\r\n\t\tintersection.top = this.top;\r\n\t\tintersection.width = this.width;\r\n\t\tintersection.height = this.height;\r\n\t\tintersection.x = this.left + this.width / 2;\r\n\t\tintersection.y = this.top + this.height / 2;\r\n\t\tintersection.rect = rect;\r\n\t\tconst pow = intersection.offset(0);\r\n\t\tintersection.pow.y = pow;\r\n\t\treturn intersection;\r\n\t}\r\n\r\n}\r\n","import StreamService from '../../stream/stream.service';\r\n\r\nexport const W = 320;\r\nexport const H = 240;\r\nexport const COLORS = [0xffcc00, 0x00ffcc, 0x00ccff, 0xccff00, 0xcc00ff, 0xffffff];\r\n\r\nexport default class AvatarElement {\r\n\r\n\tstatic get headGeometry() {\r\n\t\tif (!this.headGeometry_) {\r\n\t\t\tthis.headGeometry_ = new THREE.SphereBufferGeometry(0.2, 36, 24);\r\n\t\t}\r\n\t\treturn this.headGeometry_;\r\n\t}\r\n\r\n\tconstructor(message) {\r\n\t\tconst clientId = this.clientId = message.clientId;\r\n\t\tconst container = this.container = message.container;\r\n\t\tconst renderer = this.renderer = new THREE.WebGLRenderer({\r\n\t\t\tantialias: true,\r\n\t\t\talpha: false,\r\n\t\t\tpremultipliedAlpha: true,\r\n\t\t\t// physicallyCorrectLights: true,\r\n\t\t});\r\n\t\trenderer.setClearColor(0x000000, 1);\r\n\t\trenderer.setPixelRatio(window.devicePixelRatio);\r\n\t\trenderer.setSize(W, H);\r\n\t\trenderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n\t\trenderer.toneMappingExposure = 0.8;\r\n\t\trenderer.outputEncoding = THREE.sRGBEncoding;\r\n\t\tcontainer.appendChild(renderer.domElement);\r\n\r\n\t\tconst camera = this.camera = new THREE.PerspectiveCamera(70, W / H, 0.01, 1000);\r\n\t\tcamera.position.set(0, 0, -0.5);\r\n\t\tcamera.target = new THREE.Vector3();\r\n\t\tcamera.lookAt(camera.target);\r\n\r\n\t\tconst scene = this.scene = new THREE.Scene();\r\n\r\n\t\t/*\r\n\t\tconst ambient = this.ambient = new THREE.AmbientLight(0x202020);\r\n\t\tscene.add(ambient);\r\n\t\t*/\r\n\r\n\t\tconst light = this.light = new THREE.PointLight(0xffffff, 1, 100);\r\n\t\tlight.position.set(0, 2, -2);\r\n\t\tscene.add(light);\r\n\r\n\t\tconst head = this.head = this.addHead();\r\n\t\tscene.add(head);\r\n\r\n\t\tconst remote = this.remote = StreamService.getRemoteById(clientId);\r\n\t\t/*\r\n\t\tif (remote) {\r\n\t\t\tthis.subscription = AudioStreamService.volume$(remote.stream).pipe(\r\n\t\t\t\tauditTime(Math.floor(1000 / 15)),\r\n\t\t\t\ttap(meter => {\r\n\t\t\t\t\tthis.chalk(meter.volume);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\taddHead() {\r\n\t\tconst geometry = AvatarElement.headGeometry;\r\n\t\tconst canvas = this.canvas = document.createElement('canvas');\r\n\t\tcanvas.width = 1024;\r\n\t\tcanvas.height = 512;\r\n\t\tconst ctx = this.ctx = this.canvas.getContext('2d');\r\n\t\tconst map = this.map = new THREE.CanvasTexture(canvas);\r\n\t\tmap.offset.x = -0.25;\r\n\t\tconst color = COLORS[this.clientId % COLORS.length];\r\n\t\tconst material = new THREE.MeshStandardMaterial({\r\n\t\t\tmap: map,\r\n\t\t\tcolor: color,\r\n\t\t});\r\n\t\tthis.chalk(0);\r\n\t\treturn new THREE.Mesh(geometry, material);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst tick = this.tick_ ? ++this.tick_ : this.tick_ = 1;\r\n\t\t// if (tick % 2 === 1) {\r\n\t\tif (this.remote) {\r\n\t\t\tconst audioLevel = this.remote.getAudioLevel() * 12;\r\n\t\t\tthis.chalk(audioLevel);\r\n\t\t}\r\n\t\tconst renderer = this.renderer,\r\n\t\t\tscene = this.scene,\r\n\t\t\tcamera = this.camera;\r\n\t\trenderer.render(scene, camera);\r\n\t\t// }\r\n\t}\r\n\r\n\tupdate(message) {\r\n\t\tconst camera = message.camera;\r\n\t\tconst head = this.head;\r\n\t\thead.quaternion.set(camera[3], camera[4], camera[5], camera[6]);\r\n\t\t/*\r\n\t\thead.position.set(camera[0], camera[1], camera[2]);\r\n\t\t*/\r\n\t}\r\n\r\n\tdispose() {\r\n\t\t// !!! dispose threejs\r\n\t\tif (this.subscription) {\r\n\t\t\tthis.subscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tchalk(i) {\r\n\t\ti = (i + Math.PI * 0.5) % (Math.PI * 2);\r\n\t\tconst vol = Math.sin(i) * 30;\r\n\t\tconst smile = Math.cos(i) * 10;\r\n\t\tconst x = 512;\r\n\t\tconst y = 256;\r\n\t\tconst ctx = this.ctx;\r\n\t\tctx.fillStyle = '#888888';\r\n\t\tctx.fillRect(0, 0, 1024, 512);\r\n\t\tctx.fillStyle = 'white';\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x - 40, y - 50, 7, 0, 2 * Math.PI);\r\n\t\tctx.arc(x + 40, y - 50, 7, 0, 2 * Math.PI);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.beginPath();\r\n\t\t// ctx.quadraticCurveTo(x - 30, y + 30, x - 30, y + 30);\r\n\t\t// ctx.quadraticCurveTo(x - 30, y + 60, x, y + 60);\r\n\t\t// ctx.quadraticCurveTo(x + 30, y + 60, x + 30, y + 30);\r\n\t\t// ctx.quadraticCurveTo(x + 30, y, x, y);\r\n\t\tctx.moveTo(x - 40 - smile, y + 30);\r\n\t\tctx.bezierCurveTo(x - 40 - smile, y + 60, x + 40 + smile, y + 60, x + 40 + smile, y + 30);\r\n\t\tctx.bezierCurveTo(x + 40 + smile, y + vol, x - 40 - smile, y + vol, x - 40 - smile, y + 30);\r\n\t\t// ctx.arc(x, 256 + 50, 50, 0, 2 * Math.PI);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tthis.map.needsUpdate = true;\r\n\t}\r\n\r\n}\r\n","import { environment } from '../../environment';\r\n\r\nexport class Texture {\r\n\r\n\tstatic get defaultTexture() {\r\n\t\treturn Texture.defaultTexture_ || (Texture.defaultTexture_ = new THREE.TextureLoader().load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LjE2NDc1MywgMjAyMS8wMi8xNS0xMTo1MjoxMyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjMgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyODFGQkE0QUMxODExRUJBQkRBQTEyMzUzMjUxRjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyODFGQkE1QUMxODExRUJBQkRBQTEyMzUzMjUxRjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI4MUZCQTJBQzE4MTFFQkFCREFBMTIzNTMyNTFGODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI4MUZCQTNBQzE4MTFFQkFCREFBMTIzNTMyNTFGODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz55AlN+AAAAZUlEQVR42uzQAQEAAAQDMPTvfD3YIqyT1GdTzwkQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAgAtWgAEAVbYDfaostxgAAAAASUVORK5CYII='));\r\n\t}\r\n\r\n\tstatic get gridTexture() {\r\n\t\treturn Texture.gridTexture_ || (Texture.gridTexture_ = new THREE.TextureLoader().load(environment.getPath(environment.textures.grid)));\r\n\t}\r\n\r\n}\r\n","import { environment } from '../../environment';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\n\r\nexport default class MediaPlayMesh extends InteractiveMesh {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn MediaPlayMesh.loader || (MediaPlayMesh.loader = new THREE.TextureLoader());\r\n\t}\r\n\r\n\tstatic getTextureOff() {\r\n\t\treturn MediaPlayMesh.textureOff || (MediaPlayMesh.textureOff = MediaPlayMesh.getLoader().load(environment.getPath('textures/ui/play-off.png')));\r\n\t}\r\n\r\n\tstatic getTextureOn() {\r\n\t\treturn MediaPlayMesh.textureOn || (MediaPlayMesh.textureOn = MediaPlayMesh.getLoader().load(environment.getPath('textures/ui/play-on.png')));\r\n\t}\r\n\r\n\tstatic getMaterial() {\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\tmap: MediaPlayMesh.getTextureOff(),\r\n\t\t\tcolor: 0xffffff,\r\n\t\t\topacity: 1,\r\n\t\t\ttransparent: true,\r\n\t\t});\r\n\t\treturn material;\r\n\t}\r\n\r\n\tplaying_ = false;\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tconst material = this.material;\r\n\t\t\tmaterial.map = playing ? MediaPlayMesh.getTextureOn() : MediaPlayMesh.getTextureOff();\r\n\t\t\tthis.onOut();\r\n\t\t\t// material.needsUpdate = true;\r\n\t\t\t// this.emit('playing', playing);\r\n\t\t\t// console.log('MediaPlayMesh.playing', playing);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(host) {\r\n\t\tconst geometry = Geometry.planeGeometry;\r\n\t\tconst material = MediaPlayMesh.getMaterial();\r\n\t\tsuper(geometry, material);\r\n\t\tthis.material = material;\r\n\t\tthis.host = host;\r\n\t\t// this.color = new THREE.Color(material.color.getHex());\r\n\t\tthis.colorOff = new THREE.Color(material.color.getHex());\r\n\t\tthis.colorOn = new THREE.Color('#888888'); // new THREE.Color('#0099ff');\r\n\t\tthis.addEventListener();\r\n\t}\r\n\r\n\tupdate(parent) {\r\n\t\tconst scale = this.scale;\r\n\t\tconst parentRatio = parent.scale.x / parent.scale.y;\r\n\t\tconst size = 0.3;\r\n\t\tscale.set(size / parentRatio, size, 1);\r\n\t\t// console.log('MediaPlayMesh.setParentScale', parent.scale, scale, position);\r\n\t}\r\n\r\n\tdisposeMaterial() {\r\n\t\tif (this.material) {\r\n\t\t\tif (this.material.map && this.material.map.disposable !== false) {\r\n\t\t\t\tthis.material.map.dispose();\r\n\t\t\t}\r\n\t\t\tthis.material.dispose();\r\n\t\t\t// this.material = null;\r\n\t\t}\r\n\t}\r\n\r\n\tdispose() {\r\n\t\tthis.removeEventListener();\r\n\t\tthis.disposeMaterial();\r\n\t}\r\n\r\n\tonOver() {\r\n\t\tconst color = this.material.color;\r\n\t\tconst target = this.colorOn;\r\n\t\tconst material = this.material;\r\n\t\t// console.log('MediaPlayMesh.onOver');\r\n\t\tgsap.to(color, {\r\n\t\t\tr: target.r,\r\n\t\t\tg: target.g,\r\n\t\t\tb: target.b,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t});\r\n\t\tgsap.to(material, {\r\n\t\t\topacity: 1,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t});\r\n\t}\r\n\r\n\tonOut() {\r\n\t\tconst color = this.material.color;\r\n\t\tconst target = this.colorOff;\r\n\t\tconst material = this.material;\r\n\t\t// console.log('MediaPlayMesh.onOut');\r\n\t\tgsap.to(color, {\r\n\t\t\tr: target.r,\r\n\t\t\tg: target.g,\r\n\t\t\tb: target.b,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t});\r\n\t\tgsap.to(material, {\r\n\t\t\topacity: this.playing ? 0 : 1,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t});\r\n\t}\r\n\r\n\taddEventListener() {\r\n\t\tthis.onOver = this.onOver.bind(this);\r\n\t\tthis.onOut = this.onOut.bind(this);\r\n\t\tthis.on('over', this.onOver);\r\n\t\tthis.on('out', this.onOut);\r\n\t}\r\n\r\n\tremoveEventListener() {\r\n\t\tthis.off('over', this.onOver);\r\n\t\tthis.off('out', this.onOut);\r\n\t}\r\n}\r\n","import { environment } from '../../environment';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\n\r\nexport default class MediaZoomMesh extends InteractiveMesh {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn MediaZoomMesh.loader || (MediaZoomMesh.loader = new THREE.TextureLoader());\r\n\t}\r\n\r\n\tstatic getTextureOff() {\r\n\t\treturn MediaZoomMesh.textureOff || (MediaZoomMesh.textureOff = MediaZoomMesh.getLoader().load(environment.getPath('textures/ui/zoom-off.png')));\r\n\t}\r\n\r\n\tstatic getTextureOn() {\r\n\t\treturn MediaZoomMesh.textureOn || (MediaZoomMesh.textureOn = MediaZoomMesh.getLoader().load(environment.getPath('textures/ui/zoom-on.png')));\r\n\t}\r\n\r\n\tstatic getMaterial() {\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\tmap: MediaZoomMesh.getTextureOff(),\r\n\t\t\tcolor: 0xffffff,\r\n\t\t\topacity: 1,\r\n\t\t\ttransparent: true,\r\n\t\t});\r\n\t\treturn material;\r\n\t}\r\n\r\n\tzoomed_ = false;\r\n\tget zoomed() {\r\n\t\treturn this.zoomed_;\r\n\t}\r\n\tset zoomed(zoomed) {\r\n\t\tif (this.zoomed_ !== zoomed) {\r\n\t\t\tthis.zoomed_ = zoomed;\r\n\t\t\tconst material = this.material;\r\n\t\t\tmaterial.map = zoomed ? MediaZoomMesh.getTextureOn() : MediaZoomMesh.getTextureOff();\r\n\t\t\t// material.needsUpdate = true;\r\n\t\t\t/*\r\n\t\t\tif (zoomed) {\r\n\t\t\t\t// this.originalPosition = this.parent.position.clone();\r\n\t\t\t\t// this.originalQuaternion = this.parent.rotation.clone();\r\n\t\t\t\t// this.originalScale = this.parent.scale.clone();\r\n\t\t\t} else {\r\n\t\t\t\tthis.object.position.copy(this.originalPosition);\r\n\t\t\t\tthis.object.scale.copy(this.originalScale);\r\n\t\t\t\tthis.object.quaternion.copy(this.originalQuaternion);\r\n\t\t\t}\r\n\t\t\tthis.updateObjectMatrix();\r\n\t\t\t*/\r\n\t\t\t// console.log('MediaZoomMesh.zoomed', zoomed);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(host) {\r\n\t\tconst geometry = Geometry.planeGeometry;\r\n\t\tconst material = MediaZoomMesh.getMaterial();\r\n\t\tsuper(geometry, material);\r\n\t\tthis.material = material;\r\n\t\tthis.host = host;\r\n\t\t// this.color = new THREE.Color(material.color.getHex());\r\n\t\tthis.colorOff = new THREE.Color(material.color.getHex());\r\n\t\tthis.colorOn = new THREE.Color('#888888'); // new THREE.Color('#0099ff');\r\n\t\tthis.object = new THREE.Object3D();\r\n\t\tthis.addEventListener();\r\n\t}\r\n\r\n\tdisposeMaterial() {\r\n\t\tif (this.material) {\r\n\t\t\tif (this.material.map && this.material.map.disposable !== false) {\r\n\t\t\t\tthis.material.map.dispose();\r\n\t\t\t}\r\n\t\t\tthis.material.dispose();\r\n\t\t\t// this.material = null;\r\n\t\t}\r\n\t}\r\n\r\n\tdispose() {\r\n\t\tthis.removeEventListener();\r\n\t\tthis.disposeMaterial();\r\n\t}\r\n\r\n\tonOver() {\r\n\t\tconst color = this.material.color;\r\n\t\tconst target = this.colorOn;\r\n\t\tconst material = this.material;\r\n\t\t// console.log('MediaZoomMesh.onOver');\r\n\t\tgsap.to(color, {\r\n\t\t\tr: target.r,\r\n\t\t\tg: target.g,\r\n\t\t\tb: target.b,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t\t/*\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t});\r\n\t\t// this.innerVisible = true;\r\n\t}\r\n\r\n\tonOut() {\r\n\t\tconst color = this.material.color;\r\n\t\tconst target = this.colorOff;\r\n\t\tconst material = this.material;\r\n\t\t// console.log('MediaZoomMesh.onOut');\r\n\t\tgsap.to(color, {\r\n\t\t\tr: target.r,\r\n\t\t\tg: target.g,\r\n\t\t\tb: target.b,\r\n\t\t\tduration: 0.2,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t\t/*\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t});\r\n\t\t// this.innerVisible = false;\r\n\t}\r\n\r\n\tonToggle() {\r\n\t\t// console.log('MediaZoomMesh.onToggle', !this.zoomed);\r\n\t\t// this.zoomed = !this.zoomed;\r\n\t\tthis.emit('zoomed', !this.zoomed);\r\n\t}\r\n\r\n\taddEventListener() {\r\n\t\tthis.onOver = this.onOver.bind(this);\r\n\t\tthis.onOut = this.onOut.bind(this);\r\n\t\tthis.onToggle = this.onToggle.bind(this);\r\n\t\tthis.on('over', this.onOver);\r\n\t\tthis.on('out', this.onOut);\r\n\t\tthis.on('down', this.onToggle);\r\n\t}\r\n\r\n\tremoveEventListener() {\r\n\t\tthis.off('over', this.onOver);\r\n\t\tthis.off('out', this.onOut);\r\n\t\tthis.off('down', this.onToggle);\r\n\t}\r\n}\r\n","import { of } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { AssetType, assetIsStream } from '../../asset/asset';\r\nimport { environment } from '../../environment';\r\nimport StreamService from '../../stream/stream.service';\r\nimport { RoleType } from '../../user/user';\r\nimport { Host } from '../host/host';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport { Texture } from '../texture/texture';\r\nimport MediaLoader, { MediaLoaderPauseEvent, MediaLoaderPlayEvent, MediaLoaderTimeSetEvent } from './media-loader';\r\nimport MediaPlayMesh from './media-play-mesh';\r\nimport MediaZoomMesh from './media-zoom-mesh';\r\n\r\nconst VERTEX_SHADER = `\r\nvarying vec2 vUvShader;\r\n\r\n#include <common>\r\n#include <uv_pars_vertex>\r\n#include <uv2_pars_vertex>\r\n#include <envmap_pars_vertex>\r\n#include <color_pars_vertex>\r\n#include <fog_pars_vertex>\r\n#include <morphtarget_pars_vertex>\r\n#include <skinning_pars_vertex>\r\n#include <logdepthbuf_pars_vertex>\r\n#include <clipping_planes_pars_vertex>\r\n\r\nvoid main() {\r\n\tvUvShader = uv;\r\n\r\n\t#include <uv_vertex>\r\n\t#include <uv2_vertex>\r\n\t#include <color_vertex>\r\n\t#include <morphcolor_vertex>\r\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\r\n\t\t#include <beginnormal_vertex>\r\n\t\t#include <morphnormal_vertex>\r\n\t\t#include <skinbase_vertex>\r\n\t\t#include <skinnormal_vertex>\r\n\t\t#include <defaultnormal_vertex>\r\n\t#endif\r\n\t#include <begin_vertex>\r\n\t#include <morphtarget_vertex>\r\n\t#include <skinning_vertex>\r\n\t#include <project_vertex>\r\n\t#include <logdepthbuf_vertex>\r\n\t#include <clipping_planes_vertex>\r\n\t#include <worldpos_vertex>\r\n\t#include <envmap_vertex>\r\n\t#include <fog_vertex>\r\n}\r\n`;\r\n\r\nconst FRAGMENT_SHADER = `\r\n#define USE_MAP\r\n\r\nvarying vec2 vUvShader;\r\n\r\nuniform vec3 diffuse;\r\nuniform float opacity;\r\n\r\n#ifndef FLAT_SHADED\r\n\tvarying vec3 vNormal;\r\n#endif\r\n\r\n#include <common>\r\n#include <dithering_pars_fragment>\r\n#include <color_pars_fragment>\r\n#include <uv_pars_fragment>\r\n#include <uv2_pars_fragment>\r\n#include <map_pars_fragment>\r\n#include <alphamap_pars_fragment>\r\n#include <alphatest_pars_fragment>\r\n#include <aomap_pars_fragment>\r\n#include <lightmap_pars_fragment>\r\n#include <envmap_common_pars_fragment>\r\n#include <envmap_pars_fragment>\r\n#include <cube_uv_reflection_fragment>\r\n#include <fog_pars_fragment>\r\n#include <specularmap_pars_fragment>\r\n#include <logdepthbuf_pars_fragment>\r\n#include <clipping_planes_pars_fragment>\r\n\r\n// uniform sampler2D map;\r\nuniform sampler2D playMap;\r\nuniform vec2 mapResolution;\r\nuniform vec2 playMapResolution;\r\nuniform float mapTween;\r\nuniform float playMapTween;\r\nuniform vec3 playMapColor;\r\nuniform bool isVideo;\r\n\r\nvoid main() {\r\n\t#include <clipping_planes_fragment>\r\n\r\n\tvec4 diffuseColor = vec4(vec3(1.0), opacity);\r\n\r\n\t#include <logdepthbuf_fragment>\r\n\t#include <map_fragment>\r\n\t#include <color_fragment>\r\n\r\n\t// main\r\n\tvec4 mapRgba = texture2D(map, vUvShader);\r\n\tif (isVideo) {\r\n\t\tvec4 playMapRgba = texture2D(playMap, vUvShader);\r\n\t\tdiffuseColor = vec4(mapRgba.rgb + (playMapColor * playMapTween * 0.2) + (playMapRgba.rgb * mapTween * playMapRgba.a), opacity);\r\n\t} else {\r\n\t\tdiffuseColor = vec4(mapRgba.rgb + (playMapColor * playMapTween * 0.2), opacity);\r\n\t}\r\n\r\n\t#include <alphamap_fragment>\r\n\t#include <alphatest_fragment>\r\n\t#include <specularmap_fragment>\r\n\r\n\tReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\r\n\r\n\t// accumulation (baked indirect lighting only)\r\n\t#ifdef USE_LIGHTMAP\r\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\r\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\r\n\t#else\r\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\r\n\t#endif\r\n\r\n\t// modulation\r\n\t#include <aomap_fragment>\r\n\r\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\r\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\r\n\r\n\t#include <envmap_fragment>\r\n\t#include <output_fragment>\r\n\t#include <tonemapping_fragment>\r\n\t#include <encodings_fragment>\r\n\t#include <fog_fragment>\r\n\t#include <premultiplied_alpha_fragment>\r\n\t#include <dithering_fragment>\r\n}\r\n`;\r\n\r\nconst FRAGMENT_CHROMA_KEY_SHADER = `\r\n#define USE_MAP\r\n#define threshold 0.55\r\n#define padding 0.05\r\nvarying vec2 vUvShader;\r\n\r\nuniform vec3 diffuse;\r\nuniform float opacity;\r\n\r\n#ifndef FLAT_SHADED\r\n\tvarying vec3 vNormal;\r\n#endif\r\n\r\n#include <common>\r\n#include <dithering_pars_fragment>\r\n#include <color_pars_fragment>\r\n#include <uv_pars_fragment>\r\n#include <uv2_pars_fragment>\r\n#include <map_pars_fragment>\r\n#include <alphamap_pars_fragment>\r\n#include <alphatest_pars_fragment>\r\n#include <aomap_pars_fragment>\r\n#include <lightmap_pars_fragment>\r\n#include <envmap_common_pars_fragment>\r\n#include <envmap_pars_fragment>\r\n#include <cube_uv_reflection_fragment>\r\n#include <fog_pars_fragment>\r\n#include <specularmap_pars_fragment>\r\n#include <logdepthbuf_pars_fragment>\r\n#include <clipping_planes_pars_fragment>\r\n\r\n// uniform sampler2D map;\r\nuniform sampler2D playMap;\r\nuniform vec2 mapResolution;\r\nuniform vec2 playMapResolution;\r\nuniform float mapTween;\r\nuniform float playMapTween;\r\nuniform vec3 playMapColor;\r\nuniform vec3 chromaKeyColor;\r\nuniform bool isVideo;\r\n\r\nvoid main() {\r\n\t#include <clipping_planes_fragment>\r\n\r\n\tvec4 diffuseColor = vec4( diffuse, opacity );\r\n\r\n\t#include <logdepthbuf_fragment>\r\n\t#include <map_fragment>\r\n\t#include <color_fragment>\r\n\r\n\t// main\r\n\tvec4 mapRgba = texture2D(map, vUvShader);\r\n\tvec4 chromaKey = vec4(chromaKeyColor, 1.0);\r\n    vec3 chromaKeyDiff = mapRgba.rgb - chromaKey.rgb;\r\n    float chromaKeyValue = smoothstep(threshold - padding, threshold + padding, dot(chromaKeyDiff, chromaKeyDiff));\r\n\t/*\r\n\tif (isVideo) {\r\n\t\tvec4 playMapRgba = texture2D(playMap, vUvShader);\r\n\t\tdiffuseColor = vec4(mapRgba.rgb + (playMapColor * playMapTween * 0.2) + (playMapRgba.rgb * mapTween * playMapRgba.a), opacity * chromaKeyValue);\r\n\t} else {\r\n\t\tdiffuseColor = vec4(mapRgba.rgb + (playMapColor * playMapTween * 0.2), opacity * chromaKeyValue);\r\n\t}\r\n\t*/\r\n\t// diffuseColor = vec4(mapRgba.rgb + (playMapColor * playMapTween * 0.2), opacity * chromaKeyValue);\r\n\tdiffuseColor = vec4(mapRgba.rgb, opacity * chromaKeyValue);\r\n\r\n\t#include <alphamap_fragment>\r\n\t#include <alphatest_fragment>\r\n\t#include <specularmap_fragment>\r\n\r\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\r\n\t// accumulation (baked indirect lighting only)\r\n\t#ifdef USE_LIGHTMAP\r\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\r\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\r\n\t#else\r\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\r\n\t#endif\r\n\t// modulation\r\n\t#include <aomap_fragment>\r\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\r\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\r\n\r\n\t#include <envmap_fragment>\r\n\r\n\tgl_FragColor = vec4(outgoingLight, diffuseColor.a);\r\n\r\n\t#include <tonemapping_fragment>\r\n\t#include <encodings_fragment>\r\n\t#include <fog_fragment>\r\n\t#include <premultiplied_alpha_fragment>\r\n\t#include <dithering_fragment>\r\n}\r\n`;\r\n\r\nexport default class MediaMesh extends InteractiveMesh {\r\n\r\n\tstatic getMaterial(useChromaKey) {\r\n\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\tdepthTest: true, // !!!\r\n\t\t\tdepthWrite: true,\r\n\t\t\ttransparent: true,\r\n\t\t\ttoneMapped: false,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t\t// blending: THREE.AdditiveBlending,\r\n\t\t\tvertexShader: VERTEX_SHADER,\r\n\t\t\tfragmentShader: useChromaKey ? FRAGMENT_CHROMA_KEY_SHADER : FRAGMENT_SHADER,\r\n\t\t\tuniforms: {\r\n\t\t\t\tmap: { type: 't', value: Texture.defaultTexture },\r\n\t\t\t\tmapResolution: { value: new THREE.Vector2() },\r\n\t\t\t\tmapTween: { value: 1 },\r\n\t\t\t\tcolor: { value: new THREE.Color('#FFFFFF') },\r\n\t\t\t\tplayMap: { type: 't', value: Texture.defaultTexture },\r\n\t\t\t\tplayMapResolution: { value: new THREE.Vector2() },\r\n\t\t\t\tplayMapTween: { value: 0 },\r\n\t\t\t\tplayMapColor: { value: new THREE.Color('#000000') },\r\n\t\t\t\topacity: { value: 0 },\r\n\t\t\t\tisVideo: { value: false },\r\n\t\t\t},\r\n\t\t\textensions: {\r\n\t\t\t\tfragDepth: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\treturn material;\r\n\t}\r\n\r\n\tstatic getChromaKeyMaterial(chromaKeyColor = [0.0, 1.0, 0.0]) {\r\n\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\tdepthTest: true, // !!!\r\n\t\t\tdepthWrite: true,\r\n\t\t\ttransparent: true,\r\n\t\t\ttoneMapped: false,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t\t// blending: THREE.AdditiveBlending,\r\n\t\t\tvertexShader: VERTEX_SHADER,\r\n\t\t\tfragmentShader: FRAGMENT_CHROMA_KEY_SHADER,\r\n\t\t\tuniforms: {\r\n\t\t\t\tmap: { type: 't', value: null }, // Texture.defaultTexture\r\n\t\t\t\tmapResolution: { value: new THREE.Vector2() },\r\n\t\t\t\tmapTween: { value: 1 },\r\n\t\t\t\tcolor: { value: new THREE.Color('#FFFFFF') },\r\n\t\t\t\tchromaKeyColor: { value: new THREE.Color(chromaKeyColor[0], chromaKeyColor[1], chromaKeyColor[2]) },\r\n\t\t\t\tplayMap: { type: 't', value: Texture.defaultTexture },\r\n\t\t\t\tplayMapResolution: { value: new THREE.Vector2() },\r\n\t\t\t\tplayMapTween: { value: 0 },\r\n\t\t\t\tplayMapColor: { value: new THREE.Color('#000000') },\r\n\t\t\t\topacity: { value: 0 },\r\n\t\t\t\tisVideo: { value: false },\r\n\t\t\t},\r\n\t\t\textensions: {\r\n\t\t\t\tfragDepth: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\tmaterial.map = true;\r\n\t\treturn material;\r\n\t}\r\n\r\n\tstatic isPublisherStream(stream) {\r\n\t\treturn stream.clientInfo && stream.clientInfo.role === RoleType.Publisher && stream.clientInfo.uid === stream.streamId;\r\n\t}\r\n\tstatic isAttendeeStream(stream) {\r\n\t\treturn stream.clientInfo && stream.clientInfo.role === RoleType.Attendee && stream.clientInfo.uid === stream.streamId;\r\n\t}\r\n\tstatic isSmartDeviceStream(stream) {\r\n\t\treturn stream.clientInfo && stream.clientInfo.role === RoleType.SmartDevice && stream.clientInfo.uid === stream.streamId;\r\n\t}\r\n\tstatic isPublisherScreen(stream) {\r\n\t\t// console.log(stream.clientInfo, stream.clientInfo ? [stream.clientInfo.role, stream.clientInfo.screenUid, stream.streamId] : null);\r\n\t\treturn stream.clientInfo && stream.clientInfo.role === RoleType.Publisher && stream.clientInfo.screenUid === stream.streamId;\r\n\t}\r\n\tstatic isAttendeeScreen(stream) {\r\n\t\treturn stream.clientInfo && stream.clientInfo.role === RoleType.Attendee && stream.clientInfo.screenUid === stream.streamId;\r\n\t}\r\n\tstatic getTypeMatcher(assetType) {\r\n\t\tlet matcher;\r\n\t\tswitch (assetType.name) {\r\n\t\t\tcase AssetType.PublisherStream.name:\r\n\t\t\t\tmatcher = this.isPublisherStream;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.AttendeeStream.name:\r\n\t\t\t\tmatcher = this.isAttendeeStream;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.SmartDeviceStream.name:\r\n\t\t\t\tmatcher = this.isSmartDeviceStream;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.PublisherScreen.name:\r\n\t\t\t\tmatcher = this.isPublisherScreen;\r\n\t\t\t\tbreak;\r\n\t\t\tcase AssetType.AttendeeScreen.name:\r\n\t\t\t\tmatcher = this.isAttendeeScreen;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tmatcher = (stream) => { return false; };\r\n\t\t}\r\n\t\treturn matcher;\r\n\t}\r\n\r\n\tstatic getStreamId$(item) {\r\n\t\tif (!item.asset) {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t\tconst assetType = item.asset.type;\r\n\t\tconst file = item.asset.file;\r\n\t\t// console.log(item.asset, assetIsStream(item.asset));\r\n\t\tif (assetIsStream(item.asset)) {\r\n\t\t\t// console.log('MediaMesh.getStreamId$', item.asset.type.name);\r\n\t\t\treturn StreamService.streams$.pipe(\r\n\t\t\t\tmap((streams) => {\r\n\t\t\t\t\tlet stream;\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\tconst matchType = this.getTypeMatcher(assetType);\r\n\t\t\t\t\tstreams.forEach(x => {\r\n\t\t\t\t\t\t// console.log('MediaMesh.getStreamId$', x.clientInfo, x.clientInfo ? [x.clientInfo.screenUid, x.streamId] : null);\r\n\t\t\t\t\t\tif (matchType(x)) {\r\n\t\t\t\t\t\t\tif (i === item.asset.index) {\r\n\t\t\t\t\t\t\t\tstream = x;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (stream) {\r\n\t\t\t\t\t\t// console.log('MediaMesh.getStreamId$', assetType.name, stream.clientInfo.role, stream.streamId);\r\n\t\t\t\t\t\treturn stream.streamId;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// console.log('MediaMesh.getStreamId$.notfound', assetType.name);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(file);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getMaterialByItem(item) {\r\n\t\tlet material;\r\n\t\tif (item.asset && item.asset.chromaKeyColor) {\r\n\t\t\tmaterial = MediaMesh.getChromaKeyMaterial(item.asset.chromaKeyColor);\r\n\t\t} else if (item.asset) {\r\n\t\t\t// material = new THREE.MeshBasicMaterial({ color: 0x888888 });\r\n\t\t\t// material = new THREE.MeshBasicMaterial({ color: 0xffffff, toneMapped: false });\r\n\t\t\tmaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, toneMapped: false });\r\n\t\t\t// material = new THREE.MeshPhysicalMaterial({ clearcoat: 1, clearcoatRoughness: 0, toneMapped: false, encoding: THREE.sRGBEncoding });\r\n\t\t} else {\r\n\t\t\tmaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, toneMapped: false });\r\n\t\t}\r\n\t\treturn material;\r\n\t}\r\n\r\n\tstatic getUniformsByItem(item) {\r\n\t\tlet uniforms = null;\r\n\t\tif (item.asset) {\r\n\t\t\tuniforms = {\r\n\t\t\t\tmapTween: 1,\r\n\t\t\t\tplayMapTween: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn uniforms;\r\n\t}\r\n\r\n\tget editing() {\r\n\t\treturn this.editing_;\r\n\t}\r\n\tset editing(editing) {\r\n\t\tif (this.editing_ !== editing) {\r\n\t\t\tthis.editing_ = editing;\r\n\t\t\t// this.zoomed = editing ? false : (this.view.type.name === 'media' ? true : this.zoomed);\r\n\t\t\tthis.zoomed = this.view.type.name === 'media' ? true : (editing ? false : this.zoomed);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(item, view, geometry, host) {\r\n\t\tconst material = MediaMesh.getMaterialByItem(item);\r\n\t\tsuper(geometry, material);\r\n\t\t// this.renderOrder = environment.renderOrder.plane;\r\n\t\tthis.item = item;\r\n\t\tthis.view = view;\r\n\t\tthis.items = view.items;\r\n\t\tthis.host = host;\r\n\t\tthis.uniforms = MediaMesh.getUniformsByItem(item);\r\n\t\tthis.object = new THREE.Object3D();\r\n\t\tthis.tempPosition = new THREE.Vector3();\r\n\t\tthis.tempRotation = new THREE.Vector3();\r\n\t\titem.silent = this.isAutoplayLoop; // !!!\r\n\t\tconst mediaLoader = this.mediaLoader = new MediaLoader(item);\r\n\t\tthis.onOver = this.onOver.bind(this);\r\n\t\tthis.onOut = this.onOut.bind(this);\r\n\t\tthis.onToggle = this.onToggle.bind(this);\r\n\t\tthis.onZoomed = this.onZoomed.bind(this);\r\n\t\tthis.addPlayBtn();\r\n\t\tthis.addZoomBtn();\r\n\t\tthis.userData.render = (time, tick) => {\r\n\t\t\tthis.render(this, time, tick);\r\n\t\t};\r\n\t}\r\n\r\n\tload(callback) {\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.remove(this.playBtn);\r\n\t\t}\r\n\t\tif (this.zoomBtn) {\r\n\t\t\tthis.remove(this.zoomBtn);\r\n\t\t}\r\n\t\tif (!this.item.asset) {\r\n\t\t\tthis.onAppear();\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst material = this.material;\r\n\t\tconst mediaLoader = this.mediaLoader;\r\n\t\tconst onMediaLoaderLoaded = (texture) => {\r\n\t\t\t// console.log('MediaMesh.texture', texture);\r\n\t\t\tconst loader = this.mediaLoader;\r\n\t\t\tif (!loader) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (texture) {\r\n\t\t\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\t\t\tmaterial.map = texture; // !!! Enables USE_MAP\r\n\t\t\t\tif (material.uniforms) {\r\n\t\t\t\t\tmaterial.uniforms.map.value = texture;\r\n\t\t\t\t\t// material.uniforms.mapResolution.value.x = texture.image.width;\r\n\t\t\t\t\t// material.uniforms.mapResolution.value.y = texture.image.height;\r\n\t\t\t\t\tmaterial.uniforms.mapResolution.value = new THREE.Vector2(texture.image.width || texture.image.videoWidth, texture.image.height || texture.image.videoHeight);\r\n\t\t\t\t\tif (loader.isPlayableVideo) {\r\n\t\t\t\t\t\tthis.makePlayMap(texture, (playMap) => {\r\n\t\t\t\t\t\t\t// console.log('MediaMesh.playMap', playMap);\r\n\t\t\t\t\t\t\tplayMap.minFilter = THREE.LinearFilter;\r\n\t\t\t\t\t\t\tplayMap.magFilter = THREE.LinearFilter;\r\n\t\t\t\t\t\t\tplayMap.mapping = THREE.UVMapping;\r\n\t\t\t\t\t\t\t// playMap.format = THREE.RGBAFormat;\r\n\t\t\t\t\t\t\tplayMap.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\t\t\t\tplayMap.wrapT = THREE.RepeatWrapping;\r\n\t\t\t\t\t\t\tmaterial.uniforms.playMap.value = playMap;\r\n\t\t\t\t\t\t\t// material.uniforms.playMapResolution.value.x = playMap.image.width;\r\n\t\t\t\t\t\t\t// material.uniforms.playMapResolution.value.y = playMap.image.height;\r\n\t\t\t\t\t\t\tmaterial.uniforms.playMapResolution.value = new THREE.Vector2(playMap.image.width, playMap.image.height);\r\n\t\t\t\t\t\t\t// console.log(material.uniforms.playMapResolution.value, playMap);\r\n\t\t\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmaterial.needsUpdate = true;\r\n\t\t\tthis.onAppear();\r\n\t\t\tif (loader.isPlayableVideo && this.playBtn) {\r\n\t\t\t\tif (material.uniforms) {\r\n\t\t\t\t\tmaterial.uniforms.isVideo.value = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.on('over', this.onOver);\r\n\t\t\t\tthis.on('out', this.onOut);\r\n\t\t\t\tthis.on('down', this.onToggle);\r\n\t\t\t\tthis.add(this.playBtn);\r\n\t\t\t}\r\n\t\t\tif (this.zoomBtn) {\r\n\t\t\t\tthis.add(this.zoomBtn);\r\n\t\t\t}\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(this);\r\n\t\t\t}\r\n\t\t};\r\n\t\t/*\r\n\t\tsetTimeout(() => {\r\n\t\t\tmediaLoader.load(onMediaLoaderLoaded);\r\n\t\t}, 5000);\r\n\t\t*/\r\n\t\tmediaLoader.load(onMediaLoaderLoaded);\r\n\t}\r\n\r\n\tmakePlayMap(texture, callback) {\r\n\t\tconst aw = texture.image.width || texture.image.videoWidth;\r\n\t\tconst ah = texture.image.height || texture.image.videoHeight;\r\n\t\tconst ar = aw / ah;\r\n\t\tconst scale = 0.32;\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\t// document.querySelector('body').appendChild(canvas);\r\n\t\tcanvas.width = aw;\r\n\t\tcanvas.height = ah;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tctx.imageSmoothingEnabled = true;\r\n\t\tctx.imageSmoothingQuality = 'high';\r\n\t\tconst image = new Image();\r\n\t\timage.onload = function() {\r\n\t\t\tconst bw = image.width;\r\n\t\t\tconst bh = image.height;\r\n\t\t\tconst br = bw / bh;\r\n\t\t\tlet w;\r\n\t\t\tlet h;\r\n\t\t\tif (ar > br) {\r\n\t\t\t\tw = ah * scale;\r\n\t\t\t\th = w / br;\r\n\t\t\t} else {\r\n\t\t\t\th = aw * scale;\r\n\t\t\t\tw = h * br;\r\n\t\t\t}\r\n\t\t\tctx.drawImage(image, aw / 2 - w / 2, ah / 2 - h / 2, w, h);\r\n\t\t\tconst playMap = new THREE.CanvasTexture(canvas);\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(playMap);\r\n\t\t\t}\r\n\t\t};\r\n\t\timage.crossOrigin = 'anonymous';\r\n\t\timage.src = environment.getPath('textures/ui/play.png');\r\n\t}\r\n\r\n\tevents$() {\r\n\t\tconst item = this.item;\r\n\t\tconst items = this.items;\r\n\t\tif (item.asset && item.asset.linkedPlayId) {\r\n\t\t\tthis.freeze();\r\n\t\t}\r\n\t\treturn MediaLoader.events$.pipe(\r\n\t\t\tfilter(event => (event.loader.item && event.loader.item.id === item.id)),\r\n\t\t\tmap(event => {\r\n\t\t\t\tif (event instanceof MediaLoaderPlayEvent) {\r\n\t\t\t\t\tthis.playing = true;\r\n\t\t\t\t\tif (!this.isAutoplayLoop) {\r\n\t\t\t\t\t\tif (this.playBtn) {\r\n\t\t\t\t\t\t\tthis.playBtn.playing = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.emit('playing', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onOut();\r\n\t\t\t\t} else if (event instanceof MediaLoaderPauseEvent) {\r\n\t\t\t\t\tthis.playing = false;\r\n\t\t\t\t\tif (this.playBtn) {\r\n\t\t\t\t\t\tthis.playBtn.playing = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.emit('playing', false);\r\n\t\t\t\t\tthis.onOut();\r\n\t\t\t\t} else if (event instanceof MediaLoaderTimeSetEvent) {\r\n\t\t\t\t\tthis.emit('currentTime', event.loader.video.currentTime);\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('MediaMesh', this.playing);\r\n\t\t\t\tif (item.asset && item.asset.linkedPlayId) {\r\n\t\t\t\t\tconst eventItem = items.find(x => x.asset && event.src.indexOf(x.asset.file) !== -1 && event.id === item.asset.linkedPlayId);\r\n\t\t\t\t\tif (eventItem) {\r\n\t\t\t\t\t\t// console.log('MediaLoader.events$.eventItem', event, eventItem);\r\n\t\t\t\t\t\tif (event instanceof MediaLoaderPlayEvent) {\r\n\t\t\t\t\t\t\tthis.play();\r\n\t\t\t\t\t\t} else if (event instanceof MediaLoaderPauseEvent) {\r\n\t\t\t\t\t\t\tthis.pause();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tonAppear() {\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst material = this.material;\r\n\t\tif (material.uniforms) {\r\n\t\t\tgsap.to(uniforms, {\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.uniforms.opacity.value = uniforms.opacity;\r\n\t\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.zoomed = this.view.type.name === 'media' ? true : (this.editing ? false : this.zoomed);\r\n\t}\r\n\r\n\tonDisappear() {\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst material = this.material;\r\n\t\tif (material.uniforms) {\r\n\t\t\tgsap.to(uniforms, {\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.uniforms.opacity.value = uniforms.opacity;\r\n\t\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonOver() {\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst material = this.material;\r\n\t\tif (material.uniforms) {\r\n\t\t\tgsap.to(uniforms, {\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\tmapTween: this.playing ? 0 : 1,\r\n\t\t\t\tplayMapTween: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\toverwrite: true,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.uniforms.mapTween.value = uniforms.mapTween;\r\n\t\t\t\t\tmaterial.uniforms.playMapTween.value = uniforms.playMapTween;\r\n\t\t\t\t\tmaterial.uniforms.opacity.value = uniforms.opacity;\r\n\t\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.playBtn.onOver();\r\n\t\t}\r\n\t}\r\n\r\n\tonOut() {\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tconst material = this.material;\r\n\t\tif (material.uniforms) {\r\n\t\t\tgsap.to(uniforms, {\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\tmapTween: this.playing ? 0 : 1,\r\n\t\t\t\tplayMapTween: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\toverwrite: true,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.uniforms.mapTween.value = uniforms.mapTween;\r\n\t\t\t\t\tmaterial.uniforms.playMapTween.value = uniforms.playMapTween;\r\n\t\t\t\t\tmaterial.uniforms.opacity.value = uniforms.opacity;\r\n\t\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.playBtn.onOut();\r\n\t\t}\r\n\t}\r\n\r\n\tonToggle() {\r\n\t\tthis.playing = this.mediaLoader.toggle();\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.playBtn.playing = this.playing;\r\n\t\t}\r\n\t\tthis.emit('playing', this.playing);\r\n\t\tthis.onOut();\r\n\t}\r\n\r\n\tplay() {\r\n\t\tthis.mediaLoader.play();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tthis.mediaLoader.pause();\r\n\t}\r\n\r\n\tsetPlayingState(playing) {\r\n\t\tif (this.playing !== playing) {\r\n\t\t\tthis.playing = playing;\r\n\t\t\tplaying ? this.mediaLoader.play() : this.mediaLoader.pause();\r\n\t\t\tthis.onOut();\r\n\t\t\tif (this.playBtn) {\r\n\t\t\t\tthis.playBtn.playing = playing;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetZoomedState(zoomed) {\r\n\t\tthis.zoomed = zoomed;\r\n\t}\r\n\r\n\tsetCurrentTime(currentTime) {\r\n\t\t// !!!\r\n\t\tif (this.mediaLoader.video) {\r\n\t\t\tthis.mediaLoader.video.currentTime = currentTime;\r\n\t\t}\r\n\t}\r\n\r\n\tdisposeMaterial() {\r\n\t\tif (this.material) {\r\n\t\t\tif (this.material.map && this.material.map.disposable !== false) {\r\n\t\t\t\tthis.material.map.dispose();\r\n\t\t\t}\r\n\t\t\tthis.material.dispose();\r\n\t\t\t// this.material = null;\r\n\t\t}\r\n\t}\r\n\r\n\tdisposeMediaLoader() {\r\n\t\tconst mediaLoader = this.mediaLoader;\r\n\t\tif (mediaLoader) {\r\n\t\t\tif (mediaLoader.isPlayableVideo) {\r\n\t\t\t\tthis.off('over', this.onOver);\r\n\t\t\t\tthis.off('out', this.onOut);\r\n\t\t\t\tthis.off('down', this.onToggle);\r\n\t\t\t}\r\n\t\t\tmediaLoader.dispose();\r\n\t\t\tthis.mediaLoader = null;\r\n\t\t}\r\n\t}\r\n\r\n\tdispose() {\r\n\t\t// console.log('MediaMesh.dispose');\r\n\t\tthis.removePlayBtn();\r\n\t\tthis.removeZoomBtn();\r\n\t\tthis.disposeMediaLoader();\r\n\t}\r\n\r\n\tget isAutoplayLoop() {\r\n\t\tconst isAutoplayLoop = this.view.type.name !== 'media' && this.item.asset && this.item.asset.autoplay && this.item.asset.loop;\r\n\t\t// console.log('MediaMesh', isAutoplayLoop);\r\n\t\treturn isAutoplayLoop;\r\n\t}\r\n\r\n\taddPlayBtn() {\r\n\t\tthis.removePlayBtn();\r\n\t\tif (!this.isAutoplayLoop) {\r\n\t\t\tconst playBtn = this.playBtn = new MediaPlayMesh(this.host);\r\n\t\t\tplayBtn.on('over', this.onOver);\r\n\t\t\tplayBtn.on('out', this.onOut);\r\n\t\t\tplayBtn.on('down', this.onToggle);\r\n\t\t\tplayBtn.position.z = 0.01;\r\n\t\t}\r\n\t}\r\n\r\n\tremovePlayBtn() {\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.remove(this.playBtn);\r\n\t\t\tthis.playBtn.off('over', this.onOver);\r\n\t\t\tthis.playBtn.off('out', this.onOut);\r\n\t\t\tthis.playBtn.off('down', this.onToggle);\r\n\t\t\tthis.playBtn.dispose();\r\n\t\t\tdelete this.playBtn;\r\n\t\t}\r\n\t}\r\n\r\n\tonZoomed(zoomed) {\r\n\t\tthis.zoomed = zoomed;\r\n\t\tthis.emit('zoomed', zoomed);\r\n\t}\r\n\r\n\taddZoomBtn() {\r\n\t\tthis.removeZoomBtn();\r\n\t\tif (this.view.type.name !== 'media' && (!this.item.asset || !this.item.asset.chromaKeyColor)) {\r\n\t\t\tconst zoomBtn = this.zoomBtn = new MediaZoomMesh(this.host);\r\n\t\t\tzoomBtn.on('zoomed', this.onZoomed);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveZoomBtn() {\r\n\t\tif (this.zoomBtn) {\r\n\t\t\tthis.remove(this.zoomBtn);\r\n\t\t\tthis.zoomBtn.off('zoomed', this.onZoomed);\r\n\t\t\tthis.zoomBtn.dispose();\r\n\t\t\tthis.zoomBtn = null;\r\n\t\t\tdelete this.zoomBtn;\r\n\t\t}\r\n\t}\r\n\r\n\tupdateByItem(item) {\r\n\t\tthis.disposeMaterial();\r\n\t\tthis.disposeMediaLoader();\r\n\t\tthis.material = MediaMesh.getMaterialByItem(item);\r\n\t\tthis.uniforms = MediaMesh.getUniformsByItem(item);\r\n\t\tthis.addPlayBtn();\r\n\t\tthis.addZoomBtn();\r\n\t\titem.silent = this.isAutoplayLoop; // !!!\r\n\t\tthis.mediaLoader = new MediaLoader(item);\r\n\t}\r\n\r\n\tupdateFromItem(item) {\r\n\t\t// console.log('MediaMesh.updateFromItem', item);\r\n\t\tif (item.position) {\r\n\t\t\tthis.position.fromArray(item.position);\r\n\t\t}\r\n\t\tif (item.rotation) {\r\n\t\t\tthis.rotation.fromArray(item.rotation);\r\n\t\t}\r\n\t\tif (item.scale) {\r\n\t\t\tthis.scale.fromArray(item.scale);\r\n\t\t}\r\n\t\tif (this.playBtn) {\r\n\t\t\tthis.playBtn.update(this);\r\n\t\t}\r\n\t\t/*\r\n\t\tif (this.zoomBtn) {\r\n\t\t\tthis.zoomBtn.update(this);\r\n\t\t}\r\n\t\t*/\r\n\t\tthis.updateZoom();\r\n\t}\r\n\r\n\tupdateZoom() {\r\n\t\tthis.originalPosition = this.position.clone();\r\n\t\tthis.originalScale = this.scale.clone();\r\n\t\tthis.originalQuaternion = this.quaternion.clone();\r\n\t\tthis.object.position.copy(this.originalPosition);\r\n\t\tthis.object.scale.copy(this.originalScale);\r\n\t\tthis.object.quaternion.copy(this.originalQuaternion);\r\n\t\tif (this.zoomBtn) {\r\n\t\t\tconst scale = this.zoomBtn.scale;\r\n\t\t\tconst position = this.zoomBtn.position;\r\n\t\t\tconst ratio = this.scale.x / this.scale.y;\r\n\t\t\tconst size = 0.1;\r\n\t\t\tscale.set(size / ratio, size, 1);\r\n\t\t\tposition.x = 0.5 - size / ratio / 2;\r\n\t\t\tposition.y = size / 2 - 0.5;\r\n\t\t\tposition.z = 0.01;\r\n\t\t}\r\n\t\t// console.log('MediaMesh.updateZoom', this.scale);\r\n\t}\r\n\r\n\t// zoom\r\n\r\n\trender(time, tick) {\r\n\t\t/*\r\n\t\tif (this.zoomBtn && !this.editing) {\r\n\t\t\tthis.zoomBtn.render(time, tick);\r\n\t\t}\r\n\t\t*/\r\n\t\tif (!this.editing) {\r\n\t\t\tconst object = this.object;\r\n\t\t\t/*\r\n\t\t\tparent.position.lerp(object.position, 0.2);\r\n\t\t\tparent.scale.lerp(object.scale, 0.2);\r\n\t\t\tparent.quaternion.slerp(object.quaternion, 0.2);\r\n\t\t\t*/\r\n\t\t\tif (this.zoomed && !this.host.renderer.xr.isPresenting) {\r\n\t\t\t\tthis.updateObjectMatrix();\r\n\t\t\t}\r\n\t\t\tthis.position.copy(object.position);\r\n\t\t\tthis.scale.copy(object.scale);\r\n\t\t\tthis.quaternion.copy(object.quaternion);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateObjectMatrix() {\r\n\t\tconst object = this.object;\r\n\t\tconst host = this.host;\r\n\t\tif (this.zoomed) {\r\n\t\t\t// const cameraGroup = host.cameraGroup;\r\n\t\t\tconst originalScale = this.originalScale;\r\n\t\t\tlet camera = host.camera, fov = camera.fov, aspect = camera.aspect, scale;\r\n\t\t\tconst position = this.tempPosition;\r\n\t\t\tconst rotation = this.tempRotation;\r\n\t\t\t// const aspect = originalScale.x / originalScale.y;\r\n\t\t\tscale = 0.01; // 0.01;\r\n\t\t\tconst xr = host.renderer.xr;\r\n\t\t\tif (xr.isPresenting) {\r\n\t\t\t\tcamera = xr.getCamera(camera);\r\n\t\t\t\tconst mat = camera.projectionMatrix.elements;\r\n\t\t\t\tconst a = mat[0];\r\n\t\t\t\tconst b = mat[5];\r\n\t\t\t\t// const c = mat[10];\r\n\t\t\t\t// const d = mat[14];\r\n\t\t\t\taspect = b / a;\r\n\t\t\t\t// const k = (c - 1) / (c + 1);\r\n\t\t\t\t// const clip_min = (d * (1 - k)) / (2 * k);\r\n\t\t\t\t// const clip_max = k * clip_min;\r\n\t\t\t\t// const RAD2DEG = 180 / 3.14159265358979323846;\r\n\t\t\t\tconst RAD2DEG = 180 / 3.141592653589793;\r\n\t\t\t\tfov = RAD2DEG * (2 * Math.atan(1 / b));\r\n\t\t\t\tscale = 1;\r\n\t\t\t}\r\n\t\t\tobject.scale.copy(originalScale).multiplyScalar(scale);\r\n\t\t\tconst distance = Host.getDistanceToCamera(camera, fov, aspect, object.scale);\r\n\t\t\tcamera.getWorldDirection(rotation);\r\n\t\t\trotation.multiplyScalar(distance);\r\n\t\t\tposition.set(0, 0, 0);\r\n\t\t\tcamera.localToWorld(position);\r\n\t\t\tposition.add(rotation);\r\n\t\t\tobject.position.copy(position);\r\n\t\t\tobject.lookAt(Host.origin);\r\n\t\t\tif (xr.isPresenting) {\r\n\t\t\t\tobject.position.y -= object.scale.y / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tzoomed_ = false;\r\n\tget zoomed() {\r\n\t\treturn this.zoomed_;\r\n\t}\r\n\tset zoomed(zoomed) {\r\n\t\tif (this.zoomed_ !== zoomed) {\r\n\t\t\tthis.zoomed_ = zoomed;\r\n\t\t\tif (zoomed) {\r\n\t\t\t\tthis.renderOrder = environment.renderOrder.panel + 5;\r\n\t\t\t\tthis.material.depthTest = true; // !!! false\r\n\t\t\t\t// this.originalPosition = this.position.clone();\r\n\t\t\t\t// this.originalQuaternion = this.rotation.clone();\r\n\t\t\t\t// this.originalScale = this.scale.clone();\r\n\t\t\t} else {\r\n\t\t\t\tthis.renderOrder = 0;\r\n\t\t\t\tthis.material.depthTest = true;\r\n\t\t\t\tthis.object.position.copy(this.originalPosition);\r\n\t\t\t\tthis.object.scale.copy(this.originalScale);\r\n\t\t\t\tthis.object.quaternion.copy(this.originalQuaternion);\r\n\t\t\t}\r\n\t\t\tthis.material.needsUpdate = true;\r\n\t\t\tthis.updateObjectMatrix();\r\n\t\t\tif (this.zoomBtn) {\r\n\t\t\t\tthis.zoomBtn.zoomed = zoomed;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { fromEvent, merge, ReplaySubject, Subject } from 'rxjs';\r\nimport { filter, map, startWith, switchMap, takeUntil } from 'rxjs/operators';\r\n\r\nexport class DragPoint {\r\n\tconstructor() {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t}\r\n}\r\n\r\nexport class DragEvent {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class DragDownEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t\tthis.distance = new DragPoint();\r\n\t\tthis.strength = new DragPoint();\r\n\t\tthis.speed = new DragPoint();\r\n\t}\r\n}\r\n\r\nexport class DragMoveEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t\tthis.distance = new DragPoint();\r\n\t\tthis.strength = new DragPoint();\r\n\t\tthis.speed = new DragPoint();\r\n\t}\r\n}\r\n\r\nexport class DragUpEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nlet upEvent;\r\n\r\nexport default class DragService {\r\n\r\n\tstatic getPosition(event, point) {\r\n\t\tif (event instanceof MouseEvent) {\r\n\t\t\tpoint ? (\r\n\t\t\t\tpoint.x = event.clientX,\r\n\t\t\t\tpoint.y = event.clientY\r\n\t\t\t) : point = {\r\n\t\t\t\tx: event.clientX,\r\n\t\t\t\ty: event.clientY,\r\n\t\t\t};\r\n\t\t} else if (window.TouchEvent && event instanceof TouchEvent) {\r\n\t\t\tif (event.touches.length > 0) {\r\n\t\t\t\tpoint ? (\r\n\t\t\t\t\tpoint.x = event.touches[0].pageX,\r\n\t\t\t\t\tpoint.y = event.touches[0].pageY\r\n\t\t\t\t) : point = {\r\n\t\t\t\t\tx: event.touches[0].pageX,\r\n\t\t\t\t\ty: event.touches[0].pageY,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\tstatic down$(target, events$) {\r\n\t\tlet downEvent;\r\n\t\treturn merge(\r\n\t\t\tfromEvent(target, 'mousedown').pipe(filter(event => event.button === 0)),\r\n\t\t\tfromEvent(target, 'touchstart'),\r\n\t\t).pipe(\r\n\t\t\tmap((event) => {\r\n\t\t\t\tdownEvent = downEvent || new DragDownEvent();\r\n\t\t\t\tdownEvent.node = target;\r\n\t\t\t\tdownEvent.target = event.target;\r\n\t\t\t\tdownEvent.originalEvent = event;\r\n\t\t\t\tdownEvent.down = this.getPosition(event, downEvent.down);\r\n\t\t\t\tif (downEvent.down) {\r\n\t\t\t\t\tdownEvent.distance = new DragPoint();\r\n\t\t\t\t\tdownEvent.strength = new DragPoint();\r\n\t\t\t\t\tdownEvent.speed = new DragPoint();\r\n\t\t\t\t\tevents$.next(downEvent);\r\n\t\t\t\t\treturn downEvent;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tfilter(event => event !== undefined),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic move$(target, events$, dismiss$, downEvent) {\r\n\t\tlet moveEvent;\r\n\t\treturn fromEvent(document, downEvent.originalEvent instanceof MouseEvent ? 'mousemove' : 'touchmove').pipe(\r\n\t\t\tstartWith(downEvent),\r\n\t\t\tmap((event) => {\r\n\t\t\t\tmoveEvent = moveEvent || new DragMoveEvent();\r\n\t\t\t\tmoveEvent.node = target;\r\n\t\t\t\tmoveEvent.target = event.target;\r\n\t\t\t\tmoveEvent.originalEvent = event;\r\n\t\t\t\tmoveEvent.position = this.getPosition(event, moveEvent.position);\r\n\t\t\t\tconst dragging = downEvent.down !== undefined && moveEvent.position !== undefined;\r\n\t\t\t\tif (dragging) {\r\n\t\t\t\t\tmoveEvent.distance.x = moveEvent.position.x - downEvent.down.x;\r\n\t\t\t\t\tmoveEvent.distance.y = moveEvent.position.y - downEvent.down.y;\r\n\t\t\t\t\tmoveEvent.strength.x = moveEvent.distance.x / window.innerWidth * 2;\r\n\t\t\t\t\tmoveEvent.strength.y = moveEvent.distance.y / window.innerHeight * 2;\r\n\t\t\t\t\tmoveEvent.speed.x = downEvent.speed.x + (moveEvent.strength.x - downEvent.strength.x) * 0.1;\r\n\t\t\t\t\tmoveEvent.speed.y = downEvent.speed.y + (moveEvent.strength.y - downEvent.strength.y) * 0.1;\r\n\t\t\t\t\tdownEvent.distance.x = moveEvent.distance.x;\r\n\t\t\t\t\tdownEvent.distance.y = moveEvent.distance.y;\r\n\t\t\t\t\tdownEvent.speed.x = moveEvent.speed.x;\r\n\t\t\t\t\tdownEvent.speed.y = moveEvent.speed.y;\r\n\t\t\t\t\tdownEvent.strength.x = moveEvent.strength.x;\r\n\t\t\t\t\tdownEvent.strength.y = moveEvent.strength.y;\r\n\t\t\t\t\tevents$.next(moveEvent);\r\n\t\t\t\t\treturn moveEvent;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic dismissEvent(event, events$, dismiss$, downEvent) {\r\n\t\t// console.log('DragService.dismissEvent', event);\r\n\t\tupEvent = upEvent || new DragUpEvent();\r\n\t\tevents$.next(upEvent);\r\n\t\tdismiss$.next();\r\n\t\t// console.log(downEvent.distance);\r\n\t\tif (downEvent && Math.abs(downEvent.distance.x) > 10) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopImmediatePropagation();\r\n\t\t}\r\n\t\treturn upEvent;\r\n\t}\r\n\r\n\tstatic up$(target, events$, dismiss$, downEvent) {\r\n\t\treturn fromEvent(document, downEvent.originalEvent instanceof MouseEvent ? 'mouseup' : 'touchend').pipe(\r\n\t\t\tmap(event => this.dismissEvent(event, events$, dismiss$, downEvent)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic observe$(target) {\r\n\t\ttarget = target || document;\r\n\t\tconst events$ = DragService.events$;\r\n\t\tconst dismiss$ = DragService.dismiss$;\r\n\t\treturn this.down$(target, events$).pipe(\r\n\t\t\tswitchMap((downEvent) => {\r\n\t\t\t\tDragService.downEvent = downEvent;\r\n\t\t\t\treturn merge(\r\n\t\t\t\t\tthis.move$(target, events$, dismiss$, downEvent),\r\n\t\t\t\t\tthis.up$(target, events$, dismiss$, downEvent),\r\n\t\t\t\t).pipe(\r\n\t\t\t\t\ttakeUntil(dismiss$),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\tswitchMap(() => events$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nDragService.events$ = new ReplaySubject(1);\r\nDragService.dismiss$ = new Subject();\r\n","import { combineLatest, ReplaySubject } from 'rxjs';\r\nimport { filter, map, startWith, switchMap, tap } from 'rxjs/operators';\r\nimport DragService, { DragDownEvent, DragMoveEvent } from '../../drag/drag.service';\r\nimport KeyboardService from '../../keyboard/keyboard.service';\r\nimport StateService from '../../state/state.service';\r\nimport { RoleType } from '../../user/user';\r\nimport { ViewType } from '../../view/view';\r\nimport { ViewService } from '../../view/view.service';\r\n\r\n// https://github.com/google/model-viewer/blob/master/packages/model-viewer/src/three-components/SmoothControls.ts\r\n\r\nexport const OrbitMode = {\r\n\tPanorama: 'panorama',\r\n\tPanoramaGrid: 'panorama-grid',\r\n\tModel: 'model',\r\n};\r\n\r\nexport class OrbitEvent { }\r\nexport class OrbitDragEvent extends OrbitEvent { }\r\nexport class OrbitResizeEvent extends OrbitEvent { }\r\nexport class OrbitMoveEvent extends OrbitEvent { }\r\nconst orbitMoveEvent = new OrbitMoveEvent();\r\nconst orbitDragEvent = new OrbitDragEvent();\r\nconst orbitResizeEvent = new OrbitResizeEvent();\r\n\r\nexport const USE_DOLLY = false;\r\nexport const DOLLY_MIN = 1; // 15;\r\nexport const DOLLY_MAX = 75; // 115\r\nexport const ZOOM_MIN = 1; // 15;\r\nexport const ZOOM_MAX = 75;\r\n\r\nexport default class OrbitService {\r\n\r\n\tget dolly() {\r\n\t\treturn this.dolly_;\r\n\t}\r\n\tset dolly(dolly) {\r\n\t\tconst clampedDolly = THREE.Math.clamp(dolly, DOLLY_MIN, DOLLY_MAX);\r\n\t\tif (this.dolly_ !== clampedDolly) {\r\n\t\t\tthis.dolly_ = clampedDolly;\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\tgetDollyValue() {\r\n\t\treturn (1 - (this.dolly_ - DOLLY_MIN) / (DOLLY_MAX - DOLLY_MIN)) - 0.5;\r\n\t}\r\n\r\n\tget zoom() {\r\n\t\treturn this.zoom_;\r\n\t}\r\n\tset zoom(zoom) {\r\n\t\tconst clampedDolly = THREE.Math.clamp(zoom, DOLLY_MIN, DOLLY_MAX);\r\n\t\tif (this.zoom_ !== clampedDolly) {\r\n\t\t\tthis.zoom_ = clampedDolly;\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\tgetZoomValue() {\r\n\t\treturn 1 + 1 - (this.zoom_ - ZOOM_MIN) / (ZOOM_MAX - ZOOM_MIN);\r\n\t}\r\n\r\n\tget mode() {\r\n\t\treturn this.mode_;\r\n\t}\r\n\tset mode(mode) {\r\n\t\tif (this.mode_ !== mode) {\r\n\t\t\tthis.mode_ = mode;\r\n\t\t\tOrbitService.mode = mode;\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\r\n\tget controlled() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling !== StateService.state.uid);\r\n\t}\r\n\r\n\tget controlling() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling === StateService.state.uid);\r\n\t}\r\n\r\n\tget silencing() {\r\n\t\treturn StateService.state.silencing;\r\n\t}\r\n\r\n\tget silenced() {\r\n\t\treturn (StateService.state.silencing && StateService.state.role === RoleType.Streamer);\r\n\t}\r\n\r\n\tget spyed() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying === StateService.state.uid);\r\n\t}\r\n\r\n\tget spying() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying !== StateService.state.uid);\r\n\t}\r\n\r\n\tget isMediaView() {\r\n\t\tconst currentView = ViewService.currentView;\r\n\t\treturn currentView && currentView.type.name === ViewType.Media.name;\r\n\t}\r\n\r\n\tget locked() {\r\n\t\treturn this.controlled || this.spying || this.isMediaView;\r\n\t}\r\n\r\n\tconstructor(camera) {\r\n\t\tthis.mode_ = OrbitService.mode = OrbitMode.Panorama;\r\n\t\tthis.dolly_ = 70;\r\n\t\tthis.zoom_ = 70;\r\n\t\tthis.longitude = 0;\r\n\t\tthis.latitude = 0;\r\n\t\tthis.direction = 1;\r\n\t\tthis.radius = 101;\r\n\t\tthis.position = new THREE.Vector3();\r\n\t\t// this.speed = 1;\r\n\t\tthis.inertia = new THREE.Vector2();\r\n\t\tthis.rotation = new THREE.Euler(0, 0, 0, 'XYZ');\r\n\t\tthis.target = new THREE.Vector3();\r\n\t\tthis.updatePosition = new THREE.Vector3();\r\n\t\tthis.updateTarget = new THREE.Vector3();\r\n\t\tthis.camera = camera;\r\n\t\tthis.setLongitudeLatitude(0, 0);\r\n\t\tthis.events$ = new ReplaySubject(1);\r\n\t}\r\n\r\n\tsetOrientation(orientation) {\r\n\t\tif (orientation) {\r\n\t\t\tthis.setLongitudeLatitude(orientation.longitude, orientation.latitude);\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\r\n\tgetOrientation() {\r\n\t\treturn {\r\n\t\t\tlatitude: this.latitude,\r\n\t\t\tlongitude: this.longitude,\r\n\t\t};\r\n\t}\r\n\r\n\tsetLongitudeLatitude(longitude, latitude) {\r\n\t\tlatitude = Math.max(-80, Math.min(80, latitude));\r\n\t\tthis.longitude = (longitude < 0 ? 360 + longitude : longitude) % 360;\r\n\t\tthis.latitude = latitude;\r\n\t\t// console.log(this.longitude);\r\n\t\tconst phi = THREE.Math.degToRad(90 - latitude);\r\n\t\tconst theta = THREE.Math.degToRad(longitude);\r\n\t\tthis.phi = phi;\r\n\t\tthis.theta = theta;\r\n\t}\r\n\r\n\tobserve$(node) {\r\n\t\t// const camera = this.camera;\r\n\t\tlet latitude, longitude;\r\n\t\treturn combineLatest([KeyboardService.keys$(), DragService.observe$(node)]).pipe(\r\n\t\t\tfilter(event => !this.locked),\r\n\t\t\tmap((datas) => {\r\n\t\t\t\tconst keys = datas[0];\r\n\t\t\t\tconst event = datas[1];\r\n\t\t\t\t// const group = this.objects.children[this.index];\r\n\t\t\t\tif (event instanceof DragDownEvent) {\r\n\t\t\t\t\tlatitude = this.latitude;\r\n\t\t\t\t\tlongitude = this.longitude;\r\n\t\t\t\t} else if (event instanceof DragMoveEvent) {\r\n\t\t\t\t\tif (keys.Shift) {\r\n\t\t\t\t\t\tthis.events$.next(orbitDragEvent);\r\n\t\t\t\t\t} else if (keys.Control) {\r\n\t\t\t\t\t\tthis.events$.next(orbitResizeEvent);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst flip = this.mode_ === OrbitMode.Model ? -1 : 1;\r\n\t\t\t\t\t\tthis.setLongitudeLatitude(longitude - event.distance.x * 0.1 * flip, latitude + event.distance.y * 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} /* else if (event instanceof DragUpEvent) {\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t\tfilter(event => event instanceof DragMoveEvent),\r\n\t\t\tstartWith({ latitude: this.latitude, longitude: this.longitude }),\r\n\t\t\ttap(event => this.markAsDirty()),\r\n\t\t\tswitchMap(event => this.events$),\r\n\t\t);\r\n\t}\r\n\r\n\twalk(position, callback) {\r\n\t\tlet radius;\r\n\t\tswitch (this.mode_) {\r\n\t\t\tcase OrbitMode.Model:\r\n\t\t\t\tradius = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tradius = this.radius;\r\n\t\t}\r\n\t\tconst heading = new THREE.Vector2(position.x, position.y).normalize().multiplyScalar(radius);\r\n\t\tconst headingTheta = Math.atan2(heading.y, heading.x);\r\n\t\tlet headingLongitude = THREE.MathUtils.radToDeg(headingTheta);\r\n\t\theadingLongitude = (headingLongitude < 0 ? 360 + headingLongitude : headingLongitude) % 360;\r\n\t\tconst headingLatitude = 0;\r\n\t\tconst latitude = this.latitude;\r\n\t\tconst longitude = this.longitude;\r\n\t\tlet differenceLongitude = (headingLongitude - longitude);\r\n\t\tdifferenceLongitude = Math.abs(differenceLongitude) > 180 ? (differenceLongitude - 360 * (differenceLongitude / Math.abs(differenceLongitude))) : differenceLongitude;\r\n\t\tlet differenceLatitude = (headingLatitude - latitude);\r\n\t\tdifferenceLatitude = Math.abs(differenceLatitude) > 90 ? (differenceLatitude - 90 * (differenceLatitude / Math.abs(differenceLatitude))) : differenceLatitude;\r\n\t\t// console.log('headingTheta', headingTheta, 'headingLongitude', headingLongitude, 'differenceLongitude', differenceLongitude);\r\n\t\tconst from = { tween: 0 };\r\n\t\tgsap.to(from, {\r\n\t\t\tduration: 0.7,\r\n\t\t\ttween: 1,\r\n\t\t\tdelay: 0,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tthis.setLongitudeLatitude(longitude + differenceLongitude * from.tween, latitude + differenceLatitude * from.tween);\r\n\t\t\t\tthis.position.set(position.x * from.tween, 0, position.y * from.tween);\r\n\t\t\t\tthis.markAsDirty();\r\n\t\t\t},\r\n\t\t\tonComplete: () => {\r\n\t\t\t\t// this.walkComplete(headingLongitude, headingLatitude);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(headingLongitude, headingLatitude);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\twalkComplete(headingLongitude, headingLatitude) {\r\n\t\tthis.setLongitudeLatitude(headingLongitude, headingLatitude);\r\n\t\tthis.position.set(0, 0, 0);\r\n\t\tthis.markAsDirty();\r\n\t}\r\n\r\n\tlookAt(object) {\r\n\t\t// console.log('OrbitService.lookAt', object);\r\n\t\tif (object) {\r\n\t\t\tlet position = object.position.clone();\r\n\t\t\tconst camera = this.camera;\r\n\t\t\tconst cameraGroup = camera.parent;\r\n\t\t\tposition = cameraGroup.worldToLocal(position);\r\n\t\t\tlet radius;\r\n\t\t\tswitch (this.mode_) {\r\n\t\t\t\tcase OrbitMode.Model:\r\n\t\t\t\t\tradius = 3;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tradius = this.radius;\r\n\t\t\t}\r\n\t\t\tconst heading = new THREE.Vector3(position.x, position.z, position.y).normalize().multiplyScalar(radius);\r\n\t\t\tconst theta = Math.atan2(heading.y, heading.x);\r\n\t\t\tconst phi = Math.acos(heading.z / radius);\r\n\t\t\tlet longitude = THREE.MathUtils.radToDeg(theta);\r\n\t\t\tlongitude = (longitude < 0 ? 360 + longitude : longitude) % 360;\r\n\t\t\tlet latitude = 90 - THREE.MathUtils.radToDeg(phi);\r\n\t\t\tlatitude = Math.max(-80, Math.min(80, latitude));\r\n\t\t\tthis.setLongitudeLatitude(longitude, latitude);\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\r\n\tsetVRCamera(camera) {\r\n\t\tif (camera) {\r\n\t\t\tconst radius = this.radius;\r\n\t\t\tconst position = new THREE.Vector3(0, 0, -radius);\r\n\t\t\tconst quaternion = new THREE.Quaternion(camera[3], camera[4], camera[5], camera[6]);\r\n\t\t\tposition.applyQuaternion(quaternion);\r\n\t\t\tconst heading = new THREE.Vector3(position.x, position.z, position.y).normalize().multiplyScalar(radius);\r\n\t\t\tconst theta = Math.atan2(heading.y, heading.x);\r\n\t\t\tconst phi = Math.acos(heading.z / radius);\r\n\t\t\tlet longitude = THREE.MathUtils.radToDeg(theta);\r\n\t\t\tlongitude = (longitude < 0 ? 360 + longitude : longitude) % 360;\r\n\t\t\tlet latitude = 90 - THREE.MathUtils.radToDeg(phi);\r\n\t\t\tlatitude = Math.max(-80, Math.min(80, latitude));\r\n\t\t\tthis.setLongitudeLatitude(longitude, latitude);\r\n\t\t\tthis.markAsDirty();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t// slowly rotate scene when not hosted\r\n\t\tif (!StateService.state.hosted) {\r\n\t\t\tthis.longitude += 0.025;\r\n\t\t\tthis.isDirty = true;\r\n\t\t}\r\n\t\tif (this.isDirty) {\r\n\t\t\tthis.isDirty = false;\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t}\r\n\r\n\tmarkAsDirty() {\r\n\t\tthis.isDirty = true;\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tlet radius, position = this.updatePosition, target = this.updateTarget;\r\n\t\tconst zoom = this.getZoomValue();\r\n\t\tconst dolly = this.getDollyValue();\r\n\t\t// console.log('dolly', dolly);\r\n\t\tconst phi = THREE.MathUtils.degToRad(90 - this.latitude);\r\n\t\tconst theta = THREE.MathUtils.degToRad(this.longitude);\r\n\t\tconst camera = this.camera;\r\n\t\tconst cameraGroup = camera.parent;\r\n\t\tswitch (this.mode_) {\r\n\t\t\tcase OrbitMode.Model:\r\n\t\t\t\tradius = USE_DOLLY ? 3 + 3 * dolly : 3;\r\n\t\t\t\tposition.copy(this.position);\r\n\t\t\t\ttarget.x = this.position.x + radius * Math.sin(phi) * Math.cos(theta);\r\n\t\t\t\ttarget.y = this.position.y + radius * Math.cos(phi);\r\n\t\t\t\ttarget.z = this.position.z + radius * Math.sin(phi) * Math.sin(theta);\r\n\t\t\t\t// position = cameraGroup.worldToLocal(position);\r\n\t\t\t\ttarget = cameraGroup.worldToLocal(target);\r\n\t\t\t\tcamera.target.copy(position);\r\n\t\t\t\tcamera.position.copy(target);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tradius = this.radius;\r\n\t\t\t\ttarget.x = this.position.x + radius * Math.sin(phi) * Math.cos(theta);\r\n\t\t\t\ttarget.y = this.position.y + radius * Math.cos(phi);\r\n\t\t\t\ttarget.z = this.position.z + radius * Math.sin(phi) * Math.sin(theta);\r\n\t\t\t\tif (USE_DOLLY) {\r\n\t\t\t\t\tposition.copy(target).position.multiplyScalar(-1 * dolly);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tposition.copy(this.position);\r\n\t\t\t\t}\r\n\t\t\t\t// !!! position for walking panorama-grid\r\n\t\t\t\t// position = cameraGroup.worldToLocal(position);\r\n\t\t\t\ttarget = cameraGroup.worldToLocal(target);\r\n\t\t\t\t// camera.position.copy(position);\r\n\t\t\t\tcamera.target.copy(target);\r\n\t\t\t\tcamera.position.copy(position);\r\n\t\t}\r\n\t\t// console.log(camera.position.x, camera.position.y, camera.position.z);\r\n\t\t// console.log(camera.target.x, camera.target.y, camera.target.z);\r\n\t\t// console.log('phi', phi, 'theta', theta);\r\n\t\t// this.inverse();\r\n\t\tif (!USE_DOLLY) {\r\n\t\t\tcamera.zoom = zoom;\r\n\t\t}\r\n\t\tcamera.lookAt(camera.target);\r\n\t\tcamera.updateProjectionMatrix();\r\n\t\tconst currentView = ViewService.currentView;\r\n\t\tif (currentView) {\r\n\t\t\tcurrentView.lastOrientation.longitude = this.longitude;\r\n\t\t\tcurrentView.lastOrientation.latitude = this.latitude;\r\n\t\t}\r\n\t\tthis.events$.next(orbitMoveEvent);\r\n\t}\r\n\r\n}\r\n\r\nOrbitService.orbitMoveEvent = orbitMoveEvent;\r\n","import { fromEvent, of } from 'rxjs';\r\nimport { auditTime, filter, finalize, map, takeWhile } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\n\r\nlet UID = 0;\r\n\r\nexport const ImageServiceEvent = {\r\n\tProgress: 'progress',\r\n\tComplete: 'complete',\r\n};\r\nexport default class ImageService {\r\n\r\n\tstatic worker() {\r\n\t\tif (!this.worker_) {\r\n\t\t\tthis.worker_ = new Worker(environment.workers.image);\r\n\t\t}\r\n\t\treturn this.worker_;\r\n\t}\r\n\r\n\tstatic events$(src, size) {\r\n\t\tif (!('Worker' in window) || this.isBlob(src) || this.isCors(src)) {\r\n\t\t\treturn of({ type: ImageServiceEvent.Complete, data: src });\r\n\t\t}\r\n\t\tconst id = ++UID;\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ src, id, size });\r\n\t\tlet lastEvent;\r\n\t\treturn fromEvent(worker, 'message').pipe(\r\n\t\t\tmap(event => event.data),\r\n\t\t\tfilter(event => event.src === src),\r\n\t\t\tauditTime(100),\r\n\t\t\tmap(event => {\r\n\t\t\t\t// console.log('ImageService', event);\r\n\t\t\t\tif (event.type === ImageServiceEvent.Complete && event.data instanceof Blob) {\r\n\t\t\t\t\tconst url = URL.createObjectURL(event.data);\r\n\t\t\t\t\tevent.data = url;\r\n\t\t\t\t}\r\n\t\t\t\tlastEvent = event;\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t\ttakeWhile(event => event.type !== ImageServiceEvent.Complete, true),\r\n\t\t\tfinalize(() => {\r\n\t\t\t\t// console.log('ImageService.finalize', lastEvent);\r\n\t\t\t\tworker.postMessage({ id });\r\n\t\t\t\t/*\r\n\t\t\t\tif (lastEvent && lastEvent.type === ImageServiceEvent.Complete && lastEvent.data) {\r\n\t\t\t\t\tURL.revokeObjectURL(lastEvent.data);\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic load$(src, size) {\r\n\t\treturn this.events$(src, size).pipe(\r\n\t\t\tfilter(event => event.type === ImageServiceEvent.Complete),\r\n\t\t\tmap(event => event.data),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic isCors(src) {\r\n\t\t// !!! handle cors environment flag\r\n\t\treturn false;\r\n\t\t// return src.indexOf('://') !== -1 && src.indexOf(window.location.host) === -1;\r\n\t}\r\n\r\n\tstatic isBlob(src) {\r\n\t\treturn src.indexOf('blob:') === 0;\r\n\t}\r\n\r\n}\r\n","import { fromEvent } from 'rxjs';\r\nimport { filter, first, map, switchMap, takeUntil, takeWhile, tap } from 'rxjs/operators';\r\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\nimport { AssetType } from '../../asset/asset';\r\nimport { environment } from '../../environment';\r\nimport ImageService, { ImageServiceEvent } from '../../image/image.service';\r\nimport LoaderService from '../../loader/loader.service';\r\nimport StreamService from '../../stream/stream.service';\r\nimport MediaLoader, { MediaLoaderDisposeEvent, MediaLoaderPauseEvent, MediaLoaderPlayEvent, MediaLoaderTimeSetEvent, MediaLoaderTimeUpdateEvent } from '../media/media-loader';\r\nimport MediaMesh from '../media/media-mesh';\r\n\r\nexport class PanoramaLoader {\r\n\r\n\tstatic get video() {\r\n\t\treturn this.video_;\r\n\t}\r\n\r\n\tstatic set video(video) {\r\n\t\tif (this.video_) {\r\n\t\t\tthis.video_.muted = true;\r\n\t\t\tthis.video_.pause();\r\n\t\t\tif (this.video_.parentNode) {\r\n\t\t\t\tthis.video_.parentNode.removeChild(this.video_);\r\n\t\t\t}\r\n\t\t\tthis.video_ = null;\r\n\t\t}\r\n\t\tif (video) {\r\n\t\t\tconst video = this.video_ = document.createElement('video');\r\n\t\t\tvideo.loop = true;\r\n\t\t\tvideo.playsInline = true;\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\t// document.querySelector('body').appendChild(video);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get muted() {\r\n\t\treturn this.muted_;\r\n\t}\r\n\r\n\tstatic set muted(muted) {\r\n\t\tthis.muted_ = muted;\r\n\t\t// console.log('PanoramaLoader.muted', muted, this.video);\r\n\t\tif (this.video) {\r\n\t\t\tthis.video.muted = muted === true;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic set cubeRenderTarget(cubeRenderTarget) {\r\n\t\tif (this.cubeRenderTarget_) {\r\n\t\t\tthis.cubeRenderTarget_.texture.dispose();\r\n\t\t\tthis.cubeRenderTarget_.dispose();\r\n\t\t}\r\n\t\tthis.cubeRenderTarget_ = cubeRenderTarget;\r\n\t}\r\n\r\n\tstatic set texture(texture) {\r\n\t\tif (this.texture_) {\r\n\t\t\tthis.texture_.dispose();\r\n\t\t}\r\n\t\tthis.texture_ = texture;\r\n\t}\r\n\r\n\tstatic load(asset, renderer, callback) {\r\n\t\tMediaLoader.events$.next(new MediaLoaderDisposeEvent(this));\r\n\t\tthis.video = null;\r\n\t\tif (!asset) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// console.log('PanoramaLoader.load', asset.type.name, AssetType);\r\n\t\tif (asset.type.name === AssetType.PublisherStream.name) {\r\n\t\t\treturn this.loadPublisherStreamBackground(renderer, callback);\r\n\t\t} else if (asset.type.name === AssetType.AttendeeStream.name) {\r\n\t\t\treturn this.loadAttendeeStreamBackground(renderer, callback);\r\n\t\t\t/*} else if (assetIsStream(asset)) {\r\n\t\t\t\treturn this.loadStreamBackground(renderer, callback, asset);\r\n\t\t\t\t*/\r\n\t\t} else if (asset.file.indexOf('.mp4') !== -1 || asset.file.indexOf('.webm') !== -1) {\r\n\t\t\treturn this.loadVideoBackground(environment.getPath(asset.folder), asset.file, renderer, callback);\r\n\t\t} else if (asset.file.indexOf('.m3u8') !== -1) {\r\n\t\t\treturn this.loadHlslVideoBackground(asset.file, renderer, callback);\r\n\t\t} else if (asset.file.indexOf('.hdr') !== -1) {\r\n\t\t\treturn this.loadRgbeBackground(environment.getPath(asset.folder), asset.file, renderer, callback);\r\n\t\t} else {\r\n\t\t\treturn this.loadBackgroundImageService(environment.getPath(asset.folder), asset.file, renderer, callback);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic loadBackgroundImageService(folder, file, renderer, callback) {\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\tconst image = new Image();\r\n\t\tImageService.events$(folder + file).pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tif (event.type === ImageServiceEvent.Progress) {\r\n\t\t\t\t\tLoaderService.setProgress(progressRef, event.data.loaded, event.data.total);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tfilter(event => event.type === ImageServiceEvent.Complete),\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst load = fromEvent(image, 'load');\r\n\t\t\t\timage.crossOrigin = 'anonymous';\r\n\t\t\t\timage.src = event.data;\r\n\t\t\t\treturn load;\r\n\t\t\t}),\r\n\t\t\ttakeWhile(event => event.type !== ImageServiceEvent.Complete, true),\r\n\t\t).subscribe(event => {\r\n\t\t\tconst texture = new THREE.Texture(image);\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t// console.log('texture', texture, THREE.RGBAFormat, THREE.LinearEncoding);\r\n\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\ttexture.toneMapped = false;\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture);\r\n\t\t\t\tURL.revokeObjectURL(event.data);\r\n\t\t\t}\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic loadBackground(folder, file, renderer, callback) {\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\tconst loader = new THREE.TextureLoader();\r\n\t\tloader.setPath(folder).load(file, (texture) => {\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture);\r\n\t\t\t}\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t}, (request) => {\r\n\t\t\tLoaderService.setProgress(progressRef, request.loaded, request.total);\r\n\t\t});\r\n\t\treturn loader;\r\n\t}\r\n\r\n\tstatic loadRgbeBackground(folder, file, renderer, callback) {\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\tconst loader = new RGBELoader();\r\n\t\tloader.setDataType(THREE.UnsignedByteType).setPath(folder).load(file, (texture) => {\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture, true);\r\n\t\t\t}\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t}, (request) => {\r\n\t\t\tLoaderService.setProgress(progressRef, request.loaded, request.total);\r\n\t\t});\r\n\t\treturn loader;\r\n\t}\r\n\r\n\tstatic loadHlslVideoBackground(src, renderer, callback) {\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\tconst video = document.createElement('video');\r\n\t\tconst onPlaying = () => {\r\n\t\t\tvideo.oncanplay = null;\r\n\t\t\tconst texture = new THREE.VideoTexture(video);\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture);\r\n\t\t\t}\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t};\r\n\t\tvideo.oncanplay = () => {\r\n\t\t\t// console.log('videoReady', videoReady);\r\n\t\t\tonPlaying();\r\n\t\t};\r\n\t\tif (Hls.isSupported()) {\r\n\t\t\tvar hls = new Hls();\r\n\t\t\thls.attachMedia(video);\r\n\t\t\thls.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n\t\t\t\thls.loadSource(src);\r\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n\t\t\t\t\tvideo.play();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// !!! implementing medialoader interface\r\n\t// static get progress\r\n\t// static set progress\r\n\t// static play\r\n\t// static pause\r\n\r\n\tstatic get progress() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\treturn video.currentTime / video.duration;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\tstatic set progress(progress) {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tconst currentTime = video.duration * progress;\r\n\t\t\tif (video.seekable.length > progress && video.currentTime !== currentTime) {\r\n\t\t\t\t// console.log('PanoramaLoader', 'progress', progress, 'currentTime', currentTime, 'duration', this.video.duration, 'seekable', this.video.seekable);\r\n\t\t\t\tvideo.currentTime = currentTime;\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderTimeSetEvent(this));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tstatic play(silent) {\r\n\t\t// console.log('PanoramaLoader.play');\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tvideo.muted = this.muted_;\r\n\t\t\tvideo.play().then(() => {\r\n\t\t\t\t// console.log('PanoramaLoader.play.success', this.video.src);\r\n\t\t\t\tif (!silent) {\r\n\t\t\t\t\tMediaLoader.events$.next(new MediaLoaderPlayEvent(this));\r\n\t\t\t\t}\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('PanoramaLoader.play.error', video.src, error);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tstatic pause(silent) {\r\n\t\t// console.log('PanoramaLoader.pause');\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tvideo.muted = true;\r\n\t\t\tvideo.pause();\r\n\t\t\tif (!silent) {\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderPauseEvent(this));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic loadVideoBackground(folder, file, renderer, callback) {\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\tthis.video = true;\r\n\t\tconst video = this.video;\r\n\t\tconst loop = true;\r\n\t\tconst autoplay = true;\r\n\t\tconst onCanPlay = () => {\r\n\t\t\t// console.log('PanoramaLoader', 'onPlaying');\r\n\t\t\tvideo.oncanplay = null;\r\n\t\t\tconst texture = new THREE.VideoTexture(video);\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture);\r\n\t\t\t}\r\n\t\t\t// console.log('loadVideoBackground.loaded');\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t\tif (autoplay) {\r\n\t\t\t\tthis.play();\r\n\t\t\t} else {\r\n\t\t\t\tvideo.pause();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst onTimeUpdate = () => {\r\n\t\t\tMediaLoader.events$.next(new MediaLoaderTimeUpdateEvent(this));\r\n\t\t};\r\n\t\tconst onEnded = () => {\r\n\t\t\tif (!loop) {\r\n\t\t\t\tMediaLoader.events$.next(new MediaLoaderPauseEvent(this));\r\n\t\t\t}\r\n\t\t};\r\n\t\tvideo.oncanplay = onCanPlay;\r\n\t\tvideo.ontimeupdate = onTimeUpdate;\r\n\t\tvideo.onended = onEnded;\r\n\t\tvideo.crossOrigin = 'anonymous';\r\n\t\tvideo.src = folder + file;\r\n\t\tvideo.load();\r\n\t}\r\n\r\n\tstatic loadPublisherStreamBackground(renderer, callback) {\r\n\t\tconst onPublisherStreamId = (publisherStreamId) => {\r\n\t\t\tconst video = document.querySelector(`#stream-${publisherStreamId} video`);\r\n\t\t\tif (!video) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst onPlaying = () => {\r\n\t\t\t\tconst texture = this.texture = new THREE.VideoTexture(video);\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\tif (video.readyState >= video.HAVE_FUTURE_DATA) {\r\n\t\t\t\tonPlaying();\r\n\t\t\t} else {\r\n\t\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\t\tonPlaying();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t\tStreamService.getPublisherStreamId$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(publisherStreamId => onPublisherStreamId(publisherStreamId));\r\n\t}\r\n\r\n\tstatic loadAttendeeStreamBackground(renderer, callback) {\r\n\t\tconst onAttendeeStreamId = (attendeeStreamId) => {\r\n\t\t\tconst video = document.querySelector(`#stream-${attendeeStreamId} video`);\r\n\t\t\tif (!video) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst onPlaying = () => {\r\n\t\t\t\tconst texture = this.texture = new THREE.VideoTexture(video);\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\tif (video.readyState >= video.HAVE_FUTURE_DATA) {\r\n\t\t\t\tonPlaying();\r\n\t\t\t} else {\r\n\t\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\t\tonPlaying();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t\tStreamService.getAttendeeStreamId$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(attendeeStreamId => onAttendeeStreamId(attendeeStreamId));\r\n\t}\r\n\r\n\tstatic loadStreamBackground(renderer, callback, asset) {\r\n\t\tconst onStreamId = (streamId) => {\r\n\t\t\tconst video = document.querySelector(`#stream-${streamId} video`);\r\n\t\t\tif (!video) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst onPlaying = () => {\r\n\t\t\t\tconst texture = this.texture = new THREE.VideoTexture(video);\r\n\t\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t\t// texture.encoding = THREE.LinearEncoding;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(texture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvideo.crossOrigin = 'anonymous';\r\n\t\t\tif (video.readyState >= video.HAVE_FUTURE_DATA) {\r\n\t\t\t\tonPlaying();\r\n\t\t\t} else {\r\n\t\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\t\tonPlaying();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t\tPanoramaLoader.getStreamId$(asset).pipe(\r\n\t\t\ttakeUntil(MediaLoader.events$.pipe(\r\n\t\t\t\tfilter(event => event instanceof MediaLoaderDisposeEvent),\r\n\t\t\t)),\r\n\t\t).subscribe((streamId) => {\r\n\t\t\tonStreamId(streamId);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic getStreamId$(asset) {\r\n\t\tconst assetType = asset.type;\r\n\t\treturn StreamService.streams$.pipe(\r\n\t\t\tmap((streams) => {\r\n\t\t\t\t// console.log('streams', streams);\r\n\t\t\t\tlet stream;\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\tconst matchType = MediaMesh.getTypeMatcher(assetType);\r\n\t\t\t\tstreams.forEach(x => {\r\n\t\t\t\t\t// console.log('streams', matchType(x), x, asset);\r\n\t\t\t\t\tif (matchType(x)) {\r\n\t\t\t\t\t\tif (i === asset.index) {\r\n\t\t\t\t\t\t\tstream = x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (stream) {\r\n\t\t\t\t\treturn stream.streamId;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Asset, AssetType } from '../../asset/asset';\r\nimport { LanguageService } from '../../language/language.service';\r\nimport StateService from '../../state/state.service';\r\nimport { PanoramaGridView, ViewType } from '../../view/view';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport { PanoramaLoader } from './panorama-loader';\r\n\r\nexport default class Panorama {\r\n\r\n\tconstructor(renderer) {\r\n\t\tthis.muted_ = false;\r\n\t\tthis.subscription = StateService.state$.subscribe(state => PanoramaLoader.muted = state.volumeMuted);\r\n\t\tthis.tween = 0;\r\n\t\tthis.create(renderer);\r\n\t}\r\n\r\n\tcreate(renderer) {\r\n\t\tthis.renderer = renderer;\r\n\t\tthis.onCubeMapDispose = this.onCubeMapDispose.bind(this);\r\n\t\tconst geometry = new THREE.BoxGeometry(202, 202, 202);\r\n\t\tconst material = this.getBlackMaterial();\r\n\t\tconst mesh = new InteractiveMesh(geometry, material);\r\n\t\tmesh.userData = {\r\n\t\t\trender: (time, tick, renderer, scene, camera) => {\r\n\t\t\t\tmesh.matrixWorld.copyPosition(camera.matrixWorld);\r\n\t\t\t\tconst cubeMap = this.cubeMap;\r\n\t\t\t\tconst texture = this.texture;\r\n\t\t\t\tif (cubeMap && texture && texture.isVideoTexture) {\r\n\t\t\t\t\tthis.updateCubeMapEquirectangularTexture(cubeMap, renderer, texture);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t};\r\n\t\tmesh.name = '[panorama]';\r\n\t\tthis.mesh = mesh;\r\n\t}\r\n\r\n\tgetBlackMaterial() {\r\n\t\treturn new THREE.MeshBasicMaterial({\r\n\t\t\tname: 'PanoramaStandardMaterial',\r\n\t\t\tcolor: 0x000000,\r\n\t\t\tside: THREE.BackSide,\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tfog: false,\r\n\t\t});\r\n\t}\r\n\r\n\tgetShaderMaterial(texture) {\r\n\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\tname: 'PanoramaCubeMaterial',\r\n\t\t\tuniforms: this.cloneUniforms(THREE.ShaderLib.cube.uniforms),\r\n\t\t\tvertexShader: THREE.ShaderLib.cube.vertexShader,\r\n\t\t\tfragmentShader: THREE.ShaderLib.cube.fragmentShader,\r\n\t\t\tside: THREE.BackSide,\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tfog: false,\r\n\t\t\ttoneMapped: false,\r\n\t\t});\r\n\t\ttexture.mapping = THREE.EquirectangularReflectionMapping;\r\n\t\tconst cubeMap = this.toCubeMap(texture, this.renderer);\r\n\t\tmaterial.map = cubeMap;\r\n\t\tmaterial.uniforms.envMap.value = cubeMap;\r\n\t\tmaterial.uniforms.flipEnvMap.value = cubeMap.isCubeTexture && cubeMap._needsFlipEnvMap ? -1 : 1;\r\n\t\tmaterial.needsUpdate = true;\r\n\t\tthis.mesh.geometry.deleteAttribute('normal');\r\n\t\tthis.mesh.geometry.deleteAttribute('uv');\r\n\t\tObject.defineProperty(material, 'envMap', {\r\n\t\t\tget: function() {\r\n\t\t\t\treturn this.uniforms.envMap.value;\r\n\t\t\t},\r\n\t\t\tconfigurable: true,\r\n\t\t});\r\n\t\treturn material;\r\n\t}\r\n\r\n\tmakeEnvMap(texture) {\r\n\t\tlet material = this.mesh.material;\r\n\t\tif (!material.uniforms) {\r\n\t\t\tmaterial.dispose();\r\n\t\t\tmaterial = this.getShaderMaterial(texture);\r\n\t\t\tthis.mesh.material = material;\r\n\t\t} else {\r\n\t\t\ttexture.mapping = THREE.EquirectangularReflectionMapping;\r\n\t\t\tconst cubeMap = this.toCubeMap(texture, this.renderer);\r\n\t\t\tmaterial.map = cubeMap;\r\n\t\t\tmaterial.uniforms.envMap.value = cubeMap;\r\n\t\t\tmaterial.uniforms.flipEnvMap.value = cubeMap.isCubeTexture && cubeMap._needsFlipEnvMap ? -1 : 1;\r\n\t\t\tmaterial.needsUpdate = true;\r\n\t\t}\r\n\t\t// console.log('Panorama.makeEnvMap', this.texture, this.cubeMap);\r\n\t}\r\n\r\n\ttoCubeMap(texture, renderer) {\r\n\t\tif (this.cubeMap) {\r\n\t\t\tthis.cubeMap.dispose();\r\n\t\t}\r\n\t\tconst image = texture.image;\r\n\t\tconst height = image.height || image.videoHeight;\r\n\t\tconst cubeMap = new THREE.WebGLCubeRenderTarget(height / 2, {\r\n\t\t\tgenerateMipmaps: true,\r\n\t\t\ttype: THREE.HalfFloatType,\r\n\t\t\tencoding: THREE.LinearEncoding,\r\n\t\t\t// minFilter: THREE.LinearMipmapLinearFilter,\r\n\t\t\tminFilter: THREE.LinearFilter,\r\n\t\t\tmagFilter: THREE.LinearFilter,\r\n\t\t\t// mapping: THREE.CubeReflectionMapping,\r\n\t\t\t// mapping: THREE.EquirectangularReflectionMapping,\r\n\t\t\tmapping: THREE.CubeUVReflectionMapping,\r\n\t\t\t// mapping: THREE.UVMapping,\r\n\t\t\tformat: THREE.RGBAFormat,\r\n\t\t});\r\n\t\tcubeMap.addEventListener('dispose', this.onCubeMapDispose);\r\n\t\tthis.setCubeMapEquirectangularTexture(cubeMap, texture);\r\n\t\tthis.updateCubeMapEquirectangularTexture(cubeMap, renderer, texture);\r\n\t\tthis.cubeMap = cubeMap;\r\n\t\tthis.texture = texture;\r\n\t\treturn this.mapTextureMapping(cubeMap.texture, texture.mapping);\r\n\t}\r\n\r\n\tsetCubeMapEquirectangularTexture(cubeMap, texture) {\r\n\t\tcubeMap.texture.type = texture.type;\r\n\t\tcubeMap.texture.format = THREE.RGBAFormat;\r\n\t\tcubeMap.texture.encoding = THREE.sRGBEncoding;\r\n\t\tcubeMap.texture.generateMipmaps = texture.generateMipmaps;\r\n\t\tcubeMap.texture.minFilter = texture.minFilter;\r\n\t\tcubeMap.texture.magFilter = texture.magFilter;\r\n\t\tcubeMap.texture.needsUpdate = true;\r\n\t\tconst shader = {\r\n\t\t\tuniforms: {\r\n\t\t\t\ttEquirect: { value: null },\r\n\t\t\t},\r\n\t\t\tvertexShader: /* glsl */ `\r\n\t\t\t\t\tvarying vec3 vWorldDirection;\r\n\t\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\r\n\t\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvoid main() {\r\n\t\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\r\n\t\t\t\t\t\t#include <begin_vertex>\r\n\t\t\t\t\t\t#include <project_vertex>\r\n\t\t\t\t\t}\r\n\t\t\t\t`,\r\n\t\t\tfragmentShader: /* glsl */ `\r\n\t\t\t\t\tuniform sampler2D tEquirect;\r\n\t\t\t\t\tvarying vec3 vWorldDirection;\r\n\t\t\t\t\t#include <common>\r\n\t\t\t\t\tvoid main() {\r\n\t\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\r\n\t\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\r\n\t\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\r\n\t\t\t\t\t}\r\n\t\t\t\t`,\r\n\t\t};\r\n\t\tconst geometry = new THREE.BoxGeometry(5, 5, 5);\r\n\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\tname: 'CubemapFromEquirect',\r\n\t\t\tuniforms: this.cloneUniforms(shader.uniforms),\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader,\r\n\t\t\tside: THREE.BackSide,\r\n\t\t\tblending: THREE.NoBlending,\r\n\t\t});\r\n\t\tmaterial.uniforms.tEquirect.value = texture;\r\n\t\tconst mesh = new THREE.Mesh(geometry, material);\r\n\t\tconst camera = new THREE.CubeCamera(1, 10, cubeMap);\r\n\t\tcubeMap.camera = camera;\r\n\t\tcubeMap.mesh = mesh;\r\n\t\treturn cubeMap;\r\n\t}\r\n\r\n\tupdateCubeMapEquirectangularTexture(cubeMap, renderer, texture) {\r\n\t\tconst previousMinFilter = texture.minFilter;\r\n\t\t// Avoid blurred poles\r\n\t\tif (texture.minFilter === THREE.LinearMipmapLinearFilter) {\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t}\r\n\t\t/*\r\n\t\tconst outputEncoding = renderer.outputEncoding;\r\n\t\tconst toneMapping = renderer.toneMapping;\r\n\t\tconst toneMappingExposure = renderer.toneMappingExposure;\r\n\t\trenderer.toneMapping = THREE.NoToneMapping;\r\n\t\trenderer.outputEncoding = THREE.LinearEncoding;\r\n\t\trenderer.toneMappingExposure = 2;\r\n\t\t*/\r\n\t\tcubeMap.camera.update(renderer, cubeMap.mesh);\r\n\t\t/*\r\n\t\trenderer.toneMapping = toneMapping;\r\n\t\trenderer.outputEncoding = outputEncoding;\r\n\t\trenderer.toneMappingExposure = toneMappingExposure;\r\n\t\t*/\r\n\t\ttexture.minFilter = previousMinFilter;\r\n\t\t// console.log('updateCubeMapEquirectangularTexture');\r\n\t}\r\n\r\n\tcloneUniforms(src) {\r\n\t\tconst dst = {};\r\n\t\tfor (const u in src) {\r\n\t\t\tdst[u] = {};\r\n\t\t\tfor (const p in src[u]) {\r\n\t\t\t\tconst property = src[u][p];\r\n\t\t\t\tif (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture || property.isQuaternion)) {\r\n\t\t\t\t\tdst[u][p] = property.clone();\r\n\t\t\t\t} else if (Array.isArray(property)) {\r\n\t\t\t\t\tdst[u][p] = property.slice();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdst[u][p] = property;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dst;\r\n\t}\r\n\r\n\tmapTextureMapping(texture, mapping) {\r\n\t\tif (mapping === THREE.EquirectangularReflectionMapping) {\r\n\t\t\ttexture.mapping = THREE.CubeReflectionMapping;\r\n\t\t} else if (mapping === THREE.EquirectangularRefractionMapping) {\r\n\t\t\ttexture.mapping = THREE.CubeRefractionMapping;\r\n\t\t}\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tonCubeMapDispose() {\r\n\t\tconst cubeMap = this.cubeMap;\r\n\t\tif (cubeMap) {\r\n\t\t\t// console.log('Panorama.onCubeMapDispose', cubeMap);\r\n\t\t\tcubeMap.removeEventListener('dispose', this.onCubeMapDispose);\r\n\t\t\tcubeMap.texture.dispose();\r\n\t\t\tcubeMap.mesh.geometry.dispose();\r\n\t\t\tcubeMap.mesh.material.dispose();\r\n\t\t\tif (cubeMap !== undefined) {\r\n\t\t\t\tthis.cubeMap = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchange(view, renderer, callback, onexit) {\r\n\t\tconst item = view instanceof PanoramaGridView ? view.tiles[view.index_] : view;\r\n\t\tconst material = this.mesh.material;\r\n\t\tthis.load(item, renderer, (envMap) => {\r\n\t\t\tif (typeof onexit === 'function') {\r\n\t\t\t\tonexit(view);\r\n\t\t\t}\r\n\t\t\tif (material.uniforms && material.uniforms.uTween) {\r\n\t\t\t\tmaterial.uniforms.uTween.value = 1;\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(envMap);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcrossfade(item, renderer, callback) {\r\n\t\tconst material = this.mesh.material;\r\n\t\tthis.load(item, renderer, (envMap) => {\r\n\t\t\tif (material.uniforms && material.uniforms.uTween) {\r\n\t\t\t\tmaterial.uniforms.uTween.value = 1;\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(envMap);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetLocalizedAsset(asset) {\r\n\t\tif (asset && asset.locale) {\r\n\t\t\tconst localizedAsset = asset.locale[LanguageService.lang];\r\n\t\t\tif (localizedAsset) {\r\n\t\t\t\tasset = localizedAsset;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn asset;\r\n\t}\r\n\r\n\tload(item, renderer, callback) {\r\n\t\tconst asset = item.type.name === ViewType.Media.name ? Asset.defaultMediaAsset : item.asset;\r\n\t\tif (!asset) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (asset.type.name === AssetType.Model.name) {\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(null);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst localizedAsset = this.getLocalizedAsset(asset);\r\n\t\t// console.log('Panorama.load.localizedAsset', localizedAsset, 'asset', asset);\r\n\t\tthis.currentAsset = localizedAsset.folder + localizedAsset.file;\r\n\t\tPanoramaLoader.load(localizedAsset, renderer, (texture, rgbe) => {\r\n\t\t\tif (localizedAsset.folder + localizedAsset.file !== this.currentAsset) {\r\n\t\t\t\ttexture.dispose();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst envMap = this.makeEnvMap(texture);\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(envMap);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdispose() {\r\n\t\tthis.subscription.unsubscribe();\r\n\t\tif (this.cubeMap) {\r\n\t\t\tthis.cubeMap.dispose();\r\n\t\t}\r\n\t}\r\n}\r\n","import StreamService from '../../stream/stream.service';\r\n\r\nexport const W = 12;\r\nexport const H = 27;\r\nexport const D = 0.5;\r\nexport const R = 4 / 3;\r\nexport const COLORS = [0xffffff, 0xffcc00, 0x00ffcc, 0x00ccff, 0xccff00, 0xcc00ff];\r\n\r\nexport class PhoneStreamElement {\r\n\r\n\tstatic get geometry() {\r\n\t\tconst geometry = new THREE.PlaneBufferGeometry(0.01 * W, 0.01 * W / R, 2, 2);\r\n\t\treturn geometry;\r\n\t}\r\n\r\n\tsetRemote(remote, i, total) {\r\n\t\tthis.remote = remote;\r\n\t\tlet s, c, r, w, h, sx, sy, sz = 0.01 * D; // !!! double distance\r\n\t\tif (total < 4) {\r\n\t\t\ts = 1;\r\n\t\t\tc = 0;\r\n\t\t\tr = i;\r\n\t\t\tw = 0.01 * W * s;\r\n\t\t\th = w / R;\r\n\t\t\tsx = 0;\r\n\t\t\tsy = h / 2 - (total * h) / 2;\r\n\t\t\tthis.plane.position.set(sx, sy + h * i, sz);\r\n\t\t} else {\r\n\t\t\ts = 0.5;\r\n\t\t\tc = i % 2;\r\n\t\t\tr = Math.floor(i / 2);\r\n\t\t\tw = 0.01 * W * s;\r\n\t\t\th = w / R;\r\n\t\t\tsx = -w / 2;\r\n\t\t\tsy = h / 2 - (Math.ceil(total / 2) * h) / 2;\r\n\t\t\tthis.plane.position.set(sx + c * w, sy + r * h, sz);\r\n\t\t}\r\n\t\tthis.plane.scale.set(s, s, s);\r\n\t\t// console.log(this.plane.position);\r\n\t\tif (typeof remote === 'number') {\r\n\t\t\tthis.plane.material.color.set(COLORS[i % COLORS.length]);\r\n\t\t} else {\r\n\t\t\tif (remote.texture) {\r\n\t\t\t\tthis.plane.material.map = remote.texture;\r\n\t\t\t\tthis.plane.material.needsUpdate = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.addStreamTexture(remote.streamId, (texture) => {\r\n\t\t\t\t\tremote.texture = texture;\r\n\t\t\t\t\tthis.plane.material.map = texture;\r\n\t\t\t\t\tthis.plane.material.needsUpdate = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddStreamTexture(streamId, callback) {\r\n\t\tconst target = `#stream-${streamId}`; // `#stream-remote-${streamId}`;\r\n\t\tconst video = document.querySelector(`${target} video`);\r\n\t\tif (!video) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst onPlaying = () => {\r\n\t\t\tconst texture = new THREE.VideoTexture(video);\r\n\t\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t\t// texture.format = THREE.RGBAFormat;\r\n\t\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\t\ttexture.needsUpdate = true;\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(texture);\r\n\t\t\t}\r\n\t\t};\r\n\t\tvideo.crossOrigin = 'anonymous';\r\n\t\tif (video.readyState >= video.HAVE_FUTURE_DATA) {\r\n\t\t\tonPlaying();\r\n\t\t} else {\r\n\t\t\tvideo.oncanplay = () => {\r\n\t\t\t\tonPlaying();\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tconst geometry = PhoneStreamElement.geometry;\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\t// depthTest: false,\r\n\t\t\tcolor: 0xffffff,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t});\r\n\t\tconst plane = this.plane = new THREE.Mesh(geometry, material);\r\n\t}\r\n\r\n}\r\n\r\nexport default class PhoneElement {\r\n\r\n\tset remotes(remotes) {\r\n\t\t// console.log('PhoneElement', remotes);\r\n\t\tremotes.forEach((remote, i) => {\r\n\t\t\tlet stream = this.streams[i];\r\n\t\t\tif (!stream) {\r\n\t\t\t\tstream = new PhoneStreamElement();\r\n\t\t\t}\r\n\t\t\tstream.setRemote(remote, i, remotes.length);\r\n\t\t\tthis.phone.add(stream.plane);\r\n\t\t\tthis.streams[i] = stream;\r\n\t\t});\r\n\t\tfor (let i = remotes.length; i < this.streams.length; i++) {\r\n\t\t\tthis.phone.remove(this.streams[i].plane);\r\n\t\t}\r\n\t\tthis.streams.length = remotes.length;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tconst mesh = this.mesh = new THREE.Group();\r\n\t\tconst phone = this.phone = this.create();\r\n\t\tmesh.add(phone);\r\n\t\tconst streams = this.streams = [];\r\n\t\tStreamService.remotes$.subscribe(remotes => {\r\n\t\t\tthis.remotes = remotes;\r\n\t\t});\r\n\t}\r\n\r\n\tcreate() {\r\n\t\tconst geometry = new THREE.BoxBufferGeometry(0.01 * W, 0.01 * H, 0.01 * D, 2, 2, 1);\r\n\t\tconst material = new THREE.MeshStandardMaterial({\r\n\t\t\t// depthTest: false,\r\n\t\t\tcolor: 0x000000,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 0.6,\r\n\t\t});\r\n\t\tconst phone = new THREE.Mesh(geometry, material);\r\n\t\tphone.rotation.set(-Math.PI / 4, 0, 0);\r\n\t\treturn phone;\r\n\t}\r\n}\r\n","import { environment } from '../../environment';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport { Host } from '../host/host';\r\nimport Interactive from '../interactive/interactive';\r\n\r\nexport default class PointerElement {\r\n\r\n\tconstructor(color = '#ffffff') {\r\n\t\tconst position = this.position = new THREE.Vector3();\r\n\t\t// const targetPosition = this.targetPosition = new THREE.Vector3();\r\n\t\tconst geometry = Geometry.planeGeometry; // new THREE.PlaneBufferGeometry(1.2, 1.2, 2, 2);\r\n\t\tconst loader = new THREE.TextureLoader();\r\n\t\tconst texture = loader.load(environment.getPath('textures/ui/nav-point.png'));\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\tcolor: new THREE.Color(color),\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tmap: texture,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 0.9,\r\n\t\t});\r\n\t\tconst mesh = this.mesh = new THREE.Mesh(geometry, material);\r\n\t\tmesh.renderOrder = environment.renderOrder.pointer;\r\n\t\tmesh.position.set(-100000, -100000, -100000);\r\n\t}\r\n\r\n\tupdate(camera) {\r\n\t\tif (Interactive.lastIntersectedObject) {\r\n\t\t\tconst position = this.position;\r\n\t\t\tposition.copy(Interactive.lastIntersectedObject.intersection.point);\r\n\t\t\tposition.multiplyScalar(0.99);\r\n\t\t\tconst mesh = this.mesh;\r\n\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\tposition.sub(camera.position);\r\n\t\t\tconst s = position.length() / 80;\r\n\t\t\tmesh.scale.set(s, s, s);\r\n\t\t\t/*\r\n\t\t\tconst targetPosition = this.targetPosition;\r\n\t\t\ttargetPosition.set(0, 0, 0);\r\n\t\t\tcamera.localToWorld(targetPosition);\r\n\t\t\t*/\r\n\t\t\tmesh.lookAt(Host.origin);\r\n\t\t}\r\n\t}\r\n\r\n\tsetPosition(x, y, z, camera) {\r\n\t\tconst position = this.position;\r\n\t\tposition.set(x, y, z).multiplyScalar(80);\r\n\t\tconst mesh = this.mesh;\r\n\t\tmesh.position.copy(position);\r\n\t\tposition.sub(camera.position);\r\n\t\tconst s = position.length() / 80;\r\n\t\tmesh.scale.set(s, s, s);\r\n\t\t/*\r\n\t\tconst targetPosition = this.targetPosition;\r\n\t\ttargetPosition.set(0, 0, 0);\r\n\t\tcamera.localToWorld(targetPosition);\r\n\t\t*/\r\n\t\tmesh.lookAt(Host.origin);\r\n\t}\r\n}\r\n","import { environment } from '../../environment';\r\n\r\nconst LINE_SEGMENTS = 10;\r\n\r\nexport class TeleportElement {\r\n\r\n\tconstructor() {\r\n\t\tconst gravity = this.gravity = new THREE.Vector3(0, -9.8, 0);\r\n\t\tconst controllerPosition = this.controllerPosition = new THREE.Vector3();\r\n\t\tconst controllerDirection = this.controllerDirection = new THREE.Vector3();\r\n\t\tconst currentPosition = this.currentPosition = new THREE.Vector3();\r\n\t\tconst targetPosition = this.targetPosition = new THREE.Vector3();\r\n\t\tconst geometry = new THREE.BufferGeometry();\r\n\t\tconst vertices = this.vertices = new Float32Array((LINE_SEGMENTS + 1) * 3);\r\n\t\tvertices.fill(0);\r\n\t\tconst colors = new Float32Array((LINE_SEGMENTS + 1) * 3);\r\n\t\tcolors.fill(0.5);\r\n\t\tgeometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));\r\n\t\tgeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));\r\n\t\tconst lineMaterial = new THREE.LineBasicMaterial({ vertexColors: true, blending: THREE.AdditiveBlending });\r\n\t\tconst line = this.line = new THREE.Line(geometry, lineMaterial);\r\n\t\t// const light = this.light = new THREE.PointLight(0xffeeaa, 0, 2);\r\n\t\tconst loader = new THREE.TextureLoader();\r\n\t\tconst texture = loader.load(environment.getPath('textures/ui/nav-point.png'));\r\n\t\tconst target = this.target = new THREE.Mesh(\r\n\t\t\tnew THREE.PlaneBufferGeometry(0.3, 0.3, 1, 1),\r\n\t\t\tnew THREE.MeshBasicMaterial({\r\n\t\t\t\tmap: texture,\r\n\t\t\t\tblending: THREE.AdditiveBlending,\r\n\t\t\t\tcolor: 0x555555,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t}),\r\n\t\t);\r\n\t\ttarget.rotation.x = -Math.PI / 2;\r\n\t}\r\n\r\n\taddToController(controller, scene) {\r\n\t\tthis.currentController = controller;\r\n\t\t// this.light.intensity = 1;\r\n\t\tcontroller.add(this.line);\r\n\t\tscene.add(this.target);\r\n\t}\r\n\r\n\tremoveFromController(controller, scene, renderer, camera, cameraGroup) {\r\n\t\tconst currentController = this.currentController;\r\n\t\tif (currentController === controller) {\r\n\t\t\tconst gravity = this.gravity;\r\n\t\t\tconst currentPosition = this.currentPosition;\r\n\t\t\tconst controllerPosition = this.controllerPosition;\r\n\t\t\tconst controllerDirection = this.controllerDirection;\r\n\t\t\trenderer.xr.getCamera(camera).getWorldPosition(currentPosition);\r\n\t\t\tcurrentPosition.y = 0;\r\n\t\t\tcurrentController.getWorldPosition(controllerPosition);\r\n\t\t\tcurrentController.getWorldDirection(controllerDirection);\r\n\t\t\tcontrollerDirection.multiplyScalar(6);\r\n\t\t\tconst T = (-controllerDirection.y + Math.sqrt(controllerDirection.y ** 2 - 2 * controllerPosition.y * gravity.y)) / gravity.y;\r\n\t\t\tconst targetPosition = this.getPositionT(this.targetPosition, T, controllerPosition, controllerDirection, gravity);\r\n\t\t\ttargetPosition.addScaledVector(currentPosition, -1);\r\n\t\t\tcameraGroup.position.add(targetPosition);\r\n\t\t\t// this.teleport(targetPosition, cameraGroup);\r\n\t\t\tthis.currentController = null;\r\n\t\t\t// this.light.intensity = 0;\r\n\t\t\tcurrentController.remove(this.line);\r\n\t\t\tscene.remove(this.target);\r\n\t\t}\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tconst currentController = this.currentController;\r\n\t\tif (currentController) {\r\n\t\t\tconst gravity = this.gravity;\r\n\t\t\tconst controllerPosition = this.controllerPosition;\r\n\t\t\tconst controllerDirection = this.controllerDirection;\r\n\t\t\tconst targetPosition = this.targetPosition;\r\n\t\t\t// Controller start position\r\n\t\t\tcurrentController.getWorldPosition(controllerPosition);\r\n\t\t\t// Set Vector V to the direction of the controller, at 1m/s\r\n\t\t\tcurrentController.getWorldDirection(controllerDirection);\r\n\t\t\t// Scale the initial velocity to 6m/s\r\n\t\t\tcontrollerDirection.multiplyScalar(6);\r\n\t\t\t// Time for tele ball to hit ground\r\n\t\t\tconst T = (-controllerDirection.y + Math.sqrt(controllerDirection.y ** 2 - 2 * controllerPosition.y * gravity.y)) / gravity.y;\r\n\t\t\tconst vertex = targetPosition.set(0, 0, 0);\r\n\t\t\tfor (let i = 1; i <= LINE_SEGMENTS; i++) {\r\n\t\t\t\t// set vertex to current position of the virtual ball at time t\r\n\t\t\t\tthis.getPositionT(vertex, i * T / LINE_SEGMENTS, controllerPosition, controllerDirection, gravity);\r\n\t\t\t\tcurrentController.worldToLocal(vertex);\r\n\t\t\t\tvertex.toArray(this.vertices, i * 3);\r\n\t\t\t}\r\n\t\t\tthis.line.geometry.attributes.position.needsUpdate = true;\r\n\t\t\t// Place the light and sprite near the end of the poing\r\n\t\t\t// this.getPositionT(this.light.position, T * 0.98, controllerPosition, controllerDirection, gravity);\r\n\t\t\tthis.getPositionT(this.target.position, T * 0.98, controllerPosition, controllerDirection, gravity);\r\n\t\t}\r\n\t}\r\n\r\n\tgetPositionT(position, T, controllerPosition, controllerDirection, gravity) {\r\n\t\tposition.copy(controllerPosition);\r\n\t\tposition.addScaledVector(controllerDirection, T);\r\n\t\tposition.addScaledVector(gravity, 0.5 * T ** 2);\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/*\r\n\tteleport(offsetPosition, cameraGroup) {\r\n\t\tconst position = new THREE.Vector3();\r\n\t\tposition.copy(cameraGroup.position);\r\n\t\tposition.add(offsetPosition);\r\n\t\t// const distance = offsetPosition.length();\r\n\t\tcameraGroup.position.copy(position);\r\n\t}\r\n\t*/\r\n\r\n}\r\n","import { BehaviorSubject, Subject } from 'rxjs';\r\n\r\nexport const XRStatus = {\r\n\tWaiting: 'waiting',\r\n\tEnabled: 'enabled',\r\n\tEnded: 'ended',\r\n\tStarted: 'started',\r\n\tDisabled: 'disabled',\r\n\tNeedsHttps: 'needs-https',\r\n\tUnavailable: 'unavailable',\r\n};\r\n\r\nexport default class VRService {\r\n\r\n\tstatic getService() {\r\n\t\tif (!this.service_) {\r\n\t\t\tthis.service_ = new VRService();\r\n\t\t}\r\n\t\treturn this.service_;\r\n\t}\r\n\r\n\tget status() {\r\n\t\treturn this.status$.getValue();\r\n\t}\r\n\r\n\tget state() {\r\n\t\treturn this.state$.getValue();\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tif (VRService.service_) {\r\n\t\t\tthrow ('VRService is a singleton class!');\r\n\t\t}\r\n\t\tconst state = this.state_ = {\r\n\t\t\tcamera: {\r\n\t\t\t\tposition: new THREE.Vector3(),\r\n\t\t\t\tquaternion: new THREE.Quaternion(),\r\n\t\t\t\tscale: new THREE.Vector3(),\r\n\t\t\t\tarray: new Array(3 + 4 + 3).fill(0),\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.onSessionStarted = this.onSessionStarted.bind(this);\r\n\t\tthis.onSessionEnded = this.onSessionEnded.bind(this);\r\n\t\tthis.status$ = new BehaviorSubject(XRStatus.Waiting);\r\n\t\tthis.session$ = new Subject();\r\n\t\tthis.state$ = new BehaviorSubject(state);\r\n\t\tthis.currentSession = null;\r\n\t\tif ('xr' in navigator) {\r\n\t\t\tnavigator.xr.isSessionSupported('immersive-vr').then((supported) => {\r\n\t\t\t\tif (supported) {\r\n\t\t\t\t\tthis.status$.next(XRStatus.Enabled);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.status$.next(XRStatus.Disabled);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (window.isSecureContext === false) {\r\n\t\t\t\tthis.status$.next(XRStatus.NeedsHttps);\r\n\t\t\t} else {\r\n\t\t\t\tthis.status$.next(XRStatus.Unavailable);\r\n\t\t\t\t// 'https://immersiveweb.dev/';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonSessionStarted(session) {\r\n\t\tsession.addEventListener('end', this.onSessionEnded);\r\n\t\tthis.currentSession = session;\r\n\t\tthis.session$.next(session);\r\n\t\tthis.status$.next(XRStatus.Started);\r\n\t}\r\n\r\n\tonSessionEnded( /*event*/) {\r\n\t\tthis.currentSession.removeEventListener('end', this.onSessionEnded);\r\n\t\tthis.currentSession = null;\r\n\t\tthis.session$.next(null);\r\n\t\tthis.status$.next(XRStatus.Ended);\r\n\t}\r\n\r\n\ttoggleVR(event) {\r\n\t\tif (this.currentSession === null) {\r\n\t\t\t// WebXR's requestReferenceSpace only works if the corresponding feature\r\n\t\t\t// was requested at session creation time. For simplicity, just ask for\r\n\t\t\t// the interesting ones as optional features, but be aware that the\r\n\t\t\t// requestReferenceSpace call will fail if it turns out to be unavailable.\r\n\t\t\t// ('local' is always available for immersive sessions and doesn't need to\r\n\t\t\t// be requested separately.)\r\n\t\t\tconst sessionInit = { optionalFeatures: ['local-floor', 'bounded-floor'] };\r\n\t\t\tnavigator.xr.requestSession('immersive-vr', sessionInit).then(this.onSessionStarted);\r\n\t\t} else {\r\n\t\t\tthis.currentSession.end();\r\n\t\t}\r\n\t}\r\n\r\n\tisDisabled() {\r\n\t\tconst status = this.status$.getValue();\r\n\t\tswitch (status) {\r\n\t\t\tcase XRStatus.Waiting:\r\n\t\t\tcase XRStatus.Disabled:\r\n\t\t\tcase XRStatus.NeedsHttps:\r\n\t\t\tcase XRStatus.Unavailable:\r\n\t\t\t\treturn true;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet label;\r\n\t\tconst status = this.status$.getValue();\r\n\t\tswitch (status) {\r\n\t\t\tcase XRStatus.Waiting:\r\n\t\t\t\tlabel = 'Waiting VR';\r\n\t\t\t\tbreak;\r\n\t\t\tcase XRStatus.Enabled:\r\n\t\t\tcase XRStatus.Ended:\r\n\t\t\t\tlabel = 'Enter VR';\r\n\t\t\t\tbreak;\r\n\t\t\tcase XRStatus.Started:\r\n\t\t\t\tlabel = 'Exit VR';\r\n\t\t\t\tbreak;\r\n\t\t\tcase XRStatus.Disabled:\r\n\t\t\t\tlabel = 'VR Disabled';\r\n\t\t\t\tbreak;\r\n\t\t\tcase XRStatus.NeedsHttps:\r\n\t\t\t\tlabel = 'VR Needs Https';\r\n\t\t\t\tbreak;\r\n\t\t\tcase XRStatus.Unavailable:\r\n\t\t\t\tlabel = 'VR Unavailable';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn label;\r\n\t}\r\n\r\n\tupdateState(world) {\r\n\t\tif (this.status === XRStatus.Started) {\r\n\t\t\tconst renderer = world.renderer,\r\n\t\t\t\tscene = world.scene,\r\n\t\t\t\tcamera = world.camera,\r\n\t\t\t\tstate = this.state_;\r\n\t\t\tcamera.matrixWorld.decompose(state.camera.position, state.camera.quaternion, state.camera.scale);\r\n\t\t\tstate.camera.array[0] = state.camera.position.x;\r\n\t\t\tstate.camera.array[1] = state.camera.position.y;\r\n\t\t\tstate.camera.array[2] = state.camera.position.z;\r\n\t\t\tstate.camera.array[3] = state.camera.quaternion.x;\r\n\t\t\tstate.camera.array[4] = state.camera.quaternion.y;\r\n\t\t\tstate.camera.array[5] = state.camera.quaternion.z;\r\n\t\t\tstate.camera.array[6] = state.camera.quaternion.w;\r\n\t\t\tstate.camera.array[7] = state.camera.scale.x;\r\n\t\t\tstate.camera.array[8] = state.camera.scale.y;\r\n\t\t\tstate.camera.array[9] = state.camera.scale.z;\r\n\t\t\tthis.state$.next(state);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import Emittable from '../interactive/emittable';\r\n\r\nexport class Gamepad extends Emittable {\r\n\tconstructor(gamepad) {\r\n\t\tsuper();\r\n\t\tthis.gamepad = gamepad;\r\n\t\tthis.buttons = {};\r\n\t\tthis.axes = {};\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.updateButtons();\r\n\t\tthis.updateAxes();\r\n\t}\r\n\r\n\tupdateButtons() {\r\n\t\tthis.gamepad.buttons.forEach((x, i) => {\r\n\t\t\tconst pressed = x.pressed;\r\n\t\t\tconst button = this.buttons[i] || (this.buttons[i] = new GamepadButton(i, this));\r\n\t\t\tif (button.pressed !== pressed) {\r\n\t\t\t\tbutton.pressed = pressed;\r\n\t\t\t\tif (pressed) {\r\n\t\t\t\t\tthis.emit('press', button);\r\n\t\t\t\t} else if (status !== undefined) {\r\n\t\t\t\t\tthis.emit('release', button);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tupdateAxes() {\r\n\t\tconst axes = this.gamepad.axes;\r\n\t\tfor (let i = 0; i < axes.length; i += 2) {\r\n\t\t\tconst index = Math.floor(i / 2);\r\n\t\t\tconst axis = this.axes[index] || (this.axes[index] = new GamepadAxis(index, this));\r\n\t\t\tconst x = axes[i];\r\n\t\t\tconst y = axes[i + 1];\r\n\t\t\tif (axis.x !== x || axis.y !== y) {\r\n\t\t\t\taxis.x = x;\r\n\t\t\t\taxis.y = y;\r\n\t\t\t\tif (Math.abs(x) > Math.abs(y)) {\r\n\t\t\t\t\tconst left = x < -0.85;\r\n\t\t\t\t\tconst right = x > 0.85;\r\n\t\t\t\t\tif (axis.left !== left) {\r\n\t\t\t\t\t\taxis.left = left;\r\n\t\t\t\t\t\tthis.emit((left ? 'left' : 'none'), axis);\r\n\t\t\t\t\t\t// console.log(`${axis.gamepad.hand} ${axis.gamepad.index} left ${left}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (axis.right !== right) {\r\n\t\t\t\t\t\taxis.right = right;\r\n\t\t\t\t\t\tthis.emit((right ? 'right' : 'none'), axis);\r\n\t\t\t\t\t\t// console.log(`${axis.gamepad.hand} ${axis.gamepad.index} right ${right}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst up = y < -0.85;\r\n\t\t\t\t\tconst down = y > 0.85;\r\n\t\t\t\t\tif (axis.up !== up) {\r\n\t\t\t\t\t\taxis.up = up;\r\n\t\t\t\t\t\tthis.emit((up ? 'up' : 'none'), axis);\r\n\t\t\t\t\t\t// console.log(`${axis.gamepad.hand} ${axis.gamepad.index} up ${up}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (axis.down !== down) {\r\n\t\t\t\t\t\taxis.down = down;\r\n\t\t\t\t\t\tthis.emit((down ? 'down' : 'none'), axis);\r\n\t\t\t\t\t\t// console.log(`${axis.gamepad.hand} ${axis.gamepad.index} down ${down}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.emit('axis', axis);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfeedback(strength = 0.1, duration = 50) {\r\n\t\t// !!! care for battery\r\n\t\tconst actuators = this.gamepad.hapticActuators;\r\n\t\tif (actuators && actuators.length) {\r\n\t\t\treturn actuators[0].pulse(strength, duration);\r\n\t\t} else {\r\n\t\t\treturn Promise.reject();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass GamepadButton {\r\n\tconstructor(index, gamepad) {\r\n\t\tthis.index = index;\r\n\t\tthis.gamepad = gamepad;\r\n\t\tthis.pressed = false;\r\n\t}\r\n}\r\n\r\nclass GamepadAxis extends THREE.Vector2 {\r\n\tconstructor(index, gamepad) {\r\n\t\tsuper();\r\n\t\tthis.index = index;\r\n\t\tthis.gamepad = gamepad;\r\n\t\tthis.left = this.right = this.up = this.down = false;\r\n\t}\r\n}\r\n","export default class Emittable {\r\n\r\n\tconstructor() {\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\ton(type, callback) {\r\n\t\tconst event = this.events[type] = this.events[type] || [];\r\n\t\tevent.push(callback);\r\n\t\treturn () => {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t};\r\n\t}\r\n\r\n\toff(type, callback) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t}\r\n\t}\r\n\r\n\temit(type, data) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tevent.forEach(callback => {\r\n\t\t\t\t// callback.call(this, data);\r\n\t\t\t\tcallback(data);\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst broadcast = this.events.broadcast;\r\n\t\tif (broadcast) {\r\n\t\t\tbroadcast.forEach(callback => {\r\n\t\t\t\tcallback(type, data);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenColor.fromArray( extension.sheenColorFactor );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture ).then( function ( texture ) {\n\n\t\t\t\ttexture.encoding = sRGBEncoding;\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.roughness += geometryRoughness;',\n\t\t\t'material.roughness = min( material.roughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = 1.0;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\tmaterial.refractionRatio = 0.98;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tconst result = this.resultBuffer;\n\tconst values = this.sampleValues;\n\tconst stride = this.valueSize;\n\n\tconst stride2 = stride * 2;\n\tconst stride3 = stride * 3;\n\n\tconst td = t1 - t0;\n\n\tconst p = ( t - t0 ) / td;\n\tconst pp = p * p;\n\tconst ppp = pp * p;\n\n\tconst offset1 = i1 * stride3;\n\tconst offset0 = offset1 - stride3;\n\n\tconst s2 = - 2 * ppp + 3 * pp;\n\tconst s3 = ppp - pp;\n\tconst s0 = 1 - s2;\n\tconst s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\n\treturn 'image/png';\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox|^((?!chrome|android).)*safari/i.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( function ( texture ) {\n\n\t\t\t\treturn texture.clone();\n\n\t\t\t} ).catch( function ( error ) {\n\n\t\t\t\tthrow error;\n\n\t\t\t} );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, sheenColorMap, specularColorMap and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\t\t\tif ( material.sheenColorMap ) material.sheenColorMap.encoding = sRGBEncoding;\n\t\t\tif ( material.specularColorMap ) material.specularColorMap.encoding = sRGBEncoding;\n\t\t\tif ( material.specularMap ) material.specularMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\t\t\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierarchy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierarchy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierarchy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","/**\r\n * @webxr-input-profiles/motion-controllers 1.0.0 https://github.com/immersive-web/webxr-input-profiles\r\n */\r\n\r\nexport const Constants = {\r\n\tHandedness: Object.freeze({\r\n\t\tNONE: 'none',\r\n\t\tLEFT: 'left',\r\n\t\tRIGHT: 'right',\r\n\t}),\r\n\r\n\tComponentState: Object.freeze({\r\n\t\tDEFAULT: 'default',\r\n\t\tTOUCHED: 'touched',\r\n\t\tPRESSED: 'pressed',\r\n\t}),\r\n\r\n\tComponentProperty: Object.freeze({\r\n\t\tBUTTON: 'button',\r\n\t\tX_AXIS: 'xAxis',\r\n\t\tY_AXIS: 'yAxis',\r\n\t\tSTATE: 'state',\r\n\t}),\r\n\r\n\tComponentType: Object.freeze({\r\n\t\tTRIGGER: 'trigger',\r\n\t\tSQUEEZE: 'squeeze',\r\n\t\tTOUCHPAD: 'touchpad',\r\n\t\tTHUMBSTICK: 'thumbstick',\r\n\t\tBUTTON: 'button',\r\n\t}),\r\n\r\n\tButtonTouchThreshold: 0.05,\r\n\r\n\tAxisTouchThreshold: 0.1,\r\n\r\n\tVisualResponseProperty: Object.freeze({\r\n\t\tTRANSFORM: 'transform',\r\n\t\tVISIBILITY: 'visibility',\r\n\t}),\r\n};\r\n\r\n/** @constant {Object} */\r\nconst defaultComponentValues = {\r\n\txAxis: 0,\r\n\tyAxis: 0,\r\n\tbutton: 0,\r\n\tstate: Constants.ComponentState.DEFAULT,\r\n};\r\n\r\n/**\r\n * @description Static helper function to fetch a JSON file and turn it into a JS object\r\n * @param {string} path - Path to JSON file to be fetched\r\n */\r\nasync function fetchJsonFile(path) {\r\n\tconst response = await fetch(path);\r\n\tif (!response.ok) {\r\n\t\tthrow new Error(response.statusText);\r\n\t} else {\r\n\t\treturn response.json();\r\n\t}\r\n}\r\n\r\nexport async function fetchProfilesList(basePath) {\r\n\tif (!basePath) {\r\n\t\tthrow new Error('No basePath supplied');\r\n\t}\r\n\r\n\tconst profileListFileName = 'profilesList.json';\r\n\tconst profilesList = await fetchJsonFile(`${basePath}/${profileListFileName}`);\r\n\treturn profilesList;\r\n}\r\n\r\nexport async function fetchProfile(xrInputSource, basePath, defaultProfile = null, getAssetPath = true) {\r\n\tif (!xrInputSource) {\r\n\t\tthrow new Error('No xrInputSource supplied');\r\n\t}\r\n\r\n\tif (!basePath) {\r\n\t\tthrow new Error('No basePath supplied');\r\n\t}\r\n\r\n\t// Get the list of profiles\r\n\tconst supportedProfilesList = await fetchProfilesList(basePath);\r\n\r\n\t// Find the relative path to the first requested profile that is recognized\r\n\tlet match;\r\n\txrInputSource.profiles.some((profileId) => {\r\n\t\tconst supportedProfile = supportedProfilesList[profileId];\r\n\t\tif (supportedProfile) {\r\n\t\t\tmatch = {\r\n\t\t\t\tprofileId,\r\n\t\t\t\tprofilePath: `${basePath}/${supportedProfile.path}`,\r\n\t\t\t\tdeprecated: !!supportedProfile.deprecated,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn !!match;\r\n\t});\r\n\r\n\tif (!match) {\r\n\t\tif (!defaultProfile) {\r\n\t\t\tthrow new Error('No matching profile name found');\r\n\t\t}\r\n\r\n\t\tconst supportedProfile = supportedProfilesList[defaultProfile];\r\n\t\tif (!supportedProfile) {\r\n\t\t\tthrow new Error(`No matching profile name found and default profile \"${defaultProfile}\" missing.`);\r\n\t\t}\r\n\r\n\t\tmatch = {\r\n\t\t\tprofileId: defaultProfile,\r\n\t\t\tprofilePath: `${basePath}/${supportedProfile.path}`,\r\n\t\t\tdeprecated: !!supportedProfile.deprecated,\r\n\t\t};\r\n\t}\r\n\r\n\tconst profile = await fetchJsonFile(match.profilePath);\r\n\r\n\tlet assetPath;\r\n\tif (getAssetPath) {\r\n\t\tlet layout;\r\n\t\tif (xrInputSource.handedness === 'any') {\r\n\t\t\tlayout = profile.layouts[Object.keys(profile.layouts)[0]];\r\n\t\t} else {\r\n\t\t\tlayout = profile.layouts[xrInputSource.handedness];\r\n\t\t}\r\n\t\tif (!layout) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`No matching handedness, ${xrInputSource.handedness}, in profile ${match.profileId}`,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (layout.assetPath) {\r\n\t\t\tassetPath = match.profilePath.replace('profile.json', layout.assetPath);\r\n\t\t}\r\n\t}\r\n\r\n\treturn { profile, assetPath };\r\n}\r\n\r\n/**\r\n * @description Converts an X, Y coordinate from the range -1 to 1 (as reported by the Gamepad\r\n * API) to the range 0 to 1 (for interpolation). Also caps the X, Y values to be bounded within\r\n * a circle. This ensures that thumbsticks are not animated outside the bounds of their physical\r\n * range of motion and touchpads do not report touch locations off their physical bounds.\r\n * @param {number} x The original x coordinate in the range -1 to 1\r\n * @param {number} y The original y coordinate in the range -1 to 1\r\n */\r\nfunction normalizeAxes(x = 0, y = 0) {\r\n\tlet xAxis = x;\r\n\tlet yAxis = y;\r\n\r\n\t// Determine if the point is outside the bounds of the circle\r\n\t// and, if so, place it on the edge of the circle\r\n\tconst hypotenuse = Math.sqrt((x * x) + (y * y));\r\n\tif (hypotenuse > 1) {\r\n\t\tconst theta = Math.atan2(y, x);\r\n\t\txAxis = Math.cos(theta);\r\n\t\tyAxis = Math.sin(theta);\r\n\t}\r\n\r\n\t// Scale and move the circle so values are in the interpolation range.  The circle's origin moves\r\n\t// from (0, 0) to (0.5, 0.5). The circle's radius scales from 1 to be 0.5.\r\n\tconst result = {\r\n\t\tnormalizedXAxis: (xAxis * 0.5) + 0.5,\r\n\t\tnormalizedYAxis: (yAxis * 0.5) + 0.5,\r\n\t};\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * Contains the description of how the 3D model should visually respond to a specific user input.\r\n * This is accomplished by initializing the object with the name of a node in the 3D model and\r\n * property that need to be modified in response to user input, the name of the nodes representing\r\n * the allowable range of motion, and the name of the input which triggers the change. In response\r\n * to the named input changing, this object computes the appropriate weighting to use for\r\n * interpolating between the range of motion nodes.\r\n */\r\n\r\nclass VisualResponse {\r\n\r\n\tconstructor(visualResponseDescription) {\r\n\t\tthis.componentProperty = visualResponseDescription.componentProperty;\r\n\t\tthis.states = visualResponseDescription.states;\r\n\t\tthis.valueNodeName = visualResponseDescription.valueNodeName;\r\n\t\tthis.valueNodeProperty = visualResponseDescription.valueNodeProperty;\r\n\t\tif (this.valueNodeProperty === Constants.VisualResponseProperty.TRANSFORM) {\r\n\t\t\tthis.minNodeName = visualResponseDescription.minNodeName;\r\n\t\t\tthis.maxNodeName = visualResponseDescription.maxNodeName;\r\n\t\t}\r\n\t\t// Initializes the response's current value based on default data\r\n\t\tthis.value = 0;\r\n\t\tthis.updateFromComponent(defaultComponentValues);\r\n\t}\r\n\r\n\t/**\r\n\t * Computes the visual response's interpolation weight based on component state\r\n\t * @param {Object} componentValues - The component from which to update\r\n\t * @param {number} xAxis - The reported X axis value of the component\r\n\t * @param {number} yAxis - The reported Y axis value of the component\r\n\t * @param {number} button - The reported value of the component's button\r\n\t * @param {string} state - The component's active state\r\n\t */\r\n\tupdateFromComponent({ xAxis, yAxis, button, state }) {\r\n\t\tconst { normalizedXAxis, normalizedYAxis } = normalizeAxes(xAxis, yAxis);\r\n\t\tswitch (this.componentProperty) {\r\n\t\t\tcase Constants.ComponentProperty.X_AXIS:\r\n\t\t\t\tthis.value = (this.states.includes(state)) ? normalizedXAxis : 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Constants.ComponentProperty.Y_AXIS:\r\n\t\t\t\tthis.value = (this.states.includes(state)) ? normalizedYAxis : 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Constants.ComponentProperty.BUTTON:\r\n\t\t\t\tthis.value = (this.states.includes(state)) ? button : 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Constants.ComponentProperty.STATE:\r\n\t\t\t\tif (this.valueNodeProperty === Constants.VisualResponseProperty.VISIBILITY) {\r\n\t\t\t\t\tthis.value = (this.states.includes(state));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.value = this.states.includes(state) ? 1.0 : 0.0;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Component {\r\n\t/**\r\n\t * @param {Object} componentId - Id of the component\r\n\t * @param {Object} componentDescription - Description of the component to be created\r\n\t */\r\n\tconstructor(componentId, componentDescription) {\r\n\t\tif (!componentId ||\r\n\t\t\t!componentDescription ||\r\n\t\t\t!componentDescription.visualResponses ||\r\n\t\t\t!componentDescription.gamepadIndices ||\r\n\t\t\tObject.keys(componentDescription.gamepadIndices).length === 0) {\r\n\t\t\tthrow new Error('Invalid arguments supplied');\r\n\t\t}\r\n\t\tthis.id = componentId;\r\n\t\tthis.type = componentDescription.type;\r\n\t\tthis.rootNodeName = componentDescription.rootNodeName;\r\n\t\tthis.touchPointNodeName = componentDescription.touchPointNodeName;\r\n\t\t// Build all the visual responses for this component\r\n\t\tthis.visualResponses = {};\r\n\t\tObject.keys(componentDescription.visualResponses).forEach((responseName) => {\r\n\t\t\tconst visualResponse = new VisualResponse(componentDescription.visualResponses[responseName]);\r\n\t\t\tthis.visualResponses[responseName] = visualResponse;\r\n\t\t});\r\n\t\t// Set default values\r\n\t\tthis.gamepadIndices = Object.assign({}, componentDescription.gamepadIndices);\r\n\t\tthis.values = {\r\n\t\t\tstate: Constants.ComponentState.DEFAULT,\r\n\t\t\tbutton: (this.gamepadIndices.button !== undefined) ? 0 : undefined,\r\n\t\t\txAxis: (this.gamepadIndices.xAxis !== undefined) ? 0 : undefined,\r\n\t\t\tyAxis: (this.gamepadIndices.yAxis !== undefined) ? 0 : undefined,\r\n\t\t};\r\n\t}\r\n\r\n\tget data() {\r\n\t\tconst data = { id: this.id, ...this.values };\r\n\t\treturn data;\r\n\t}\r\n\r\n\t/**\r\n\t * @description Poll for updated data based on current gamepad state\r\n\t * @param {Object} gamepad - The gamepad object from which the component data should be polled\r\n\t */\r\n\tupdateFromGamepad(gamepad) {\r\n\t\t// Set the state to default before processing other data sources\r\n\t\tthis.values.state = Constants.ComponentState.DEFAULT;\r\n\t\t// Get and normalize button\r\n\t\tif (this.gamepadIndices.button !== undefined && gamepad.buttons.length > this.gamepadIndices.button) {\r\n\t\t\tconst gamepadButton = gamepad.buttons[this.gamepadIndices.button];\r\n\t\t\tthis.values.button = gamepadButton.value;\r\n\t\t\tthis.values.button = (this.values.button < 0) ? 0 : this.values.button;\r\n\t\t\tthis.values.button = (this.values.button > 1) ? 1 : this.values.button;\r\n\t\t\t// Set the state based on the button\r\n\t\t\tif (gamepadButton.pressed || this.values.button === 1) {\r\n\t\t\t\tthis.values.state = Constants.ComponentState.PRESSED;\r\n\t\t\t} else if (gamepadButton.touched || this.values.button > Constants.ButtonTouchThreshold) {\r\n\t\t\t\tthis.values.state = Constants.ComponentState.TOUCHED;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get and normalize x axis value\r\n\t\tif (this.gamepadIndices.xAxis !== undefined && gamepad.axes.length > this.gamepadIndices.xAxis) {\r\n\t\t\tthis.values.xAxis = gamepad.axes[this.gamepadIndices.xAxis];\r\n\t\t\tthis.values.xAxis = (this.values.xAxis < -1) ? -1 : this.values.xAxis;\r\n\t\t\tthis.values.xAxis = (this.values.xAxis > 1) ? 1 : this.values.xAxis;\r\n\t\t\t// If the state is still default, check if the xAxis makes it touched\r\n\t\t\tif (this.values.state === Constants.ComponentState.DEFAULT && Math.abs(this.values.xAxis) > Constants.AxisTouchThreshold) {\r\n\t\t\t\tthis.values.state = Constants.ComponentState.TOUCHED;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Get and normalize Y axis value\r\n\t\tif (this.gamepadIndices.yAxis !== undefined && gamepad.axes.length > this.gamepadIndices.yAxis) {\r\n\t\t\tthis.values.yAxis = gamepad.axes[this.gamepadIndices.yAxis];\r\n\t\t\tthis.values.yAxis = (this.values.yAxis < -1) ? -1 : this.values.yAxis;\r\n\t\t\tthis.values.yAxis = (this.values.yAxis > 1) ? 1 : this.values.yAxis;\r\n\r\n\t\t\t// If the state is still default, check if the yAxis makes it touched\r\n\t\t\tif (this.values.state === Constants.ComponentState.DEFAULT && Math.abs(this.values.yAxis) > Constants.AxisTouchThreshold) {\r\n\t\t\t\tthis.values.state = Constants.ComponentState.TOUCHED;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Update the visual response weights based on the current component data\r\n\t\tObject.values(this.visualResponses).forEach((visualResponse) => {\r\n\t\t\tvisualResponse.updateFromComponent(this.values);\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n  * @description Builds a motion controller with components and visual responses based on the\r\n  * supplied profile description. Data is polled from the xrInputSource's gamepad.\r\n  * @author Nell Waliczek / https://github.com/NellWaliczek\r\n*/\r\nexport class MotionController {\r\n\t/**\r\n\t * @param {Object} xrInputSource - The XRInputSource to build the MotionController around\r\n\t * @param {Object} profile - The best matched profile description for the supplied xrInputSource\r\n\t * @param {Object} assetUrl\r\n\t */\r\n\tconstructor(xrInputSource, profile, assetUrl) {\r\n\t\tif (!xrInputSource) {\r\n\t\t\tthrow new Error('No xrInputSource supplied');\r\n\t\t}\r\n\t\tif (!profile) {\r\n\t\t\tthrow new Error('No profile supplied');\r\n\t\t}\r\n\t\tthis.xrInputSource = xrInputSource;\r\n\t\tthis.assetUrl = assetUrl;\r\n\t\tthis.id = profile.profileId;\r\n\t\t// Build child components as described in the profile description\r\n\t\tthis.layoutDescription = profile.layouts[xrInputSource.handedness];\r\n\t\tthis.components = {};\r\n\t\tObject.keys(this.layoutDescription.components).forEach((componentId) => {\r\n\t\t\tconst componentDescription = this.layoutDescription.components[componentId];\r\n\t\t\tthis.components[componentId] = new Component(componentId, componentDescription);\r\n\t\t});\r\n\t\t// Initialize components based on current gamepad state\r\n\t\tthis.updateFromGamepad();\r\n\t}\r\n\r\n\tget gripSpace() {\r\n\t\treturn this.xrInputSource.gripSpace;\r\n\t}\r\n\r\n\tget targetRaySpace() {\r\n\t\treturn this.xrInputSource.targetRaySpace;\r\n\t}\r\n\r\n\t/**\r\n\t * @description Returns a subset of component data for simplified debugging\r\n\t */\r\n\tget data() {\r\n\t\tconst data = [];\r\n\t\tObject.values(this.components).forEach((component) => {\r\n\t\t\tdata.push(component.data);\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n\r\n\t/**\r\n\t * @description Poll for updated data based on current gamepad state\r\n\t */\r\n\tupdateFromGamepad() {\r\n\t\tObject.values(this.components).forEach((component) => {\r\n\t\t\tcomponent.updateFromGamepad(this.xrInputSource.gamepad);\r\n\t\t});\r\n\t}\r\n}\r\n","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { MotionController, Constants as MotionControllerConstants, fetchProfile } from './motion-controllers.module.js';\r\n\r\nconst DEFAULT_PROFILES_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles';\r\nconst DEFAULT_PROFILE = 'generic-trigger';\r\n\r\nclass XRControllerModel extends THREE.Object3D {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.motionController = null;\r\n\t\tthis.envMap = null;\r\n\t}\r\n\r\n\tsetEnvironmentMap(envMap) {\r\n\t\tif (this.envMap == envMap) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tthis.envMap = envMap;\r\n\t\tthis.traverse((child) => {\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tchild.material.envMap = this.envMap;\r\n\t\t\t\tchild.material.needsUpdate = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Polls data from the XRInputSource and updates the model's components to match\r\n\t * the real world data\r\n\t */\r\n\tupdateMatrixWorld(force) {\r\n\t\tsuper.updateMatrixWorld(force);\r\n\t\tif (!this.motionController) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// Cause the MotionController to poll the Gamepad for data\r\n\t\tthis.motionController.updateFromGamepad();\r\n\t\t// Update the 3D model to reflect the button, thumbstick, and touchpad state\r\n\t\tObject.values(this.motionController.components).forEach((component) => {\r\n\t\t\t// Update node data based on the visual responses' current states\r\n\t\t\tObject.values(component.visualResponses).forEach((visualResponse) => {\r\n\t\t\t\tconst { valueNode, minNode, maxNode, value, valueNodeProperty } = visualResponse;\r\n\t\t\t\t// Skip if the visual response node is not found. No error is needed,\r\n\t\t\t\t// because it will have been reported at load time.\r\n\t\t\t\tif (!valueNode) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// Calculate the new properties based on the weight supplied\r\n\t\t\t\tif (valueNodeProperty === MotionControllerConstants.VisualResponseProperty.VISIBILITY) {\r\n\t\t\t\t\tvalueNode.visible = value;\r\n\t\t\t\t} else if (valueNodeProperty === MotionControllerConstants.VisualResponseProperty.TRANSFORM) {\r\n\t\t\t\t\tvalueNode.quaternion.slerpQuaternions(\r\n\t\t\t\t\t\tminNode.quaternion,\r\n\t\t\t\t\t\tmaxNode.quaternion,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tvalueNode.position.lerpVectors(\r\n\t\t\t\t\t\tminNode.position,\r\n\t\t\t\t\t\tmaxNode.position,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * Walks the model's tree to find the nodes needed to animate the components and\r\n * saves them to the motionContoller components for use in the frame loop. When\r\n * touchpads are found, attaches a touch dot to them.\r\n */\r\nfunction findNodes(motionController, scene) {\r\n\t// Loop through the components and find the nodes needed for each components' visual responses\r\n\tObject.values(motionController.components).forEach((component) => {\r\n\t\tconst { type, touchPointNodeName, visualResponses } = component;\r\n\t\tif (type === MotionControllerConstants.ComponentType.TOUCHPAD) {\r\n\t\t\tcomponent.touchPointNode = scene.getObjectByName(touchPointNodeName);\r\n\t\t\tif (component.touchPointNode) {\r\n\t\t\t\t// Attach a touch dot to the touchpad.\r\n\t\t\t\tconst sphereGeometry = new THREE.SphereGeometry(0.001);\r\n\t\t\t\tconst material = new THREE.MeshBasicMaterial({ color: 0x0000FF });\r\n\t\t\t\tconst sphere = new THREE.Mesh(sphereGeometry, material);\r\n\t\t\t\tcomponent.touchPointNode.add(sphere);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(`Could not find touch dot, ${component.touchPointNodeName}, in touchpad component ${component.id}`);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Loop through all the visual responses to be applied to this component\r\n\t\tObject.values(visualResponses).forEach((visualResponse) => {\r\n\t\t\tconst { valueNodeName, minNodeName, maxNodeName, valueNodeProperty } = visualResponse;\r\n\t\t\t// If animating a transform, find the two nodes to be interpolated between.\r\n\t\t\tif (valueNodeProperty === MotionControllerConstants.VisualResponseProperty.TRANSFORM) {\r\n\t\t\t\tvisualResponse.minNode = scene.getObjectByName(minNodeName);\r\n\t\t\t\tvisualResponse.maxNode = scene.getObjectByName(maxNodeName);\r\n\t\t\t\t// If the extents cannot be found, skip this animation\r\n\t\t\t\tif (!visualResponse.minNode) {\r\n\t\t\t\t\tconsole.warn(`Could not find ${minNodeName} in the model`);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!visualResponse.maxNode) {\r\n\t\t\t\t\tconsole.warn(`Could not find ${maxNodeName} in the model`);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the target node cannot be found, skip this animation\r\n\t\t\tvisualResponse.valueNode = scene.getObjectByName(valueNodeName);\r\n\t\t\tif (!visualResponse.valueNode) {\r\n\t\t\t\tconsole.warn(`Could not find ${valueNodeName} in the model`);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction addAssetSceneToControllerModel(controllerModel, scene) {\r\n\t// Find the nodes needed for animation and cache them on the motionController.\r\n\tfindNodes(controllerModel.motionController, scene);\r\n\t// Apply any environment map that the mesh already has set.\r\n\tif (controllerModel.envMap) {\r\n\t\tscene.traverse((child) => {\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tchild.material.envMap = controllerModel.envMap;\r\n\t\t\t\tchild.material.needsUpdate = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// Add the glTF scene to the controllerModel.\r\n\tcontrollerModel.add(scene);\r\n}\r\n\r\nexport class XRControllerModelFactory {\r\n\r\n\tconstructor(gltfLoader = null) {\r\n\t\tthis.gltfLoader = gltfLoader;\r\n\t\tthis.path = DEFAULT_PROFILES_PATH;\r\n\t\tthis._assetCache = {};\r\n\t\t// If a GLTFLoader wasn't supplied to the constructor create a new one.\r\n\t\tif (!this.gltfLoader) {\r\n\t\t\tthis.gltfLoader = new GLTFLoader();\r\n\t\t}\r\n\t}\r\n\r\n\tcreateControllerModel(controller) {\r\n\t\tconst controllerModel = new XRControllerModel();\r\n\t\tlet scene = null;\r\n\t\tcontroller.addEventListener('connected', (event) => {\r\n\t\t\tconst xrInputSource = event.data;\r\n\t\t\tif (xrInputSource.targetRayMode !== 'tracked-pointer' || !xrInputSource.gamepad) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfetchProfile(xrInputSource, this.path, DEFAULT_PROFILE).then(({ profile, assetPath }) => {\r\n\t\t\t\tcontrollerModel.motionController = new MotionController(\r\n\t\t\t\t\txrInputSource,\r\n\t\t\t\t\tprofile,\r\n\t\t\t\t\tassetPath,\r\n\t\t\t\t);\r\n\t\t\t\tconst cachedAsset = this._assetCache[controllerModel.motionController.assetUrl];\r\n\t\t\t\tif (cachedAsset) {\r\n\t\t\t\t\tscene = cachedAsset.scene.clone();\r\n\t\t\t\t\taddAssetSceneToControllerModel(controllerModel, scene);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this.gltfLoader) {\r\n\t\t\t\t\t\tthrow new Error('GLTFLoader not set.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.gltfLoader.setPath('');\r\n\t\t\t\t\tthis.gltfLoader.load(controllerModel.motionController.assetUrl, (asset) => {\r\n\t\t\t\t\t\tthis._assetCache[controllerModel.motionController.assetUrl] = asset;\r\n\t\t\t\t\t\tscene = asset.scene.clone();\r\n\t\t\t\t\t\taddAssetSceneToControllerModel(controllerModel, scene);\r\n\t\t\t\t\t}, null, () => {\r\n\t\t\t\t\t\tthrow new Error(`Asset ${controllerModel.motionController.assetUrl} missing or malformed.`);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch((err) => {\r\n\t\t\t\tconsole.warn(err);\r\n\t\t\t});\r\n\t\t});\r\n\t\tcontroller.addEventListener('disconnected', () => {\r\n\t\t\tcontrollerModel.motionController = null;\r\n\t\t\tcontrollerModel.remove(scene);\r\n\t\t\tscene = null;\r\n\t\t});\r\n\t\treturn controllerModel;\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { auditTime, filter, map, shareReplay, takeUntil, tap } from 'rxjs/operators';\r\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\nimport { MessageType, UIMode } from '../agora/agora.types';\r\nimport { DEBUG, environment } from '../environment';\r\nimport KeyboardService from '../keyboard/keyboard.service';\r\nimport { LanguageService } from '../language/language.service';\r\nimport LoaderService from '../loader/loader.service';\r\nimport { Logger } from '../logger/logger';\r\nimport { MessageService } from '../message/message.service';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport PrefetchService from '../prefetch/prefetch.service';\r\nimport { Rect } from '../rect/rect';\r\nimport StateService from '../state/state.service';\r\nimport { RoleType } from '../user/user';\r\nimport { PanoramaGridView, ViewType } from '../view/view';\r\nimport { ViewService } from '../view/view.service';\r\nimport AvatarElement from './avatar/avatar-element';\r\nimport { Host } from './host/host';\r\nimport Interactive from './interactive/interactive';\r\nimport MediaMesh from './media/media-mesh';\r\nimport MediaPlayMesh from './media/media-play-mesh';\r\nimport OrbitService, { OrbitMoveEvent } from './orbit/orbit.service';\r\nimport Panorama from './panorama/panorama';\r\nimport PhoneElement from './phone/phone.element';\r\nimport PointerElement from './pointer/pointer.element';\r\nimport { TeleportElement } from './teleport/teleport.element';\r\nimport { Texture } from './texture/texture';\r\nimport VRService from './vr.service';\r\nimport { Gamepad } from './webxr/gamepad';\r\nimport { XRControllerModelFactory } from './webxr/xr-controller-model.factory';\r\n\r\nconst ZERO = new THREE.Vector3();\r\nconst DOWN = new THREE.Vector3(0, -1, 0);\r\nconst USE_SHADOW = false;\r\nconst USE_PHONE = true;\r\n\r\nconst CONTROL_INFO = {\r\n\ttype: MessageType.ControlInfo,\r\n\torientation: { latitude: 0, longitude: 0 },\r\n\tzoom: 1,\r\n\tcameraGroup: {\r\n\t\tposition: [0, 0, 0],\r\n\t\trotation: [0, 0, 0],\r\n\t},\r\n\tpointer: [0, 0, 0],\r\n};\r\n\r\nexport default class WorldComponent extends Component {\r\n\r\n\tget error() {\r\n\t\treturn this.error_;\r\n\t}\r\n\tset error(error) {\r\n\t\tif (this.error_ !== error) {\r\n\t\t\tthis.error_ = error;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\tget view() {\r\n\t\treturn this.view_;\r\n\t}\r\n\tset view(view) {\r\n\t\tif (this.view_ !== view) {\r\n\t\t\tthis.view_ = view;\r\n\t\t\tthis.setView();\r\n\t\t}\r\n\t}\r\n\tget debugging() {\r\n\t\t// return STATIC || DEBUG;\r\n\t\treturn DEBUG;\r\n\t}\r\n\r\n\tget controlled() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling !== StateService.state.uid);\r\n\t}\r\n\r\n\tget controlling() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling === StateService.state.uid);\r\n\t}\r\n\r\n\tget silencing() {\r\n\t\treturn StateService.state.silencing;\r\n\t}\r\n\r\n\tget silenced() {\r\n\t\treturn (StateService.state.silencing && StateService.state.role === RoleType.Streamer);\r\n\t}\r\n\r\n\tget spyed() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying === StateService.state.uid);\r\n\t}\r\n\r\n\tget spying() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying !== StateService.state.uid);\r\n\t}\r\n\r\n\tget locked() {\r\n\t\treturn this.controlled || this.spying;\r\n\t}\r\n\r\n\tget lockedOrXR() {\r\n\t\treturn this.locked || this.renderer.xr.isPresenting;\r\n\t}\r\n\r\n\tget showMenu() {\r\n\t\treturn StateService.state.hosted && StateService.state.navigable && (StateService.state.mode !== 'embed' || environment.flags.menuEmbed);\r\n\t}\r\n\r\n\tget showPointer() {\r\n\t\treturn this.pointer.mesh.parent != null;\r\n\t}\r\n\tset showPointer(showPointer) {\r\n\t\tif (this.showPointer !== showPointer) {\r\n\t\t\tshowPointer ? this.scene.add(this.pointer.mesh) : this.scene.remove(this.pointer.mesh);\r\n\t\t\t// Logger.log('WorldComponent.showPointer', showPointer);\r\n\t\t}\r\n\t}\r\n\r\n\tset menu(menu) {\r\n\t\tif (this.menu_ !== menu) {\r\n\t\t\tthis.menu_ = menu;\r\n\t\t\tthis.scene.traverse(object => {\r\n\t\t\t\tif (object instanceof MediaMesh || object instanceof MediaPlayMesh) {\r\n\t\t\t\t\tobject.freezed = (menu != null);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tget menu() {\r\n\t\treturn this.menu_;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// Logger.log('WorldComponent.onInit');\r\n\t\tHost.host = this;\r\n\t\tthis.defaultTexture = Texture.gridTexture;\r\n\t\tthis.index = 0;\r\n\t\tthis.error_ = null;\r\n\t\tthis.loading = null;\r\n\t\tthis.waiting = null;\r\n\t\tthis.avatars = {};\r\n\t\tthis.createScene();\r\n\t\t// this.setView();\r\n\t\tthis.addListeners();\r\n\t\tthis.animate(); // !!!\r\n\t\tKeyboardService.keys$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(keys => {\r\n\t\t\tthis.keys = keys;\r\n\t\t\t// console.log(keys);\r\n\t\t});\r\n\t\tLanguageService.lang$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(_ => {\r\n\t\t\tthis.setView();\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\tif (this.view) {\r\n\t\t\tconst selected = this.view.items.find(item => item.selected);\r\n\t\t\tif (selected && selected.mesh) {\r\n\t\t\t\tif (this.view.type.name !== 'model') {\r\n\t\t\t\t\tthis.orbitService.lookAt(selected.mesh);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tconst renderer = this.renderer;\r\n\t\trenderer.setAnimationLoop(() => { });\r\n\t}\r\n\r\n\tcreateScene() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.size = { left: 0, top: 0, width: 0, height: 0, aspect: 0 };\r\n\t\tthis.mouse = new THREE.Vector2();\r\n\t\tthis.controllerMatrix_ = new THREE.Matrix4();\r\n\t\tthis.controllerWorldPosition_ = new THREE.Vector3();\r\n\t\tthis.controllerWorldDirection_ = new THREE.Vector3();\r\n\r\n\t\tconst container = this.container = node;\r\n\t\tconst info = this.info = node.querySelector('.world__info');\r\n\r\n\t\tconst worldRect = this.worldRect = Rect.fromNode(container);\r\n\t\tconst cameraRect = this.cameraRect = new Rect();\r\n\r\n\t\tconst cameraGroup = this.cameraGroup = new THREE.Group();\r\n\t\t// new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, ROOM_RADIUS * 2);\r\n\t\t// const camera = this.camera = new THREE.PerspectiveCamera(70, container.offsetWidth / container.offsetHeight, 0.01, 1000);\r\n\t\tconst camera = this.camera = new THREE.PerspectiveCamera(70, container.offsetWidth / container.offsetHeight, 0.01, 1000);\r\n\t\tcamera.target = new THREE.Vector3();\r\n\t\tcameraGroup.add(camera);\r\n\t\t// cameraGroup.target = new THREE.Vector3();\r\n\r\n\t\tconst orbitService = this.orbitService = new OrbitService(camera);\r\n\r\n\t\tconst renderer = this.renderer = new THREE.WebGLRenderer({\r\n\t\t\tantialias: environment.flags.antialias || false,\r\n\t\t\talpha: environment.flags.alpha || false,\r\n\t\t\tpremultipliedAlpha: environment.flags.premultipliedAlpha || false,\r\n\t\t\tlogarithmicDepthBuffer: true,\r\n\t\t\t// physicallyCorrectLights: true,\r\n\t\t\tpowerPreference: 'high-performance',\r\n\t\t});\r\n\t\trenderer.setClearColor(0x000000, 1);\r\n\t\trenderer.setPixelRatio(window.devicePixelRatio);\r\n\t\trenderer.setSize(container.offsetWidth, container.offsetHeight);\r\n\t\trenderer.xr.enabled = true;\r\n\t\trenderer.outputEncoding = THREE.LinearEncoding;\r\n\t\t// renderer.toneMapping = THREE.NoToneMapping;\r\n\t\trenderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n\t\trenderer.toneMappingExposure = environment.toneMappingExposure || 1; // 2;\r\n\t\t// renderer.outputEncoding = THREE.sRGBEncoding;\r\n\t\t// renderer.toneMapping = THREE.LinearToneMapping;\r\n\t\t// renderer.toneMapping = THREE.ReinhardToneMapping;\r\n\t\t// renderer.toneMapping = THREE.CineonToneMapping;\r\n\t\t// renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n\t\tif (USE_SHADOW) {\r\n\t\t\trenderer.shadowMap.enabled = true;\r\n\t\t\trenderer.shadowMap.type = THREE.PCFShadowMap; // THREE.PCFSoftShadowMap; // default THREE.PCFShadowMap\r\n\t\t}\r\n\t\tif (container.childElementCount > 0) {\r\n\t\t\tcontainer.insertBefore(renderer.domElement, container.children[0]);\r\n\t\t} else {\r\n\t\t\tcontainer.appendChild(renderer.domElement);\r\n\t\t}\r\n\r\n\t\tconst raycaster = this.raycaster = new THREE.Raycaster();\r\n\t\traycaster.setFromCamera(this.mouse, camera);\r\n\r\n\t\tconst scene = this.scene = new THREE.Scene();\r\n\t\tscene.add(cameraGroup);\r\n\r\n\t\tif (environment.flags.useTextureEnvironment) {\r\n\t\t\tthis.addEnvironment();\r\n\t\t}\r\n\r\n\t\tconst objects = this.objects = new THREE.Group();\r\n\t\tobjects.name = '[objects]';\r\n\t\tscene.add(objects);\r\n\r\n\t\tconst panorama = this.panorama = new Panorama(renderer);\r\n\t\tthis.panoramaIntersectObjects = [panorama.mesh];\r\n\t\tthis.intersectObjects = this.panoramaIntersectObjects;\r\n\t\tobjects.add(panorama.mesh);\r\n\r\n\t\tconst indicator = this.indicator = new PointerElement();\r\n\t\tconst pointer = this.pointer = new PointerElement('#ff4332');\r\n\r\n\t\tconst light1 = new THREE.PointLight(0xffffff, 0.8);\r\n\t\tlight1.position.set(-50, 0, 0);\r\n\t\tobjects.add(light1);\r\n\r\n\t\tconst light2 = new THREE.PointLight(0xffffff, 0.3);\r\n\t\tlight2.position.set(50, 0, 0);\r\n\t\tobjects.add(light2);\r\n\r\n\t\tconst light3 = new THREE.PointLight(0xffffff, 0.5);\r\n\t\tlight3.position.set(0, 50, 0);\r\n\t\tobjects.add(light3);\r\n\r\n\t\tconst light4 = new THREE.PointLight(0xffffff, 0.1);\r\n\t\tlight4.position.set(0, -50, 0);\r\n\t\tobjects.add(light4);\r\n\r\n\t\tconst ambient = this.ambient = new THREE.AmbientLight(0xffffff, 0.25);\r\n\t\tobjects.add(ambient);\r\n\r\n\t\t/*\r\n\t\tconst direct = this.direct = new THREE.DirectionalLight(0xffffff, 1);\r\n\t\tdirect.position.set(-40, -40, -40);\r\n\t\tdirect.target.position.set(0, 0, 0);\r\n\t\tobjects.add(direct);\r\n\t\t*/\r\n\r\n\t\tthis.addControllers();\r\n\t\tthis.resize();\r\n\r\n\t\t// show hide items\r\n\t\tLoaderService.progress$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(progress => {\r\n\t\t\tconst complete = progress.count === 0;\r\n\t\t\tconst view = this.view_;\r\n\t\t\t// this.panorama.mesh.visible = complete;\r\n\t\t\tif (view.items) {\r\n\t\t\t\tview.items.forEach(item => {\r\n\t\t\t\t\titem.visible = complete;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// console.log(view, complete, progress);\r\n\t\t});\r\n\r\n\t\t// Logger.log('WorldComponent.createScene', this);\r\n\t}\r\n\r\n\ttoggleLights(enabled) {\r\n\t\tif (this.ambient) {\r\n\t\t\tthis.ambient.visible = enabled;\r\n\t\t}\r\n\t\tif (this.direct) {\r\n\t\t\tthis.direct.visible = enabled;\r\n\t\t}\r\n\t}\r\n\r\n\taddEnvironment() {\r\n\t\tconst segments = environment.textures.envMap.split('/');\r\n\t\tconst filename = segments.pop();\r\n\t\tconst folder = segments.join('/') + '/';\r\n\t\tconst isHdr = filename.indexOf('.hdr') !== -1;\r\n\t\t// const loader = isHdr ? new RGBELoader().setDataType(THREE.UnsignedByteType) : new THREE.TextureLoader();\r\n\t\tlet loader;\r\n\t\tif (isHdr) {\r\n\t\t\tloader = new RGBELoader();\r\n\t\t\tloader.setDataType(THREE.HalfFloatType);\r\n\t\t} else {\r\n\t\t\tloader = new THREE.TextureLoader();\r\n\t\t}\r\n\t\tloader.setPath(environment.getPath(folder)).load(filename, (texture) => {\r\n\t\t\tif (isHdr && texture) {\r\n\t\t\t\ttexture.mapping = THREE.EquirectangularReflectionMapping;\r\n\t\t\t\tthis.scene.background = texture;\r\n\t\t\t\tthis.scene.environment = texture;\r\n\t\t\t} else {\r\n\t\t\t\tthis.setBackground(texture);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddOffCanvasScene(message) {\r\n\t\tconst avatar = new AvatarElement(message);\r\n\t\tthis.avatars[message.clientId] = avatar;\r\n\t\t// avatar.container.appendChild(avatar.element);\r\n\t}\r\n\r\n\tremoveOffCanvasScene(message) {\r\n\t\tconst avatar = this.avatars[message.clientId];\r\n\t\t/*\r\n\t\tif (avatar && avatar.element.parentNode) {\r\n\t\t\tavatar.element.parentNode.removeChild(avatar.element);\r\n\t\t}\r\n\t\t*/\r\n\t\tdelete this.avatars[message.clientId];\r\n\t}\r\n\r\n\tupdateOffCanvasScene(message) {\r\n\t\tconst avatar = this.avatars[message.clientId];\r\n\t\tif (avatar) {\r\n\t\t\tavatar.update(message);\r\n\t\t}\r\n\t}\r\n\r\n\tsetBackground(texture) {\r\n\t\tlet background = texture || this.defaultTexture;\r\n\t\tbackground.mapping = THREE.EquirectangularReflectionMapping;\r\n\t\t// background.encoding = THREE.LinearEncoding;\r\n\t\tbackground.encoding = THREE.sRGBEncoding;\r\n\t\t// background.encoding = THREE.GammaEncoding;\r\n\t\t// background.encoding = THREE.RGBEEncoding;\r\n\t\t// background.encoding = THREE.LogLuvEncoding;\r\n\t\t// background.encoding = THREE.RGBM7Encoding;\r\n\t\t// background.encoding = THREE.RGBM16Encoding;\r\n\t\t// background.encoding = THREE.RGBDEncoding;\r\n\t\t// background.encoding = THREE.BasicDepthPacking;\r\n\t\t// background.encoding = THREE.RGBADepthPacking;\r\n\t\t// this.scene.background = background;\r\n\t\tthis.scene.environment = background;\r\n\t}\r\n\r\n\tsetView() {\r\n\t\tif (!this.renderer) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.panorama) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst view = this.view_;\r\n\t\tif (view) {\r\n\t\t\tif (StateService.state.zoomedId != null) {\r\n\t\t\t\tStateService.patchState({ zoomedId: null });\r\n\t\t\t}\r\n\t\t\tif (this.views) {\r\n\t\t\t\tthis.views.forEach(view => delete view.onUpdateAsset);\r\n\t\t\t}\r\n\t\t\tconst message = this.requestInfoResult;\r\n\t\t\tif (message) {\r\n\t\t\t\tif (view instanceof PanoramaGridView && message.gridIndex !== undefined) {\r\n\t\t\t\t\tview.index_ = message.gridIndex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tview.ready = false;\r\n\t\t\tthis.cameraGroup.position.set(0, 0, 0);\r\n\t\t\tthis.cameraGroup.rotation.set(0, 0, 0);\r\n\t\t\tif (view.type.name === ViewType.Room3d.name) {\r\n\t\t\t\tthis.renderer.setClearColor(0x000000, 1);\r\n\t\t\t\tthis.objects.remove(this.panorama.mesh);\r\n\t\t\t\tthis.toggleLights(false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.renderer.setClearColor(0x000000, 1);\r\n\t\t\t\tthis.objects.add(this.panorama.mesh);\r\n\t\t\t\tthis.toggleLights(true);\r\n\t\t\t}\r\n\t\t\t// this.waiting = null;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tPrefetchService.cancel();\r\n\t\t\tthis.panorama.change(view, this.renderer, (texture) => {\r\n\t\t\t\t// Logger.log('WorldComponent.panorama.change', texture);\r\n\t\t\t\tif (!environment.flags.useTextureEnvironment) {\r\n\t\t\t\t\tthis.setBackground(texture);\r\n\t\t\t\t}\r\n\t\t\t\tview.ready = true;\r\n\t\t\t\tview.onUpdateAsset = () => {\r\n\t\t\t\t\tthis.onViewAssetDidChange();\r\n\t\t\t\t};\r\n\t\t\t\tconst context = getContext(this);\r\n\t\t\t\t// Logger.log('WorldCompoent.setView.context', context);\r\n\t\t\t\tif (context) {\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t}, (view) => {\r\n\t\t\t\tthis.setViewOrientation(view);\r\n\t\t\t\tPrefetchService.prefetch(view.prefetchAssets);\r\n\t\t\t\t// this.loading = null;\r\n\t\t\t\t// this.pushChanges();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonViewAssetDidChange() {\r\n\t\tif (this.panorama) {\r\n\t\t\tthis.panorama.crossfade(this.view, this.renderer, (texture) => {\r\n\t\t\t\tif (!environment.flags.useTextureEnvironment) {\r\n\t\t\t\t\tthis.setBackground(texture);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tsetViewOrientation(view) {\r\n\t\tconst message = this.requestInfoResult;\r\n\t\tthis.requestInfoResult = null;\r\n\t\tif (this.orbitService) {\r\n\t\t\tthis.orbitService.mode = view.type.name;\r\n\t\t\tif (!this.renderer.xr.isPresenting) {\r\n\t\t\t\tlet orientation;\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\torientation = message.orientation;\r\n\t\t\t\t\tthis.orbitService.setOrientation(orientation);\r\n\t\t\t\t\tthis.orbitService.zoom = message.zoom;\r\n\t\t\t\t\tthis.camera.updateProjectionMatrix();\r\n\t\t\t\t} else if (!view.keepOrientation) {\r\n\t\t\t\t\t// Logger.log('WorldComponent.setViewOrientation', view.useLastOrientation, view.lastOrientation);\r\n\t\t\t\t\torientation = view.useLastOrientation ? view.lastOrientation : view.orientation;\r\n\t\t\t\t\tthis.orbitService.setOrientation(orientation);\r\n\t\t\t\t\tthis.orbitService.zoom = view.zoom;\r\n\t\t\t\t\tthis.camera.updateProjectionMatrix();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddControllers() {\r\n\t\tconst controllerGroup = this.controllerGroup = new THREE.Group();\r\n\t\tconst teleport = this.teleport = new TeleportElement();\r\n\t\tthis.controllers = [];\r\n\t\tthis.controllerModelFactory = new XRControllerModelFactory();\r\n\t\tthis.addController(0);\r\n\t\tthis.addController(1);\r\n\t\tthis.cameraGroup.add(controllerGroup);\r\n\t}\r\n\r\n\taddController(index) {\r\n\t\tconst showPhone = USE_PHONE && StateService.state.live;\r\n\t\tconst renderer = this.renderer;\r\n\t\tconst controllerGroup = this.controllerGroup;\r\n\t\tconst controller = renderer.xr.getController(index);\r\n\t\tconst controllerModelFactory = this.controllerModelFactory;\r\n\t\tconst teleport = this.teleport;\r\n\t\tconst scene = this.scene;\r\n\t\tconst camera = this.camera;\r\n\t\tconst cameraGroup = this.cameraGroup;\r\n\t\tcontroller.name = `[controller${index + 1}]`;\r\n\t\tcontrollerGroup.add(controller);\r\n\t\tconst setController = (controller) => {\r\n\t\t\t// Logger.log('WorldComponent.setController', this);\r\n\t\t\tthis.controller = controller;\r\n\t\t};\r\n\t\tconst onSelectStart = (event) => {\r\n\t\t\tcontroller.userData.isSelecting = true;\r\n\t\t\tsetController(controller);\r\n\t\t};\r\n\t\tconst onSelectEnd = (event) => {\r\n\t\t\tcontroller.userData.isSelecting = false;\r\n\t\t};\r\n\t\tconst onSqueezeStart = (event) => {\r\n\t\t\tif (this.view && this.view.type.name === ViewType.Room3d.name) {\r\n\t\t\t\tteleport.addToController(controller, scene);\r\n\t\t\t\t// this.scene.remove(this.indicator.mesh);\r\n\t\t\t\tthis.indicator.mesh.visible = false;\r\n\t\t\t\tcontroller.children[0].visible = false;\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst onSqueezeEnd = (event) => {\r\n\t\t\t// if (this.view && this.view.type.name === ViewType.Room3d.name) {\r\n\t\t\tteleport.removeFromController(controller, scene, renderer, camera, cameraGroup);\r\n\t\t\t// this.scene.add(this.indicator.mesh);\r\n\t\t\tthis.indicator.mesh.visible = true;\r\n\t\t\tcontroller.children[0].visible = true;\r\n\t\t\t// }\r\n\t\t};\r\n\t\t// const debugService = DebugService.getService();\r\n\t\t// debugService.setMessage('DebugService 1001');\r\n\t\tconst onPress = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onPress', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onPress ' + event.index);\r\n\t\t\t// 0: select\r\n\t\t\t// 1: squeeze\r\n\t\t\t// 4: x / a\r\n\t\t\t// 5: y / b\r\n\t\t\tswitch (event.index) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\t// select\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\t// squeeze\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\t// x / a\r\n\t\t\t\t\tMessageService.send({\r\n\t\t\t\t\t\ttype: MessageType.MenuToggle,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst onRelease = (event) => {\r\n\t\t\tthis.onModelUp();\r\n\t\t};\r\n\t\tconst onLeft = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onLeft', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onLeft');\r\n\t\t\tthis.cameraGroup.rotation.y += Math.PI / 180 * 45;\r\n\t\t};\r\n\t\tconst onRight = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onRight', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onRight');\r\n\t\t\tthis.cameraGroup.rotation.y -= Math.PI / 180 * 45;\r\n\t\t};\r\n\t\t/*\r\n\t\tconst onAxis = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onAxis', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onAxis');\r\n\t\t\tthis.cameraGroup.rotation.y += (Math.PI / 180 * event.x);\r\n\t\t};\r\n\t\t*/\r\n\t\tconst onAxis = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onAxis', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onAxis');\r\n\t\t\tthis.onModelDistance(event.y);\r\n\t\t};\r\n\t\t/*\r\n\t\tconst onUp = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onUp', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onUp');\r\n\t\t\tthis.cameraGroup.position.y += 1;\r\n\t\t};\r\n\t\tconst onDown = (event) => {\r\n\t\t\t// Logger.log('WorldComponent.Gamepad.onDown', event, controller);\r\n\t\t\t// debugService.setMessage('Gamepad.onDown');\r\n\t\t\tthis.cameraGroup.position.y -= 1;\r\n\t\t};\r\n\t\t*/\r\n\t\t/*\r\n\t\tconst onUp = (event) => {\r\n\t\t\tthis.onModelDistance(1);\r\n\t\t};\r\n\t\tconst onDown = (event) => {\r\n\t\t\tthis.onModelDistance(-1);\r\n\t\t};\r\n\t\t*/\r\n\t\tconst onConnected = (event) => {\r\n\t\t\tcontroller.add(this.buildController(event.data));\r\n\t\t\tif (showPhone && event.data.handedness === 'left') {\r\n\t\t\t\tconst phone = this.phone = new PhoneElement();\r\n\t\t\t\tcontroller.add(phone.mesh);\r\n\t\t\t}\r\n\t\t\tif (!showPhone || event.data.handedness === 'right') {\r\n\t\t\t\tconst controllerGrip = renderer.xr.getControllerGrip(index);\r\n\t\t\t\tcontrollerGrip.name = `[controller-grip${index + 1}]`;\r\n\t\t\t\tconst controllerModel = controllerModelFactory.createControllerModel(controllerGrip);\r\n\t\t\t\tcontroller.userData.model = controllerModel;\r\n\t\t\t\tcontrollerGrip.add(controllerModel);\r\n\t\t\t\tcontrollerGroup.add(controllerGrip);\r\n\t\t\t}\r\n\t\t\tconst gamepad = new Gamepad(event.data.gamepad);\r\n\t\t\tgamepad.on('press', onPress);\r\n\t\t\tgamepad.on('release', onRelease);\r\n\t\t\tgamepad.on('left', onLeft);\r\n\t\t\tgamepad.on('right', onRight);\r\n\t\t\tgamepad.on('axis', onAxis);\r\n\t\t\t// gamepad.on('up', onUp);\r\n\t\t\t// gamepad.on('down', onDown);\r\n\t\t\tcontroller.userData.gamepad = gamepad;\r\n\t\t\tcontroller.userData.update = () => {\r\n\t\t\t\tgamepad.update();\r\n\t\t\t};\r\n\t\t};\r\n\t\tconst onDisconnected = (event) => {\r\n\t\t\twhile (controller.children.length) {\r\n\t\t\t\tcontroller.remove(controller.children[0]);\r\n\t\t\t}\r\n\t\t\tconst controllerGrip = renderer.xr.getControllerGrip(index);\r\n\t\t\twhile (controllerGrip.children.length) {\r\n\t\t\t\tcontrollerGrip.remove(controllerGrip.children[0]);\r\n\t\t\t}\r\n\t\t\tcontrollerGroup.remove(controllerGrip);\r\n\t\t\tcontroller.userData.update = () => { };\r\n\t\t\tconst gamepad = controller.userData.gamepad;\r\n\t\t\tif (gamepad) {\r\n\t\t\t\tgamepad.off('press', onPress);\r\n\t\t\t\tgamepad.off('release', onRelease);\r\n\t\t\t\tgamepad.off('left', onLeft);\r\n\t\t\t\tgamepad.off('right', onRight);\r\n\t\t\t\tgamepad.off('axis', onAxis);\r\n\t\t\t\t// gamepad.off('up', onUp);\r\n\t\t\t\t// gamepad.off('down', onDown);\r\n\t\t\t\tdelete controller.userData.gamepad;\r\n\t\t\t}\r\n\t\t\tteleport.removeFromController(controller, scene, renderer, camera, cameraGroup);\r\n\t\t};\r\n\t\tcontroller.userData.update = () => { };\r\n\t\tcontroller.addEventListener('selectstart', onSelectStart);\r\n\t\tcontroller.addEventListener('selectend', onSelectEnd);\r\n\t\tcontroller.addEventListener('connected', onConnected);\r\n\t\tcontroller.addEventListener('disconnected', onDisconnected);\r\n\t\tcontroller.addEventListener('squeezestart', onSqueezeStart);\r\n\t\tcontroller.addEventListener('squeezeend', onSqueezeEnd);\r\n\t\tconst controllers = this.controllers;\r\n\t\tcontrollers.push(controller);\r\n\t}\r\n\r\n\tbuildController(data) {\r\n\t\t// Logger.log('WorldComponent.buildController', data);\r\n\t\tlet geometry, material;\r\n\t\tswitch (data.targetRayMode) {\r\n\t\t\tcase 'tracked-pointer':\r\n\t\t\t\tgeometry = new THREE.BufferGeometry();\r\n\t\t\t\tgeometry.setAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, -1], 3));\r\n\t\t\t\tgeometry.setAttribute('color', new THREE.Float32BufferAttribute([0.5, 0.5, 0.5, 0, 0, 0], 3));\r\n\t\t\t\tmaterial = new THREE.LineBasicMaterial({\r\n\t\t\t\t\tvertexColors: true,\r\n\t\t\t\t\tblending: THREE.AdditiveBlending,\r\n\t\t\t\t});\r\n\t\t\t\treturn new THREE.Line(geometry, material);\r\n\t\t\tcase 'gaze':\r\n\t\t\t\tgeometry = new THREE.RingBufferGeometry(0.02, 0.04, 32).translate(0, 0, -1);\r\n\t\t\t\tmaterial = new THREE.MeshBasicMaterial({\r\n\t\t\t\t\topacity: 0.5,\r\n\t\t\t\t\ttransparent: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn new THREE.Mesh(geometry, material);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateRaycasterXR(controller, raycaster) {\r\n\t\tif (controller) {\r\n\t\t\tthis.controllerMatrix_.identity().extractRotation(controller.matrixWorld);\r\n\t\t\traycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\r\n\t\t\traycaster.ray.direction.set(0, 0, -1).applyMatrix4(this.controllerMatrix_);\r\n\t\t\t// raycaster.camera = this.host.renderer.xr.getCamera(this.camera);\r\n\t\t\treturn raycaster;\r\n\t\t}\r\n\t}\r\n\r\n\trepos(object, rect) {\r\n\t\tconst worldRect = this.worldRect;\r\n\t\tconst sx = 0.8;\r\n\t\t// const sx = rect.width / worldRect.width;\r\n\t\t// const sy = rect.height / worldRect.height;\r\n\t\tobject.scale.set(sx, sx, sx);\r\n\t\t// const tx = ((rect.x + rect.width / 2) - worldRect.width / 2) / worldRect.width * 2.0 * this.camera.aspect; // * cameraRect.width / worldRect.width - cameraRect.width / 2;\r\n\t\t// const ty = ((rect.y + rect.height / 2) - worldRect.height / 2) / worldRect.height * 2.0 * this.camera.aspect; // * cameraRect.height / worldRect.height - cameraRect.height / 2;\r\n\t\tconst tx = ((rect.x + rect.width / 2) - worldRect.width / 2) / worldRect.width * 2.0 * this.camera.aspect;\r\n\t\tconst ty = ((rect.y + rect.height / 2) - worldRect.height / 2) / worldRect.height * 2.0 * this.camera.aspect;\r\n\t\t// console.log(tx);\r\n\t\t// const position = new THREE.Vector3(tx, ty, 0).unproject(this.camera);\r\n\t\tobject.position.set(tx, -ty, 0);\r\n\t\t// console.log(tx, -ty, 0);\r\n\t}\r\n\r\n\trender(delta) {\r\n\t\ttry {\r\n\t\t\tconst renderer = this.renderer,\r\n\t\t\t\tscene = this.scene,\r\n\t\t\t\tcamera = this.camera,\r\n\t\t\t\tavatars = this.avatars;\r\n\t\t\tconst isPresenting = renderer.xr.isPresenting;\r\n\t\t\tif (!isPresenting && (StateService.state.mode === UIMode.LiveMeeting)) {\r\n\t\t\t\t// !!! || (StateService.state.remoteScreen !== null)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isPresenting) {\r\n\t\t\t\tgsap.ticker.tick();\r\n\t\t\t\tthis.controllers.forEach(controller => controller.userData.update());\r\n\t\t\t\tthis.teleport.update();\r\n\t\t\t} else {\r\n\t\t\t\tthis.navWithKeys();\r\n\t\t\t}\r\n\t\t\tthis.orbitService.render();\r\n\t\t\tconst time = performance.now();\r\n\t\t\tconst tick = this.tick_ ? ++this.tick_ : this.tick_ = 1;\r\n\t\t\tscene.traverse((child) => {\r\n\t\t\t\tconst render = child.userData.render;\r\n\t\t\t\tif (typeof render === 'function') {\r\n\t\t\t\t\trender(time, tick, renderer, scene, camera);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tObject.keys(avatars).forEach(key => {\r\n\t\t\t\tavatars[key].render();\r\n\t\t\t});\r\n\t\t\tthis.vrService.updateState(this);\r\n\t\t\tthis.raycasterXRHitTest();\r\n\t\t\trenderer.render(scene, camera);\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tnavWithKeys() {\r\n\t\tif (this.view && this.view.type.name === ViewType.Room3d.name && this.view.mesh && !this.locked && !ModalService.hasModal) {\r\n\t\t\tthis.intersectObjects = this.view.intersectObjects;\r\n\t\t\tconst velocity = this.velocity || (this.velocity = new THREE.Vector3());\r\n\t\t\tconst direction = this.direction || (this.direction = new THREE.Vector3());\r\n\t\t\tconst camera = this.camera;\r\n\t\t\tconst speed = 0.1;\r\n\t\t\tif (this.keys.w || this.keys.ArrowUp) {\r\n\t\t\t\tcamera.getWorldDirection(direction);\r\n\t\t\t\tdirection.multiplyScalar(speed);\r\n\t\t\t\tvelocity.copy(direction);\r\n\t\t\t} else if (this.keys.s || this.keys.ArrowDown) {\r\n\t\t\t\tcamera.getWorldDirection(direction);\r\n\t\t\t\tdirection.multiplyScalar(-speed);\r\n\t\t\t\tvelocity.copy(direction);\r\n\t\t\t} else if (this.keys.d || this.keys.ArrowRight) {\r\n\t\t\t\tcamera.getWorldDirection(direction);\r\n\t\t\t\tdirection.multiplyScalar(speed);\r\n\t\t\t\tconst axisY = this.axisY || (this.direction = new THREE.Vector3(0, 1, 0));\r\n\t\t\t\tconst angle = -Math.PI / 2;\r\n\t\t\t\tdirection.applyAxisAngle(axisY, angle);\r\n\t\t\t\tvelocity.copy(direction);\r\n\t\t\t} else if (this.keys.a || this.keys.ArrowLeft) {\r\n\t\t\t\tcamera.getWorldDirection(direction);\r\n\t\t\t\tdirection.multiplyScalar(-speed);\r\n\t\t\t\tconst axisY = this.axisY || (this.direction = new THREE.Vector3(0, 1, 0));\r\n\t\t\t\tconst angle = -Math.PI / 2;\r\n\t\t\t\tdirection.applyAxisAngle(axisY, angle);\r\n\t\t\t\tvelocity.copy(direction);\r\n\t\t\t}\r\n\t\t\tconst manhattanLength = velocity.manhattanLength();\r\n\t\t\tif (manhattanLength > 0.00001) {\r\n\t\t\t\t// console.log(velocity.x, velocity.y, velocity.z);\r\n\t\t\t\tdirection.copy(this.cameraGroup.position);\r\n\t\t\t\tdirection.add(velocity);\r\n\t\t\t\tdirection.y = 0;\r\n\t\t\t\tconst raycaster = this.raycaster;\r\n\t\t\t\traycaster.set(direction, DOWN);\r\n\t\t\t\tconst intersects = raycaster.intersectObjects(this.view.navIntersectObjects);\r\n\t\t\t\tif (intersects.length) {\r\n\t\t\t\t\t// console.log(manhattanLength, intersects);\r\n\t\t\t\t\tthis.cameraGroup.position.add(velocity);\r\n\t\t\t\t\tthis.cameraGroup.position.y = 0;\r\n\t\t\t\t\tthis.orbitService.markAsDirty();\r\n\t\t\t\t\t// this.orbitService.events$.next(OrbitService.orbitMoveEvent);\r\n\t\t\t\t\t// camera.updateProjectionMatrix();\r\n\t\t\t\t}\r\n\t\t\t\tvelocity.lerp(ZERO, 0.1);\r\n\t\t\t} else {\r\n\t\t\t\tvelocity.set(0, 0, 0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.intersectObjects = this.panoramaIntersectObjects;\r\n\t\t}\r\n\t}\r\n\r\n\tanimate() {\r\n\t\tconst renderer = this.renderer;\r\n\t\trenderer.setAnimationLoop(this.render);\r\n\t}\r\n\r\n\tresize() {\r\n\t\ttry {\r\n\t\t\tconst container = this.container,\r\n\t\t\t\trenderer = this.renderer,\r\n\t\t\t\tcamera = this.camera;\r\n\t\t\tconst size = this.size;\r\n\t\t\tconst rect = container.getBoundingClientRect();\r\n\t\t\tsize.left = Math.floor(rect.left);\r\n\t\t\tsize.top = Math.floor(rect.top);\r\n\t\t\tsize.width = Math.ceil(rect.width);\r\n\t\t\tsize.height = Math.ceil(rect.height);\r\n\t\t\tsize.aspect = size.width / size.height;\r\n\t\t\tconst worldRect = this.worldRect;\r\n\t\t\tworldRect.setSize(size.width, size.height);\r\n\t\t\tif (!renderer.xr.isPresenting) {\r\n\t\t\t\trenderer.setSize(size.width, size.height);\r\n\t\t\t\tif (camera) {\r\n\t\t\t\t\tcamera.aspect = size.width / size.height;\r\n\t\t\t\t\tconst angle = camera.fov * Math.PI / 180;\r\n\t\t\t\t\tconst height = Math.abs(camera.position.z * Math.tan(angle / 2) * 2);\r\n\t\t\t\t\tconst cameraRect = this.cameraRect;\r\n\t\t\t\t\tcameraRect.width = height * camera.aspect;\r\n\t\t\t\t\tcameraRect.height = height;\r\n\t\t\t\t\t// Logger.log('WorldComponent.position', camera.position.z, 'angle', angle, 'height', height, 'aspect', camera.aspect, cameraRect);\r\n\t\t\t\t\tcamera.updateProjectionMatrix();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// this.render();\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateRaycasterMouse(event) {\r\n\t\tconst w2 = this.size.width / 2;\r\n\t\tconst h2 = this.size.height / 2;\r\n\t\tthis.mouse.x = (event.clientX - this.size.left - w2) / w2;\r\n\t\tthis.mouse.y = -(event.clientY - this.size.top - h2) / h2;\r\n\t\tconst raycaster = this.raycaster;\r\n\t\traycaster.setFromCamera(this.mouse, this.camera);\r\n\t\treturn raycaster;\r\n\t}\r\n\r\n\traycasterXRHitTest() {\r\n\t\tif (this.renderer.xr.isPresenting && !this.locked) {\r\n\t\t\tconst raycaster = this.updateRaycasterXR(this.controller, this.raycaster);\r\n\t\t\tif (raycaster) {\r\n\t\t\t\tconst hit = Interactive.hittest(raycaster, this.controller.userData.isSelecting);\r\n\t\t\t\tthis.indicator.update(this.renderer.xr.getCamera(this.camera));\r\n\t\t\t\t/*\r\n\t\t\t\tif (hit && hit !== this.panorama.mesh) {\r\n\t\t\t\t\t// controllers.feedback();\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\traycasterDesktopHitTest(event) {\r\n\t\tconst raycaster = this.updateRaycasterMouse(event);\r\n\t\tif (this.lockedOrXR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.dragItem) {\r\n\t\t\tif (typeof this.dragItem.onDragMove === 'function') {\r\n\t\t\t\tconst intersections = raycaster.intersectObjects(this.intersectObjects);\r\n\t\t\t\tif (intersections.length) {\r\n\t\t\t\t\tconst intersection = intersections[0];\r\n\t\t\t\t\t// this.panorama.mesh.intersection = intersection;\r\n\t\t\t\t\tconst intersectionPoint = this.intersectionPoint || (this.intersectionPoint = new THREE.Vector3());\r\n\t\t\t\t\tconst intersectionNormal = this.intersectionNormal || (this.intersectionNormal = new THREE.Vector3());\r\n\t\t\t\t\tconst position = intersectionPoint.copy(intersection.point);\r\n\t\t\t\t\tconst normal = intersectionNormal.copy(intersection.face.normal);\r\n\t\t\t\t\tthis.dragItem.onDragMove(position, normal, this.intersectObjects === this.panoramaIntersectObjects);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (this.resizeItem) {\r\n\t\t\t/*\r\n\t\t\tif (typeof this.resizeItem.onResizeMove === 'function') {\r\n\t\t\t\t// calc arc x & y as scale;\r\n\t\t\t\tconst intersections = raycaster.intersectObjects(this.intersectObjects);\r\n\t\t\t\tif (intersections.length) {\r\n\t\t\t\t\tconst intersection = intersections[0];\r\n\t\t\t\t\t// this.panorama.mesh.intersection = intersection;\r\n\t\t\t\t\tconst position = new THREE.Vector3().copy(intersection.point).normalize();\r\n\t\t\t\t\tthis.resizeItem.onResizeMove(position);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t} else {\r\n\t\t\tconst hit = Interactive.hittest(raycaster);\r\n\t\t\tthis.controlEvent$.next(CONTROL_INFO);\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseDown(event) {\r\n\t\ttry {\r\n\t\t\tif (this.locked) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (event.button !== 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst raycaster = this.updateRaycasterMouse(event);\r\n\t\t\tconst hit = Interactive.hittest(raycaster, true);\r\n\t\t\tif (this.editor || DEBUG) {\r\n\t\t\t\tif (!(this.keys.Shift || this.keys.Control)) {\r\n\t\t\t\t\tthis.select.next({ item: null });\r\n\t\t\t\t\tconst intersections = raycaster.intersectObjects(this.intersectObjects);\r\n\t\t\t\t\tif (intersections.length) {\r\n\t\t\t\t\t\tconst intersection = intersections[0];\r\n\t\t\t\t\t\tconst intersectionPoint = this.intersectionPoint || (this.intersectionPoint = new THREE.Vector3());\r\n\t\t\t\t\t\tconst intersectionNormal = this.intersectionNormal || (this.intersectionNormal = new THREE.Vector3());\r\n\t\t\t\t\t\tconst position = intersectionPoint.copy(intersection.point);\r\n\t\t\t\t\t\tconst normal = intersectionNormal.copy(intersection.face.normal);\r\n\t\t\t\t\t\tthis.viewHit.next({ position, normal, spherical: this.intersectObjects === this.panoramaIntersectObjects });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tif (this.panorama.mesh.intersection) {\r\n\t\t\t\t\t\tconst position = new THREE.Vector3().copy(this.panorama.mesh.intersection.point).normalize();\r\n\t\t\t\t\t\t// console.log(JSON.stringify({ position: position.toArray() }));\r\n\t\t\t\t\t\tthis.viewHit.next(position);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t} else if (this.isTouchDevice() && hit && hit.name === '[panorama]') {\r\n\t\t\t\tconst item = this.view.items.find(item => item.showPanel);\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\titem.showPanel = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t// console.log(item, hit, this.view.items);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseMove(event) {\r\n\t\ttry {\r\n\t\t\tthis.raycasterDesktopHitTest(event);\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseUp(event) {\r\n\t\ttry {\r\n\t\t\tif (this.lockedOrXR) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.dragItem) {\r\n\t\t\t\tif (typeof this.dragItem.onDragEnd === 'function') {\r\n\t\t\t\t\tthis.dragItem.onDragEnd();\r\n\t\t\t\t\tthis.dragEnd.next(this.dragItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.dragItem = null;\r\n\t\t\tif (this.resizeItem) {\r\n\t\t\t\tif (typeof this.resizeItem.onResizeEnd === 'function') {\r\n\t\t\t\t\tthis.resizeItem.onResizeEnd();\r\n\t\t\t\t\tthis.resizeEnd.next(this.resizeItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.resizeItem = null;\r\n\t\t\tconst raycaster = this.updateRaycasterMouse(event);\r\n\t\t\tconst hit = Interactive.hittest(raycaster, false);\r\n\t\t\tthis.checkSelectedItem();\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseWheel(event) {\r\n\t\ttry {\r\n\t\t\tif (this.lockedOrXR) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst deltaY = event.deltaY * (event.wheelDeltaY !== undefined ? 1 : 37);\r\n\t\t\tconst orbitService = this.orbitService;\r\n\t\t\tgsap.to(orbitService, {\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tzoom: orbitService.zoom + deltaY * 0.1,\r\n\t\t\t\tease: Power4.easeOut,\r\n\t\t\t\toverwrite: true,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tthis.error = error;\r\n\t\t\t// throw (error);\r\n\t\t}\r\n\t}\r\n\r\n\tonOrientationDidChange() {\r\n\t\tthis.controlEvent$.next(CONTROL_INFO);\r\n\t}\r\n\r\n\tcheckSelectedItem() {\r\n\t\tif (this.view) {\r\n\t\t\tconst selected = this.view.items.find(item => item.selected);\r\n\t\t\tif (selected && selected.mesh) {\r\n\t\t\t\tif (this.view.type.name !== 'model') {\r\n\t\t\t\t\tthis.orbitService.lookAt(selected.mesh);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonVRStarted() {\r\n\t\t// this.objects.rotation.y = - Math.PI / 2;\r\n\t\tthis.objects.position.y = 1.3;\r\n\t\tthis.scene.add(this.indicator.mesh);\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.VRStarted,\r\n\t\t});\r\n\t}\r\n\r\n\tonVREnded() {\r\n\t\t// this.objects.rotation.y = 0;\r\n\t\tthis.objects.position.y = 0;\r\n\t\tthis.cameraGroup.rotation.y = 0;\r\n\t\tthis.cameraGroup.position.y = 0;\r\n\t\tthis.scene.remove(this.indicator.mesh);\r\n\t\tthis.orbitService.markAsDirty();\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.VREnded,\r\n\t\t});\r\n\t}\r\n\r\n\tonVRStateDidChange(state) {\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.VRState,\r\n\t\t\tcamera: state.camera.array,\r\n\t\t});\r\n\t}\r\n\r\n\tonMenuNav(event) {\r\n\t\t// Logger.log('WorldComponent.onMenuNav', event.id, event);\r\n\t\tthis.menu = undefined;\r\n\t\tthis.navTo.next({ viewId: event.id });\r\n\t}\r\n\r\n\tonMenuToggle(event) {\r\n\t\t// Logger.log('WorldComponent.onMenuToggle', event.id, event);\r\n\t\tif (this.locked) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.menu = event;\r\n\t\tthis.view.items.forEach(item => item.showPanel = false);\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonNavOver(nav) {\r\n\t\tif (this.menu) {\r\n\t\t\treturn;\r\n\t\t\t// this.menu.removeMenu();\r\n\t\t}\r\n\t\tthis.view.items.forEach(item => item.showPanel = false);\r\n\t\tif (nav.item.to) {\r\n\t\t\tclearTimeout(nav.item.to);\r\n\t\t}\r\n\t\tnav.item.showPanel = nav.shouldShowPanel();\r\n\t\t// Logger.log('WorldComponent.onNavOver', nav, nav.item.showPanel);\r\n\t\tthis.pushChanges();\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.ShowPanel,\r\n\t\t\titemId: nav.item.showPanel ? nav.item.id : null,\r\n\t\t});\r\n\t}\r\n\r\n\tonNavOut(nav) {\r\n\t\t// Logger.log('WorldComponent.onNavOut', nav);\r\n\t\tif (this.isTouchDevice()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// nav.item.showPanel = false;\r\n\t\tnav.item.to = setTimeout(() => {\r\n\t\t\tnav.item.showPanel = false;\r\n\t\t\tthis.pushChanges();\r\n\t\t}, 6000);\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonNavDown(event) {\r\n\t\tif (!this.isTouchDevice()) {\r\n\t\t\tevent.item.showPanel = false;\r\n\t\t}\r\n\t\t// Logger.log('WorldComponent.onNavDown', this.keys);\r\n\t\tif (this.locked) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.editor && this.keys.Shift) {\r\n\t\t\tthis.dragItem = event;\r\n\t\t\tthis.select.next(event);\r\n\t\t} else if (this.editor && this.keys.Control) {\r\n\t\t\tthis.resizeItem = event;\r\n\t\t\tthis.select.next(event);\r\n\t\t} else {\r\n\t\t\tthis.navTo.next(event.item);\r\n\t\t}\r\n\t}\r\n\r\n\tonNavLink(event) {\r\n\t\t// Logger.log('WorldComponent.onNavLink', event.link.href);\r\n\t\tif (this.locked || this.editor) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (environment.flags.useIframe) {\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.NavLink,\r\n\t\t\t\titemId: event.item.id,\r\n\t\t\t\tlinkIndex: event.linkIndex,\r\n\t\t\t});\r\n\t\t\tthis.navLink.next(event);\r\n\t\t} else {\r\n\t\t\twindow.open(event.link.href, '_blank');\r\n\t\t}\r\n\t}\r\n\r\n\tisTouchDevice() {\r\n\t\treturn (('ontouchstart' in window) ||\r\n\t\t\t(navigator.maxTouchPoints > 0) ||\r\n\t\t\t(navigator.msMaxTouchPoints > 0));\r\n\t}\r\n\r\n\tonModelDown(event) {\r\n\t\tif (this.editor) {\r\n\t\t\treturn this.onObjectDown(event);\r\n\t\t}\r\n\t\t// vr controller model grab\r\n\t\tconst controller = this.controller;\r\n\t\tif (controller && this.renderer.xr.isPresenting) {\r\n\t\t\tconst target = this.tempTarget = event.mesh;\r\n\t\t\t// Logger.log('WorldComponent.onModelDown', target);\r\n\t\t\t// DebugService.getService().setMessage('onModelDown ', target.name);\r\n\t\t\tconst parent = this.tempParent = target.parent;\r\n\t\t\tconst position = new THREE.Vector3();\r\n\t\t\ttarget.localToWorld(position);\r\n\t\t\tcontroller.worldToLocal(position);\r\n\t\t\tcontroller.add(target);\r\n\t\t\ttarget.position.copy(position);\r\n\t\t}\r\n\t}\r\n\r\n\tonModelDistance(direction) {\r\n\t\t// vr controller model distance\r\n\t\tconst controller = this.controller;\r\n\t\tconst target = this.tempTarget;\r\n\t\tif (controller && target && this.renderer.xr.isPresenting) {\r\n\t\t\tlet position = new THREE.Vector3();\r\n\t\t\tposition = position.copy(target.position);\r\n\t\t\tconst distance = Math.max(1, Math.min(8, position.distanceTo(ZERO) + 0.02 * direction));\r\n\t\t\tposition.normalize();\r\n\t\t\tposition = position.multiplyScalar(distance);\r\n\t\t\t// DebugService.getService().setMessage('onModelDistance ' + distance);\r\n\t\t\ttarget.position.copy(position);\r\n\t\t}\r\n\t}\r\n\r\n\tonModelUp() {\r\n\t\t// vr controller model release\r\n\t\tconst target = this.tempTarget;\r\n\t\tconst parent = this.tempParent;\r\n\t\tif (target && parent) {\r\n\t\t\t// Logger.log('WorldComponent.onModelUp', target, parent);\r\n\t\t\tconst position = new THREE.Vector3();\r\n\t\t\ttarget.localToWorld(position);\r\n\t\t\tparent.worldToLocal(position);\r\n\t\t\tparent.add(target);\r\n\t\t\ttarget.position.copy(position);\r\n\t\t\tthis.tempTarget = null;\r\n\t\t\tthis.tempParent = null;\r\n\t\t}\r\n\t}\r\n\r\n\tonObjectDown(event) {\r\n\t\t// Logger.log('WorldComponent.onObjectDown', this.keys);\r\n\t\tif (this.lockedOrXR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.editor && this.keys.Shift) {\r\n\t\t\tthis.dragItem = event;\r\n\t\t\tthis.select.next(event);\r\n\t\t} else if (this.editor && this.keys.Control) {\r\n\t\t\tthis.resizeItem = event;\r\n\t\t\tthis.select.next(event);\r\n\t\t}\r\n\t}\r\n\r\n\tonPanelDown(event) {\r\n\t\t// Logger.log('WorldComponent.onPanelDown', event.link.href);\r\n\t\tif (this.locked) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (environment.flags.useIframe) {\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.NavLink,\r\n\t\t\t\titemId: event.item.id,\r\n\t\t\t\tlinkIndex: event.linkIndex,\r\n\t\t\t});\r\n\t\t\tthis.navLink.next(event);\r\n\t\t} else {\r\n\t\t\twindow.open(event.link.href, '_blank');\r\n\t\t\t/*\r\n\t\t\tconst href = event.getAttribute('href');\r\n\t\t\tconst target = event.getAttribute('target') || '_self';\r\n\t\t\tif (href) {\r\n\t\t\t\twindow.open(href, '_blank');\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t}\r\n\t}\r\n\r\n\tonPlayMedia(event) {\r\n\t\tif (this.editor) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.PlayMedia,\r\n\t\t\titemId: event.itemId,\r\n\t\t\tplaying: event.playing,\r\n\t\t});\r\n\t}\r\n\r\n\tonZoomMedia(event) {\r\n\t\tif (event.zoomed) {\r\n\t\t\tthis.view.items.forEach(item => {\r\n\t\t\t\tif (item.mesh instanceof MediaMesh) {\r\n\t\t\t\t\t// console.log(item.id, event.itemId, item.id !== event.itemId);\r\n\t\t\t\t\tif (item.id !== event.itemId) {\r\n\t\t\t\t\t\titem.mesh.setZoomedState(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.view.items.forEach(item => item.showPanel = false);\r\n\t\tStateService.patchState({ zoomedId: event.zoomed ? event.itemId : null });\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.ZoomMedia,\r\n\t\t\titemId: event.itemId,\r\n\t\t\tzoomed: event.zoomed,\r\n\t\t});\r\n\t}\r\n\r\n\tonCurrentTimeMedia(event) {\r\n\t\tif (this.editor) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.CurrentTimeMedia,\r\n\t\t\titemId: event.itemId,\r\n\t\t\tcurrentTime: event.currentTime,\r\n\t\t});\r\n\t}\r\n\r\n\tonPlayModel(event) {\r\n\t\tif (this.editor) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.PlayModel,\r\n\t\t\titemId: event.itemId,\r\n\t\t\tactionIndex: event.actionIndex,\r\n\t\t});\r\n\t}\r\n\r\n\tonGridMove(event) {\r\n\t\t// Logger.log('WorldComponent.onGridMove', event, this.view);\r\n\t\tthis.view.items = [];\r\n\t\tthis.pushChanges();\r\n\t\tthis.orbitService.walk(event.position, (headingLongitude, headingLatitude) => {\r\n\t\t\tconst tile = this.view.getTile(event.indices.x, event.indices.y);\r\n\t\t\tif (tile) {\r\n\t\t\t\tthis.panorama.crossfade(tile, this.renderer, (texture) => {\r\n\t\t\t\t\tif (!environment.flags.useTextureEnvironment) {\r\n\t\t\t\t\t\tthis.setBackground(texture);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.orbitService.walkComplete(headingLongitude, headingLatitude);\r\n\t\t\t\t\tthis.view.updateCurrentItems();\r\n\t\t\t\t\t// this.loading = null;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t// this.render();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonGridNav(event) {\r\n\t\t// Logger.log('WorldComponent.onGridNav', event);\r\n\t\tif (this.locked) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMessageService.send({\r\n\t\t\ttype: MessageType.NavToGrid,\r\n\t\t\tviewId: this.view.id,\r\n\t\t\tgridIndex: event,\r\n\t\t});\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tsetSnapshot(snapshot) {\r\n\t\tif (ViewService.viewId !== snapshot.viewId) {\r\n\t\t\tViewService.viewId = snapshot.viewId;\r\n\t\t\tthis.requestInfoResult = snapshot;\r\n\t\t} else {\r\n\t\t\tif (!this.renderer.xr.isPresenting) {\r\n\t\t\t\tthis.orbitService.setOrientation(snapshot.orientation);\r\n\t\t\t\tthis.orbitService.zoom = snapshot.zoom;\r\n\t\t\t\tthis.cameraGroup.position.set(snapshot.cameraGroup.position[0], snapshot.cameraGroup.position[1], snapshot.cameraGroup.position[2]);\r\n\t\t\t\tthis.cameraGroup.rotation.set(snapshot.cameraGroup.rotation[0], snapshot.cameraGroup.rotation[1], snapshot.cameraGroup.rotation[2]);\r\n\t\t\t\t// this.camera.updateProjectionMatrix();\r\n\t\t\t}\r\n\t\t\tif (this.view instanceof PanoramaGridView && snapshot.gridIndex) {\r\n\t\t\t\tthis.view.index = snapshot.gridIndex;\r\n\t\t\t}\r\n\t\t\tif (!this.view || !this.view.ready) {\r\n\t\t\t\tthis.requestInfoResult = snapshot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetSnapshot() {\r\n\t\tconst snapshot = {\r\n\t\t\t...CONTROL_INFO,\r\n\t\t\tviewId: this.view.id,\r\n\t\t\ttype: MessageType.SetSnapshot,\r\n\t\t};\r\n\t\tif (this.view instanceof PanoramaGridView) {\r\n\t\t\tsnapshot.gridIndex = this.view.index;\r\n\t\t}\r\n\t\treturn snapshot;\r\n\t}\r\n\r\n\tsendSetSnapshot() {\r\n\t\tconst snapshot = this.getSnapshot();\r\n\t\t// snapshot.type = MessageType.SetSnapshot;\r\n\t\tMessageService.send(snapshot);\r\n\t}\r\n\r\n\tcontrol$() {\r\n\t\treturn this.controlEvent$.pipe(\r\n\t\t\tfilter(() => this.controlling || this.spyed || this.editor),\r\n\t\t\tauditTime(Math.floor(1000 / 15)),\r\n\t\t\tmap((control) => {\r\n\t\t\t\t/**\r\n\t\t\t\t * here we are updating original CONTROL_INFO object\r\n\t\t\t\t */\r\n\t\t\t\tcontrol.orientation.latitude = this.orbitService.latitude;\r\n\t\t\t\tcontrol.orientation.longitude = this.orbitService.longitude;\r\n\t\t\t\tcontrol.zoom = this.orbitService.zoom;\r\n\t\t\t\tcontrol.cameraGroup = {\r\n\t\t\t\t\tposition: this.cameraGroup.position.toArray(),\r\n\t\t\t\t\trotation: this.cameraGroup.rotation.toArray(),\r\n\t\t\t\t};\r\n\t\t\t\tconst intersections = this.raycaster.intersectObjects(this.intersectObjects);\r\n\t\t\t\tconst point = intersections.length ? intersections[0].point.normalize() : null;\r\n\t\t\t\tif (point) {\r\n\t\t\t\t\tcontrol.pointer[0] = point.x;\r\n\t\t\t\t\tcontrol.pointer[1] = point.y;\r\n\t\t\t\t\tcontrol.pointer[2] = point.z;\r\n\t\t\t\t}\r\n\t\t\t\tMessageService.send(control);\r\n\t\t\t\treturn control;\r\n\t\t\t}),\r\n\t\t\tauditTime(4000),\r\n\t\t\ttap(control => {\r\n\t\t\t\t/**\r\n\t\t\t\t * !!! every 4 seconds we save the last view snapshot\r\n\t\t\t\t */\r\n\t\t\t\tconst snapshot = this.getSnapshot();\r\n\t\t\t\t// snapshot.type = MessageType.SetSnapshot;\r\n\t\t\t\tMessageService.send(snapshot);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.controlEvent$ = new ReplaySubject(1);\r\n\t\tthis.control$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.session$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((session) => {\r\n\t\t\tthis.renderer.xr.setSession(session);\r\n\t\t\tif (session) {\r\n\t\t\t\tthis.onVRStarted();\r\n\t\t\t} else {\r\n\t\t\t\tthis.onVREnded();\r\n\t\t\t}\r\n\t\t});\r\n\t\tvrService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\tauditTime(Math.floor(1000 / 15)),\r\n\t\t).subscribe((state) => {\r\n\t\t\tthis.onVRStateDidChange(state);\r\n\t\t});\r\n\t\tconst orbit$ = this.orbitService.observe$(this.container).pipe(\r\n\t\t\tshareReplay(1),\r\n\t\t);\r\n\t\t/*\r\n\t\tconst drag$ = orbit$.pipe(\r\n\t\t\tfilter(event => event instanceof OrbitDragEvent),\r\n\t\t);\r\n\t\t*/\r\n\t\tconst orientation$ = orbit$.pipe(\r\n\t\t\tfilter(event => event instanceof OrbitMoveEvent),\r\n\t\t\tauditTime(Math.floor(1000 / 15)),\r\n\t\t);\r\n\t\torientation$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// this.render();\r\n\t\t\tthis.onOrientationDidChange();\r\n\t\t});\r\n\t\tMessageService.out$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\tLogger.log('WorldComponent.addListeners', 'MessageService.out$', message);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.RequestControl:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tLogger.log('WorldComponent.MessageType.RequestControl', message.controllingId);\r\n\t\t\t\t\t\tStateService.patchState({ controlling: message.controllingId, spying: false });\r\n\t\t\t\t\t\tif (message.controllingId === StateService.state.uid) {\r\n\t\t\t\t\t\t\tthis.sendSetSnapshot();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase MessageType.RequestSpy:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tLogger.log('WorldComponent.MessageType.RequestSpy', message.spyingId);\r\n\t\t\t\t\t\tStateService.patchState({ spying: message.spyingId, controlling: false });\r\n\t\t\t\t\t\tif (message.spyingId === StateService.state.uid) {\r\n\t\t\t\t\t\t\tthis.sendSetSnapshot();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase MessageType.SetSnapshot:\r\n\t\t\t\t\tthis.setSnapshot(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.ShowPanel:\r\n\t\t\t\t\tif (this.menu) {\r\n\t\t\t\t\t\tthis.menu.removeMenu();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.view.items.forEach(item => item.showPanel = (item.id === message.itemId));\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.NavLink: {\r\n\t\t\t\t\tconst item = this.view.items.find(item => item.id === message.itemId);\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\tconst link = item.links[message.linkIndex];\r\n\t\t\t\t\t\tthis.navLink.next({ item, link, linkIndex: message.linkIndex });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.NavLinkClose: {\r\n\t\t\t\t\tconst closeItem = this.view.items.find(item => item.id === message.itemId);\r\n\t\t\t\t\tif (closeItem) {\r\n\t\t\t\t\t\tModalService.resolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.PlayMedia: {\r\n\t\t\t\t\t// !!! uniformare a PlayModel\r\n\t\t\t\t\tconst item = this.view.items.find(item => item.id === message.itemId);\r\n\t\t\t\t\tif (item && item.mesh instanceof MediaMesh) {\r\n\t\t\t\t\t\titem.mesh.setPlayingState(message.playing);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.ZoomMedia: {\r\n\t\t\t\t\tthis.view.items.forEach(item => {\r\n\t\t\t\t\t\tif (item.mesh instanceof MediaMesh) {\r\n\t\t\t\t\t\t\tif (item.id === message.itemId) {\r\n\t\t\t\t\t\t\t\titem.mesh.setZoomedState(message.zoomed);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titem.mesh.setZoomedState(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tStateService.patchState({ zoomedId: message.zoomed ? message.itemId : null });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.CurrentTimeMedia: {\r\n\t\t\t\t\tconst item = this.view.items.find(item => item.id === message.itemId);\r\n\t\t\t\t\tif (item && item.mesh instanceof MediaMesh) {\r\n\t\t\t\t\t\titem.mesh.setCurrentTime(message.currentTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.PlayModel: {\r\n\t\t\t\t\tconst item = this.view.items.find(item => item.id === message.itemId);\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\titem.onMessage(message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase MessageType.NavToGrid:\r\n\t\t\t\t\t// Logger.log('WorldComponent.NavToGrid', this.view.id, message);\r\n\t\t\t\t\tif (this.view.id === message.viewId) {\r\n\t\t\t\t\t\tthis.view.index = message.gridIndex;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.VRStarted:\r\n\t\t\t\t\tthis.addOffCanvasScene(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.VREnded:\r\n\t\t\t\t\tthis.removeOffCanvasScene(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.VRState:\r\n\t\t\t\t\tthis.updateOffCanvasScene(message);\r\n\t\t\t\t\tif (StateService.state.spying === message.clientId || StateService.state.controlling === message.clientId) {\r\n\t\t\t\t\t\tthis.orbitService.setVRCamera(message.camera);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.ControlInfo:\r\n\t\t\t\t\tif (!this.renderer.xr.isPresenting) {\r\n\t\t\t\t\t\tthis.orbitService.setOrientation(message.orientation);\r\n\t\t\t\t\t\tthis.orbitService.zoom = message.zoom;\r\n\t\t\t\t\t\tthis.cameraGroup.position.set(message.cameraGroup.position[0], message.cameraGroup.position[1], message.cameraGroup.position[2]);\r\n\t\t\t\t\t\tthis.cameraGroup.rotation.set(message.cameraGroup.rotation[0], message.cameraGroup.rotation[1], message.cameraGroup.rotation[2]);\r\n\t\t\t\t\t\t// this.camera.updateProjectionMatrix();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.pointer.setPosition(message.pointer[0], message.pointer[1], message.pointer[2], this.camera);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tMessageService.in$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.SelectItem:\r\n\t\t\t\t\tthis.checkSelectedItem();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.showPointer = this.locked;\r\n\t\t\t// console.log(state);\r\n\t\t\t// this.pushChanges();\r\n\t\t});\r\n\t\tthis.resize = this.resize.bind(this);\r\n\t\tthis.render = this.render.bind(this);\r\n\t\tthis.onMouseDown = this.onMouseDown.bind(this);\r\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\r\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\r\n\t\tthis.onMouseWheel = this.onMouseWheel.bind(this);\r\n\t\t// this.controls.addEventListener('change', this.render); // use if there is no animation loop\r\n\t\twindow.addEventListener('resize', this.resize, false);\r\n\t\tthis.container.addEventListener('wheel', this.onMouseWheel, false);\r\n\t\tthis.container.addEventListener('mousedown', this.onMouseDown, false);\r\n\t\tthis.container.addEventListener('mouseup', this.onMouseUp, false);\r\n\t\tdocument.addEventListener('mousemove', this.onMouseMove, false);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\twindow.removeEventListener('resize', this.resize, false);\r\n\t\twindow.removeEventListener('resize', this.resize, false);\r\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove, false);\r\n\t\tdocument.removeEventListener('wheel', this.onMouseWheel, false);\r\n\t\tthis.container.removeEventListener('mousedown', this.onMouseDown, false);\r\n\t\tthis.container.removeEventListener('mouseup', this.onMouseUp, false);\r\n\t}\r\n}\r\n\r\nWorldComponent.meta = {\r\n\tselector: '[world]',\r\n\tinputs: ['view', 'views', 'editor'],\r\n\toutputs: ['navTo', 'navLink', 'viewHit', 'dragEnd', 'resizeEnd', 'select'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"world__view\" *if=\"view\">\r\n\t\t<div class=\"grid\" model-grid *if=\"view.type.name === 'panorama-grid'\" [view]=\"view\" (move)=\"onGridMove($event)\" (nav)=\"onGridNav($event)\"></div>\r\n\t\t<div *if=\"view.ready\">\r\n\t\t\t<div model-room [view]=\"view\" *if=\"view.type.name === 'room-3d'\"></div>\r\n\t\t\t<div class=\"world__item\" *for=\"let item of view.pathItems; let index = index;\">\r\n\t\t\t\t<div model-nav [item]=\"item\" [view]=\"view\" (over)=\"onNavOver($event)\" (out)=\"onNavOut($event)\" (down)=\"onNavDown($event)\" (link)=\"onNavLink($event)\" *if=\"item.type.name == 'nav'\"></div>\r\n\t\t\t\t<div model-plane [item]=\"item\" [view]=\"view\" (play)=\"onPlayMedia($event)\" (zoom)=\"onZoomMedia($event)\" (down)=\"onObjectDown($event)\" (currentTime)=\"onCurrentTimeMedia($event)\" *if=\"item.type.name == 'plane'\"></div>\r\n\t\t\t\t<div model-curved-plane [item]=\"item\" [view]=\"view\" (play)=\"onPlayMedia($event)\" (zoom)=\"onZoomMedia($event)\" (down)=\"onObjectDown($event)\" (currentTime)=\"onCurrentTimeMedia($event)\" *if=\"item.type.name == 'curved-plane'\"></div>\r\n\t\t\t\t<div class=\"model-viewer__item\" model-model [item]=\"item\" [view]=\"view\" (down)=\"onModelDown($event)\" (play)=\"onPlayModel($event)\" *if=\"item.type.name == 'model'\"></div>\r\n\t\t\t\t<div class=\"panel\" [class]=\"{ 'panel--lg': item.asset != null }\" model-panel [item]=\"item\" (down)=\"onPanelDown($event)\" *if=\"item.showPanel\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"progress-indicator\" model-progress [view]=\"view\">\r\n\t\t<div class=\"inner\"></div>\r\n\t</div>\r\n\t<div model-menu [views]=\"views\" (nav)=\"onMenuNav($event)\" (toggle)=\"onMenuToggle($event)\" *if=\"showMenu\"></div>\r\n\t<div model-debug *if=\"debugging\"></div>\r\n\t<div class=\"world__info\" *if=\"error\" [innerHTML]=\"error\"></div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport Interactive from '../interactive/interactive';\r\nimport WorldComponent from '../world.component';\r\n\r\nexport default class ModelComponent extends Component {\r\n\r\n\tset renderOrder(renderOrder) {\r\n\t\tthis.group.renderOrder = renderOrder;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// console.log('ModelComponent.onInit');\r\n\t\t// console.log('item', this.item, 'host', this.host);\r\n\t\tif (!this.host) {\r\n\t\t\tthrow ('ModelComponent host is undefined');\r\n\t\t}\r\n\t\tthis.scale = new THREE.Vector3(1.0, 1.0, 1.0);\r\n\t\tthis.position = new THREE.Vector3();\r\n\t\tconst group = this.group = new THREE.Group();\r\n\t\tgroup.name = this.getName();\r\n\t\tgroup.userData.render = (time, tick) => {\r\n\t\t\t// if (this.intersection) {\r\n\t\t\tthis.render(this, time, tick);\r\n\t\t\t// }\r\n\t\t};\r\n\t\tthis.getContainer().add(group);\r\n\t\tthis.onCreate(\r\n\t\t\t(mesh, item) => this.onMount(mesh, item),\r\n\t\t\t(mesh, item) => this.onDismount(mesh, item),\r\n\t\t);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\t// console.log('ModelComponent', this);\r\n\t\tconst group = this.group;\r\n\t\tthis.getContainer().remove(group);\r\n\t\tdelete group.userData.render;\r\n\t\tthis.disposeObject(group);\r\n\t\tthis.group = null;\r\n\t}\r\n\r\n\tgetContainer() {\r\n\t\treturn this.host.objects;\r\n\t}\r\n\r\n\tgetName(name) {\r\n\t\treturn `${this.constructor.meta.selector}-${this.rxcompId}${name ? `-${name}` : ''}`;\r\n\t}\r\n\r\n\tonCreate(mounth, dismount) {\r\n\t\tconst material = new THREE.MeshStandardMaterial({\r\n\t\t\tcolor: new THREE.Color('#ffcc00'),\r\n\t\t\troughness: 0.4,\r\n\t\t\tmetalness: 0.01,\r\n\t\t\tflatShading: true,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 0.9,\r\n\t\t});\r\n\t\tconst mesh = new THREE.Mesh(Geometry.defaultGeometry, material);\r\n\t\tif (typeof mounth === 'function') {\r\n\t\t\tmounth(mesh);\r\n\t\t}\r\n\t\treturn mesh;\r\n\t}\r\n\r\n\tonMount(mesh, item) {\r\n\t\tif (this.mesh) {\r\n\t\t\t// console.log('ModelComponent.dismount.mesh');\r\n\t\t\tthis.onDismount(this.mesh);\r\n\t\t}\r\n\t\tmesh.name = this.getName('mesh');\r\n\t\tthis.mesh = mesh;\r\n\t\tif (item) {\r\n\t\t\titem.mesh = mesh;\r\n\t\t\tObject.defineProperty(item, 'visible', {\r\n\t\t\t\tget: () => {\r\n\t\t\t\t\treturn mesh.visible;\r\n\t\t\t\t},\r\n\t\t\t\tset: (visible) => {\r\n\t\t\t\t\tthis.setVisible(visible);\r\n\t\t\t\t},\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t});\r\n\t\t\titem.onUpdate = () => {\r\n\t\t\t\tthis.onUpdate(item, mesh);\r\n\t\t\t};\r\n\t\t\titem.onUpdateAsset = () => {\r\n\t\t\t\tthis.onUpdateAsset(item, mesh);\r\n\t\t\t};\r\n\t\t\titem.onMessage = (message) => {\r\n\t\t\t\tthis.onMessage(message);\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (this.group) {\r\n\t\t\tthis.group.add(mesh);\r\n\t\t}\r\n\t\t// this.host.render(); !!!\r\n\t\t/*\r\n\t\tconst node = this.node;\r\n\t\tDomService.scrollIntersection$(node).subscribe(event => {\r\n\t\t\tthis.scroll = event.scroll;\r\n\t\t\tthis.intersection = event.intersection;\r\n\t\t\tthis.calculateScaleAndPosition();\r\n\t\t});\r\n\t\t*/\r\n\t\t// console.log('Model.loaded', mesh);\r\n\t}\r\n\r\n\tonDismount(mesh, item) {\r\n\t\tthis.group.remove(mesh);\r\n\t\tif (typeof mesh.dispose === 'function') {\r\n\t\t\tmesh.dispose();\r\n\t\t}\r\n\t\tthis.disposeObject(mesh);\r\n\t\tthis.mesh = null;\r\n\t\tif (item) {\r\n\t\t\tdelete item.mesh;\r\n\t\t\tdelete item.onUpdate;\r\n\t\t\tdelete item.onUpdateAsset;\r\n\t\t\tdelete item.onMessage;\r\n\t\t}\r\n\t}\r\n\r\n\tdisposeObject(object) {\r\n\t\tobject.traverse(child => {\r\n\t\t\tif (child.isInteractiveMesh || child.isInteractiveSprite) {\r\n\t\t\t\tInteractive.dispose(child);\r\n\t\t\t}\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tif (child.material.map && child.material.map.disposable !== false) {\r\n\t\t\t\t\tchild.material.map.dispose();\r\n\t\t\t\t}\r\n\t\t\t\tchild.material.dispose();\r\n\t\t\t\tchild.geometry.dispose();\r\n\t\t\t} else if (child.isSprite) {\r\n\t\t\t\tif (child.material.map && child.material.map.disposable !== false) {\r\n\t\t\t\t\tchild.material.map.dispose();\r\n\t\t\t\t}\r\n\t\t\t\tchild.material.dispose();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// console.log('ModelComponent.disposeObject', object);\r\n\t}\r\n\r\n\tcalculateScaleAndPosition() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.host.repos(this, node.getBoundingClientRect());\r\n\t}\r\n\r\n\trender(time, tick) {\r\n\t\t/*\r\n\t\tthis.calculateScaleAndPosition();\r\n\t\tconst group = this.group;\r\n\t\tconst scale = this.scale;\r\n\t\t// group.scale.set(scale.x, scale.y, scale.z);\r\n\t\tconst position = this.position;\r\n\t\tgroup.position.set(position.x, 0, 0);\r\n\t\t// const tween = this.tween();\r\n\t\t// group.rotation.x = THREE.Math.degToRad(180) * tween;\r\n\t\t// group.rotation.y = THREE.Math.degToRad(360) * tween;\r\n\t\t*/\r\n\t}\r\n\r\n\tsetVisible(visible) {\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.mesh.visible = visible;\r\n\t\t}\r\n\t}\r\n\r\n\tgetScroll(offset) {\r\n\t\tconst scroll = this.intersection.scroll(offset);\r\n\t\t// console.log(scroll);\r\n\t\treturn scroll;\r\n\t}\r\n\r\n\tgetTween(offset) {\r\n\t\tlet tween = Math.min(0.0, this.intersection.offset(offset)) + 1;\r\n\t\ttween = Math.max(0.0, tween);\r\n\t\t// tween = Ease.Sine.InOut(tween);\r\n\t\ttween -= 1;\r\n\t\treturn tween;\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdate(item, mesh) { }\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdateAsset(item, mesh) { }\r\n\r\n\t// called by remote events\r\n\tonMessage(message) { }\r\n\r\n}\r\n\r\nModelComponent.meta = {\r\n\tselector: '[model]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['item'],\r\n};\r\n","import WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nexport default class ModelEditableComponent extends ModelComponent {\r\n\r\n\tget editing() {\r\n\t\treturn this.editing_;\r\n\t}\r\n\tset editing(editing) {\r\n\t\tif (this.editing_ !== editing) {\r\n\t\t\tthis.editing_ = editing;\r\n\t\t\tthis.setHelper(editing);\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.RADIUS = 100;\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\t// console.log('ModelEditableComponent', this);\r\n\t\tthis.editing = false;\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\tsetHelper(showHelper) {\r\n\t\tif (showHelper) {\r\n\t\t\tif (!this.helper) {\r\n\t\t\t\tthis.helper = new THREE.BoxHelper(this.mesh, 0x00ff00);\r\n\t\t\t}\r\n\t\t\tthis.host.scene.add(this.helper);\r\n\t\t} else if (this.helper) {\r\n\t\t\tthis.host.scene.remove(this.helper);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateHelper() {\r\n\t\tif (this.helper) {\r\n\t\t\tthis.helper.setFromObject(this.mesh);\r\n\t\t\t// this.helper.update();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nModelEditableComponent.meta = {\r\n\tselector: '[model-editable]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['item'],\r\n};\r\n","import { environment } from '../../environment';\r\nimport StateService from '../../state/state.service';\r\nimport { RoleType } from '../../user/user';\r\nimport { WishlistService } from '../../wishlist/wishlist.service';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport { Host } from '../host/host';\r\nimport Interactive from '../interactive/interactive';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport WorldComponent from '../world.component';\r\nimport ModelEditableComponent from './model-editable.component';\r\n\r\nexport const NavModeType = {\r\n\tNone: 'none',\r\n\tMove: 'move',\r\n\tInfo: 'info',\r\n\tPoint: 'point',\r\n\tTitle: 'title',\r\n\tTransparent: 'transparent',\r\n\tWishlist: 'wishlist',\r\n};\r\n\r\nexport default class ModelNavComponent extends ModelEditableComponent {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn ModelNavComponent.loader || (ModelNavComponent.loader = new THREE.TextureLoader());\r\n\t}\r\n\r\n\tstatic getTexturePoint() {\r\n\t\treturn ModelNavComponent.texturePoint || (ModelNavComponent.texturePoint = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-point.png')));\r\n\t}\r\n\r\n\tstatic getTexturePointImportant() {\r\n\t\treturn ModelNavComponent.texturePointImportant || (ModelNavComponent.texturePointImportant = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-point-important.png')));\r\n\t}\r\n\r\n\tstatic getTextureMove() {\r\n\t\treturn ModelNavComponent.textureMove || (ModelNavComponent.textureMove = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-more.png')));\r\n\t}\r\n\r\n\tstatic getTextureMoveImportant() {\r\n\t\treturn ModelNavComponent.textureMoveImportant || (ModelNavComponent.textureMoveImportant = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-more-important.png')));\r\n\t}\r\n\r\n\tstatic getTextureInfo() {\r\n\t\treturn ModelNavComponent.textureInfo || (ModelNavComponent.textureInfo = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-info.png')));\r\n\t}\r\n\r\n\tstatic getTextureInfoImportant() {\r\n\t\treturn ModelNavComponent.textureInfoImportant || (ModelNavComponent.textureInfoImportant = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-info-important.png')));\r\n\t}\r\n\r\n\tstatic getTextureWishlist() {\r\n\t\treturn ModelNavComponent.textureWishlist || (ModelNavComponent.textureWishlist = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-wishlist-off.png')));\r\n\t}\r\n\r\n\tstatic getTextureWishlistAdded() {\r\n\t\treturn ModelNavComponent.textureWishlistAdded || (ModelNavComponent.textureWishlistAdded = ModelNavComponent.getLoader().load(environment.getPath('textures/ui/nav-wishlist-on.png')));\r\n\t}\r\n\r\n\tstatic getTexture(mode, item) {\r\n\t\tlet texture;\r\n\t\tswitch (mode) {\r\n\t\t\tcase NavModeType.Move:\r\n\t\t\t\ttexture = item.important ? this.getTextureMoveImportant() : this.getTextureMove();\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Info:\r\n\t\t\t\ttexture = item.important ? this.getTextureInfoImportant() : this.getTextureInfo();\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Point:\r\n\t\t\tcase NavModeType.Title:\r\n\t\t\t\ttexture = item.important ? this.getTexturePointImportant() : this.getTexturePoint();\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Wishlist:\r\n\t\t\t\ttexture = item.added ? this.getTextureWishlistAdded() : this.getTextureWishlist();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\ttexture.disposable = false;\r\n\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tstatic getTitleTexture(item, mode) {\r\n\t\tlet texture;\r\n\t\tif (mode === NavModeType.Title) {\r\n\t\t\tconst text = item.title;\r\n\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t// document.querySelector('body').appendChild(canvas);\r\n\t\t\tcanvas.width = 512;\r\n\t\t\tcanvas.height = 32;\r\n\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\tctx.imageSmoothingEnabled = true;\r\n\t\t\tctx.imageSmoothingQuality = 'high';\r\n\t\t\tctx.font = `24px ${environment.fontFamily}`;\r\n\t\t\tconst metrics = ctx.measureText(text);\r\n\t\t\tlet w = metrics.width + 8;\r\n\t\t\tw = Math.pow(2, Math.ceil(Math.log(w) / Math.log(2)));\r\n\t\t\tconst x = w / 2;\r\n\t\t\tconst y = 16;\r\n\t\t\tcanvas.width = w;\r\n\t\t\tctx.font = `24px ${environment.fontFamily}`;\r\n\t\t\tctx.textAlign = 'center';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';\r\n\t\t\tctx.lineWidth = 6;\r\n\t\t\tctx.lineJoin = 'round'; // Experiment with 'bevel' & 'round' for the effect you want!\r\n\t\t\tctx.miterLimit = 2;\r\n\t\t\tctx.strokeText(text, x, y);\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.fillText(text, x, y);\r\n\t\t\ttexture = new THREE.CanvasTexture(canvas);\r\n\t\t}\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tstatic getNavMode(item, view) {\r\n\t\tlet mode = NavModeType.None;\r\n\t\tif (item.hook && item.hook === 'ToggleWishlist') {\r\n\t\t\tmode = NavModeType.Wishlist;\r\n\t\t} else if (item.transparent) {\r\n\t\t\tmode = NavModeType.Transparent;\r\n\t\t} else if (item.viewId !== view.id) {\r\n\t\t\tmode = NavModeType.Move;\r\n\t\t\tif (this.isValidText(item.title)) {\r\n\t\t\t\tmode = NavModeType.Title;\r\n\t\t\t}\r\n\t\t\tif (this.isValidText(item.abstract) ||\r\n\t\t\t\t(item.asset && item.asset.id) ||\r\n\t\t\t\t(item.link && item.link.href)) {\r\n\t\t\t\tmode = NavModeType.Point;\r\n\t\t\t}\r\n\t\t} else if (this.isValidText(item.title) ||\r\n\t\t\tthis.isValidText(item.abstract) ||\r\n\t\t\t(item.asset && item.asset.id) ||\r\n\t\t\t(item.link && item.link.href)) {\r\n\t\t\tmode = NavModeType.Info;\r\n\t\t}\r\n\t\treturn mode;\r\n\t}\r\n\r\n\tstatic hasNavInfo(view) {\r\n\t\tconst item = view.items.find(x => this.getNavMode(x, view) === NavModeType.Info);\r\n\t\t// console.log('ModelNavComponent.hasNavInfo', item);\r\n\t\treturn item != null;\r\n\t}\r\n\r\n\tstatic isValidText(text) {\r\n\t\treturn text && text.length > 0;\r\n\t}\r\n\r\n\thidden_ = false;\r\n\tget hidden() {\r\n\t\treturn this.hidden_;\r\n\t}\r\n\tset hidden(hidden) {\r\n\t\tif (this.hidden_ !== hidden) {\r\n\t\t\tthis.hidden_ = hidden;\r\n\t\t\tthis.updateVisibility(!hidden);\r\n\t\t}\r\n\t}\r\n\r\n\tget isHidden() {\r\n\t\treturn StateService.state.zoomedId != null ||\r\n\t\t\t(environment.flags.hideNavInfo && !this.host.editor &&\r\n\t\t\t\t(!StateService.state.showNavInfo && !(this.host.renderer.xr.isPresenting || StateService.state.role === RoleType.SelfService || StateService.state.role === RoleType.Embed)) &&\r\n\t\t\t\tthis.mode === NavModeType.Info);\r\n\t}\r\n\r\n\tget isAnimated() {\r\n\t\tlet isAnimated = false;\r\n\t\tconst mode = this.mode;\r\n\t\tconst important = this.item.important;\r\n\t\tswitch (mode) {\r\n\t\t\tcase NavModeType.Info:\r\n\t\t\t\tisAnimated = important ? environment.flags.navInfoImportantAnimated : environment.flags.navInfoAnimated;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Move:\r\n\t\t\t\tisAnimated = important ? environment.flags.navMoveImportantAnimated : environment.flags.navMoveAnimated;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Point:\r\n\t\t\t\tisAnimated = important ? environment.flags.navPointImportantAnimated : environment.flags.navPointAnimated;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Title:\r\n\t\t\t\tisAnimated = important ? environment.flags.navTitleImportantAnimated : environment.flags.navTitleAnimated;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NavModeType.Transparent:\r\n\t\t\t\tisAnimated = important ? environment.flags.navTransparentImportantAnimated : environment.flags.navTransparentAnimated;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn isAnimated;\r\n\t}\r\n\r\n\tget iconMinScale() {\r\n\t\treturn (environment.navs.iconMinScale || 1) * 0.03 * (this.isMobile ? 1.6 : 1);\r\n\t}\r\n\r\n\tget iconMaxScale() {\r\n\t\treturn (environment.navs.iconMaxScale || 1.5) * 0.03 * (this.isMobile ? 1.6 : 1);\r\n\t}\r\n\r\n\tisMobile_;\r\n\tget isMobile() {\r\n\t\treturn this.isMobile_;\r\n\t}\r\n\tset isMobile(isMobile) {\r\n\t\tif (this.isMobile_ !== isMobile) {\r\n\t\t\tthis.isMobile_ = isMobile;\r\n\t\t\tthis.setScale();\r\n\t\t}\r\n\t}\r\n\r\n\trender(time, tick) {\r\n\t\t// console.log('render', this.host.worldRect.width);\r\n\t\tthis.isMobile = this.host.worldRect.width < 768;\r\n\t}\r\n\r\n\tsetScale(pow = 0) {\r\n\t\tconst icon = this.icon;\r\n\t\tif (icon) {\r\n\t\t\tconst scale = this.iconMinScale + pow * (this.iconMaxScale - this.iconMinScale);\r\n\t\t\ticon.scale.set(scale, scale, scale);\r\n\t\t}\r\n\t}\r\n\r\n\tshouldShowPanel() {\r\n\t\treturn (!this.editing && this.mode !== NavModeType.Move && this.mode !== NavModeType.Title && this.mode !== NavModeType.Wishlist && (this.mode !== NavModeType.Transparent || ModelNavComponent.isValidText(this.item.title)));\r\n\t}\r\n\r\n\tupdateVisibility(visible) {\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.mesh.visible = visible;\r\n\t\t}\r\n\t\tif (this.sphere) {\r\n\t\t\tthis.sphere.freezed = !visible;\r\n\t\t}\r\n\t\tif (!visible && this.item) {\r\n\t\t\tthis.item.showPanel = false;\r\n\t\t}\r\n\t}\r\n\r\n\tsetVisible(visible) {\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.mesh.visible = visible && !this.hidden_;\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst view = this.view;\r\n\t\tconst item = this.item;\r\n\t\tconst mode = this.mode = ModelNavComponent.getNavMode(item, this.view);\r\n\t\tif (mode === NavModeType.Wishlist) {\r\n\t\t\titem.added = WishlistService.has({ viewId: view.id, itemId: item.id });\r\n\t\t\tthis.onCreateSprites(this.mesh, 1);\r\n\t\t}\r\n\t\tthis.editing = item.selected;\r\n\t\tthis.hidden = this.isHidden;\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\t// this.renderOrder = environment.renderOrder.nav;\r\n\t\tconst view = this.view;\r\n\t\tconst item = this.item;\r\n\t\tconst mode = this.mode = ModelNavComponent.getNavMode(item, this.view);\r\n\t\tif (mode === NavModeType.None) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (mode === NavModeType.Wishlist) {\r\n\t\t\titem.added = WishlistService.has({ viewId: view.id, itemId: item.id });\r\n\t\t}\r\n\t\tconst isAnimated = this.isAnimated;\r\n\t\tconst nav = new THREE.Group();\r\n\t\tif (mode === NavModeType.Transparent) {\r\n\r\n\t\t\tconst opacityIdle = this.host.editor ? 0.1 : 0.0;\r\n\t\t\tconst opacityOver = 0.2;\r\n\t\t\tconst opacityDown = 0.3;\r\n\r\n\t\t\tnav.position.fromArray(item.position);\r\n\t\t\tnav.rotation.fromArray(item.rotation);\r\n\t\t\tnav.scale.fromArray(item.scale);\r\n\r\n\t\t\tconst geometry = Geometry.planeGeometry;\r\n\t\t\tconst plane = this.plane = new InteractiveMesh(geometry, new THREE.MeshBasicMaterial({\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: opacityIdle,\r\n\t\t\t\tcolor: new THREE.Color(environment.colors.menuOverBackground),\r\n\t\t\t\ttoneMapped: false,\r\n\t\t\t}));\r\n\t\t\tplane.name = `[nav] ${item.id}`;\r\n\t\t\tplane.depthTest = false;\r\n\t\t\tnav.add(plane);\r\n\r\n\t\t\tif (isAnimated) {\r\n\t\t\t\tconst from = { pow: 0 };\r\n\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\tpow: 1,\r\n\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t\tdelay: 0.5 + 0.1 * item.index,\r\n\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\trepeat: -1,\r\n\t\t\t\t\tyoyo: true,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tplane.material.opacity = from.pow * opacityDown;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tplane.on('over', () => {\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tplane.material.opacity = opacityOver;\r\n\t\t\t\t}\r\n\t\t\t\tthis.over.next(this);\r\n\t\t\t});\r\n\r\n\t\t\tplane.on('out', () => {\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tplane.material.opacity = opacityIdle;\r\n\t\t\t\t}\r\n\t\t\t\tthis.out.next(this);\r\n\t\t\t});\r\n\r\n\t\t\tplane.on('down', () => {\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tplane.material.opacity = opacityDown;\r\n\t\t\t\t}\r\n\t\t\t\tthis.down.next(this);\r\n\t\t\t\t// opening nav link\r\n\t\t\t\tconst item = this.item;\r\n\t\t\t\tconst link = item.firstLink;\r\n\t\t\t\tif (!this.host.editor && !this.shouldShowPanel() && link && link.href) {\r\n\t\t\t\t\tthis.shouldNavToLink = link.href;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('ModelNavComponent.down');\r\n\t\t\t});\r\n\r\n\t\t\tplane.on('up', () => {\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tplane.material.opacity = opacityIdle;\r\n\t\t\t\t}\r\n\t\t\t\t// opening nav link\r\n\t\t\t\tif (this.shouldNavToLink != null) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tconst link = this.shouldNavToLink;\r\n\t\t\t\t\twindow.open(link, '_blank');\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tthis.shouldNavToLink = null;\r\n\t\t\t\t\tconst item = this.item;\r\n\t\t\t\t\tconst link = item.firstLink;\r\n\t\t\t\t\tthis.link.next({ item, link });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// !! fixing normalized positions;\r\n\t\t\tconst position = new THREE.Vector3(item.position[0], item.position[1], item.position[2]);\r\n\t\t\tconst normalizedPosition = new THREE.Vector3(item.position[0], item.position[1], item.position[2]).normalize();\r\n\t\t\tif (position.distanceToSquared(normalizedPosition) < 0.0001) {\r\n\t\t\t\tposition.multiplyScalar(ModelNavComponent.RADIUS);\r\n\t\t\t}\r\n\t\t\t// console.log('!!! fixing normalized positions', 'position', position, 'normalizedPosition', normalizedPosition, 'distanceToSquared', position.distanceToSquared(normalizedPosition));\r\n\t\t\tnav.position.copy(position);\r\n\t\t\tthis.onCreateSprites(nav);\r\n\t\t\tconst geometry = Geometry.sphereGeometry;\r\n\t\t\tconst sphere = this.sphere = new InteractiveMesh(geometry, new THREE.MeshBasicMaterial({\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: 0.0,\r\n\t\t\t\tcolor: 0x00ffff,\r\n\t\t\t\ttoneMapped: false,\r\n\t\t\t}));\r\n\t\t\tsphere.name = `[nav] ${item.id}`;\r\n\t\t\t// sphere.lookAt(Host.origin); ??\r\n\t\t\tsphere.depthTest = false;\r\n\t\t\t// sphere.renderOrder = 0;\r\n\t\t\tnav.add(sphere);\r\n\r\n\t\t\tconst from = { pow: 0 };\r\n\t\t\tgsap.to(from, {\r\n\t\t\t\tpow: 1,\r\n\t\t\t\tduration: 0.7,\r\n\t\t\t\tdelay: 0.5 + 0.1 * item.index,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\toverwrite: true,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tthis.materials.forEach(material => {\r\n\t\t\t\t\t\tmaterial.opacity = from.pow;\r\n\t\t\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tonComplete: () => {\r\n\t\t\t\t\tif (isAnimated) {\r\n\t\t\t\t\t\tconst icon = this.icon;\r\n\t\t\t\t\t\tfrom.pow = 0;\r\n\t\t\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\t\t\tpow: 1,\r\n\t\t\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t\t\t\tdelay: 0.5 + 0.1 * item.index,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t\trepeat: -1,\r\n\t\t\t\t\t\t\tyoyo: true,\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\tthis.setScale(from.pow);\r\n\t\t\t\t\t\t\t\ticon.material.opacity = from.pow;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tsphere.on('over', () => {\r\n\t\t\t\tthis.over.next(this);\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tconst icon = this.icon;\r\n\t\t\t\t\tconst from = { scale: icon.scale.x };\r\n\t\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\t\tduration: 0.35,\r\n\t\t\t\t\t\tscale: this.iconMaxScale,\r\n\t\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\toverwrite: true,\r\n\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\ticon.scale.set(from.scale, from.scale, from.scale);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsphere.on('out', () => {\r\n\t\t\t\tthis.out.next(this);\r\n\t\t\t\tif (!isAnimated) {\r\n\t\t\t\t\tconst icon = this.icon;\r\n\t\t\t\t\tconst from = { scale: icon.scale.x };\r\n\t\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\t\tduration: 0.35,\r\n\t\t\t\t\t\tscale: this.iconMinScale,\r\n\t\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\toverwrite: true,\r\n\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\ticon.scale.set(from.scale, from.scale, from.scale);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsphere.on('down', () => {\r\n\t\t\t\tthis.down.next(this);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(nav, item);\r\n\t\t}\r\n\t}\r\n\r\n\tonCreateSprites(mesh, opacity = 0) {\r\n\t\tthis.onRemoveSprite(this.icon);\r\n\t\tthis.onRemoveSprite(this.title);\r\n\t\tconst item = this.item;\r\n\t\tconst mode = this.mode = ModelNavComponent.getNavMode(item, this.view);\r\n\t\tif (mode === NavModeType.None) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (mode === NavModeType.Transparent) {\r\n\t\t\tthis.materials = [];\r\n\t\t} else {\r\n\t\t\tconst map = ModelNavComponent.getTexture(mode, item);\r\n\t\t\tconst material = new THREE.SpriteMaterial({\r\n\t\t\t\tmap: map,\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\tsizeAttenuation: false,\r\n\t\t\t\topacity: opacity,\r\n\t\t\t\ttoneMapped: false,\r\n\t\t\t\t// color: 0xff0000,\r\n\t\t\t});\r\n\t\t\tconst materials = [material];\r\n\t\t\tconst icon = this.icon = new THREE.Sprite(material);\r\n\t\t\ticon.renderOrder = environment.renderOrder.nav;\r\n\t\t\tthis.setScale();\r\n\t\t\tmesh.add(icon);\r\n\t\t\tlet titleMaterial;\r\n\t\t\tconst titleTexture = ModelNavComponent.getTitleTexture(item, mode);\r\n\t\t\tif (titleTexture) {\r\n\t\t\t\ttitleMaterial = new THREE.SpriteMaterial({\r\n\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\ttransparent: true,\r\n\t\t\t\t\tmap: titleTexture,\r\n\t\t\t\t\tsizeAttenuation: false,\r\n\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\ttoneMapped: false,\r\n\t\t\t\t\t// color: 0xff0000,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(titleTexture);\r\n\t\t\t\tconst image = titleTexture.image;\r\n\t\t\t\tconst title = this.title = new THREE.Sprite(titleMaterial);\r\n\t\t\t\tconst scale = this.iconMinScale;\r\n\t\t\t\ttitle.scale.set(scale * image.width / image.height, scale, scale);\r\n\t\t\t\ttitle.position.set(0, -3.5, 0);\r\n\t\t\t\tmesh.add(title);\r\n\t\t\t\tmaterials.push(titleMaterial);\r\n\t\t\t}\r\n\t\t\tthis.materials = materials;\r\n\t\t}\r\n\t}\r\n\r\n\tonRemoveSprite(sprite) {\r\n\t\tif (sprite) {\r\n\t\t\tif (sprite.parent) {\r\n\t\t\t\tsprite.parent.remove(sprite);\r\n\t\t\t}\r\n\t\t\tif (sprite.material.map && sprite.material.map.disposable !== false) {\r\n\t\t\t\tsprite.material.map.dispose();\r\n\t\t\t}\r\n\t\t\tsprite.material.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tInteractive.dispose(this.sphere);\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdate(item, mesh) {\r\n\t\tthis.item = item;\r\n\t\tthis.onCreateSprites(mesh, 1);\r\n\t\tif (this.mode === NavModeType.Transparent) {\r\n\t\t\tif (item.position) {\r\n\t\t\t\tmesh.position.fromArray(item.position);\r\n\t\t\t}\r\n\t\t\tif (item.rotation) {\r\n\t\t\t\tmesh.rotation.fromArray(item.rotation);\r\n\t\t\t}\r\n\t\t\tif (item.scale) {\r\n\t\t\t\tmesh.scale.fromArray(item.scale);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// const position = new THREE.Vector3().set(...item.position).normalize().multiplyScalar(ModelNavComponent.RADIUS);\r\n\t\t\t// mesh.position.set(position.x, position.y, position.z);\r\n\t\t\tmesh.position.fromArray(item.position);\r\n\t\t\tmesh.rotation.set(0, 0, 0);\r\n\t\t\tmesh.scale.set(1, 1, 1);\r\n\t\t}\r\n\t\t// console.log('onUpdate', item, mesh.position);\r\n\t\tthis.updateHelper();\r\n\t\t/*\r\n\t\tthis.onCreate(\r\n\t\t\t(mesh, item) => this.onMount(mesh, item),\r\n\t\t\t(mesh, item) => this.onDismount(mesh, item)\r\n\t\t);\r\n\t\t*/\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragMove(position, normal, spherical) {\r\n\t\t// console.log('ModelNavComponent.onDragMove', position, normal, spherical);\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\tthis.editing = true;\r\n\t\titem.showPanel = false;\r\n\t\tif (this.mode === NavModeType.Transparent) {\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(ModelNavComponent.RADIUS);\r\n\t\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\t\tmesh.lookAt(Host.origin);\r\n\t\t\t} else {\r\n\t\t\t\tmesh.position.set(0, 0, 0);\r\n\t\t\t\tmesh.lookAt(normal);\r\n\t\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\t\tmesh.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(ModelNavComponent.RADIUS);\r\n\t\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\t} else {\r\n\t\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\t\tmesh.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragEnd() {\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\tif (this.mode === NavModeType.Transparent) {\r\n\t\t\titem.position = mesh.position.toArray();\r\n\t\t\titem.rotation = mesh.rotation.toArray();\r\n\t\t\titem.scale = mesh.scale.toArray();\r\n\t\t} else {\r\n\t\t\titem.position = mesh.position.toArray(); // new THREE.Vector3().copy(mesh.position).normalize().toArray();\r\n\t\t}\r\n\t\tthis.editing = false;\r\n\t}\r\n}\r\n\r\nModelNavComponent.RADIUS = 100;\r\n\r\nModelNavComponent.meta = {\r\n\tselector: '[model-nav]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['over', 'out', 'down', 'link'],\r\n\tinputs: ['item', 'view'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport NavmapService from '../editor/navmap/navmap.service';\r\nimport PathService from '../editor/path/path.service';\r\nimport { DEBUG, environment } from '../environment';\r\nimport GtmService from '../gtm/gtm.service';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport { Logger } from '../logger/logger';\r\nimport { MeetingId } from '../meeting/meeting-id';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { MessageService } from '../message/message.service';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport { RoutePipe } from '../router/route.pipe';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport { RouterService } from '../router/router.service';\r\nimport StateService from '../state/state.service';\r\nimport StreamService from '../stream/stream.service';\r\nimport ToastService, { ToastPosition, ToastResolveEvent, ToastType } from '../toast/toast.service';\r\nimport TryInARModalComponent from '../try-in-ar/try-in-ar-modal.component';\r\nimport { RoleType } from '../user/user';\r\nimport { UserService } from '../user/user.service';\r\nimport { PanoramaGridView, ViewType } from '../view/view';\r\nimport { ViewService } from '../view/view.service';\r\nimport { WebhookService } from '../webhook/webhook.service';\r\nimport { WishlistService } from '../wishlist/wishlist.service';\r\nimport MediaLoader, { MediaLoaderDisposeEvent, MediaLoaderPauseEvent, MediaLoaderPlayEvent } from '../world/media/media-loader';\r\nimport ModelNavComponent from '../world/model/model-nav.component';\r\nimport VRService from '../world/vr.service';\r\nimport { AgoraChecklistService } from './agora-checklist.service';\r\nimport { CHUNK_BACKGROUND, CHUNK_COPYRIGHT, CHUNK_CREDITS, CHUNK_EMBED, CHUNK_LANGUAGE, CHUNK_LOGO, CHUNK_SELF_SERVICE_TOUR, CHUNK_SMART_DEVICE, CHUNK_VIRTUAL_TOUR } from './agora.component.chunks';\r\nimport AgoraService from './agora.service';\r\nimport { AgoraStatus, MessageType, UIMode } from './agora.types';\r\n\r\nexport default class AgoraComponent extends Component {\r\n\r\n\tget meetingUrl() {\r\n\t\tif (!this.meetingUrl_) {\r\n\t\t\tthis.meetingUrl_ = new MeetingUrl();\r\n\t\t}\r\n\t\treturn this.meetingUrl_;\r\n\t}\r\n\r\n\tget isVirtualTourUser() {\r\n\t\treturn [RoleType.Publisher, RoleType.Attendee, RoleType.Streamer, RoleType.Viewer].indexOf(StateService.state.role) !== -1;\r\n\t}\r\n\r\n\tget isEmbed() {\r\n\t\treturn this.route && this.route.params.mode === 'embed';\r\n\t}\r\n\r\n\tget isSelfServiceTour() {\r\n\t\treturn this.route && this.route.params.mode === 'selfServiceTour';\r\n\t}\r\n\r\n\tget isNavigable() {\r\n\t\tconst embedViewId = this.meetingUrl.embedViewId;\r\n\t\tconst navigable = embedViewId == null;\r\n\t\treturn navigable;\r\n\t}\r\n\r\n\tget isBackButtonVisible() {\r\n\t\treturn this.view && (this.view.type.name === ViewType.Media.name || this.view.type.name === ViewType.Model.name);\r\n\t}\r\n\r\n\tget isSelfServiceProposition() {\r\n\t\treturn StateService.state.role === RoleType.SelfService && environment.flags.selfServiceProposition;\r\n\t}\r\n\r\n\tget isSelfServiceSupport() {\r\n\t\treturn StateService.state.role === RoleType.Publisher && environment.flags.selfServiceProposition && this.meetingUrl.support;\r\n\t}\r\n\r\n\tget showNavInfoToggler() {\r\n\t\treturn environment.flags.hideNavInfo && this.state.mode !== UIMode.LiveMeeting && this.view && ModelNavComponent.hasNavInfo(this.view);\r\n\t}\r\n\r\n\tget uiClass() {\r\n\t\tconst uiClass = {};\r\n\t\tuiClass[this.state.role] = true;\r\n\t\t// uiClass[this.state.mode] = true;\r\n\t\tuiClass.chat = this.state.chat;\r\n\t\tuiClass.remotes = this.state.mode === UIMode.LiveMeeting;\r\n\t\tuiClass.remoteScreen = this.remoteScreen != null && !this.hasScreenViewItem;\r\n\t\tuiClass.locked = this.locked;\r\n\t\t// uiClass.media = !uiClass.remotes && this.media;\r\n\t\treturn uiClass;\r\n\t}\r\n\r\n\tget remoteClass() {\r\n\t\treturn `group--remote--${Math.min(9, this.remotes.length)}`;\r\n\t}\r\n\r\n\tget controlled() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling !== StateService.state.uid);\r\n\t}\r\n\r\n\tget controlling() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling === StateService.state.uid);\r\n\t}\r\n\r\n\tget silencing() {\r\n\t\treturn StateService.state.silencing;\r\n\t}\r\n\r\n\tget silenced() {\r\n\t\treturn (StateService.state.silencing && StateService.state.role === RoleType.Streamer);\r\n\t}\r\n\r\n\tget spyed() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying === StateService.state.uid);\r\n\t}\r\n\r\n\tget spying() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying !== StateService.state.uid);\r\n\t}\r\n\r\n\tget locked() {\r\n\t\treturn this.controlled || this.spying;\r\n\t}\r\n\r\n\tget remoteScreen() {\r\n\t\treturn this.remoteScreen_;\r\n\t}\r\n\tset remoteScreen(remoteScreen) {\r\n\t\tif (this.remoteScreen_ !== remoteScreen) {\r\n\t\t\tthis.remoteScreen_ = remoteScreen;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\t\t\t}, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tget pathViews() {\r\n\t\treturn ViewService.pathViews;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// Logger.log('AgoraComponent.onInit', this.host);\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\tthis.platform = DeviceService.platform;\r\n\t\tthis.route = this.host ? this.host.route : null;\r\n\t\tthis.state = {};\r\n\t\tthis.hosted = null;\r\n\t\tthis.view = null;\r\n\t\tthis.previousView = null;\r\n\t\tthis.form = null;\r\n\t\tthis.local = null;\r\n\t\tthis.screen = null;\r\n\t\tthis.remoteScreen_ = null;\r\n\t\tthis.navmaps = [];\r\n\t\tthis.navmap = null;\r\n\t\t// this.media = null;\r\n\t\tthis.hasScreenViewItem = false;\r\n\t\tthis.remotes = [];\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.status$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(status => this.pushChanges());\r\n\t\tthis.resolveUser();\r\n\t}\r\n\r\n\tgetName(user) {\r\n\t\treturn StateService.state.name || MeetingUrl.getName(user);\r\n\t}\r\n\r\n\tgetLinkRole() {\r\n\t\tlet linkRole = null;\r\n\t\tif (this.isSelfServiceTour) {\r\n\t\t\tlinkRole = RoleType.SelfService;\r\n\t\t\treturn linkRole;\r\n\t\t}\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tconst match = (meetingUrl.link || '').match(/\\d{9}-(\\d{4})-\\d{13}/);\r\n\t\tif (match) {\r\n\t\t\tconst index = parseInt(match[1]);\r\n\t\t\tlinkRole = Object.keys(RoleType).reduce((p, c, i) => {\r\n\t\t\t\treturn i === index ? RoleType[c] : p;\r\n\t\t\t}, null);\r\n\t\t}\r\n\t\treturn linkRole;\r\n\t}\r\n\r\n\tresolveUser() {\r\n\t\tif (this.isEmbed) {\r\n\t\t\tUserService.temporaryUser$(RoleType.Embed).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(user => {\r\n\t\t\t\tthis.initWithUser(user);\r\n\t\t\t});\r\n\t\t} else if (this.isSelfServiceTour) {\r\n\t\t\tUserService.overrideUser$(RoleType.SelfService).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(user => {\r\n\t\t\t\tthis.initWithUser(user);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tUserService.me$().pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(user => {\r\n\t\t\t\tthis.initWithUser(user);\r\n\t\t\t\t// this.userGuard(user);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tuserGuard(user) {\r\n\t\t// Logger.log('AgoraComponent.userGuard', user);\r\n\t\tconst linkRole = this.getLinkRole();\r\n\t\tif (user && (!linkRole || user.type === linkRole)) {\r\n\t\t\tthis.initWithUser(user);\r\n\t\t} else {\r\n\t\t\tthis.initWithUser({ type: linkRole });\r\n\t\t}\r\n\t}\r\n\r\n\tuserGuardRedirect(user) {\r\n\t\t// Logger.log('AgoraComponent.userGuardRedirect', user);\r\n\t\tconst linkRole = this.getLinkRole();\r\n\t\tif (user && (!linkRole || linkRole === user.type)) {\r\n\t\t\tthis.initWithUser(user);\r\n\t\t} else if (linkRole === RoleType.Publisher || linkRole === RoleType.Attendee) {\r\n\t\t\tRouterService.setRouterLink(RoutePipe.transform(':lang.access'));\r\n\t\t} else {\r\n\t\t\tthis.initWithUser({ type: linkRole });\r\n\t\t}\r\n\t}\r\n\r\n\tsetNextStatus() {\r\n\t\tlet status = AgoraStatus.Idle;\r\n\t\tconst state = StateService.state;\r\n\t\tif (state.role === RoleType.SmartDevice) {\r\n\t\t\tstate.name = state.name || 'Smart Device';\r\n\t\t}\r\n\t\tif (!state.checklist) {\r\n\t\t\tstatus = AgoraStatus.Checklist;\r\n\t\t} else if (!state.link) {\r\n\t\t\tstatus = AgoraStatus.Link;\r\n\t\t} else if (!state.user.id && (state.role === RoleType.Publisher || state.role === RoleType.Attendee)) {\r\n\t\t\tstatus = AgoraStatus.Login;\r\n\t\t} else if (!state.name) {\r\n\t\t\tstatus = AgoraStatus.Name;\r\n\t\t} else if (state.role !== RoleType.Viewer && state.role !== RoleType.SmartDevice) {\r\n\t\t\tstatus = AgoraStatus.Device;\r\n\t\t} else {\r\n\t\t\tstatus = AgoraStatus.ShouldConnect;\r\n\t\t}\r\n\t\tStateService.patchState({ status });\r\n\t\treturn status;\r\n\t}\r\n\r\n\tgetPathId() {\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tlet pathId = meetingUrl.pathId;\r\n\t\tif (pathId) {\r\n\t\t\t// Logger.log('AgoraComponent.getPathId', pathId);\r\n\t\t\treturn parseInt(pathId);\r\n\t\t}\r\n\t\tconst link = meetingUrl.link;\r\n\t\tif (link) {\r\n\t\t\tconst meetingId = new MeetingId(link);\r\n\t\t\tpathId = meetingId.pathId;\r\n\t\t}\r\n\t\t// Logger.log('AgoraComponent.getPathId', pathId);\r\n\t\treturn pathId;\r\n\t}\r\n\r\n\tinitWithUser(user) {\r\n\t\t// Logger.log('AgoraComponent.initWithUser', user);\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tconst link = meetingUrl.link;\r\n\t\tconst pathId = this.getPathId();\r\n\t\tconst role = this.getLinkRole() || (user ? user.type : null);\r\n\t\tswitch (role) {\r\n\t\t\tcase RoleType.SelfService:\r\n\t\t\t\tif (!user || (user.type !== RoleType.SelfService && user.type !== RoleType.Publisher)) {\r\n\t\t\t\t\tRouterService.setRouterLink(RoutePipe.transform(':lang.access'));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// forcing role type to RoleType.SelfService\r\n\t\t\t\t\tuser = Object.assign({}, user, { type: RoleType.SelfService });\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tuser = user || { type: role };\r\n\t\t\t\tif (role !== user.type) {\r\n\t\t\t\t\tuser = { type: role };\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t// Logger.log('AgoraComponent.initWithUser', role, user);\r\n\t\tconst mode = UserService.getMode(role);\r\n\t\tconst name = this.getMeetingName(user);\r\n\t\t// const name = meetingUrl.name || this.getName(user);\r\n\t\tconst checklist = null;\r\n\t\tconst hosted = role === RoleType.Publisher ? true : false;\r\n\t\tconst live = (role === RoleType.SelfService || role === RoleType.Embed || DEBUG) ? false : true;\r\n\t\tconst navigable = this.isNavigable;\r\n\t\tconst state = {\r\n\t\t\tuser: user,\r\n\t\t\trole: role,\r\n\t\t\tmode: mode,\r\n\t\t\tname: name,\r\n\t\t\tchecklist: checklist,\r\n\t\t\tpathId: pathId,\r\n\t\t\tlink: link,\r\n\t\t\tchannelName: environment.channelName,\r\n\t\t\tuid: null,\r\n\t\t\tstatus: AgoraStatus.Idle,\r\n\t\t\tconnecting: false,\r\n\t\t\tconnected: false,\r\n\t\t\tcontrolling: false,\r\n\t\t\tspying: false,\r\n\t\t\tsilencing: false,\r\n\t\t\thosted: hosted,\r\n\t\t\tlive: live,\r\n\t\t\tnavigable: navigable,\r\n\t\t\tcameraMuted: false,\r\n\t\t\taudioMuted: false,\r\n\t\t\tshowNavInfo: true,\r\n\t\t};\r\n\t\tStateService.state = state;\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.hosted = state.hosted;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t// console.log(state);\r\n\t\t\tthis.locked ? document.body.classList.add('locked') : document.body.classList.remove('locked');\r\n\t\t});\r\n\t\tthis.initAgora();\r\n\t}\r\n\r\n\tgetMeetingName(user) {\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tlet name = null;\r\n\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\tname = meetingUrl.firstName && meetingUrl.lastName ? `${meetingUrl.firstName} ${meetingUrl.lastName}` : null;\r\n\t\t} else {\r\n\t\t\tname = meetingUrl.name ? meetingUrl.name : null;\r\n\t\t}\r\n\t\tif (!name && user.firstName && user.lastName) {\r\n\t\t\tname = `${user.firstName} ${user.lastName}`;\r\n\t\t}\r\n\t\treturn name;\r\n\t}\r\n\r\n\tviewObserver$() {\r\n\t\treturn ViewService.data$().pipe(\r\n\t\t\tswitchMap(data => {\r\n\t\t\t\t// Logger.log('AgoraComponent.viewObserver$', 'pathId', StateService.state.pathId);\r\n\t\t\t\treturn PathService.getCurrentPath$(StateService.state.pathId).pipe(\r\n\t\t\t\t\tswitchMap(path => {\r\n\t\t\t\t\t\treturn ViewService.hostedView$(data, path);\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\t/*\r\n\t\t\ttap(view => {\r\n\t\t\t\tthis.view = null;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}),\r\n\t\t\tdelay(1),\r\n\t\t\t*/\r\n\t\t\tmap((view) => {\r\n\t\t\t\t// Logger.log('AgoraComponent.viewObserver$', view);\r\n\t\t\t\t// !!! move navToView to user action?\r\n\t\t\t\tif (this.agora) {\r\n\t\t\t\t\tthis.agora.navToView(view.id, view.keepOrientation, view.useLastOrientation);\r\n\t\t\t\t}\r\n\t\t\t\tthis.previousView = this.view;\r\n\t\t\t\tthis.view = view;\r\n\t\t\t\tthis.setNavmap(view);\r\n\t\t\t\tthis.hasScreenViewItem = view.items.find(x => MediaLoader.isPublisherScreen(x) || MediaLoader.isAttendeeScreen(x)) != null;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tconst state = this.state;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\taction: 'b-here-view',\r\n\t\t\t\t\tviewId: view.id,\r\n\t\t\t\t\tuserType: state.role, // aggiunto\r\n\t\t\t\t});\r\n\t\t\t\treturn view;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tload(callback) {\r\n\t\tthis.loadNavmaps();\r\n\t\tthis.viewObserver$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(view => {\r\n\t\t\t// Logger.log('AgoraComponent.load', view);\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback();\r\n\t\t\t\tcallback = null;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tloadNavmaps() {\r\n\t\tif (environment.flags.navmaps) {\r\n\t\t\tNavmapService.navmapGet$().pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(navmaps => {\r\n\t\t\t\tthis.navmaps = navmaps;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tsetNavmap(view) {\r\n\t\tconst navmaps = this.navmaps;\r\n\t\tconst navmap = (navmaps || []).find(x => (x.items || []).find(i => i.viewId === view.id) != null) || null;\r\n\t\t// Logger.log('AgoraComponent.setNavmap', navmap);\r\n\t\tthis.navmap = navmap;\r\n\t}\r\n\r\n\ttoggleNavmap() {\r\n\t\tStateService.patchState({ showNavmap: !StateService.state.showNavmap });\r\n\t}\r\n\r\n\tonNavmapItem(item) {\r\n\t\tStateService.patchState({ showNavmap: false });\r\n\t\tthis.onNavTo(item);\r\n\t}\r\n\r\n\tloadAndConnect(preferences) {\r\n\t\tthis.load(() => {\r\n\t\t\tthis.connect(preferences);\r\n\t\t});\r\n\t}\r\n\r\n\tinitAgora() {\r\n\t\tlet agora = null;\r\n\t\tif (this.state.role === RoleType.SelfService || this.state.role === RoleType.Embed || DEBUG) {\r\n\t\t\tthis.load(() => {\r\n\t\t\t\tStateService.patchState({ status: AgoraStatus.Connected, hosted: true });\r\n\t\t\t});\r\n\t\t\tthis.checkSelfServiceProposition();\r\n\t\t\tthis.checkSelfServiceAudio();\r\n\t\t} else {\r\n\t\t\tAgoraChecklistService.isChecked$().pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(checked => {\r\n\t\t\t\tStateService.patchState({ checklist: checked });\r\n\t\t\t\tagora = this.agora = AgoraService.getSingleton();\r\n\t\t\t\tconst role = this.getLinkRole();\r\n\t\t\t\tconst status = this.setNextStatus();\r\n\t\t\t\t// Logger.log('AgoraComponent.initAgora', status, role);\r\n\t\t\t});\r\n\t\t}\r\n\t\tStreamService.local$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(local => {\r\n\t\t\t// Logger.log('AgoraComponent.initAgora', 'StreamService.local$', local);\r\n\t\t\tthis.local = local;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tStreamService.screen$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(screen => {\r\n\t\t\t// Logger.log('AgoraComponent.initAgora', 'StreamService.screen$', screen);\r\n\t\t\tif (this.screen === this.remoteScreen) {\r\n\t\t\t\tthis.remoteScreen = null;\r\n\t\t\t}\r\n\t\t\tthis.screen = screen;\r\n\t\t\tthis.remoteScreen = screen || this.remoteScreen;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tStreamService.orderedRemotes$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(remotes => {\r\n\t\t\tthis.remotes = [];\r\n\t\t\tthis.remoteScreen = this.screen;\r\n\t\t\tremotes.forEach(x => {\r\n\t\t\t\tif (x.clientInfo && x.clientInfo.screenUid === x.streamId) {\r\n\t\t\t\t\tthis.remoteScreen = x;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.remotes.push(x);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Logger.log('AgoraComponent.initAgora', 'StreamService.orderedRemotes$', this.remotes, this.remoteScreen, remotes.map(x => `${x.clientInfo ? x.clientInfo.uid : 'null'}-${x.clientInfo ? x.clientInfo.screenUid : 'null'}`).join(','));\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\t/*\r\n\t\tMediaLoader.events$.pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tif (event instanceof MediaLoaderPlayEvent) {\r\n\t\t\t\t\tthis.media = event.loader;\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t} else if (event instanceof MediaLoaderDisposeEvent) {\r\n\t\t\t\t\tif (this.media === event.loader) {\r\n\t\t\t\t\t\tthis.media = null;\r\n\t\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Logger.log('AgoraComponent.initAgora', 'MediaLoader.events$', event);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\t*/\r\n\t\tMessageService.out$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\t// Logger.log('AgoraComponent.initAgora', 'MessageService.out$', message);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.ChannelMembers:\r\n\t\t\t\t\tif (this.isSelfServiceSupport) {\r\n\t\t\t\t\t\tconst members = message.members;\r\n\t\t\t\t\t\t// Logger.log('AgoraComponent.initAgora', 'MessageService.out$', members, members.length);\r\n\t\t\t\t\t\tif (members.length > 0) {\r\n\t\t\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_sent'),\r\n\t\t\t\t\t\t\t\ttype: ToastType.Alert, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tMessageService.send({ type: MessageType.SupportRequest });\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_leaved'),\r\n\t\t\t\t\t\t\t\ttype: ToastType.Alert, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.SupportRequest:\r\n\t\t\t\t\tif (this.isSelfServiceProposition) {\r\n\t\t\t\t\t\tthis.openSupportRequestDialog(message.clientInfo);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.SupportRequestAccepted:\r\n\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_accepted'),\r\n\t\t\t\t\t\ttype: ToastType.Alert, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.SupportRequestRejected:\r\n\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_rejected'),\r\n\t\t\t\t\t\ttype: ToastType.Alert, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.RemoteSilencing:\r\n\t\t\t\t\tStateService.patchState({ silencing: message.silencing });\r\n\t\t\t\t\tthis.setAudio(message.silencing);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.NavToView:\r\n\t\t\t\t\tthis.onRemoteNavTo(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.Mode:\r\n\t\t\t\t\tStateService.patchState({ mode: message.mode });\r\n\t\t\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.NavInfo:\r\n\t\t\t\t\tthis.hidePanels();\r\n\t\t\t\t\tStateService.patchState({ showNavInfo: message.showNavInfo });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.AddLike:\r\n\t\t\t\t\tViewService.setViewLike$(message).pipe(\r\n\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t).subscribe(view => this.showLove(view));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase MessageType.ChatMessage:\r\n\t\t\t\t\tif (!StateService.state.chat) {\r\n\t\t\t\t\t\tStateService.patchState({ chatDirty: true });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tMessageService.in$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\tif (this.agora) {\r\n\t\t\t\tthis.agora.sendMessage(message);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.fullscreen$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tif (this.agora && StateService.state.status === AgoraStatus.ShouldConnect) {\r\n\t\t\tthis.loadAndConnect();\r\n\t\t}\r\n\t}\r\n\r\n\tonChecked(checklist) {\r\n\t\t// Logger.log('AgoraComponent.onChecked', checklist);\r\n\t\tStateService.patchState({ checklist: true });\r\n\t\tthis.setNextStatus();\r\n\t}\r\n\r\n\tonLink(link) {\r\n\t\tconst meetingId = new MeetingId(link);\r\n\t\t// Logger.log('AgoraComponent.onLink', meetingId);\r\n\t\tconst pathId = meetingId.pathId;\r\n\t\tconst role = this.getLinkRole();\r\n\t\tconst mode = UserService.getMode(role);\r\n\t\tconst user = StateService.state.user;\r\n\t\tif ((role === RoleType.Publisher || role === RoleType.Attendee) && (!user.id || user.type !== role)) {\r\n\t\t\tStateService.patchState({ link, pathId, role, mode, status: AgoraStatus.Login });\r\n\t\t} else if (StateService.state.name) {\r\n\t\t\tif (role === RoleType.Viewer || role === RoleType.SmartDevice) {\r\n\t\t\t\tStateService.patchState({ link, pathId, role, mode });\r\n\t\t\t\tthis.loadAndConnect();\r\n\t\t\t} else {\r\n\t\t\t\tStateService.patchState({ link, pathId, role, mode, status: AgoraStatus.Device });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tStateService.patchState({ link, pathId, role, mode, status: AgoraStatus.Name });\r\n\t\t}\r\n\t}\r\n\r\n\tonLogin(user) {\r\n\t\tconst name = this.getName(user);\r\n\t\tif (name) {\r\n\t\t\tStateService.patchState({ user, name, status: AgoraStatus.Device });\r\n\t\t} else {\r\n\t\t\tStateService.patchState({ user, status: AgoraStatus.Name });\r\n\t\t}\r\n\t}\r\n\r\n\tonName(name) {\r\n\t\tif (StateService.state.role === RoleType.Viewer || StateService.state.role === RoleType.SmartDevice) {\r\n\t\t\tStateService.patchState({ name });\r\n\t\t\tthis.loadAndConnect();\r\n\t\t} else {\r\n\t\t\tStateService.patchState({ name, status: AgoraStatus.Device });\r\n\t\t}\r\n\t}\r\n\r\n\tonEnter(preferences) {\r\n\t\tthis.loadAndConnect(preferences);\r\n\t}\r\n\r\n\tconnect(preferences) {\r\n\t\t// Logger.log('AgoraComponent.connect', preferences);\r\n\t\tthis.agora.connect$(preferences).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tconst state = this.state;\r\n\t\t// Logger.log('AgoraComponent.connect', this.state.role);\r\n\t\tif (state.role === RoleType.SelfService) {\r\n\t\t\tGtmService.push({\r\n\t\t\t\taction: 'b-here-tour',\r\n\t\t\t\tuserType: state.role,\r\n\t\t\t});\r\n\t\t} else if (state.role === RoleType.Embed) {\r\n\t\t\tGtmService.push({\r\n\t\t\t\taction: 'b-here-embed',\r\n\t\t\t\tuserType: state.role,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst meetingUrl = new MeetingUrl();\r\n\t\t\tconst sharedMeetingId = state.link.replace(/-\\d+-/, '-');\r\n\t\t\tconst log = {\r\n\t\t\t\tmeetingId: state.link,\r\n\t\t\t\tsharedMeetingId: sharedMeetingId,\r\n\t\t\t\tuserType: state.role,\r\n\t\t\t};\r\n\t\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\t\t// !!! update server side logic to use extended user info\r\n\t\t\t\tlog.firstName = meetingUrl.firstName;\r\n\t\t\t\tlog.lastName = meetingUrl.lastName;\r\n\t\t\t\tlog.email = meetingUrl.email;\r\n\t\t\t} else {\r\n\t\t\t\tlog.fullName = state.name;\r\n\t\t\t}\r\n\t\t\t// Logger.log('AgoraComponent.connect', log);\r\n\t\t\tUserService.log$(log).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe();\r\n\t\t\t// do not share user data in gtm\r\n\t\t\tGtmService.push({\r\n\t\t\t\taction: 'b-here-meeting',\r\n\t\t\t\tmeetingId: state.link,\r\n\t\t\t\tsharedMeetingId: sharedMeetingId,\r\n\t\t\t\tuserType: state.role,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tdisconnect() {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.leaveChannel().then(() => {\r\n\t\t\t\t// StateService.patchState({ status: AgoraStatus.Disconnected, connected: false });\r\n\t\t\t\t// window.location.href = window.location.href;\r\n\t\t\t\t// window.location.replace(window.location.href);\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}, console.log);\r\n\t\t} else {\r\n\t\t\tthis.patchState({ connecting: false, connected: false });\r\n\t\t}\r\n\t}\r\n\r\n\tonNavTo(item) {\r\n\t\tconst viewId = item.viewId;\r\n\t\tconst view = this.pathViews.find(x => x.id === viewId);\r\n\t\tif (view) {\r\n\t\t\t// Logger.log('AgoraComponent.onNavTo', item, view);\r\n\t\t\tViewService.action = { viewId, keepOrientation: item.keepOrientation, useLastOrientation: item.useLastOrientation };\r\n\t\t\tthis.onHandleHook(view, item);\r\n\t\t}\r\n\t}\r\n\r\n\tonNavLink(event) {\r\n\t\t// Logger.log('AgoraComponent.onNavLink', event.link.href);\r\n\t\tModalService.open$({ iframe: event.link.href }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(_ => {\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.NavLinkClose,\r\n\t\t\t\titemId: event.item.id,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonRemoteNavTo(message) {\r\n\t\tconst viewId = message.viewId;\r\n\t\tconst gridIndex = message.gridIndex;\r\n\t\tif (viewId && ViewService.viewId !== viewId) {\r\n\t\t\tconst view = this.pathViews.find(x => x.id === viewId);\r\n\t\t\tif (view) {\r\n\t\t\t\t// Logger.log('AgoraComponent.onRemoteNavTo', message, view);\r\n\t\t\t\tViewService.action = { viewId, keepOrientation: message.keepOrientation, useLastOrientation: message.useLastOrientation };\r\n\t\t\t\tif (gridIndex != null && view instanceof PanoramaGridView) {\r\n\t\t\t\t\tview.index = gridIndex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Logger.log('AgoraComponent.onRemoteNavTo', viewId, gridIndex);\r\n\t\t}\r\n\t}\r\n\r\n\tonHandleHook(view, item) {\r\n\t\tswitch (item.hook) {\r\n\t\t\tcase 'ToggleWishlist':\r\n\t\t\t\t{\r\n\t\t\t\t\tconst payload = { viewId: view.id, itemId: item.id };\r\n\t\t\t\t\tWishlistService.toggle$(payload).pipe(\r\n\t\t\t\t\t\tswitchMap(items => {\r\n\t\t\t\t\t\t\tpayload.added = WishlistService.has(payload);\r\n\t\t\t\t\t\t\treturn WebhookService.send$(item.hook, payload, item.extra);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t).subscribe(response => {\r\n\t\t\t\t\t\tLogger.log('AgoraComponent.onHandleHook', response);\r\n\t\t\t\t\t\titem.added = payload.added;\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// !!! why locally?\r\n\tpatchState(state) {\r\n\t\tthis.state = Object.assign({}, this.state, state);\r\n\t\tthis.pushChanges();\r\n\t\t// console.log(this.state);\r\n\t}\r\n\r\n\ttoggleCamera() {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleCamera();\r\n\t\t} else {\r\n\t\t\tthis.patchState({ cameraMuted: !this.state.cameraMuted });\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleAudio() {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleAudio();\r\n\t\t} else {\r\n\t\t\tthis.patchState({ audioMuted: !this.state.audioMuted });\r\n\t\t}\r\n\t}\r\n\r\n\tsetAudio(audioMuted) {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.setAudio(audioMuted);\r\n\t\t} else {\r\n\t\t\tthis.patchState({ audioMuted });\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleScreen() {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleScreen();\r\n\t\t} else {\r\n\t\t\tthis.patchState({ screen: !this.state.screen });\r\n\t\t}\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\ttoggleVolume() {\r\n\t\tconst volumeMuted = !this.state.volumeMuted;\r\n\t\tStateService.patchState({ volumeMuted });\r\n\t\tconst selfServiceAudio = this.selfServiceAudio;\r\n\t\tif (selfServiceAudio) {\r\n\t\t\tselfServiceAudio.volume = volumeMuted ? 0 : 0.5;\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleMode() {\r\n\t\tif (this.agora && StateService.state.role === RoleType.Publisher) {\r\n\t\t\tthis.agora.toggleMode();\r\n\t\t} else {\r\n\t\t\tconst mode = this.state.mode === UIMode.VirtualTour ? UIMode.LiveMeeting : UIMode.VirtualTour;\r\n\t\t\tStateService.patchState({ mode });\r\n\t\t\t// this.patchState({ mode });\r\n\t\t}\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\ttoggleFullScreen() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst fullScreen = !this.state.fullScreen;\r\n\t\tif (fullScreen) {\r\n\t\t\tif (node.requestFullscreen) {\r\n\t\t\t\tnode.requestFullscreen();\r\n\t\t\t} else if (node.webkitRequestFullscreen) {\r\n\t\t\t\tnode.webkitRequestFullscreen();\r\n\t\t\t} else if (node.msRequestFullscreen) {\r\n\t\t\t\tnode.msRequestFullscreen();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (document.exitFullscreen) {\r\n\t\t\t\tdocument.exitFullscreen();\r\n\t\t\t} else if (document.webkitExitFullscreen) {\r\n\t\t\t\tdocument.webkitExitFullscreen();\r\n\t\t\t} else if (document.msExitFullscreen) {\r\n\t\t\t\tdocument.msExitFullscreen();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// StateService.patchState({ fullScreen });\r\n\t}\r\n\r\n\tfullscreen$() {\r\n\t\treturn fromEvent(document, 'fullscreenchange').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tconst fullScreen = document.fullscreenElement != null;\r\n\t\t\t\t// Logger.log('AgoraComponent.fullscreen$', fullScreen);\r\n\t\t\t\tStateService.patchState({ fullScreen });\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleChat() {\r\n\t\tStateService.patchState({ chat: !StateService.state.chat, chatDirty: false });\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\tonChatClose() {\r\n\t\tStateService.patchState({ chat: false });\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\ttoggleNavInfo() {\r\n\t\tthis.hidePanels();\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleNavInfo();\r\n\t\t} else {\r\n\t\t\tthis.patchState({ showNavInfo: !this.state.showNavInfo });\r\n\t\t}\r\n\t}\r\n\r\n\tonBack() {\r\n\t\t// Logger.log('AgoraCompoent.onBack');\r\n\t\tif (this.previousView && this.view && this.previousView.id !== this.view.id) {\r\n\t\t\tViewService.action = { viewId: this.previousView.id, useLastOrientation: true };\r\n\t\t}\r\n\t}\r\n\r\n\thidePanels() {\r\n\t\tthis.view.items.forEach(item => item.showPanel = false);\r\n\t}\r\n\r\n\tonToggleControl(remoteId) {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleControl(remoteId);\r\n\t\t} else {\r\n\t\t\tconst controlling = this.state.controlling === remoteId ? null : remoteId;\r\n\t\t\tthis.patchState({ controlling, spying: false });\r\n\t\t}\r\n\t}\r\n\r\n\tonToggleSilence() {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleSilence();\r\n\t\t} else {\r\n\t\t\tthis.patchState({ silencing: !this.state.silencing });\r\n\t\t}\r\n\t}\r\n\r\n\tonToggleSpy(remoteId) {\r\n\t\tif (this.agora) {\r\n\t\t\tthis.agora.toggleSpy(remoteId);\r\n\t\t} else {\r\n\t\t\tconst spying = this.state.spying === remoteId ? null : remoteId;\r\n\t\t\tthis.patchState({ spying, controlling: false });\r\n\t\t}\r\n\t}\r\n\r\n\taddLike() {\r\n\t\tViewService.viewLike$(this.view).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe((view) => {\r\n\t\t\tif (view) {\r\n\t\t\t\tthis.view.liked = true; // view.liked;\r\n\t\t\t\tthis.showLove(view);\r\n\t\t\t\t// this.view.likes = view.likes;\r\n\t\t\t\t// this.pushChanges();\r\n\t\t\t\tMessageService.send({\r\n\t\t\t\t\ttype: MessageType.AddLike,\r\n\t\t\t\t\tviewId: this.view.id,\r\n\t\t\t\t\tlikes: this.view.likes,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tshowLove(view) {\r\n\t\tif (view && this.view.id === view.id) {\r\n\t\t\tconst skipTimeout = this.view.showLove;\r\n\t\t\tthis.view.likes = view.likes;\r\n\t\t\tthis.view.showLove = true;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tif (!skipTimeout) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.view.showLove = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}, 3100);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttryInAr() {\r\n\t\tif (this.platform === DevicePlatform.IOS || this.platform === DevicePlatform.Android) {\r\n\t\t\tTryInARModalComponent.openInAR(this.view);\r\n\t\t} else {\r\n\t\t\tModalService.open$({ template: TryInARModalComponent.chunk(), data: this.view }).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\t// this.pushChanges();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcheckSelfServiceProposition() {\r\n\t\t// self service proposition\r\n\t\tconst isSelfServiceProposition = this.isSelfServiceProposition;\r\n\t\t// Logger.log('AgoraComponent.checkSelfServiceProposition', isSelfServiceProposition);\r\n\t\tif (isSelfServiceProposition) {\r\n\t\t\tAgoraChecklistService.check$().pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tconst meetingId = new MeetingId({ pathId: StateService.state.pathId });\r\n\t\t\t\tconst meetingIdRoles = meetingId.toRoles();\r\n\t\t\t\tconst meetingUrl = new MeetingUrl({ link: meetingIdRoles.id, support: true });\r\n\t\t\t\tconst href = window.location.origin + meetingUrl.toGuidedTourUrl();\r\n\t\t\t\tLogger.log('AgoraComponent.checkSelfServiceProposition', href);\r\n\t\t\t\tUserService.selfServiceSupportRequest$(StateService.state.user, meetingIdRoles.id, href).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(_ => {\r\n\t\t\t\t\tconst name = this.getName(StateService.state.user);\r\n\t\t\t\t\tStateService.patchState({ checklist: true, link: meetingIdRoles.idSelfService, name });\r\n\t\t\t\t\tthis.agora = AgoraService.getSingleton();\r\n\t\t\t\t\tthis.connect();\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tLogger.error('AgoraComponent.checkSelfServiceProposition.error', error);\r\n\t\t\t\t/*\r\n\t\t\t\tUserService.selfServiceTourSupportFailedRequest$(StateService.state.user).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe();\r\n\t\t\t\t*/\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcheckSelfServiceAudio() {\r\n\t\tif (StateService.state.role === RoleType.SelfService && environment.selfServiceAudio) {\r\n\t\t\tconst selfServiceAudio = document.createElement('audio');\r\n\t\t\tselfServiceAudio.setAttribute('playsinline', 'true');\r\n\t\t\tselfServiceAudio.setAttribute('autoplay', 'true');\r\n\t\t\tselfServiceAudio.setAttribute('loop', 'true');\r\n\t\t\tselfServiceAudio.volume = 0.5;\r\n\t\t\tselfServiceAudio.src = environment.getPath(environment.selfServiceAudio);\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tnode.parentNode.appendChild(selfServiceAudio);\r\n\t\t\tthis.selfServiceAudio = selfServiceAudio;\r\n\t\t\tMediaLoader.events$.pipe(\r\n\t\t\t\ttap(event => {\r\n\t\t\t\t\t// Logger.log('AgoraComponent.checkSelfServiceAudio', 'MediaLoader.event$', event);\r\n\t\t\t\t\tif (event instanceof MediaLoaderPlayEvent) {\r\n\t\t\t\t\t\tselfServiceAudio.pause();\r\n\t\t\t\t\t\t// selfServiceAudio.volume = 0;\r\n\t\t\t\t\t} else if (event instanceof MediaLoaderPauseEvent || event instanceof MediaLoaderDisposeEvent) {\r\n\t\t\t\t\t\tselfServiceAudio.play();\r\n\t\t\t\t\t\t// selfServiceAudio.volume = 0.5;\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe();\r\n\t\t}\r\n\t}\r\n\r\n\topenSupportRequestDialog(clientInfo) {\r\n\t\tToastService.open$({\r\n\t\t\tmessage: LabelPipe.transform('bhere_support_request_dialog'),\r\n\t\t\tacceptMessage: LabelPipe.transform('bhere_support_request_dialog_accept'),\r\n\t\t\trejectMessage: LabelPipe.transform('bhere_support_request_dialog_reject'),\r\n\t\t\ttype: ToastType.Dialog, position: ToastPosition.BottomRight,\r\n\t\t}).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ToastResolveEvent) {\r\n\t\t\t\tMessageService.send({ type: MessageType.SupportRequestAccepted });\r\n\t\t\t\tconst name = StateService.state.name;\r\n\t\t\t\tconst meetingId = new MeetingId(StateService.state.link);\r\n\t\t\t\tmeetingId.role = RoleType.Streamer;\r\n\t\t\t\tconst options = { link: meetingId.toString() };\r\n\t\t\t\tif (environment.flags.useExtendedUserInfo) {\r\n\t\t\t\t\tconst user = StateService.state.user;\r\n\t\t\t\t\toptions.firstName = user.firstName;\r\n\t\t\t\t\toptions.lastName = user.lastName;\r\n\t\t\t\t\toptions.email = user.email;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.name = name;\r\n\t\t\t\t}\r\n\t\t\t\tconst meetingUrl = new MeetingUrl(options);\r\n\t\t\t\tconst href = meetingUrl.toGuidedTourUrl();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.href = href;\r\n\t\t\t\t}, 1000);\r\n\t\t\t} else {\r\n\t\t\t\tMessageService.send({ type: MessageType.SupportRequestRejected });\r\n\t\t\t}\r\n\t\t});\r\n\t\t/*\r\n\t\tModalService.open$({ template: SupportRequestModalComponent.chunk(), data: clientInfo }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tMessageService.send({ type: MessageType.SupportRequestAccepted });\r\n\t\t\t\tconst name = StateService.state.name;\r\n\t\t\t\tconst meetingId = new MeetingId(StateService.state.link);\r\n\t\t\t\tmeetingId.role = RoleType.Streamer;\r\n\t\t\t\tconst meetingUrl = new MeetingUrl({ link: meetingId.toString(), name });\r\n\t\t\t\tconst href = meetingUrl.toGuidedTourUrl();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.href = href;\r\n\t\t\t\t}, 1000);\r\n\t\t\t} else {\r\n\t\t\t\tMessageService.send({ type: MessageType.SupportRequestRejected });\r\n\t\t\t}\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\tonPrevent(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopImmediatePropagation();\r\n\t}\r\n\t*/\r\n}\r\n\r\nAgoraComponent.meta = {\r\n\tselector: '[agora-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /* html */`\r\n\t<div class=\"page page--agora\">\r\n\t\t${CHUNK_BACKGROUND}\r\n\t\t<!-- Status Checklist -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'checklist'\" [agora-checklist] (checked)=\"onChecked($event)\"></div>\r\n\t\t<!-- Status Link -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'link'\" [agora-link] (link)=\"onLink($event)\"></div>\r\n\t\t<!-- Status Login -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'login'\" [agora-login] (login)=\"onLogin($event)\"></div>\r\n\t\t<!-- Status Name -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'name' || (state.status == 'disconnected' && state.role === 'viewer')\" [agora-name] (name)=\"onName($event)\"></div>\r\n\t\t<!-- Status Device -->\r\n\t\t<div class=\"ui ui--info\" *if=\"state.status == 'device' || (state.status == 'disconnected' && state.role !== 'viewer')\" [agora-device] (enter)=\"onEnter($event)\"></div>\r\n\t\t${CHUNK_VIRTUAL_TOUR}\r\n\t\t${CHUNK_SMART_DEVICE}\r\n\t\t${CHUNK_SELF_SERVICE_TOUR}\r\n\t\t${CHUNK_EMBED}\r\n\t\t<header>\r\n\t\t\t${CHUNK_LOGO}\r\n\t\t\t${CHUNK_LANGUAGE}\r\n\t\t</header>\r\n\t\t<footer *if=\"state.status != 'connected'\">\r\n\t\t\t<span class=\"group--colophon\">\r\n\t\t\t\t${CHUNK_CREDITS}\r\n\t\t\t\t${CHUNK_COPYRIGHT}\r\n\t\t\t</span>\r\n\t\t\t<a [routerLink]=\"':lang.editor' | route\" class=\"btn--absolute\" *if=\"('editor' | flag) && !('deployed' | flag) && state.role == 'publisher' && (state.status == 'checklist' || state.status == 'link')\">\r\n\t\t\t\t<span [innerHTML]=\"'bhere_editor' | label\"></span> <svg class=\"edit\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#edit\"></use></svg>\r\n\t\t\t</a>\r\n\t\t</footer>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { fromEvent, merge, of } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { HttpService } from '../http/http.service';\r\nimport { Asset, mapAsset } from './asset';\r\n\r\nexport class AssetService {\r\n\r\n\tstatic assetCreate$(asset) {\r\n\t\treturn HttpService.post$('/api/asset', asset).pipe(\r\n\t\t\tmap(asset => mapAsset(asset)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic assetUpdate$(asset) {\r\n\t\treturn HttpService.put$(`/api/asset/${asset.id}`, asset).pipe(\r\n\t\t\tmap(asset => mapAsset(asset)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic assetDelete$(asset) {\r\n\t\tif (asset && asset.id) {\r\n\t\t\treturn HttpService.delete$(`/api/asset/${asset.id}`).pipe(\r\n\t\t\t\tmap(() => null),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic localizedAssetCreate$(lg, asset) {\r\n\t\treturn HttpService.post$(`/api/${lg}/asset`, asset).pipe(\r\n\t\t\tmap(asset => mapAsset(asset)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic localizedAssetUpdate$(lg, asset) {\r\n\t\treturn HttpService.put$(`/api/${lg}/asset/${asset.id}`, asset).pipe(\r\n\t\t\tmap(asset => mapAsset(asset)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic upload$(files) {\r\n\t\tconst formData = new FormData();\r\n\t\tfiles.forEach(file => formData.append('file', file, file.name));\r\n\t\tconst xhr = new XMLHttpRequest();\r\n\t\tconst events$ = merge(\r\n\t\t\tfromEvent(xhr.upload, 'loadstart'),\r\n\t\t\tfromEvent(xhr.upload, 'progress'),\r\n\t\t\tfromEvent(xhr.upload, 'load'),\r\n\t\t\tfromEvent(xhr, 'readystatechange'),\r\n\t\t).pipe(\r\n\t\t\tmap(event => {\r\n\t\t\t\tswitch (event.type) {\r\n\t\t\t\t\tcase 'readystatechange':\r\n\t\t\t\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\t\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tfilter(event => event !== null),\r\n\t\t);\r\n\t\txhr.open('POST', '/api/upload/', true);\r\n\t\txhr.send(formData);\r\n\t\treturn events$;\r\n\t}\r\n\r\n\tstatic createOrUpdateAsset$(uploads, control) {\r\n\t\tconst upload = uploads[0];\r\n\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\tif (control.value && control.value.id) { // !!! must check for id\r\n\t\t\tasset.id = control.value.id;\r\n\t\t\treturn AssetService.assetUpdate$(asset);\r\n\t\t} else {\r\n\t\t\treturn AssetService.assetCreate$(asset);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic createOrUpdateLocalizedAsset$(uploads, control, lg) {\r\n\t\tconst upload = uploads[0];\r\n\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\tif (control.value && control.value.id) { // !!! must check for id\r\n\t\t\tasset.id = control.value.id;\r\n\t\t\treturn AssetService.localizedAssetUpdate$(lg, asset);\r\n\t\t} else {\r\n\t\t\treturn AssetService.localizedAssetCreate$(lg, asset);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic assetDidChange(previous, current) {\r\n\t\tlet previousId = null;\r\n\t\tlet previousFile = null;\r\n\t\tlet currentId = null;\r\n\t\tlet currentFile = null;\r\n\t\tif (previous) {\r\n\t\t\tpreviousId = previous.id;\r\n\t\t\tpreviousFile = previous.file;\r\n\t\t}\r\n\t\tif (current) {\r\n\t\t\tcurrentId = current.id;\r\n\t\t\tcurrentFile = current.file;\r\n\t\t}\r\n\t\treturn (previousId !== currentId || previousFile !== currentFile);\r\n\t}\r\n\r\n}\r\n","import { map, shareReplay } from 'rxjs/operators';\r\nimport { HttpService } from '../http/http.service';\r\nimport { ViewType, mapView, mapViewItem } from '../view/view';\r\n\r\nexport class EditorService {\r\n\r\n\tstatic data$() {\r\n\t\tif (!this.data$_) {\r\n\t\t\tthis.data$_ = HttpService.get$('/api/view').pipe(\r\n\t\t\t\tmap(data => {\r\n\t\t\t\t\tdata.views = data.views.map(view => mapView(view));\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.data$_;\r\n\t}\r\n\r\n\tstatic viewIdOptions$() {\r\n\t\treturn this.data$().pipe(\r\n\t\t\tmap(data => {\r\n\t\t\t\tconst options = data.views.filter(x => x.type.name !== ViewType.WaitingRoom.name).map(view => ({ id: view.id, name: view.name }));\r\n\t\t\t\toptions.unshift({ id: null, name: 'select' }); // LabelPipe.transform('select')\r\n\t\t\t\treturn options;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic viewCreate$(view) {\r\n\t\treturn HttpService.post$('/api/view', view).pipe(\r\n\t\t\tmap(view => mapView(view)),\r\n\t\t);\r\n\t}\r\n\tstatic viewUpdate$(view) {\r\n\t\treturn HttpService.put$(`/api/view/${view.id}`, view.payload).pipe(\r\n\t\t\tmap(view => mapView(view)),\r\n\t\t);\r\n\t}\r\n\tstatic viewDelete$(view) {\r\n\t\treturn HttpService.delete$(`/api/view/${view.id}`);\r\n\t}\r\n\r\n\tstatic getTile(view) {\r\n\t\tlet tile;\r\n\t\tif (view.type.name === ViewType.PanoramaGrid.name) {\r\n\t\t\ttile = view.tiles[view.index];\r\n\t\t}\r\n\t\treturn tile;\r\n\t}\r\n\r\n\tstatic inferItemCreate$(view, item) {\r\n\t\tconst tile = this.getTile(view);\r\n\t\tif (tile) {\r\n\t\t\treturn this.tileItemCreate$(view, tile, item);\r\n\t\t} else {\r\n\t\t\treturn this.itemCreate$(view, item);\r\n\t\t}\r\n\t}\r\n\tstatic inferItemUpdate$(view, item) {\r\n\t\tconst tile = this.getTile(view);\r\n\t\tif (tile) {\r\n\t\t\treturn this.tileItemUpdate$(view, tile, item);\r\n\t\t} else {\r\n\t\t\treturn this.itemUpdate$(view, item);\r\n\t\t}\r\n\t}\r\n\tstatic inferItemDelete$(view, item) {\r\n\t\tconst tile = this.getTile(view);\r\n\t\tif (tile) {\r\n\t\t\treturn this.tileItemDelete$(view, tile, item);\r\n\t\t} else {\r\n\t\t\treturn this.itemDelete$(view, item);\r\n\t\t}\r\n\t}\r\n\tstatic inferItemUpdateResult$(view, item) {\r\n\t\tconst tile = this.getTile(view);\r\n\t\tlet currentItem;\r\n\t\tif (tile) {\r\n\t\t\tcurrentItem = tile.navs.find(i => i.id === item.id);\r\n\t\t} else {\r\n\t\t\tcurrentItem = view.items.find(i => i.id === item.id);\r\n\t\t}\r\n\t\tif (currentItem) {\r\n\t\t\tObject.assign(currentItem, item);\r\n\t\t}\r\n\t}\r\n\tstatic inferItemDeleteResult$(view, item) {\r\n\t\tconst tile = this.getTile(view);\r\n\t\tlet items;\r\n\t\tif (tile) {\r\n\t\t\titems = tile.navs;\r\n\t\t} else {\r\n\t\t\titems = view.items;\r\n\t\t}\r\n\t\tif (items) {\r\n\t\t\tconst index = items.indexOf(item);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\titems.splice(index, 1);\r\n\t\t\t}\r\n\t\t\tif (tile) {\r\n\t\t\t\tview.updateCurrentItems();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic itemCreate$(view, item) {\r\n\t\treturn HttpService.post$(`/api/view/${view.id}/item`, item).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\tstatic itemUpdate$(view, item) {\r\n\t\treturn HttpService.put$(`/api/view/${view.id}/item/${item.id}`, item.payload).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\tstatic itemDelete$(view, item) {\r\n\t\treturn HttpService.delete$(`/api/view/${view.id}/item/${item.id}`);\r\n\t}\r\n\r\n\tstatic tileItemCreate$(view, tile, item) {\r\n\t\treturn HttpService.post$(`/api/view/${view.id}/tile/${tile.id}/item`, item).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\tstatic tileItemUpdate$(view, tile, item) {\r\n\t\treturn HttpService.put$(`/api/view/${view.id}/tile/${tile.id}/item/${item.id}`, item.payload).pipe(\r\n\t\t\tmap(item => mapViewItem(item)),\r\n\t\t);\r\n\t}\r\n\tstatic tileItemDelete$(view, tile, item) {\r\n\t\treturn HttpService.delete$(`/api/view/${view.id}/tile/${tile.id}/item/${item.id}`);\r\n\t}\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType } from '../../view/view';\r\nimport { Host } from '../../world/host/host';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class CurvedPlaneModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget view() {\r\n\t\tlet view = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tview = data.view;\r\n\t\t}\r\n\t\treturn view;\r\n\t}\r\n\r\n\tget object() {\r\n\t\tconst object = new THREE.Object3D();\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tconst position = data.hit.position.clone();\r\n\t\t\tconst normal = data.hit.normal.clone();\r\n\t\t\tconst spherical = data.hit.spherical;\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(20);\r\n\t\t\t\tobject.position.copy(position);\r\n\t\t\t\tobject.lookAt(Host.origin);\r\n\t\t\t} else {\r\n\t\t\t\tobject.lookAt(normal);\r\n\t\t\t\tobject.position.set(position.x, position.y, position.z);\r\n\t\t\t\tobject.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn object;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst object = this.object;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewItemType.CurvedPlane,\r\n\t\t\tposition: new FormControl(object.position.toArray(), RequiredValidator()),\r\n\t\t\trotation: new FormControl(object.rotation.toArray(), RequiredValidator()),\r\n\t\t\tscale: new FormControl([1, 1, 1], RequiredValidator()),\r\n\t\t\tradius: new FormControl(35, RequiredValidator()),\r\n\t\t\theight: new FormControl(20, RequiredValidator()),\r\n\t\t\tarc: new FormControl(90, RequiredValidator()),\r\n\t\t\tasset: null,\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('CurvedPlaneModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tconst item = Object.assign({}, this.form.value);\r\n\t\t\t// item.viewId = parseInt(item.viewId);\r\n\t\t\t// console.log('CurvedPlaneModalComponent.onSubmit', this.view, item);\r\n\t\t\tEditorService.inferItemCreate$(this.view, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('CurvedPlaneModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => console.log('CurvedPlaneModalComponent.onSubmit.error', error));\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nCurvedPlaneModalComponent.meta = {\r\n\tselector: '[curved-plane-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Curved Plane.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<!-- <div control-text [control]=\"controls.title\" label=\"Title\"></div> -->\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-number [control]=\"controls.radius\" label=\"Radius\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-number [control]=\"controls.height\" label=\"Height\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-number [control]=\"controls.arc\" label=\"Arc\" [precision]=\"0\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t-->\r\n\t\t\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nCurvedPlaneModalComponent.chunk = () => /* html */'<div class=\"curved-plane-modal\" curved-plane-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType } from '../../view/view';\r\nimport { Host } from '../../world/host/host';\r\nimport { EditorService } from '../editor.service';\r\nexport default class ItemModelModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget view() {\r\n\t\tlet view = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tview = data.view;\r\n\t\t}\r\n\t\treturn view;\r\n\t}\r\n\r\n\tget object() {\r\n\t\tconst object = new THREE.Object3D();\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tconst position = data.hit.position.clone();\r\n\t\t\tconst normal = data.hit.normal.clone();\r\n\t\t\tconst spherical = data.hit.spherical;\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(4);\r\n\t\t\t\tobject.position.copy(position);\r\n\t\t\t\tobject.lookAt(Host.origin);\r\n\t\t\t} else {\r\n\t\t\t\tobject.lookAt(normal);\r\n\t\t\t\tobject.position.set(position.x, position.y, position.z);\r\n\t\t\t\tobject.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn object;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst object = this.object;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewItemType.Model,\r\n\t\t\tposition: new FormControl(object.position.toArray(), RequiredValidator()),\r\n\t\t\trotation: new FormControl([0, 0, 0], RequiredValidator()), // [0, -Math.PI / 2, 0],\r\n\t\t\t// rotation: new FormControl(object.rotation.toArray(), RequiredValidator()), // [0, -Math.PI / 2, 0],\r\n\t\t\tscale: new FormControl([1, 1, 1], RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('ItemModelModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tconst item = Object.assign({}, this.form.value);\r\n\t\t\t// item.viewId = parseInt(item.viewId);\r\n\t\t\t// console.log('ItemModelModalComponent.onSubmit', this.view, item);\r\n\t\t\tEditorService.inferItemCreate$(this.view, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('ItemModelModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => console.log('ItemModelModalComponent.onSubmit.error', error));\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nItemModelModalComponent.meta = {\r\n\tselector: '[item-model-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Model Item.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-model [control]=\"controls.asset\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nItemModelModalComponent.chunk = () => /* html */'<div class=\"item-model-modal\" item-model-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first, map, switchMap } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType, ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class MediaModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewType.Media,\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('MediaModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst view = {\r\n\t\t\t\ttype: values.type,\r\n\t\t\t\tname: values.name,\r\n\t\t\t\tasset: values.asset,\r\n\t\t\t\torientation: {\r\n\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t},\r\n\t\t\t\tzoom: 75,\r\n\t\t\t};\r\n\t\t\t// console.log('MediaModalComponent.onSubmit.view', view);\r\n\t\t\treturn EditorService.viewCreate$(view).pipe(\r\n\t\t\t\tswitchMap(view => {\r\n\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\ttype: ViewItemType.Plane,\r\n\t\t\t\t\t\tposition: [20, 0, 0],\r\n\t\t\t\t\t\trotation: [0, -Math.PI / 2, 0],\r\n\t\t\t\t\t\tscale: [12, 6.75, 1],\r\n\t\t\t\t\t\tasset: values.asset,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn EditorService.itemCreate$(view, item).pipe(\r\n\t\t\t\t\t\tmap(item => {\r\n\t\t\t\t\t\t\tview.items = [item];\r\n\t\t\t\t\t\t\treturn view;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('MediaModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('MediaModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nMediaModalComponent.meta = {\r\n\tselector: '[media-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Media.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nMediaModalComponent.chunk = () => /* html */'<div class=\"media-modal\" media-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first, map, switchMap } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType, ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class ModelModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewType.Model,\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t\tmodel: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('ModelModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst view = {\r\n\t\t\t\ttype: values.type,\r\n\t\t\t\tname: values.name,\r\n\t\t\t\tasset: values.asset,\r\n\t\t\t\torientation: {\r\n\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t},\r\n\t\t\t\tzoom: 75,\r\n\t\t\t};\r\n\t\t\t// console.log('ModelModalComponent.onSubmit.view', view);\r\n\t\t\treturn EditorService.viewCreate$(view).pipe(\r\n\t\t\t\tswitchMap(view => {\r\n\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\ttype: ViewItemType.Model,\r\n\t\t\t\t\t\tasset: values.model,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn EditorService.itemCreate$(view, item).pipe(\r\n\t\t\t\t\t\tmap(item => {\r\n\t\t\t\t\t\t\tview.items = [item];\r\n\t\t\t\t\t\t\treturn view;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('ModelModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('ModelModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nModelModalComponent.meta = {\r\n\tselector: '[model-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Model View.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg\"></div>\r\n\t\t\t\t\t\t<div control-model [control]=\"controls.model\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nModelModalComponent.chunk = () => /* html */'<div class=\"model-modal\" model-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType } from '../../view/view';\r\nimport { WebhookService } from '../../webhook/webhook.service';\r\nimport { Host } from '../../world/host/host';\r\nimport ModelNavComponent from '../../world/model/model-nav.component';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class NavModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget view() {\r\n\t\tlet view = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tview = data.view;\r\n\t\t}\r\n\t\treturn view;\r\n\t}\r\n\r\n\tget position() {\r\n\t\tlet position = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tposition = data.hit.position;\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n\r\n\tget object() {\r\n\t\tconst object = new THREE.Object3D();\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tconst position = data.hit.position.clone();\r\n\t\t\tconst normal = data.hit.normal.clone();\r\n\t\t\tconst spherical = data.hit.spherical;\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(ModelNavComponent.RADIUS);\r\n\t\t\t\tobject.position.copy(position);\r\n\t\t\t\tobject.lookAt(Host.origin);\r\n\t\t\t} else {\r\n\t\t\t\tobject.lookAt(normal);\r\n\t\t\t\tobject.position.set(position.x, position.y, position.z);\r\n\t\t\t\tobject.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn object;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst object = this.object;\r\n\t\tthis.error = null;\r\n\t\tthis.useHooks = WebhookService.enabled;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewItemType.Nav,\r\n\t\t\ttitle: null,\r\n\t\t\tabstract: null,\r\n\t\t\tviewId: null, // new FormControl(null, RequiredValidator()),\r\n\t\t\thook: null,\r\n\t\t\thookExtra: null,\r\n\t\t\tkeepOrientation: false,\r\n\t\t\timportant: false,\r\n\t\t\ttransparent: false,\r\n\t\t\t//\r\n\t\t\tposition: new FormControl(object.position.toArray(), RequiredValidator()),\r\n\t\t\trotation: new FormControl(object.rotation.toArray(), RequiredValidator()), // [0, -Math.PI / 2, 0],\r\n\t\t\tscale: new FormControl([20, 5, 1], RequiredValidator()),\r\n\t\t\t//\r\n\t\t\tasset: null,\r\n\t\t\tlink: new FormGroup({\r\n\t\t\t\ttitle: new FormControl(null),\r\n\t\t\t\thref: new FormControl(null),\r\n\t\t\t\ttarget: '_blank',\r\n\t\t\t}),\r\n\t\t\t// upload: new FormControl(null, RequiredValidator()),\r\n\t\t\t// items: new FormArray([null, null, null], RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tif (WebhookService.enabled) {\r\n\t\t\tconst options = environment.webhook.methods.nav.map(x => ({ id: x, name: x }));\r\n\t\t\toptions.unshift({ id: null, name: 'select' });\r\n\t\t\tthis.controls.hook.options = options;\r\n\t\t}\r\n\t\t// !!! mode validator\r\n\t\t// form.addValidators(NavModalValidator(form, this.view));\r\n\t\t/*\r\n\t\tthis.controls.viewId.options = [{\r\n\t\t\tname: 'Name',\r\n\t\t\tid: 2,\r\n\t\t}];\r\n\t\t*/\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('NavModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tEditorService.viewIdOptions$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(options => {\r\n\t\t\tthis.controls.viewId.options = options;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst item = Object.assign({}, this.form.value);\r\n\t\t\titem.viewId = item.viewId ? parseInt(item.viewId) : this.view.id;\r\n\t\t\tif (item.link && (!item.link.title || !item.link.href)) {\r\n\t\t\t\titem.link = null;\r\n\t\t\t}\r\n\t\t\t// console.log('NavModalComponent.onSubmit', this.view, item);\r\n\t\t\tEditorService.inferItemCreate$(this.view, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('NavModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('NavModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.submitted = false;\r\n\t\t\t\t// this.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonViewIdDidChange(viewId) {\r\n\t\t// console.log('NavModalComponent.onViewIdDidChange', viewId, this.form.value);\r\n\t\t// const viewId = this.form.value.viewId;\r\n\t\tif (viewId != null && environment.flags.navAutoUpdateTitle) {\r\n\t\t\tconst options = this.controls.viewId.options;\r\n\t\t\tconst selectedOption = options.find(x => x.id === viewId);\r\n\t\t\t// console.log('NavModalComponent.onViewIdDidChange', selectedOption, options);\r\n\t\t\tif (selectedOption != null) {\r\n\t\t\t\tconst title = selectedOption.name;\r\n\t\t\t\tconst currentTitle = this.form.value.title;\r\n\t\t\t\t// console.log('NavModalComponent.onViewIdDidChange', title, currentTitle);\r\n\t\t\t\tif (!currentTitle || options.find(x => x.name === currentTitle)) {\r\n\t\t\t\t\tthis.form.patch({ title });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nNavModalComponent.meta = {\r\n\tselector: '[nav-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Nav.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.title\" label=\"Title\"></div>\r\n\t\t\t\t\t\t<div control-textarea [control]=\"controls.abstract\" label=\"Abstract\"></div>\r\n\t\t\t\t\t\t<div control-custom-select [control]=\"controls.viewId\" label=\"NavToView\" (change)=\"onViewIdDidChange($event)\"></div>\r\n\t\t\t\t\t\t<div control-checkbox [control]=\"controls.keepOrientation\" label=\"Keep Orientation\"></div>\r\n\t\t\t\t\t\t<div control-checkbox [control]=\"controls.important\" label=\"Important\"></div>\r\n\t\t\t\t\t\t<div control-checkbox [control]=\"controls.transparent\" label=\"Transparent\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"3\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div *if=\"controls.transparent.value == true\">\r\n\t\t\t\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/png, image/jpeg\"></div>\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.link.controls.title\" label=\"Link Title\"></div>\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.link.controls.href\" label=\"Link Url\"></div>\r\n\t\t\t\t\t\t<div control-custom-select [control]=\"controls.hook\" label=\"Hook\" *if=\"useHooks\"></div>\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.hookExtra\" label=\"Hook Extra\" *if=\"useHooks\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nNavModalComponent.chunk = () => /* html */'<div class=\"nav-modal\" nav-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { PanoramaGridView, ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class PanoramaGridModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewType.PanoramaGrid,\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tassets: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('PanoramaGridModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// console.log('PanoramaGridModalComponent.onSubmit', this.form.value);\r\n\t\t\tconst assets = this.form.value.assets;\r\n\t\t\tconst tiles = PanoramaGridView.mapTiles(assets.map(asset => ({\r\n\t\t\t\tasset,\r\n\t\t\t\tnavs: [],\r\n\t\t\t})), false, true);\r\n\t\t\ttiles.sort((a, b) => {\r\n\t\t\t\tconst ai = a.indices.x * 10000 + a.indices.y;\r\n\t\t\t\tconst bi = b.indices.x * 10000 + b.indices.y;\r\n\t\t\t\treturn ai - bi;\r\n\t\t\t});\r\n\t\t\t// console.log('PanoramaGridModalComponent.onSubmit', tiles);\r\n\t\t\tconst asset = tiles[0].asset;\r\n\t\t\tconst view = {\r\n\t\t\t\ttype: this.form.value.type,\r\n\t\t\t\tname: this.form.value.name,\r\n\t\t\t\tasset,\r\n\t\t\t\ttiles: tiles,\r\n\t\t\t\tinvertAxes: true,\r\n\t\t\t\tflipAxes: false,\r\n\t\t\t\torientation: {\r\n\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t},\r\n\t\t\t\tzoom: 75,\r\n\t\t\t};\r\n\t\t\tEditorService.viewCreate$(view).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('PanoramaGridModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('PanoramaGridModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nPanoramaGridModalComponent.meta = {\r\n\tselector: '[panorama-grid-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Panorama Grid.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<div control-assets [control]=\"controls.assets\" label=\"Image\" accept=\"image/jpeg\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nPanoramaGridModalComponent.chunk = () => /* html */'<div class=\"panorama-grid-modal\" panorama-grid-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class PanoramaModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewType.Panorama,\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t\t// upload: new FormControl(null, RequiredValidator()),\r\n\t\t\t// items: new FormArray([null, null, null], RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('PanoramaModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst view = {\r\n\t\t\t\ttype: values.type,\r\n\t\t\t\tname: values.name,\r\n\t\t\t\tasset: values.asset,\r\n\t\t\t\torientation: {\r\n\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t},\r\n\t\t\t\tzoom: 75,\r\n\t\t\t};\r\n\t\t\t// console.log('PanoramaModalComponent.onSubmit.view', view);\r\n\t\t\treturn EditorService.viewCreate$(view).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('PanoramaModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('PanoramaModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nPanoramaModalComponent.meta = {\r\n\tselector: '[panorama-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Panorama.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!--\r\n\t\t\t\t\t<div class=\"group--form group--form--fixed\">\r\n\t\t\t\t\t\t<code [innerHTML]=\"form.value | json\"></code>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn--test\" (click)=\"test()\"><span>test</span></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t-->\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nPanoramaModalComponent.chunk = () => /* html */'<div class=\"panorama-modal\" panorama-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport PathService from '../path/path.service';\r\n\r\nexport default class PathAddModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('PathAddModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst path = {\r\n\t\t\t\tname: values.name,\r\n\t\t\t\titems: this.data ? this.data.item.items : [],\r\n\t\t\t};\r\n\t\t\t// console.log('PathAddModalComponent.onSubmit.path', path);\r\n\t\t\treturn PathService.pathCreate$(path).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('PathAddModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('PathAddModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nPathAddModalComponent.meta = {\r\n\tselector: '[path-add-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Add Path.</div>\r\n\t\t\t\t<div class=\"description\">Aggiungi un percorso</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nPathAddModalComponent.chunk = () => /* html */'<div class=\"panorama-modal\" path-add-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport PathService from '../path/path.service';\r\n\r\nexport default class PathEditModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.item = null;\r\n\t\tthis.views = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tif (data) {\r\n\t\t\t\tthis.item = data.item ? data.item : null;\r\n\t\t\t\tthis.views = this.parseViews(data.views, this.item);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tname: new FormControl(this.item ? this.item.name : null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('PathEditModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tparseViews(views, item) {\r\n\t\tif (views && item) {\r\n\t\t\treturn views.map(view => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: view.id,\r\n\t\t\t\t\tname: view.name,\r\n\t\t\t\t\ttype: view.type,\r\n\t\t\t\t\tactive: item.items.indexOf(view.id) === -1,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\tonToggleView(view) {\r\n\t\tview.active = !view.active;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst payload = {\r\n\t\t\t\tid: this.item.id,\r\n\t\t\t\tname: values.name,\r\n\t\t\t\titems: this.views.filter(x => !x.active).map(x => x.id),\r\n\t\t\t};\r\n\t\t\t// console.log('PathEditModalComponent.onSubmit', payload);\r\n\t\t\treturn PathService.pathUpdate$(payload).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('PathEditModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('PathEditModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonSelectAll() {\r\n\t\tthis.views.forEach(view => view.active = true);\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSelectNone() {\r\n\t\tthis.views.forEach(view => view.active = false);\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nPathEditModalComponent.meta = {\r\n\tselector: '[path-edit-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Edit Path <span *if=\"item\">&ldquo;<span [innerHTML]=\"item.title || item.name\"></span>&rdquo;</span>.</div>\r\n\t\t\t\t<div class=\"description\">Modifica il percorso</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul class=\"nav--flag\" *if=\"views\">\r\n\t\t\t\t\t\t<li class=\"nav__item\" *for=\"let view of views\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--flag\" [class]=\"{ active: view.active }\" [title]=\"view.name\" (click)=\"onToggleView(view)\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t\t\t<svg-icon [name]=\"view.type.name\"></svg-icon>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span class=\"name\" [innerHTML]=\"view.name\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"flag\">\r\n\t\t\t\t\t\t\t\t\t<svg class=\"check\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#check\"></use></svg>\r\n\t\t\t\t\t\t\t\t\t<svg class=\"close\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<div class=\"group--options\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onSelectAll()\">\r\n\t\t\t\t\t\t\t\t<span>Select all</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onSelectNone()\">\r\n\t\t\t\t\t\t\t\t<span>Select none</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Save</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nPathEditModalComponent.chunk = () => /* html */'<div class=\"path-edit-modal\" path-edit-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType } from '../../view/view';\r\nimport { Host } from '../../world/host/host';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class PlaneModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget view() {\r\n\t\tlet view = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tview = data.view;\r\n\t\t}\r\n\t\treturn view;\r\n\t}\r\n\r\n\tget object() {\r\n\t\tconst object = new THREE.Object3D();\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tconst position = data.hit.position.clone();\r\n\t\t\tconst normal = data.hit.normal.clone();\r\n\t\t\tconst spherical = data.hit.spherical;\r\n\t\t\tif (spherical) {\r\n\t\t\t\tposition.normalize().multiplyScalar(20);\r\n\t\t\t\tobject.position.copy(position);\r\n\t\t\t\tobject.lookAt(Host.origin);\r\n\t\t\t} else {\r\n\t\t\t\tobject.lookAt(normal);\r\n\t\t\t\tobject.position.set(position.x, position.y, position.z);\r\n\t\t\t\tobject.position.add(normal.multiplyScalar(0.01));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn object;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst object = this.object;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewItemType.Plane,\r\n\t\t\tposition: new FormControl(object.position.toArray(), RequiredValidator()),\r\n\t\t\trotation: new FormControl(object.rotation.toArray(), RequiredValidator()), // [0, -Math.PI / 2, 0],\r\n\t\t\tscale: new FormControl([12, 6.75, 1], RequiredValidator()),\r\n\t\t\tasset: null,\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('PlaneModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tconst item = Object.assign({}, this.form.value);\r\n\t\t\t// item.viewId = parseInt(item.viewId);\r\n\t\t\t// console.log('PlaneModalComponent.onSubmit', this.view, item);\r\n\t\t\tEditorService.inferItemCreate$(this.view, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('PlaneModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => console.log('PlaneModalComponent.onSubmit.error', error));\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nPlaneModalComponent.meta = {\r\n\tselector: '[plane-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Plane.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<!-- <div control-text [control]=\"controls.title\" label=\"Title\"></div> -->\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nPlaneModalComponent.chunk = () => /* html */'<div class=\"plane-modal\" plane-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\n\r\nexport default class RemoveModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget item() {\r\n\t\tlet item = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\titem = data.item;\r\n\t\t}\r\n\t\treturn item;\r\n\t}\r\n\r\n\tonRemove() {\r\n\t\tModalService.resolve();\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nRemoveModalComponent.meta = {\r\n\tselector: '[remove-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Remove <span *if=\"item\">&ldquo;<span [innerHTML]=\"item.title || item.name\"></span>&rdquo;</span>.</div>\r\n\t\t\t\t<div class=\"abstract\">are you sure?</div>\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--remove\" (click)=\"onRemove($event)\">\r\n\t\t\t\t\t\t<span>Remove</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onCancel($event)\">\r\n\t\t\t\t\t\t<span>Cancel</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nRemoveModalComponent.chunk = () => /* html */'<div class=\"remove-modal\" remove-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\n\r\nexport default class Room3DModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewType.Room3d,\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t\t// model: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('Room3DModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst view = {\r\n\t\t\t\ttype: values.type,\r\n\t\t\t\tname: values.name,\r\n\t\t\t\tasset: values.asset,\r\n\t\t\t\torientation: {\r\n\t\t\t\t\tlatitude: 0,\r\n\t\t\t\t\tlongitude: 0,\r\n\t\t\t\t},\r\n\t\t\t\tzoom: 75,\r\n\t\t\t};\r\n\t\t\t// console.log('Room3DModalComponent.onSubmit.view', view);\r\n\t\t\treturn EditorService.viewCreate$(view).pipe(\r\n\t\t\t\t/*\r\n\t\t\t\tswitchMap(view => {\r\n\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\ttype: ViewItemType.Model,\r\n\t\t\t\t\t\tasset: values.model,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn EditorService.itemCreate$(view, item).pipe(\r\n\t\t\t\t\t\tmap(item => {\r\n\t\t\t\t\t\t\tview.items = [item];\r\n\t\t\t\t\t\t\treturn view;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\t*/\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('Room3DModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('Room3DModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nRoom3DModalComponent.meta = {\r\n\tselector: '[room-3d-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Room 3D View.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg\"></div>\r\n\t\t\t\t\t\t<div control-model [control]=\"controls.model\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t\t\t\t-->\r\n\t\t\t\t\t\t<div control-model [control]=\"controls.asset\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nRoom3DModalComponent.chunk = () => /* html */'<div class=\"room-3d-modal\" room-3d-modal></div>';\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\nimport { delay, first, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { AgoraStatus, MessageType, UIMode } from '../agora/agora.types';\r\nimport { AssetService } from '../asset/asset.service';\r\nimport { environment } from '../environment';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { MessageService } from '../message/message.service';\r\nimport { ModalResolveEvent, ModalService } from '../modal/modal.service';\r\nimport { RoutePipe } from '../router/route.pipe';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport { RouterService } from '../router/router.service';\r\nimport StateService from '../state/state.service';\r\nimport StreamService, { StreamServiceMode } from '../stream/stream.service';\r\nimport ToastService from '../toast/toast.service';\r\nimport TryInARModalComponent from '../try-in-ar/try-in-ar-modal.component';\r\nimport { RoleType } from '../user/user';\r\nimport { UserService } from '../user/user.service';\r\nimport { ViewItemType, ViewType } from '../view/view';\r\nimport { ViewService } from '../view/view.service';\r\nimport VRService from '../world/vr.service';\r\nimport { EditorService } from './editor.service';\r\nimport CurvedPlaneModalComponent from './modals/curved-plane-modal.component';\r\nimport ItemModelModalComponent from './modals/item-model-modal.component';\r\nimport MediaModalComponent from './modals/media-modal.component';\r\nimport ModelModalComponent from './modals/model-modal.component';\r\nimport NavModalComponent from './modals/nav-modal.component';\r\nimport PanoramaGridModalComponent from './modals/panorama-grid-modal.component';\r\nimport PanoramaModalComponent from './modals/panorama-modal.component';\r\nimport PathAddModalComponent from './modals/path-add-modal.component';\r\nimport PathEditModalComponent from './modals/path-edit-modal.component';\r\nimport PlaneModalComponent from './modals/plane-modal.component';\r\nimport RemoveModalComponent from './modals/remove-modal.component';\r\nimport Room3DModalComponent from './modals/room-3d-modal.component';\r\nimport PathService from './path/path.service';\r\n\r\nexport const SETTINGS = {\r\n\tmenu: [{\r\n\t\tid: 'menu',\r\n\t\ttitle: 'editor_menu',\r\n\t\tactive: true,\r\n\t}, {\r\n\t\tid: 'navmaps',\r\n\t\ttitle: 'editor_navmaps',\r\n\t\tactive: true,\r\n\t}],\r\n\tcurrent: null,\r\n\tactive: false,\r\n};\r\n\r\nexport default class EditorComponent extends Component {\r\n\r\n\tget dataViews() {\r\n\t\treturn ViewService.dataViews;\r\n\t}\r\n\r\n\tget pathViews() {\r\n\t\treturn ViewService.pathViews;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\tthis.settings = this.getSettings();\r\n\t\tthis.aside = false;\r\n\t\tthis.state = {};\r\n\t\tthis.view = null;\r\n\t\tthis.paths = null;\r\n\t\tthis.path = null;\r\n\t\tthis.form = null;\r\n\t\tthis.local = null;\r\n\t\tthis.remotes = [];\r\n\t\tthis.viewHit = new Subject();\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.status$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(status => this.pushChanges());\r\n\t\tthis.resolveUser();\r\n\t}\r\n\r\n\tresolveUser() {\r\n\t\tUserService.me$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(user => {\r\n\t\t\tif (user && user.type === RoleType.Publisher) {\r\n\t\t\t\tthis.user = user;\r\n\t\t\t\tthis.initState();\r\n\t\t\t} else {\r\n\t\t\t\tRouterService.setRouterLink(RoutePipe.transform(':lang.access'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tinitState() {\r\n\t\tconst user = this.user;\r\n\t\tconst role = user.type;\r\n\t\tconst name = user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : null;\r\n\t\tconst state = {\r\n\t\t\tuser: user,\r\n\t\t\trole: role,\r\n\t\t\tname: name,\r\n\t\t\tmode: UIMode.VirtualTour,\r\n\t\t\tlink: null,\r\n\t\t\tchannelName: environment.channelName,\r\n\t\t\tuid: null,\r\n\t\t\tstatus: AgoraStatus.Connected,\r\n\t\t\tconnecting: false,\r\n\t\t\tconnected: true,\r\n\t\t\tcontrolling: false,\r\n\t\t\tspying: false,\r\n\t\t\tsilencing: false,\r\n\t\t\thosted: true,\r\n\t\t\tlive: false,\r\n\t\t\tnavigable: true,\r\n\t\t\tcameraMuted: false,\r\n\t\t\taudioMuted: false,\r\n\t\t\tshowNavInfo: true,\r\n\t\t};\r\n\t\tStateService.state = state;\r\n\t\tStateService.state$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(state => {\r\n\t\t\tthis.state = state;\r\n\t\t\tthis.hosted = state.hosted;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.viewObserver$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(view => {\r\n\t\t\t// console.log('EditorComponent.viewObserver$', view);\r\n\t\t});\r\n\t\tStreamService.mode = StreamServiceMode.Editor;\r\n\t\t// this.getUserMedia();\r\n\t}\r\n\r\n\tviewObserver$() {\r\n\t\treturn EditorService.data$().pipe(\r\n\t\t\tswitchMap(data => {\r\n\t\t\t\t// console.log('viewObserver$', data);\r\n\t\t\t\tconst meetingUrl = new MeetingUrl();\r\n\t\t\t\tconst pathId = meetingUrl.pathId;\r\n\t\t\t\treturn PathService.getCurrentPath$(pathId).pipe(\r\n\t\t\t\t\tswitchMap(path => {\r\n\t\t\t\t\t\tthis.paths = PathService.paths;\r\n\t\t\t\t\t\tthis.path = path;\r\n\t\t\t\t\t\treturn ViewService.editorView$(data, path);\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\ttap(view => {\r\n\t\t\t\tthis.view = null;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}),\r\n\t\t\tdelay(1),\r\n\t\t\ttap(view => {\r\n\t\t\t\t// console.log('EditorComponent.viewObserver$', view, ViewService.pathViews, ViewService.dataViews);\r\n\t\t\t\tthis.view = view;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tonAddPath() {\r\n\t\t// console.log('EditorComponent.onAddPath');\r\n\t\tModalService.open$({ template: PathAddModalComponent.chunk() }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tPathService.addPath(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonEditPath(item) {\r\n\t\t// console.log('EditorComponent.onEditPath', item);\r\n\t\tModalService.open$({ template: PathEditModalComponent.chunk(), data: { item: item, views: ViewService.validViews } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tPathService.editPath(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonDuplicatePath(item) {\r\n\t\t// console.log('EditorComponent.onDuplicatePath', item);\r\n\t\tModalService.open$({ template: PathAddModalComponent.chunk(), data: { item } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tPathService.addPath(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonDeletePath(item) {\r\n\t\t// console.log('EditorComponent.onDeletePath', item);\r\n\t\tModalService.open$({ template: RemoveModalComponent.chunk(), data: { item: item } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tPathService.pathDelete$(item).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(_ => {\r\n\t\t\t\t\tPathService.deletePath(item);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSelectPath(item) {\r\n\t\t// console.log('EditorComponent.onSelectPath', item);\r\n\t\tPathService.path = item;\r\n\t}\r\n\r\n\tisPathSelected(item) {\r\n\t\t// console.log('EditorComponent.isPathSelected', item);\r\n\t\treturn PathService.path.id === item.id;\r\n\t}\r\n\r\n\tonNavTo(item) {\r\n\t\t// console.log('EditorComponent.onNavTo', item);\r\n\t\tconst viewId = item.viewId;\r\n\t\tconst view = ViewService.pathViews.find(x => x.id === viewId);\r\n\t\tif (view) {\r\n\t\t\tViewService.action = { viewId, keepOrientation: item.keepOrientation, useLastOrientation: item.useLastOrientation };\r\n\t\t}\r\n\t}\r\n\r\n\tonNavLink(event) {\r\n\t\t// console.log('EditorComponent.onNavLink', event);\r\n\t\tModalService.open$({ iframe: event.link.href }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(_ => {\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.NavLinkClose,\r\n\t\t\t\titemId: event.item.id,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpatchState(state) {\r\n\t\tthis.state = Object.assign({}, this.state, state);\r\n\t\tthis.pushChanges();\r\n\t\t// console.log(this.state);\r\n\t}\r\n\r\n\ttryInAr() {\r\n\t\tModalService.open$({ template: TryInARModalComponent.chunk(), data: this.view }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\t// this.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonToggleAside() {\r\n\t\tthis.aside = !this.aside;\r\n\t\tthis.pushChanges();\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\tgetSettings() {\r\n\t\tconst settings = Object.assign({}, SETTINGS);\r\n\t\tsettings.menu = settings.menu.filter(x => environment.flags[x.id]);\r\n\t\tsettings.current = settings.menu.length ? settings.menu[0].id : null;\r\n\t\treturn settings;\r\n\t}\r\n\r\n\tonToggleSettings() {\r\n\t\tconst settings = this.settings;\r\n\t\tsettings.active = !settings.active;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSelectSetting(item) {\r\n\t\tthis.settings.current = item.id;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\t// editor\r\n\r\n\tonViewHit(event) {\r\n\t\t// console.log('onViewHit');\r\n\t\tthis.viewHit.next(event);\r\n\t}\r\n\r\n\tonViewHitted(callback) {\r\n\t\tif (this.viewHitSubscription) {\r\n\t\t\tthis.viewHitSubscription.unsubscribe();\r\n\t\t\tthis.viewHitSubscription = null;\r\n\t\t}\r\n\t\tif (typeof callback === 'function') {\r\n\t\t\tthis.viewHitSubscription = this.viewHit.pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => callback(event));\r\n\t\t}\r\n\t}\r\n\r\n\tonDragEnd(event) {\r\n\t\tEditorService.inferItemUpdate$(this.view, event.item).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(response => {\r\n\t\t\t// console.log('EditorComponent.onDragEnd.inferItemUpdate$.success', response);\r\n\t\t\tthis.pushChanges();\r\n\t\t}, error => console.log('EditorComponent.onDragEnd.inferItemUpdate$.error', error, this.view, event.item, event.item.payload));\r\n\t}\r\n\r\n\tonResizeEnd(event) {\r\n\t\t// console.log('EditorComponent.onResizeEnd');\r\n\t\t/*\r\n\t\tEditorService.inferItemUpdate$(this.view, event.item).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(response => {\r\n\t\t\t// console.log('EditorComponent.onResizeEnd.inferItemUpdate$.success', response);\r\n\t\t\tthis.pushChanges();\r\n\t\t}, error => console.log('EditorComponent.onResizeEnd.inferItemUpdate$.error', error));\r\n\t\t*/\r\n\t}\r\n\r\n\tonWorldSelect(event) {\r\n\t\t// console.log('EditorComponent.onWorldSelect', this.view);\r\n\t\tif (this.view) {\r\n\t\t\tlet selectedItem;\r\n\t\t\tthis.view.items.forEach(item => item.showPanel = false);\r\n\t\t\tthis.view.items.forEach(item => {\r\n\t\t\t\titem.selected = item === event.item;\r\n\t\t\t\tselectedItem = item.selected ? item : selectedItem;\r\n\t\t\t});\r\n\t\t\tthis.view.selected = !selectedItem;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tif (selectedItem) {\r\n\t\t\t\tthis.aside = true;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonOpenModal(modal, data) {\r\n\t\tlet template = null;\r\n\t\tswitch (modal.type) {\r\n\t\t\tcase 'view':\r\n\t\t\t\tswitch (modal.value) {\r\n\t\t\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\t\t\ttemplate = PanoramaModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\t\t\ttemplate = PanoramaGridModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewType.Model.name:\r\n\t\t\t\t\t\ttemplate = ModelModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\t\t\ttemplate = Room3DModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewType.Media.name:\r\n\t\t\t\t\t\ttemplate = MediaModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'viewItem':\r\n\t\t\t\tswitch (modal.value) {\r\n\t\t\t\t\tcase ViewItemType.Nav.name:\r\n\t\t\t\t\t\ttemplate = NavModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewItemType.Plane.name:\r\n\t\t\t\t\t\ttemplate = PlaneModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewItemType.CurvedPlane.name:\r\n\t\t\t\t\t\ttemplate = CurvedPlaneModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase ViewItemType.Model.name:\r\n\t\t\t\t\t\ttemplate = ItemModelModalComponent.chunk();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (!template) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tModalService.open$({ template, data }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\t// console.log('EditorComponent.onOpenModal.resolve', event);\r\n\t\t\t\tswitch (modal.type) {\r\n\t\t\t\t\tcase 'view':\r\n\t\t\t\t\t\tswitch (modal.value) {\r\n\t\t\t\t\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\t\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\t\t\t\tcase ViewType.Model.name:\r\n\t\t\t\t\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\t\t\t\tcase ViewType.Media.name:\r\n\t\t\t\t\t\t\t\tViewService.addView(event.data);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'viewItem':\r\n\t\t\t\t\t\tswitch (modal.value) {\r\n\t\t\t\t\t\t\tcase ViewItemType.Nav.name:\r\n\t\t\t\t\t\t\tcase ViewItemType.Plane.name:\r\n\t\t\t\t\t\t\tcase ViewItemType.CurvedPlane.name:\r\n\t\t\t\t\t\t\tcase ViewItemType.Model.name: {\r\n\t\t\t\t\t\t\t\tconst item = event.data; // Object.assign({}, event.data);\r\n\t\t\t\t\t\t\t\tconst tile = EditorService.getTile(this.view);\r\n\t\t\t\t\t\t\t\tif (tile) {\r\n\t\t\t\t\t\t\t\t\tconst navs = tile.navs || [];\r\n\t\t\t\t\t\t\t\t\tnavs.push(item);\r\n\t\t\t\t\t\t\t\t\ttile.navs = navs;\r\n\t\t\t\t\t\t\t\t\tthis.view.updateCurrentItems();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\titem.path = true;\r\n\t\t\t\t\t\t\t\t\tconst items = this.view.items || [];\r\n\t\t\t\t\t\t\t\t\titems.push(item);\r\n\t\t\t\t\t\t\t\t\tthis.view.items = items;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonAsideSelect(event) {\r\n\t\t// console.log('onAsideSelect', event);\r\n\t\tif (event.value) {\r\n\t\t\tswitch (event.value) {\r\n\t\t\t\tcase ViewItemType.Nav.name:\r\n\t\t\t\tcase ViewItemType.Plane.name:\r\n\t\t\t\tcase ViewItemType.CurvedPlane.name:\r\n\t\t\t\t\tthis.onViewHitted((hit) => {\r\n\t\t\t\t\t\tthis.onOpenModal(event, { view: this.view, hit });\r\n\t\t\t\t\t});\r\n\t\t\t\t\tToastService.open$({ message: 'Click a point on the view' });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewItemType.Model.name:\r\n\t\t\t\t\tif (event.type === 'viewItem') {\r\n\t\t\t\t\t\tif (this.view.type.name === ViewType.Model.name) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.onViewHitted((hit) => {\r\n\t\t\t\t\t\t\tthis.onOpenModal(event, { view: this.view, hit });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tToastService.open$({ message: 'Click a point on the view' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.onOpenModal(event, { view: this.view });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.onOpenModal(event, { view: this.view });\r\n\t\t\t}\r\n\t\t} else if (event.view && (event.item || event.item === null)) {\r\n\t\t\tevent.view.selected = false;\r\n\t\t\tevent.view.items.forEach(item => item.selected = item === event.item);\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.SelectItem,\r\n\t\t\t});\r\n\t\t\tthis.pushChanges();\r\n\t\t} else if (event.view && (event.tile || event.tile === null)) {\r\n\t\t\tevent.view.selected = false;\r\n\t\t\tevent.view.tiles.forEach(tile => tile.selected = tile === event.tile);\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.SelectItem,\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\t// if tile selected\r\n\t\t\t// send ChangeTile message to world component\r\n\t\t\tthis.orbitService.walk(event.position, (headingLongitude, headingLatitude) => {\r\n\t\t\t\tconst item = this.view.getTile(event.indices.x, event.indices.y);\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tthis.panorama.crossfade(item, this.renderer, (envMap, texture, rgbe) => {\r\n\t\t\t\t\t\t// this.scene.background = envMap;\r\n\t\t\t\t\t\tthis.scene.environment = envMap;\r\n\t\t\t\t\t\tthis.orbitService.walkComplete(headingLongitude, headingLatitude);\r\n\t\t\t\t\t\t// this.render();\r\n\t\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tthis.pushChanges();\r\n\t\t} else if (event.view || event.view === null) {\r\n\t\t\tthis.view.selected = (this.view === event.view);\r\n\t\t\tthis.view.items.forEach(item => item.selected = false);\r\n\t\t\tconst currentTile = EditorService.getTile(this.view);\r\n\t\t\tif (currentTile) {\r\n\t\t\t\tthis.view.tiles.forEach(tile => tile.selected = tile === currentTile);\r\n\t\t\t}\r\n\t\t\tMessageService.send({\r\n\t\t\t\ttype: MessageType.SelectItem,\r\n\t\t\t});\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonAsideUpdate(event) {\r\n\t\t// console.log('onAsideUpdate', event);\r\n\t\tif (event.item && event.view) {\r\n\t\t\tthis.pushChanges();\r\n\t\t} else if (event.tile && event.view) {\r\n\t\t\t/*\r\n\t\t\tEditorService.tileUpdate$...\r\n\t\t\t*/\r\n\t\t} else if (event.view) {\r\n\t\t\tif (ViewService.viewId !== event.view.id) {\r\n\t\t\t\tViewService.viewId = event.view.id;\r\n\t\t\t} else {\r\n\t\t\t\tconst assetDidChange = AssetService.assetDidChange(this.view.asset, event.view.asset);\r\n\t\t\t\tObject.assign(this.view, event.view);\r\n\t\t\t\tif (assetDidChange) {\r\n\t\t\t\t\tif (typeof this.view.onUpdateAsset === 'function') {\r\n\t\t\t\t\t\tthis.view.onUpdateAsset();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonAsideDelete(event) {\r\n\t\t// console.log('onAsideDelete', event);\r\n\t\tif (event.item && event.view) {\r\n\t\t\tEditorService.inferItemDelete$(event.view, event.item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('EditorComponent.onAsideDelete.inferItemDelete$.success', response);\r\n\t\t\t\tEditorService.inferItemDeleteResult$(event.view, event.item);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}, error => console.log('EditorComponent.onAsideDelete.inferItemDelete$.error', error));\r\n\t\t} else if (event.view) {\r\n\t\t\tEditorService.viewDelete$(event.view).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('EditorComponent.onAsideDelete.viewDelete$.success', response);\r\n\t\t\t\tViewService.deleteView(event.view);\r\n\t\t\t}, error => console.log('EditorComponent.onAsideDelete.viewDelete$.error', error));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nEditorComponent.meta = {\r\n\tselector: '[editor-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /* html */`\r\n\t<div class=\"page page--editor\">\r\n\t\t<div class=\"ui\" [class]=\"{ open: aside }\" *if=\"dataViews.length\">\r\n\t\t\t<div class=\"ui__navbar\">\r\n\t\t\t\t<div class=\"btn--settings\" [class]=\"{ active: settings.active }\" (click)=\"onToggleSettings($event)\" *if=\"settings.menu.length > 0\">\r\n\t\t\t\t\t<svg class=\"settings\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#settings-full\"></use></svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"headline\" *if=\"view\">\r\n\t\t\t\t\t<div class=\"headline__id\" [innerHTML]=\"view.id\"></div>\r\n\t\t\t\t\t<div class=\"headline__icon\">\r\n\t\t\t\t\t\t<svg-icon [name]=\"view.type.name\"></svg-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"headline__name\" [innerHTML]=\"view.name\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group--path\" *if=\"('usePaths' | flag) && path\">\r\n\t\t\t\t\t<div class=\"group--path__select\">\r\n\t\t\t\t\t\t<div class=\"group--form--select\" [dropdown]=\"'path'\">\r\n\t\t\t\t\t\t\t<label>Percorso</label>\r\n\t\t\t\t\t\t\t<span class=\"control--custom-select\" [innerHTML]=\"path.name\"></span>\r\n\t\t\t\t\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"dropdown dropdown-item\" [dropdown-item]=\"'path'\">\r\n\t\t\t\t\t\t\t<div class=\"category\">Percorso</div>\r\n\t\t\t\t\t\t\t<ul class=\"nav--dropdown\">\r\n\t\t\t\t\t\t\t\t<li [class]=\"{ active: isPathSelected(item) }\" *for=\"let item of paths\">\r\n\t\t\t\t\t\t\t\t\t<span [innerHTML]=\"item.name\" (click)=\"onSelectPath(item)\"></span>\r\n\t\t\t\t\t\t\t\t\t<div class=\"check\">\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#check\"></use></svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"btn--flags\" (click)=\"onEditPath(item)\" title=\"Edit\" *if=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#flags\"></use></svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"btn--duplicate\" (click)=\"onDuplicatePath(item)\" title=\"Duplicate\" *if=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#duplicate\"></use></svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"btn--trash\" (click)=\"onDeletePath(item)\" title=\"Delete\" *if=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#trash\"></use></svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<div class=\"btn--mode\" (click)=\"onAddPath()\">Aggiungi un percorso</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"btn--edit\" [class]=\"{ active: aside }\" (click)=\"onToggleAside($event)\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#edit\"></use></svg>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ui__body\">\r\n\t\t\t\t<div class=\"world\" world [view]=\"view\" [views]=\"pathViews\" [editor]=\"true\" (navTo)=\"onNavTo($event)\" (viewHit)=\"onViewHit($event)\" (dragEnd)=\"onDragEnd($event)\" (select)=\"onWorldSelect($event)\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- footer -->\r\n\t\t\t<div class=\"group--footer\">\r\n\t\t\t\t<div class=\"group--ar-vr\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--ar\" [href]=\"view?.ar\" (click)=\"tryInAr()\" *if=\"view?.ar\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#ar\"></use></svg> <span>Try in AR</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--vr\" [class]=\"{ disabled: vrService.isDisabled() }\" (click)=\"vrService.toggleVR()\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#vr\"></use></svg> <span [innerHTML]=\"vrService.getLabel()\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ui__settings\" *if=\"settings.active\">\r\n\t\t\t\t<!-- settings navs -->\r\n\t\t\t\t<div class=\"group--nav\">\r\n\t\t\t\t\t<ul class=\"nav--menu\">\r\n\t\t\t\t\t\t<li class=\"nav__item\" *for=\"let item of settings.menu\" [class]=\"{ active: settings.current === item.id }\" (click)=\"onSelectSetting(item)\"><span class=\"title\" [innerHTML]=\"item.title | label\"></span></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- menu -->\r\n\t\t\t\t<div class=\"group--content\" menu-builder [views]=\"dataViews\" *if=\"settings.current === 'menu'\"></div>\r\n\t\t\t\t<!-- navmaps -->\r\n\t\t\t\t<div class=\"group--content\" navmap-builder [views]=\"dataViews\" *if=\"settings.current === 'navmaps'\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"aside\" [class]=\"{ active: aside }\" aside [view]=\"view\" (select)=\"onAsideSelect($event)\" (update)=\"onAsideUpdate($event)\" (delete)=\"onAsideDelete($event)\" *if=\"view && aside\"></div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { switchMap } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { LanguageService } from '../language/language.service';\r\n\r\nexport class GenericService {\r\n\r\n\tstatic currentLanguagePage$(key) {\r\n\t\treturn LanguageService.lang$.pipe(\r\n\t\t\tswitchMap(lang => {\r\n\t\t\t\treturn this.page$(lang, key);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic page$(lang, key) {\r\n\t\tconst url = (environment.flags.production ? `/api/${lang}/pages/${key}/` : `./api/${lang}/pages/${key}.json`);\r\n\t\treturn HttpService.get$(url);\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { CHUNK_COPYRIGHT, CHUNK_CREDITS, CHUNK_LANGUAGE, CHUNK_LOGO } from '../agora/agora.component.chunks';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport { GenericService } from './generic.service';\r\n\r\nexport class GenericComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.route = this.host ? this.host.route : null;\r\n\t\tthis.state = { status: 'generic' };\r\n\t\tthis.page = null;\r\n\t\tGenericService.currentLanguagePage$(this.route.params.mode).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(page => {\r\n\t\t\tthis.page = page;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nGenericComponent.meta = {\r\n\tselector: '[generic-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /*html*/ `\r\n\t\t<div class=\"page page--generic\">\r\n\t\t\t<!-- generic -->\r\n\t\t\t<div class=\"ui ui--generic\" *if=\"page\">\r\n\t\t\t\t<div class=\"group--generic\">\r\n\t\t\t\t\t<div class=\"group--generic__content stagger--childs\">\r\n\t\t\t\t\t\t<h1 class=\"title\" [innerHTML]=\"page.title\"></h1>\r\n\t\t\t\t\t\t<div class=\"description\" [innerHTML]=\"page.description\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<header>\r\n\t\t\t\t${CHUNK_LOGO}\r\n\t\t\t\t${CHUNK_LANGUAGE}\r\n\t\t\t</header>\r\n\t\t\t<footer>\r\n\t\t\t\t<span class=\"group--colophon\" *if=\"state.status != 'connected'\">\r\n\t\t\t\t\t${CHUNK_CREDITS}\r\n\t\t\t\t\t${CHUNK_COPYRIGHT}\r\n\t\t\t\t</span>\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { CHUNK_AR_VR, CHUNK_BACKGROUND, CHUNK_CHAT, CHUNK_CONTROLS, CHUNK_LIKE, CHUNK_LOCK, CHUNK_MEDIA, CHUNK_NAVMAP } from '../agora/agora.component.chunks';\r\nimport { AgoraStatus, UIMode } from '../agora/agora.types';\r\nimport { DEBUG, environment } from '../environment';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport { LanguageService } from '../language/language.service';\r\nimport LocationService from '../location/location.service';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport StateService from '../state/state.service';\r\nimport ToastService, { ToastPosition, ToastRejectEvent, ToastResolveEvent, ToastType } from '../toast/toast.service';\r\nimport { RoleType } from '../user/user';\r\nimport { UserService } from '../user/user.service';\r\nimport { ViewType } from '../view/view';\r\nimport VRService from '../world/vr.service';\r\n\r\nexport default class LayoutComponent extends Component {\r\n\r\n\tget meetingUrl() {\r\n\t\tif (!this.meetingUrl_) {\r\n\t\t\tthis.meetingUrl_ = new MeetingUrl();\r\n\t\t}\r\n\t\treturn this.meetingUrl_;\r\n\t}\r\n\r\n\tget isVirtualTourUser() {\r\n\t\treturn [RoleType.Publisher, RoleType.Attendee, RoleType.Streamer, RoleType.Viewer].indexOf(this.state.role) !== -1;\r\n\t}\r\n\r\n\tget isEmbed() {\r\n\t\treturn this.route && this.route.params.mode === 'embed';\r\n\t}\r\n\r\n\tget isSelfServiceTour() {\r\n\t\treturn this.route && this.route.params.mode === 'selfServiceTour';\r\n\t}\r\n\r\n\tget isNavigable() {\r\n\t\tconst embedViewId = this.meetingUrl.embedViewId;\r\n\t\tconst navigable = embedViewId == null;\r\n\t\treturn navigable;\r\n\t}\r\n\r\n\tget isBackButtonVisible() {\r\n\t\treturn this.view && (this.view.type.name === ViewType.Media.name || this.view.type.name === ViewType.Model.name);\r\n\t}\r\n\r\n\tget showNavInfoToggler() {\r\n\t\treturn environment.flags.hideNavInfo && this.state.mode !== UIMode.LiveMeeting;\r\n\t}\r\n\r\n\tget uiClass() {\r\n\t\tconst uiClass = {};\r\n\t\tuiClass[this.state.role] = true;\r\n\t\t// uiClass[this.state.mode] = true;\r\n\t\tuiClass.chat = this.state.chat;\r\n\t\tuiClass.remotes = this.state.mode === UIMode.LiveMeeting;\r\n\t\tuiClass.remoteScreen = this.remoteScreen != null && !this.hasScreenViewItem;\r\n\t\tuiClass.media = !uiClass.remotes && this.media;\r\n\t\tuiClass.locked = this.locked;\r\n\t\treturn uiClass;\r\n\t}\r\n\r\n\tget remoteClass() {\r\n\t\treturn `group--remote--${Math.min(9, this.remotes.length)}`;\r\n\t}\r\n\r\n\tget controlled() {\r\n\t\treturn (this.state.controlling && this.state.controlling !== this.state.uid);\r\n\t}\r\n\r\n\tget controlling() {\r\n\t\treturn (this.state.controlling && this.state.controlling === this.state.uid);\r\n\t}\r\n\r\n\tget silencing() {\r\n\t\treturn StateService.state.silencing;\r\n\t}\r\n\r\n\tget silenced() {\r\n\t\treturn (StateService.state.silencing && StateService.state.role === RoleType.Streamer);\r\n\t}\r\n\r\n\tget spyed() {\r\n\t\treturn (this.state.spying && this.state.spying === this.state.uid);\r\n\t}\r\n\r\n\tget spying() {\r\n\t\treturn (this.state.spying && this.state.spying !== this.state.uid);\r\n\t}\r\n\r\n\tget locked() {\r\n\t\treturn this.controlled || this.spying;\r\n\t}\r\n\r\n\tget remoteScreen() {\r\n\t\treturn this.remoteScreen_;\r\n\t}\r\n\tset remoteScreen(remoteScreen) {\r\n\t\tif (this.remoteScreen_ !== remoteScreen) {\r\n\t\t\tthis.remoteScreen_ = remoteScreen;\r\n\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst meetingUrl = this.meetingUrl;\r\n\t\tconst embedViewId = meetingUrl.embedViewId;\r\n\t\tthis.state = {\r\n\t\t\tstatus: LocationService.get('status') || AgoraStatus.Connected,\r\n\t\t\trole: LocationService.get('role') || RoleType.Publisher, // Publisher, Attendee, Streamer, Viewer, SmartDevice, SelfService, Embed\r\n\t\t\tmembersCount: 3,\r\n\t\t\tcontrolling: false,\r\n\t\t\tspying: false,\r\n\t\t\tsilencing: false,\r\n\t\t\thosted: true,\r\n\t\t\tchat: false,\r\n\t\t\tchatDirty: true,\r\n\t\t\tname: 'Jhon Appleseed',\r\n\t\t\tuid: '7341614597544882',\r\n\t\t\tshowNavInfo: true,\r\n\t\t};\r\n\t\tthis.state.live = (this.state.role === RoleType.SelfService || this.state.role === RoleType.Embed || DEBUG) ? false : true;\r\n\t\tthis.state.navigable = embedViewId == null;\r\n\t\tthis.state.mode = UserService.getMode(this.state.role);\r\n\t\tthis.view = {\r\n\t\t\tlikes: 41,\r\n\t\t\ttype: {\r\n\t\t\t\tid: 2,\r\n\t\t\t\tname: 'panorama',\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.local = {};\r\n\t\tthis.screen = null;\r\n\t\tthis.remoteScreen_ = null;\r\n\t\tthis.media = null;\r\n\t\tthis.hasScreenViewItem = false;\r\n\t\tthis.media = true;\r\n\t\tthis.remotes = new Array(8).fill(0).map((x, i) => ({ id: i + 1 }));\r\n\t\tthis.languageService = LanguageService;\r\n\t\tthis.showLanguages = false;\r\n\t\tStateService.patchState(this.state);\r\n\t\tthis.fullscreen$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tconsole.log('LayoutComponent', this);\r\n\t\t// console.log(AgoraService.getUniqueUserId());\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst type = ToastType.Dialog;\r\n\t\t\tconst position = ToastPosition.BottomRight;\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase ToastType.Info:\r\n\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_sent'),\r\n\t\t\t\t\t}).pipe(\r\n\t\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\t\tif (event instanceof ToastResolveEvent) {\r\n\t\t\t\t\t\t\tconsole.log('ToastResolveEvent', event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ToastType.Alert:\r\n\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_sent'),\r\n\t\t\t\t\t\ttype: type, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t}).pipe(\r\n\t\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\t\tif (event instanceof ToastResolveEvent) {\r\n\t\t\t\t\t\t\tconsole.log('ToastResolveEvent', event);\r\n\t\t\t\t\t\t} else if (event instanceof ToastRejectEvent) {\r\n\t\t\t\t\t\t\tconsole.log('ToastRejectEvent', event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ToastType.Dialog:\r\n\t\t\t\t\tToastService.open$({\r\n\t\t\t\t\t\tmessage: LabelPipe.transform('bhere_support_request_dialog'),\r\n\t\t\t\t\t\tacceptMessage: LabelPipe.transform('bhere_support_request_dialog_accept'),\r\n\t\t\t\t\t\trejectMessage: LabelPipe.transform('bhere_support_request_dialog_reject'),\r\n\t\t\t\t\t\ttype: type, position: ToastPosition.BottomRight,\r\n\t\t\t\t\t}).pipe(\r\n\t\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\t\tif (event instanceof ToastResolveEvent) {\r\n\t\t\t\t\t\t\tconsole.log('ToastResolveEvent', event);\r\n\t\t\t\t\t\t} else if (event instanceof ToastRejectEvent) {\r\n\t\t\t\t\t\t\tconsole.log('ToastRejectEvent', event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\tsetLanguage(language) {\r\n\t\tthis.languageService.setLanguage$(language).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(_ => {\r\n\t\t\tthis.showLanguages = false;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleLanguages() {\r\n\t\tthis.showLanguages = !this.showLanguages;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tpatchState(state) {\r\n\t\tthis.state = Object.assign({}, this.state, state);\r\n\t\tthis.screen = this.state.screen || null;\r\n\t\tthis.remoteScreen = this.screen;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\ttoggleCamera() {\r\n\t\tthis.patchState({ cameraMuted: !this.state.cameraMuted });\r\n\t}\r\n\r\n\ttoggleAudio() {\r\n\t\tthis.patchState({ audioMuted: !this.state.audioMuted });\r\n\t}\r\n\r\n\ttoggleScreen() {\r\n\t\tthis.patchState({ screen: !this.state.screen });\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\ttoggleVolume() {\r\n\t\tthis.patchState({ volumeMuted: !this.state.volumeMuted });\r\n\t}\r\n\r\n\ttoggleMode() {\r\n\t\tconst mode = this.state.mode === UIMode.VirtualTour ? UIMode.LiveMeeting : UIMode.VirtualTour;\r\n\t\tthis.patchState({ mode: mode });\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\ttoggleFullScreen() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst fullScreen = !this.state.fullScreen;\r\n\t\tif (fullScreen) {\r\n\t\t\tif (node.requestFullscreen) {\r\n\t\t\t\tnode.requestFullscreen();\r\n\t\t\t} else if (node.webkitRequestFullscreen) {\r\n\t\t\t\tnode.webkitRequestFullscreen();\r\n\t\t\t} else if (node.msRequestFullscreen) {\r\n\t\t\t\tnode.msRequestFullscreen();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (document.exitFullscreen) {\r\n\t\t\t\tdocument.exitFullscreen();\r\n\t\t\t} else if (document.webkitExitFullscreen) {\r\n\t\t\t\tdocument.webkitExitFullscreen();\r\n\t\t\t} else if (document.msExitFullscreen) {\r\n\t\t\t\tdocument.msExitFullscreen();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.patchState({ fullScreen });\r\n\t}\r\n\r\n\tfullscreen$() {\r\n\t\treturn fromEvent(document, 'fullscreenchange').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tconst fullScreen = document.fullscreenElement != null;\r\n\t\t\t\t// console.log('fullscreen$', fullScreen);\r\n\t\t\t\tthis.patchState({ fullScreen });\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleChat() {\r\n\t\tthis.patchState({ chat: !this.state.chat, chatDirty: false });\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\ttoggleNavInfo() {\r\n\t\tthis.patchState({ showNavInfo: !this.state.showNavInfo });\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tconsole.log('LayoutComponent.onBack');\r\n\t}\r\n\r\n\tonChatClose() {\r\n\t\tthis.patchState({ chat: false });\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\tonToggleControl(remoteId) {\r\n\t\tconst controlling = this.state.controlling === remoteId ? null : remoteId;\r\n\t\tthis.patchState({ controlling, spying: false });\r\n\t}\r\n\r\n\tonToggleSilence() {\r\n\t\tthis.patchState({ silencing: !this.state.silencing });\r\n\t}\r\n\r\n\tonToggleSpy(remoteId) {\r\n\t\tconst spying = this.state.spying === remoteId ? null : remoteId;\r\n\t\tthis.patchState({ spying, controlling: false });\r\n\t}\r\n\r\n\taddLike() {\r\n\t\tthis.view.liked = true; // view.liked;\r\n\t\tthis.showLove(this.view);\r\n\t}\r\n\r\n\tshowLove(view) {\r\n\t\tif (view && this.view.id === view.id) {\r\n\t\t\tconst skipTimeout = this.view.showLove;\r\n\t\t\tthis.view.likes = view.likes;\r\n\t\t\tthis.view.showLove = true;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tif (!skipTimeout) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.view.showLove = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}, 3100);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdisconnect() {\r\n\r\n\t}\r\n}\r\n\r\nLayoutComponent.meta = {\r\n\tselector: '[layout-component]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /* html */`\r\n\t<div class=\"page page--agora\">\r\n\t\t${CHUNK_BACKGROUND}\r\n\t\t<!-- Status Checklist -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'checklist'\" [agora-checklist] (checked)=\"onChecked($event)\"></div>\r\n\t\t<!-- Status Link -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'link'\" [agora-link] (link)=\"onLink($event)\"></div>\r\n\t\t<!-- Status Login -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'login'\" [agora-login] (login)=\"onLogin($event)\"></div>\r\n\t\t<!-- Status Name -->\r\n\t\t<div class=\"ui ui--info ui--info-centered\" *if=\"state.status == 'name' || (state.status == 'disconnected' && state.role === 'viewer')\" [agora-name] (name)=\"onName($event)\"></div>\r\n\t\t<!-- Status Device -->\r\n\t\t<div class=\"ui ui--info\" *if=\"state.status == 'device' || (state.status == 'disconnected' && state.role !== 'viewer')\" [agora-device] (enter)=\"onEnter($event)\"></div>\r\n\t\t<!-- Virtual Tour -->\r\n\t\t<div class=\"ui virtual-tour\" [class]=\"uiClass\" *if=\"state.status == 'connected' && isVirtualTourUser\">\r\n\t\t\t<!-- world -->\r\n\t\t\t<div class=\"ui__body\">\r\n\t\t\t\t<div class=\"world\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- remote sidebar -->\r\n\t\t\t<div class=\"group--remote\" [class]=\"remoteClass\" *if=\"state.live\">\r\n\t\t\t\t<div class=\"agora-stream\" *for=\"let remote of remotes\">\r\n\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream__info\" [class]=\"{ spyed: state.spying == remote.streamId, controlling: state.controlling == remote.streamId }\">\r\n\t\t\t\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t\t\t<div class=\"id\">name</div>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn--control\" [title]=\"'title_control' | label\" (click)=\"onToggleControl(remote.streamId)\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t\t\t<svg class=\"control\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#control\"></use></svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn--spy\" [title]=\"'title_spy' | label\" (click)=\"onToggleSpy(remote.streamId)\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#spy\"></use></svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group--members\" *if=\"state.mode == 'virtual-tour'\">\r\n\t\t\t\t\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t\t\t\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"credits\">\r\n\t\t\t\t\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t\t\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- remote screen -->\r\n\t\t\t<div class=\"group--remote-screen\" *if=\"remoteScreen\">\r\n\t\t\t\t<div class=\"agora-stream\">\r\n\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t\t\t<div class=\"id\">name</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--header\">\r\n\t\t\t\t<!-- service -->\r\n\t\t\t\t<div class=\"group--service\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--back\" [title]=\"'title_back' | label\" (click)=\"onBack($event)\" *if=\"isBackButtonVisible\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#arrow-prev\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--view-mode\" [title]=\"'title_view_mode' | label\" (click)=\"toggleMode($event)\" *if=\"state.mode != 'embed'\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.mode == 'virtual-tour'\"><use xlink:href=\"#live-meeting\"></use></svg>\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.mode == 'live-meeting'\"><use xlink:href=\"#virtual-tour\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--volume\" [title]=\"'title_volume' | label\" [class]=\"{ muted: state.volumeMuted }\" (click)=\"toggleVolume($event)\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.volumeMuted\"><use xlink:href=\"#volume-on\"></use></svg>\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.volumeMuted\"><use xlink:href=\"#volume-off\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--fullscreen\" [title]=\"'title_fullscreen' | label\" [class]=\"{ muted: state.fullScreen }\" (click)=\"toggleFullScreen($event)\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.fullScreen\"><use xlink:href=\"#fullscreen-on\"></use></svg>\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.fullScreen\"><use xlink:href=\"#fullscreen-off\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--navmap\" [title]=\"'title_navmap' | label\" [class]=\"{ active: state.showNavmap }\" (click)=\"toggleNavmap($event)\" *if=\"navmap && state.mode != 'live-meeting'\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#navmap\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- local streams -->\r\n\t\t\t\t<div class=\"group--local\" [class]=\"{ publisher: state.role == 'publisher', viewer: state.role == 'viewer' }\" *if=\"state.live\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--silence\" [title]=\"'title_silence' | label\" [class]=\"{ active: state.silencing }\" (click)=\"onToggleSilence()\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--control\" [title]=\"'title_control' | label\" [class]=\"{ active: state.controlling == state.uid }\" (click)=\"onToggleControl(state.uid)\" *if=\"state.role == 'publisher'\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#control\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div class=\"agora-stream\" *if=\"!local\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream\" *if=\"local\">\r\n\t\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"agora-stream agora-stream--screen\" *if=\"screen\">\r\n\t\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--footer\">\r\n\t\t\t\t${CHUNK_CONTROLS}\r\n\t\t\t\t${CHUNK_MEDIA}\r\n\t\t\t\t${CHUNK_AR_VR}\r\n\t\t\t\t${CHUNK_LIKE}\r\n\t\t\t</div>\r\n\t\t\t<!-- members -->\r\n\t\t\t<div class=\"group--members\" *if=\"state.mode == 'live-meeting'\">\r\n\t\t\t\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t\t\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"credits\">\r\n\t\t\t\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t${CHUNK_CHAT}\r\n\t\t\t${CHUNK_LOCK}\r\n\t\t\t${CHUNK_NAVMAP}\r\n\t\t</div>\r\n\t\t<!-- Smart Device -->\r\n\t\t<div class=\"ui remotes\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.role == 'smart-device'\">\r\n\t\t\t<!-- world -->\r\n\t\t\t<div class=\"ui__body\">\r\n\t\t\t</div>\r\n\t\t\t<!-- remote sidebar -->\r\n\t\t\t<div class=\"group--remote\" [class]=\"remoteClass\" *if=\"state.live\">\r\n\t\t\t\t<div class=\"agora-stream\" *for=\"let remote of remotes\">\r\n\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t\t\t<div class=\"id\">name</div>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn--spy\" [title]=\"'title_spy' | label\" *if=\"state.role === 'publisher'\" (click)=\"onToggleSpy(remote.streamId)\">\r\n\t\t\t\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#spy\"></use></svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- remote screen -->\r\n\t\t\t<div class=\"group--remote-screen\" *if=\"remoteScreen\">\r\n\t\t\t\t<div class=\"agora-stream\">\r\n\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t\t\t<div class=\"id\">name</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- local streams -->\r\n\t\t\t<div class=\"group--local\" [class]=\"{ publisher: state.role == 'publisher', viewer: state.role == 'viewer' }\" *if=\"state.live\">\r\n\t\t\t\t<div class=\"agora-stream\" *if=\"local\">\r\n\t\t\t\t\t<div class=\"agora-stream__player\"></div>\r\n\t\t\t\t\t<div class=\"agora-stream__info\">\r\n\t\t\t\t\t\t<svg class=\"cam-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam-muted\"></use></svg>\r\n\t\t\t\t\t\t<svg class=\"mic-muted\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic-muted\"></use></svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- controls -->\r\n\t\t\t<div class=\"group--controls\" *if=\"state.live\">\r\n\t\t\t\t<div class=\"group--actions\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--call\" [title]=\"'title_disconnect' | label\" (click)=\"disconnect()\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#call\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--cam\" [title]=\"'title_mute_camera' | label\" [class]=\"{ muted: state.cameraMuted, disabled: !local }\" (click)=\"toggleCamera()\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#cam\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--mic\" [title]=\"'title_mute_mic' | label\" [class]=\"{ muted: state.audioMuted, disabled: !local || silenced }\" (click)=\"toggleAudio()\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#mic\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--screen\" [title]=\"'title_share_screen' | label\" [class]=\"{ active: screen }\" (click)=\"toggleScreen()\" *if=\"('screenShare' | flag) && (state.role == 'publisher' || state.role == 'attendee' || controlling)\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#screen\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--chat\" [title]=\"'title_chat' | label\" [class]=\"{ active: state.chatDirty }\" (click)=\"toggleChat()\" *if=\"('chat' | flag)\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#chat\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--navinfo\" [title]=\"'title_navinfo' | label\" [class]=\"{ active: state.showNavInfo }\" (click)=\"toggleNavInfo()\" *if=\"showNavInfoToggler\">\r\n\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#navinfo\"></use></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- members -->\r\n\t\t\t<div class=\"group--members\">\r\n\t\t\t\t<div class=\"members\" *if=\"state.role === 'publisher'\">\r\n\t\t\t\t\t<svg class=\"spy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#users\"></use></svg>\r\n\t\t\t\t\t<span class=\"members__count\" [innerHTML]=\"state.membersCount\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"credits\">\r\n\t\t\t\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\">\r\n\t\t\t\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Self Service Tour -->\r\n\t\t<div class=\"ui\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.mode == 'self-service-tour'\">\r\n\t\t\t<!-- world -->\r\n\t\t\t<div class=\"ui__body\">\r\n\t\t\t\t<div class=\"world\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- service -->\r\n\t\t\t<div class=\"group--service\">\r\n\t\t\t\t<button type=\"button\" class=\"btn--volume\" [title]=\"'title_volume' | label\" [class]=\"{ muted: state.volumeMuted }\" (click)=\"toggleVolume($event)\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.volumeMuted\"><use xlink:href=\"#volume-on\"></use></svg>\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.volumeMuted\"><use xlink:href=\"#volume-off\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"button\" class=\"btn--fullscreen\" [title]=\"'title_fullscreen' | label\" [class]=\"{ muted: state.fullScreen }\" (click)=\"toggleFullScreen($event)\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.fullScreen\"><use xlink:href=\"#fullscreen-on\"></use></svg>\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.fullScreen\"><use xlink:href=\"#fullscreen-off\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t${CHUNK_AR_VR}\r\n\t\t\t${CHUNK_LIKE}\r\n\t\t</div>\r\n\t\t<!-- Embed -->\r\n\t\t<div class=\"ui\" [class]=\"uiClass\" *if=\"state.status == 'connected' && state.mode == 'embed'\">\r\n\t\t\t<!-- world -->\r\n\t\t\t<div class=\"ui__body\">\r\n\t\t\t\t<div class=\"world\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- service -->\r\n\t\t\t<div class=\"group--service\">\r\n\t\t\t\t<button type=\"button\" class=\"btn--volume\" [title]=\"'title_volume' | label\" [class]=\"{ muted: state.volumeMuted }\" (click)=\"toggleVolume($event)\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.volumeMuted\"><use xlink:href=\"#volume-on\"></use></svg>\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.volumeMuted\"><use xlink:href=\"#volume-off\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"button\" class=\"btn--fullscreen\" [title]=\"'title_fullscreen' | label\" [class]=\"{ muted: state.fullScreen }\" (click)=\"toggleFullScreen($event)\">\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"!state.fullScreen\"><use xlink:href=\"#fullscreen-on\"></use></svg>\r\n\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" *if=\"state.fullScreen\"><use xlink:href=\"#fullscreen-off\"></use></svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t${CHUNK_AR_VR}\r\n\t\t\t${CHUNK_LIKE}\r\n\t\t</div>\r\n\t\t<a class=\"btn--logo\" [routerLink]=\"':lang.access' | route\" *if=\"state.status != 'connected'\">\r\n\t\t\t<img [src]=\"'logo' | env\" *if=\"'logo' | env\" />\r\n\t\t\t<svg viewBox=\"0 0 270 98\" *if=\"!('logo' | env)\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t</a>\r\n\t\t<a class=\"btn--credits\" href=\"https://www.websolute.com/\" target=\"_blank\" rel=\"noopener\" *if=\"state.status != 'connected'\">\r\n\t\t\t<svg viewBox=\"0 0 270 98\"><use xlink:href=\"#b-here\"></use></svg>\r\n\t\t</a>\r\n\t\t<div class=\"group--language\" language *if=\"state.status != 'connected'\"></div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { DevicePlatform, DeviceService } from '../device/device.service';\r\nimport { environment } from '../environment';\r\nimport { MeetingUrl } from '../meeting/meeting-url';\r\nimport { RouterOutletStructure } from '../router/router-outlet.structure';\r\nimport { ViewService } from '../view/view.service';\r\n\r\nexport default class TryInARComponent extends Component {\r\n\r\n\tget viewId() {\r\n\t\tconst viewId = this.route ? this.route.params.viewId : undefined;\r\n\t\treturn viewId ? parseInt(viewId) : null;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.platform = DeviceService.platform;\r\n\t\tthis.route = this.host ? this.host.route : null;\r\n\t\tthis.missingAr = false;\r\n\t\tthis.missingUsdz = false;\r\n\t\tthis.missingGltf = false;\r\n\t\tconst viewId = this.viewId;\r\n\t\t// console.log('TryInARComponent.viewId', viewId);\r\n\t\tif (viewId) {\r\n\t\t\tViewService.viewById$(viewId).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(view => {\r\n\t\t\t\tif (!view.ar) {\r\n\t\t\t\t\tthis.missingAr = true;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('TryInARComponent.view', view);\r\n\t\t\t\tif (this.platform === DevicePlatform.IOS) {\r\n\t\t\t\t\tconst usdzSrc = this.getUsdzSrc(view);\r\n\t\t\t\t\tif (usdzSrc) {\r\n\t\t\t\t\t\twindow.location.href = usdzSrc;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.missingUsdz = true;\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.getGltfSrc(view) !== null) {\r\n\t\t\t\t\tconst modelViewerNode = this.getModelViewerNode(view);\r\n\t\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\t\tnode.appendChild(modelViewerNode);\r\n\t\t\t\t\tthis.addARScripts();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.missingGltf = true;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\taddARScripts() {\r\n\t\tlet script = document.createElement('script');\r\n\t\tscript.setAttribute('type', 'module');\r\n\t\tscript.setAttribute('src', 'https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js');\r\n\t\tdocument.head.appendChild(script);\r\n\t\tscript = document.createElement('script');\r\n\t\tscript.setAttribute('nomodule', '');\r\n\t\tscript.setAttribute('src', 'https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js');\r\n\t\tdocument.head.appendChild(script);\r\n\t}\r\n\r\n\tgetUsdzSrc(view) {\r\n\t\treturn (view.ar && view.ar.usdz) ? environment.getPath(view.ar.usdz.folder + view.ar.usdz.file) : null;\r\n\t}\r\n\r\n\tgetGltfSrc(view) {\r\n\t\treturn (view.ar && view.ar.gltf) ? environment.getPath(view.ar.gltf.folder + view.ar.gltf.file) : null;\r\n\t}\r\n\r\n\tgetViewId() {\r\n\t\tconst meetingUrl = new MeetingUrl();\r\n\t\tlet viewId = null;\r\n\t\tif (meetingUrl.viewId) {\r\n\t\t\tviewId = parseInt(meetingUrl.viewId);\r\n\t\t}\r\n\t\treturn viewId;\r\n\t}\r\n\r\n\tgetModelViewerNode(view) {\r\n\t\tconst environmentImage = environment.getPath(environment.textures.envMap);\r\n\t\tconst skyboxImage = environment.getPath(view.asset.folder + view.asset.file);\r\n\t\tconst usdzSrc = this.getUsdzSrc(view);\r\n\t\tconst gltfSrc = this.getGltfSrc(view);\r\n\t\tconst template = /* html */`\r\n\t\t\t<model-viewer alt=\"${view.name}\" environment-image=\"${environmentImage}\" skybox-image=\"${skyboxImage}\" ios-src=\"${usdzSrc}\" src=\"${gltfSrc}\" ar ar-modes=\"webxr scene-viewer quick-look\" ar-scale=\"auto\" camera-controls></model-viewer>\r\n\t\t`;\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n}\r\n\r\nTryInARComponent.meta = {\r\n\tselector: '[try-in-ar]',\r\n\thosts: { host: RouterOutletStructure },\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"page page--try-in-ar\">\r\n\t\t\t<!--\r\n\t\t\t<div *if=\"platform != 'ios'\">\r\n\t\t\t\t<script type=\"module\" src=\"https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js\"></script>\r\n\t\t\t\t<script nomodule src=\"https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js\"></script>\r\n\t\t\t</div>\r\n\t\t\t-->\r\n\t\t\t<div class=\"ui\" *if=\"!viewId\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content\">\r\n\t\t\t\t\t\t<div class=\"info\">Not found.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ui\" *if=\"missingAr\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content\">\r\n\t\t\t\t\t\t<div class=\"info\">Missing AR in view.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ui\" *if=\"missingUsdz\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content\">\r\n\t\t\t\t\t\t<div class=\"info\">Missing .usdz in ar.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"ui\" *if=\"missingGltf\">\r\n\t\t\t\t<div class=\"group--info\">\r\n\t\t\t\t\t<div class=\"group--info__content\">\r\n\t\t\t\t\t\t<div class=\"info\">Missing .gltf in ar.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import AccessCodeComponent from './access/access-code.component';\r\nimport AccessComponent from './access/access.component';\r\nimport AgoraComponent from './agora/agora.component';\r\nimport EditorComponent from './editor/editor.component';\r\nimport { environment } from './environment';\r\nimport { GenericComponent } from './generic/generic.component';\r\nimport LayoutComponent from './layout/layout.component';\r\nimport TryInARComponent from './try-in-ar/try-in-ar.component';\r\n\r\nconsole.log('environment.defaultLanguage', environment.defaultLanguage);\r\n\r\nexport const AppRoutesInit = () => [\r\n\t{ name: 'index', path: '/', forwardTo: environment.defaultLanguage || 'it' },\r\n\t// it\r\n\t{ name: 'it', path: '/it', defaultParams: { lang: 'it', mode: 'access' }, factory: AccessComponent },\r\n\t{ name: 'it.access', path: '/accesso', defaultParams: { lang: 'it', mode: 'access' }, factory: AccessComponent },\r\n\t{ name: 'it.accessCode', path: '/codice-di-accesso?:p&:link&:name&:role&:viewId&:pathId&:support', defaultParams: { lang: 'it', mode: 'accessCode' }, factory: AccessCodeComponent },\r\n\t{ name: 'it.guidedTour', path: '/tour-guidato?:p&:link&:name&:role&:viewId&:pathId&:support', defaultParams: { lang: 'it', mode: 'guidedTour' }, factory: AgoraComponent },\r\n\t// { name: 'it.guidedTour', path: '/tour-guidato', defaultParams: { lang: 'it', mode: 'guidedTour' }, factory: AgoraComponent },\r\n\t{ name: 'it.selfServiceTour', path: '/tour-self-service?:p&:viewId&:pathId', defaultParams: { lang: 'it', mode: 'selfServiceTour' }, factory: AgoraComponent },\r\n\t{ name: 'it.embed', path: '/embed', defaultParams: { lang: 'it', mode: 'embed' }, factory: AgoraComponent },\r\n\t{ name: 'it.tryInAr', path: '/prova-in-ar?:p&:viewId', defaultParams: { lang: 'it', mode: 'tryInAr' }, factory: TryInARComponent },\r\n\t{ name: 'it.editor', path: '/editor?:p&:viewId', defaultParams: { lang: 'it', mode: 'editor' }, factory: EditorComponent },\r\n\t{ name: 'it.layout', path: '/layout', defaultParams: { lang: 'it', mode: 'layout' }, factory: LayoutComponent },\r\n\t{ name: 'it.privacy', path: '/informativa-sulla-privacy', defaultParams: { lang: 'it', mode: 'privacy_policy' }, factory: GenericComponent },\r\n\t{ name: 'it.terms', path: '/termini-di-utilizzo', defaultParams: { lang: 'it', mode: 'terms' }, factory: GenericComponent },\r\n\t// en\r\n\t{ name: 'en', path: '/en', defaultParams: { lang: 'en', mode: 'access' }, factory: AccessComponent },\r\n\t{ name: 'en.access', path: '/access', defaultParams: { lang: 'en', mode: 'access' }, factory: AccessComponent },\r\n\t{ name: 'en.accessCode', path: '/accesso-code?:p&:link&:name&:role&:viewId&:pathId&:support', defaultParams: { lang: 'en', mode: 'accessCode' }, factory: AccessCodeComponent },\r\n\t{ name: 'en.guidedTour', path: '/guided-tour?:p&:link&:name&:role&:viewId&:pathId&:support', defaultParams: { lang: 'en', mode: 'guidedTour' }, factory: AgoraComponent },\r\n\t// { name: 'en.guidedTour', path: '/guided-tour', defaultParams: { lang: 'en', mode: 'guidedTour' }, factory: AgoraComponent },\r\n\t{ name: 'en.selfServiceTour', path: '/self-service-tour?:p&:viewId&:pathId', defaultParams: { lang: 'en', mode: 'selfServiceTour' }, factory: AgoraComponent },\r\n\t{ name: 'en.embed', path: '/embed', defaultParams: { lang: 'en', mode: 'embed' }, factory: AgoraComponent },\r\n\t{ name: 'en.tryInAr', path: '/try-in-ar?:p&:viewId', defaultParams: { lang: 'en', mode: 'tryInAr' }, factory: TryInARComponent },\r\n\t{ name: 'en.editor', path: '/editor?:p&:viewId', defaultParams: { lang: 'en', mode: 'editor' }, factory: EditorComponent },\r\n\t{ name: 'en.layout', path: '/layout', defaultParams: { lang: 'en', mode: 'layout' }, factory: LayoutComponent },\r\n\t{ name: 'en.privacy', path: '/privacy-policy', defaultParams: { lang: 'en', mode: 'privacy_policy' }, factory: GenericComponent },\r\n\t{ name: 'en.terms', path: '/terms-of-service', defaultParams: { lang: 'en', mode: 'terms' }, factory: GenericComponent },\r\n];\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { AppRoutesInit } from './app.routes';\r\nimport { AssetGroupTypeInit } from './asset/asset';\r\nimport { environment } from './environment';\r\nimport { LanguageService } from './language/language.service';\r\nimport { RouterService } from './router/router.service';\r\nimport { SVG_CHUNK } from './svg/svg.chunks';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst routes = AppRoutesInit();\r\n\t\tRouterService.useBrowser(routes);\r\n\r\n\t\tAssetGroupTypeInit();\r\n\r\n\t\tRouterService.event$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\tconst route = event.route;\r\n\t\t\tif (route && route.params.mode === 'embed') {\r\n\t\t\t\tenvironment.flags.like = false;\r\n\t\t\t}\r\n\t\t\tLanguageService.setRoute(route, routes);\r\n\t\t});\r\n\r\n\t\tLanguageService.lang$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(_ => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t}\r\n\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[b-here-component]',\r\n\ttemplate: /* html */ `\r\n\t\t<!-- svg -->\r\n\t\t${SVG_CHUNK}\r\n\t\t<!-- header -->\r\n\t\t<router-outlet></router-outlet>\r\n\t\t<!-- footer -->\r\n\t\t<div class=\"toast-outlet\" toast-outlet></div>\r\n\t\t<div class=\"modal-outlet\" modal-outlet></div>\r\n\t`,\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../environment';\r\nimport { AssetType } from './asset';\r\n\r\nexport const MIME_IMAGE = [\r\n\t'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'svg', 'tif', 'tiff', 'webp', 'hdr',\r\n];\r\nexport const MIME_AUDIO = [\r\n\t'aac', 'mid', 'midi', 'mp3', 'oga', 'opus', 'wav', 'weba',\r\n];\r\nexport const MIME_VIDEO = [\r\n\t'mp4', 'avi', 'mpeg', 'ogv', 'ts', 'webm', '3gp', '3g2',\r\n];\r\nexport const MIME_MODEL = [\r\n\t'fbx', 'gltf', 'glb', 'obj', 'usdz',\r\n];\r\nexport const MIME_STREAM = [\r\n\t'publisherStream', 'nextAttendeeStream', 'publisherScreen', 'attendeeScreen',\r\n];\r\nexport function isImage(path) {\r\n\t// eslint-disable-next-line no-useless-escape\r\n\treturn new RegExp(`/\\.(${MIME_IMAGE.join('|')})$/i`).test(path);\r\n}\r\nexport function isVideo(path) {\r\n\t// eslint-disable-next-line no-useless-escape\r\n\treturn new RegExp(`/\\.(${MIME_VIDEO.join('|')})$/i`).test(path);\r\n}\r\nexport function isModel(path) {\r\n\t// eslint-disable-next-line no-useless-escape\r\n\treturn new RegExp(`/\\.(${MIME_MODEL.join('|')})$/i`).test(path);\r\n}\r\nexport function isStream(path) {\r\n\treturn MIME_STREAM.indexOf(path) !== -1;\r\n}\r\nexport default class AssetPipe extends Pipe {\r\n\tstatic transform(asset, type = null) {\r\n\t\tif (type != null) { // keep loose equality\r\n\t\t\tasset = asset.type.name === type ? asset : null;\r\n\t\t}\r\n\t\tif (asset) {\r\n\t\t\tif (typeof asset === 'string') {\r\n\t\t\t\treturn environment.getPath(asset);\r\n\t\t\t}\r\n\t\t\t// console.log(asset.type.name, AssetType.Image.name);\r\n\t\t\tswitch (asset.type.name) {\r\n\t\t\t\tcase AssetType.Image.name:\r\n\t\t\t\tcase AssetType.Video.name:\r\n\t\t\t\t\tasset = asset.folder + asset.file;\r\n\t\t\t\t\tasset = environment.getPath(asset);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase AssetType.Model.name:\r\n\t\t\t\t\tasset = asset.folder + asset.file;\r\n\t\t\t\t\tasset = environment.getPath(asset);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase AssetType.PublisherStream.name:\r\n\t\t\t\tcase AssetType.AttendeeStream.name:\r\n\t\t\t\tcase AssetType.PublisherScreen.name:\r\n\t\t\t\tcase AssetType.AttendeeScreen.name:\r\n\t\t\t\tcase AssetType.SmartDeviceStream.name:\r\n\t\t\t\t\tasset = environment.getPath(asset.file);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif (isImage(asset.file) || isVideo(asset.file)) {\r\n\t\t\t\t\t\tasset = asset.folder + asset.file;\r\n\t\t\t\t\t\tasset = environment.getPath(asset);\r\n\t\t\t\t\t} else if (isModel(asset.file)) {\r\n\t\t\t\t\t\tasset = asset.folder + asset.file;\r\n\t\t\t\t\t\tasset = environment.getPath(asset);\r\n\t\t\t\t\t} else if (isStream(asset.file)) {\r\n\t\t\t\t\t\tasset = asset.file;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// asset = asset;\r\n\t\t} else {\r\n\t\t\tasset = null;\r\n\t\t}\r\n\t\t// console.log('AssetPipe.transform', asset);\r\n\t\treturn asset;\r\n\t}\r\n}\r\nAssetPipe.meta = {\r\n\tname: 'asset',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport { ModalService } from '../modal/modal.service';\r\n\r\nexport default class ControlRequestModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tonAccept(user) {\r\n\t\tModalService.resolve();\r\n\t}\r\n\r\n\tonReject(user) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\t/*\r\n\tonDestroy() {\r\n\t\t// console.log('ControlRequestModalComponent.onDestroy');\r\n\t}\r\n\t*/\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nControlRequestModalComponent.meta = {\r\n\tselector: '[control-request-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">L'utente ha richiesto il controllo della navigazione. Accetti?</div>\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--cancel\" (click)=\"onReject()\">\r\n\t\t\t\t\t\t<span>Rifiuta</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onAccept()\">\r\n\t\t\t\t\t\t<span>Accetta</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nControlRequestModalComponent.chunk = () => /* html */'<div class=\"control-request-modal\" control-request-modal></div>';\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil } from 'rxjs/operators';\r\n\r\nexport default class DropDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { module, node, parentInstance, selector } = getContext(this);\r\n\t\tconst event = 'drop';\r\n\t\tconst event$ = fromEvent(node, event).pipe(shareReplay(1));\r\n\t\tconst expression = node.getAttribute(`(${event})`);\r\n\t\tif (expression) {\r\n\t\t\tconst outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\t\tevent$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tmodule.resolve(outputFunction, parentInstance, event);\r\n\t\t\t});\r\n\t\t\tfromEvent(node, 'dragover').pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => event.preventDefault());\r\n\t\t} else {\r\n\t\t\tparentInstance[`${event}$`] = event$;\r\n\t\t}\r\n\t\t// console.log('DropDirective.onInit', 'selector', selector, 'event', event);\r\n\t}\r\n\r\n}\r\n\r\nDropDirective.meta = {\r\n\tselector: '[(drop)]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport default class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped'],\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from './dropdown.directive';\r\n\r\nexport default class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ToastService from './toast.service';\r\n\r\nexport default class ToastOutletComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.toast = null;\r\n\t\tthis.lastToast = null;\r\n\t\tToastService.toast$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(toast => {\r\n\t\t\tif (toast) {\r\n\t\t\t\tthis.lastToast = toast;\r\n\t\t\t}\r\n\t\t\tthis.toast = toast;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\t// console.log('ToastOutletComponent.onInit');\r\n\t}\r\n\r\n\tgetClass() {\r\n\t\tconst classList = {};\r\n\t\tif (this.toast) {\r\n\t\t\tclassList.active = true;\r\n\t\t}\r\n\t\tif (this.lastToast) {\r\n\t\t\tclassList[this.lastToast.type] = true;\r\n\t\t\tclassList[this.lastToast.position] = true;\r\n\t\t}\r\n\t\treturn classList;\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tToastService.reject(this.toast);\r\n\t}\r\n\r\n\tonAccept() {\r\n\t\tToastService.resolve(this.toast);\r\n\t}\r\n\r\n\tonReject() {\r\n\t\tToastService.reject(this.toast);\r\n\t}\r\n\r\n}\r\n\r\nToastOutletComponent.meta = {\r\n\tselector: '[toast-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"toast-outlet__container\" [class]=\"getClass()\">\r\n\t\t<div class=\"toast-outlet__toast\" *if=\"lastToast\">\r\n\t\t\t<span class=\"toast-outlet__message\" [innerHTML]=\"lastToast.message\"></span>\r\n\t\t\t<div class=\"group--cta\" *if=\"lastToast.type != 'info'\">\r\n\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onAccept()\">\r\n\t\t\t\t\t<span [innerHTML]=\"lastToast.acceptMessage\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"button\" class=\"btn--cancel\" (click)=\"onReject()\" *if=\"lastToast.type == 'dialog'\">\r\n\t\t\t\t\t<span [innerHTML]=\"lastToast.rejectMessage\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\" *if=\"lastToast.type != 'info'\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../../label/label.pipe';\r\nimport { ViewItemType, ViewType } from '../../view/view';\r\n\r\nexport default class AsideComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.mode = 1;\r\n\t\tthis.viewTypes = Object.keys(ViewType).map(key => {\r\n\t\t\tconst type = ViewType[key];\r\n\t\t\treturn {\r\n\t\t\t\ttype: type,\r\n\t\t\t\tname: LabelPipe.getKeys('editor', type.name),\r\n\t\t\t\tdisabled: environment.editor.disabledViewTypes.indexOf(type.name) !== -1,\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.viewItemTypes = Object.keys(ViewItemType).map(key => {\r\n\t\t\tconst type = ViewItemType[key];\r\n\t\t\treturn {\r\n\t\t\t\ttype: type,\r\n\t\t\t\tname: LabelPipe.getKeys('editor', type.name),\r\n\t\t\t\tdisabled: environment.editor.disabledViewItemTypes.indexOf(type.name) !== -1,\r\n\t\t\t};\r\n\t\t});\r\n\t\tthis.setSupportedViewTypes();\r\n\t\tthis.setSupportedViewItemTypes();\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.setSupportedViewTypes();\r\n\t\tthis.setSupportedViewItemTypes();\r\n\t}\r\n\r\n\tsetSupportedViewTypes() {\r\n\t\tthis.supportedViewTypes = this.viewTypes.filter(x => this.supportedViewType(x.type.name)).sort((a, b) => {\r\n\t\t\tif (a.disabled === b.disabled) {\r\n\t\t\t\treturn 0; // (a.type.name < b.type.name) ? -1 : (a.type.name > b.type.name) ? 1 : 0;\r\n\t\t\t} else {\r\n\t\t\t\treturn a.disabled ? 1 : -1;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsetSupportedViewItemTypes() {\r\n\t\tif (this.view) {\r\n\t\t\tthis.supportedViewItemTypes = this.viewItemTypes.filter(x => this.supportedViewItemType(this.view.type.name, x.type.name)).sort((a, b) => {\r\n\t\t\t\tif (a.disabled === b.disabled) {\r\n\t\t\t\t\treturn 0; // (a.type.name < b.type.name) ? -1 : (a.type.name > b.type.name) ? 1 : 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a.disabled ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.supportedViewItemTypes = [];\r\n\t\t}\r\n\t}\r\n\r\n\tsetMode(mode) {\r\n\t\tif (this.mode !== mode) {\r\n\t\t\tthis.mode = mode;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tsupportedViewType(viewTypeName) {\r\n\t\tlet supported = [ViewType.Panorama.name, ViewType.PanoramaGrid.name, ViewType.Room3d.name, ViewType.Model.name, ViewType.Media.name].indexOf(viewTypeName) !== -1; // ViewType.WaitingRoom,\r\n\t\t// console.log('supportedViewType', viewType, supported);\r\n\t\treturn supported;\r\n\t}\r\n\r\n\tsupportedViewItemType(viewTypeName, viewItemTypeName) {\r\n\t\tlet supported;\r\n\t\tswitch (viewTypeName) {\r\n\t\t\tcase ViewType.WaitingRoom.name:\r\n\t\t\t\tsupported = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\tsupported = [ViewItemType.Nav.name, ViewItemType.Model.name, ViewItemType.Plane.name, ViewItemType.CurvedPlane.name].indexOf(viewItemTypeName) !== -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\tsupported = [ViewItemType.Nav.name, ViewItemType.Model.name, ViewItemType.Plane.name, ViewItemType.CurvedPlane.name].indexOf(viewItemTypeName) !== -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\tsupported = [ViewItemType.Nav.name, ViewItemType.Model.name, ViewItemType.Plane.name, ViewItemType.Texture.name].indexOf(viewItemTypeName) !== -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ViewType.Model.name:\r\n\t\t\t\tsupported = [ViewItemType.Nav.name, ViewItemType.Model.name, ViewItemType.Plane.name, ViewItemType.CurvedPlane.name].indexOf(viewItemTypeName) !== -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ViewType.Media.name:\r\n\t\t\t\tsupported = [].indexOf(viewItemTypeName) !== -1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t// console.log('supportedViewItemType', viewTypeName, viewItemTypeName, supported);\r\n\t\treturn supported;\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tthis.select.next(event);\r\n\t}\r\n\r\n\tonUpdate(event) {\r\n\t\tthis.update.next(event);\r\n\t}\r\n\r\n\tonDelete(event) {\r\n\t\tthis.delete.next(event);\r\n\t}\r\n}\r\n\r\nAsideComponent.meta = {\r\n\tselector: '[aside]',\r\n\toutputs: ['select', 'update', 'delete'],\r\n\tinputs: ['view'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"headline\">\r\n\t\t<ul class=\"nav--tab\">\r\n\t\t\t<li [class]=\"{ active: mode === 1 }\" (click)=\"setMode(1)\" [innerHTML]=\"'editor_properties' | label\"></li>\r\n\t\t\t<li [class]=\"{ active: mode === 2 }\" (click)=\"setMode(2)\" [innerHTML]=\"'editor_views' | label\"></li>\r\n\t\t\t<li [class]=\"{ active: mode === 3 }\" (click)=\"setMode(3)\" [innerHTML]=\"'editor_view_items' | label\"></li>\r\n\t\t</ul>\r\n\t\t<!--\r\n\t\t<div class=\"btn--mode\" [class]=\"{ active: mode === 1 }\" (click)=\"setMode(1)\" [innerHTML]=\"'editor_properties' | label\"></div>\r\n\t\t<div class=\"btn--mode\" [class]=\"{ active: mode === 2 }\" (click)=\"setMode(2)\" [innerHTML]=\"'editor_views' | label\"></div>\r\n\t\t<div class=\"btn--mode\" [class]=\"{ active: mode === 3 }\" (click)=\"setMode(3)\" [innerHTML]=\"'editor_view_items' | label\"></div>\r\n\t\t-->\r\n\t</div>\r\n\t<div class=\"scrollable\">\r\n\t\t<ul class=\"nav--editor\" *if=\"mode === 1\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_properties' | label\"></div>\r\n\t\t\t\t<update-view [view]=\"view\" (select)=\"onSelect($event)\" (update)=\"onUpdate($event)\" (delete)=\"onDelete($event)\"></update-view>\r\n\t\t\t</li>\r\n\t\t\t<li *if=\"view.type.name != 'panorama-grid'\">\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_items' | label\"></div>\r\n\t\t\t\t<update-view-item [view]=\"view\" [item]=\"item\" (select)=\"onSelect($event)\" (update)=\"onUpdate($event)\" (delete)=\"onDelete($event)\" *for=\"let item of view.pathItems\"></update-view-item>\r\n\t\t\t\t<div class=\"abstract\" *if=\"view.pathItems.length == 0\" [innerHTML]=\"'editor_no_items' | label\"></div>\r\n\t\t\t\t<div class=\"btn--mode\" (click)=\"setMode(3)\" [innerHTML]=\"'editor_add_item' | label\"></div>\r\n\t\t\t</li>\r\n\t\t\t<li *if=\"view.type.name == 'panorama-grid'\">\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_tiles' | label\"></div>\r\n\t\t\t\t<div *for=\"let tile of view.tiles\">\r\n\t\t\t\t\t<div *if=\"tile.selected\">\r\n\t\t\t\t\t\t<update-view-tile [view]=\"view\" [tile]=\"tile\" (update)=\"onUpdate($event)\" (delete)=\"onDelete($event)\"></update-view-tile>\r\n\t\t\t\t\t\t<ul class=\"nav--editor\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<update-view-item [view]=\"view\" [item]=\"item\" (select)=\"onSelect($event)\" (update)=\"onUpdate($event)\" (delete)=\"onDelete($event)\" *for=\"let item of tile.navs\"></update-view-item>\r\n\t\t\t\t\t\t\t\t<div class=\"abstract\" *if=\"tile.navs.length == 0\" [innerHTML]=\"'editor_no_navs' | label\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"btn--mode\" (click)=\"onSelect({ type:'viewItem', value: 'nav', tile: tile })\" [innerHTML]=\"'editor_add_nav' | label\"></div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect({ type:'viewItem', value: 'nav', tile: tile })\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"nav\"></svg-icon>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_add_nav' | label\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t-->\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"abstract\" *if=\"view.tiles.length == 0\" [innerHTML]=\"'editor_no_tiles' | label\"></div>\r\n\t\t\t\t<!-- <div class=\"btn--mode\" (click)=\"setMode(3)\">Add Tile</div> -->\r\n\t\t\t</li>\r\n\t\t\t<!--\r\n\t\t\t<li *if=\"false\">\r\n\t\t\t\t<div class=\"title\">Icons</div>\r\n\t\t\t\t<ul class=\"nav--editor\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('animated-tabs')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><path d=\"M 2 8.4 L 12 8.4 L 12 2 L 6 2 C 3.791 2 2 3.791 2 6 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 12 8.4 L 22 8.4 L 22 6 C 22 3.791 20.209 2 18 2 L 12 2 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Animated Tabs</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('card-list')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><path d=\"M 6.8 13.6 C 6.8 13.158 7.158 12.8 7.6 12.8 L 16.8 12.8 C 17.242 12.8 17.6 13.158 17.6 13.6 L 17.6 16.8 C 17.6 17.242 17.242 17.6 16.8 17.6 L 7.6 17.6 C 7.158 17.6 6.8 17.242 6.8 16.8 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 6.8 7.2 C 6.8 6.758 7.158 6.4 7.6 6.4 L 16.8 6.4 C 17.242 6.4 17.6 6.758 17.6 7.2 L 17.6 10.4 C 17.6 10.842 17.242 11.2 16.8 11.2 L 7.6 11.2 C 7.158 11.2 6.8 10.842 6.8 10.4 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Card List</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('container-transitions')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 15.667 13 C 17.139 13 18.333 14.194 18.333 15.667 C 18.333 17.139 17.139 18.333 15.667 18.333 C 14.194 18.333 13 17.139 13 15.667 C 13 14.194 14.194 13 15.667 13 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Container Transitions</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('dynamic-grid')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><g transform=\"translate(6.6 6.6)\"><path d=\"M 6.048 0.8 C 6.048 0.358 6.406 0 6.848 0 L 10 0 C 10.442 0 10.8 0.358 10.8 0.8 L 10.8 3.952 C 10.8 4.394 10.442 4.752 10 4.752 L 6.848 4.752 C 6.406 4.752 6.048 4.394 6.048 3.952 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.5\"></path><path d=\"M 6.048 6.848 C 6.048 6.406 6.406 6.048 6.848 6.048 L 10 6.048 C 10.442 6.048 10.8 6.406 10.8 6.848 L 10.8 10 C 10.8 10.442 10.442 10.8 10 10.8 L 6.848 10.8 C 6.406 10.8 6.048 10.442 6.048 10 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 0 0.8 C 0 0.358 0.358 0 0.8 0 L 3.952 0 C 4.394 0 4.752 0.358 4.752 0.8 L 4.752 3.952 C 4.752 4.394 4.394 4.752 3.952 4.752 L 0.8 4.752 C 0.358 4.752 0 4.394 0 3.952 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 0 6.848 C 0 6.406 0.358 6.048 0.8 6.048 L 3.952 6.048 C 4.394 6.048 4.752 6.406 4.752 6.848 L 4.752 10 C 4.752 10.442 4.394 10.8 3.952 10.8 L 0.8 10.8 C 0.358 10.8 0 10.442 0 10 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.5\"></path></g></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Dynamic Grid</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('expand-on-tap')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 0 0 L 7.833 0\" transform=\"translate(8.583 11.583) rotate(270 3.917 0.5)\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 14.667 9.333 L 12 6.667 L 9.333 9.333\" stroke=\"var(--svg-icon-tint)\" fill=\"transparent\" stroke-width=\"1.67\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 14.667 14.667 L 12 17.333 L 9.333 14.667\" stroke=\"var(--svg-icon-tint)\" fill=\"transparent\" stroke-width=\"1.67\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Expand on Tap</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('image-gallery-2')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 8.333 C 7.333 7.781 7.781 7.333 8.333 7.333 L 10.333 7.333 C 10.886 7.333 11.333 7.781 11.333 8.333 L 11.333 10.333 C 11.333 10.886 10.886 11.333 10.333 11.333 L 8.333 11.333 C 7.781 11.333 7.333 10.886 7.333 10.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 12.333 8.333 C 12.333 7.781 12.781 7.333 13.333 7.333 L 15.333 7.333 C 15.886 7.333 16.333 7.781 16.333 8.333 L 16.333 10.333 C 16.333 10.886 15.886 11.333 15.333 11.333 L 13.333 11.333 C 12.781 11.333 12.333 10.886 12.333 10.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 7.333 13.667 C 7.333 13.114 7.781 12.667 8.333 12.667 L 15.333 12.667 C 15.886 12.667 16.333 13.114 16.333 13.667 L 16.333 15.667 C 16.333 16.219 15.886 16.667 15.333 16.667 L 8.333 16.667 C 7.781 16.667 7.333 16.219 7.333 15.667 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Image Gallery 2</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('stories-ui')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><path d=\"M 6.8 4.8 C 7.905 4.8 8.8 5.695 8.8 6.8 C 8.8 7.905 7.905 8.8 6.8 8.8 C 5.695 8.8 4.8 7.905 4.8 6.8 C 4.8 5.695 5.695 4.8 6.8 4.8 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 12 4.8 C 13.105 4.8 14 5.695 14 6.8 C 14 7.905 13.105 8.8 12 8.8 C 10.895 8.8 10 7.905 10 6.8 C 10 5.695 10.895 4.8 12 4.8 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 17.2 4.8 C 18.305 4.8 19.2 5.695 19.2 6.8 C 19.2 7.905 18.305 8.8 17.2 8.8 C 16.095 8.8 15.2 7.905 15.2 6.8 C 15.2 5.695 16.095 4.8 17.2 4.8 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Stories UI</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('todo-list')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 8 12.333 L 10.5 14.833 L 16 9.333\" stroke=\"var(--svg-icon-tint)\" fill=\"transparent\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">To-Do List</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('toggle-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 17.333 15.333 C 18.438 15.333 19.333 16.229 19.333 17.333 C 19.333 18.438 18.438 19.333 17.333 19.333 C 16.229 19.333 15.333 18.438 15.333 17.333 C 15.333 16.229 16.229 15.333 17.333 15.333 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 17.333 10 C 18.438 10 19.333 10.895 19.333 12 C 19.333 13.105 18.438 14 17.333 14 C 16.229 14 15.333 13.105 15.333 12 C 15.333 10.895 16.229 10 17.333 10 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 17.333 4.667 C 18.438 4.667 19.333 5.562 19.333 6.667 C 19.333 7.771 18.438 8.667 17.333 8.667 C 16.229 8.667 15.333 7.771 15.333 6.667 C 15.333 5.562 16.229 4.667 17.333 4.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Toggle Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('bottom-sheet')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 10.333 C 22 10.886 21.552 11.333 21 11.333 L 3 11.333 C 2.448 11.333 2 10.886 2 10.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 2 13.333 C 2 12.781 2.448 12.333 3 12.333 L 21 12.333 C 21.552 12.333 22 12.781 22 13.333 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Bottom Sheet</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('draggable-sheet')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 2 14 C 2 12.895 2.895 12 4 12 L 20 12 C 21.105 12 22 12.895 22 14 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z M 10.667 15.333 L 13.333 15.333 C 13.702 15.333 14 15.035 14 14.667 C 14 14.298 13.702 14 13.333 14 L 10.667 14 C 10.298 14 10 14.298 10 14.667 C 10 15.035 10.298 15.333 10.667 15.333 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Draggable Sheet</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('modal-box')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 9.333 C 7.333 8.229 8.229 7.333 9.333 7.333 L 14.667 7.333 C 15.771 7.333 16.667 8.229 16.667 9.333 L 16.667 14.667 C 16.667 15.771 15.771 16.667 14.667 16.667 L 9.333 16.667 C 8.229 16.667 7.333 15.771 7.333 14.667 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Modal Box</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('side-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 11 2 C 11.552 2 12 2.448 12 3 L 12 21 C 12 21.552 11.552 22 11 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Side Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('input-form')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 8.333 C 7.333 7.781 7.781 7.333 8.333 7.333 L 11.667 7.333 C 11.667 7.333 11.667 7.333 11.667 7.333 L 15.667 7.333 C 16.219 7.333 16.667 7.781 16.667 8.333 L 16.667 9 C 16.667 9.552 16.219 10 15.667 10 L 13.333 10 L 13.333 15.667 C 13.333 16.219 12.886 16.667 12.333 16.667 L 11.667 16.667 C 11.114 16.667 10.667 16.219 10.667 15.667 L 10.667 10 L 8.333 10 C 7.781 10 7.333 9.552 7.333 9 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Input Form</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('loading-indicator')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><path d=\"M 16.4 10.4 C 17.284 10.4 18 11.116 18 12 C 18 12.884 17.284 13.6 16.4 13.6 C 15.516 13.6 14.8 12.884 14.8 12 C 14.8 11.116 15.516 10.4 16.4 10.4 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 12 10.4 C 12.884 10.4 13.6 11.116 13.6 12 C 13.6 12.884 12.884 13.6 12 13.6 C 11.116 13.6 10.4 12.884 10.4 12 C 10.4 11.116 11.116 10.4 12 10.4 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 7.6 10.4 C 8.484 10.4 9.2 11.116 9.2 12 C 9.2 12.884 8.484 13.6 7.6 13.6 C 6.716 13.6 6 12.884 6 12 C 6 11.116 6.716 10.4 7.6 10.4 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Loading Indicator</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('radio-button-form')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 9.833 8.167 L 14.167 8.167 C 16.284 8.167 18 9.883 18 12 C 18 14.117 16.284 15.833 14.167 15.833 L 9.833 15.833 C 7.716 15.833 6 14.117 6 12 C 6 9.883 7.716 8.167 9.833 8.167 Z M 11.333 12 C 11.333 13.473 12.527 14.667 14 14.667 C 15.473 14.667 16.667 13.473 16.667 12 C 16.667 10.527 15.473 9.333 14 9.333 C 12.527 9.333 11.333 10.527 11.333 12 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Radio Button Form</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('checkbox-form')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 8.651 6.931 C 7.911 6.738 7.238 7.411 7.431 8.151 L 9.363 15.558 C 9.592 16.435 10.775 16.58 11.208 15.784 L 13 12.5 L 16.284 10.708 C 17.08 10.275 16.935 9.092 16.058 8.863 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 16 15.5 L 11 10.5\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Checkbox Form</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('splash-screen')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.757 13.414 C 6.976 12.633 6.976 11.367 7.757 10.586 L 10.586 7.757 C 11.367 6.976 12.633 6.976 13.414 7.757 L 16.243 10.586 C 17.024 11.367 17.024 12.633 16.243 13.414 L 13.414 16.243 C 12.633 17.024 11.367 17.024 10.586 16.243 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Splash Screen</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('timeout-transition')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 1 5.8 C 1 3.149 3.149 1 5.8 1 L 18.2 1 C 20.851 1 23 3.149 23 5.8 L 23 18.2 C 23 20.851 20.851 23 18.2 23 L 5.8 23 C 3.149 23 1 20.851 1 18.2 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.3\"></path><path d=\"M 12 6.72 C 14.916 6.72 17.28 9.084 17.28 12 C 17.28 14.916 14.916 17.28 12 17.28 C 9.084 17.28 6.72 14.916 6.72 12 C 6.72 9.084 9.084 6.72 12 6.72 Z M 11.34 12 C 11.34 12.365 11.635 12.66 12 12.66 L 14.2 12.66 C 14.565 12.66 14.86 12.365 14.86 12 C 14.86 11.635 14.565 11.34 14.2 11.34 L 12.66 11.34 L 12.66 9.8 C 12.66 9.435 12.365 9.14 12 9.14 C 11.635 9.14 11.34 9.435 11.34 9.8 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Timeout Transition</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('accordion-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 16 10.667 L 12 14.667 L 8 10.667\" fill=\"transparent\" stroke-width=\"2\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Accordion Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('drop-on-scroll')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 0 0 L 8 0\" transform=\"translate(8.5 11.5) rotate(270 4 0.5)\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 15.333 11.333 L 12 8 L 8.667 11.333\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Drop on Scroll</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('nested-scroll')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 1.82 6 C 1.82 3.791 3.61 2 5.82 2 L 17.82 2 C 20.029 2 21.82 3.791 21.82 6 L 21.82 7 C 21.82 7.552 21.372 8 20.82 8 L 2.82 8 C 2.267 8 1.82 7.552 1.82 7 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 1.82 17 C 1.82 16.448 2.267 16 2.82 16 L 20.82 16 C 21.372 16 21.82 16.448 21.82 17 L 21.82 18 C 21.82 20.209 20.029 22 17.82 22 L 5.82 22 C 3.61 22 1.82 20.209 1.82 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 8.82 10 C 8.82 9.448 9.267 9 9.82 9 L 20.82 9 C 21.372 9 21.82 9.448 21.82 10 L 21.82 14 C 21.82 14.552 21.372 15 20.82 15 L 9.82 15 C 9.267 15 8.82 14.552 8.82 14 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 1.82 10 C 1.82 9.448 2.267 9 2.82 9 L 6.82 9 C 7.372 9 7.82 9.448 7.82 10 L 7.82 14 C 7.82 14.552 7.372 15 6.82 15 L 2.82 15 C 2.267 15 1.82 14.552 1.82 14 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Nested Scroll</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('star-rating')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 11.399 6.884 C 11.645 6.386 12.355 6.386 12.601 6.884 L 13.705 9.122 C 13.803 9.32 13.992 9.457 14.21 9.489 L 16.68 9.848 C 17.229 9.928 17.449 10.603 17.051 10.99 L 15.264 12.733 C 15.106 12.887 15.034 13.108 15.071 13.326 L 15.493 15.786 C 15.587 16.333 15.013 16.75 14.521 16.492 L 12.312 15.331 C 12.117 15.228 11.883 15.228 11.688 15.331 L 9.479 16.492 C 8.987 16.75 8.413 16.333 8.507 15.786 L 8.929 13.326 C 8.966 13.108 8.894 12.887 8.736 12.733 L 6.949 10.99 C 6.551 10.603 6.771 9.928 7.32 9.848 L 9.79 9.489 C 10.008 9.457 10.197 9.32 10.295 9.122 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Star Rating</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('swipe-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 17.33 C 2 16.595 2.595 16 3.33 16 L 21 16 C 21.552 16 22 16.448 22 17 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 2 10 C 2 9.448 2.448 9 3 9 L 14 9 C 14.552 9 15 9.448 15 10 L 15 14 C 15 14.552 14.552 15 14 15 L 3 15 C 2.448 15 2 14.552 2 14 Z M 19 9 C 20.657 9 22 10.343 22 12 C 22 13.657 20.657 15 19 15 C 17.343 15 16 13.657 16 12 C 16 10.343 17.343 9 19 9 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 7 C 22 7.552 21.552 8 21 8 L 3 8 C 2.448 8 2 7.552 2 7 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Swipe Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('switch-sheet')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 15.667 13.333 C 17.139 13.333 18.333 14.527 18.333 16 C 18.333 17.473 17.139 18.667 15.667 18.667 C 14.194 18.667 13 17.473 13 16 C 13 14.527 14.194 13.333 15.667 13.333 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 8.333 13.333 C 9.806 13.333 11 14.527 11 16 C 11 17.473 9.806 18.667 8.333 18.667 C 6.861 18.667 5.667 17.473 5.667 16 C 5.667 14.527 6.861 13.333 8.333 13.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Switch Sheet</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('tab-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 10 15.333 L 14 15.333 L 14 18.667 L 10 18.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 5.333 16.333 C 5.333 15.781 5.781 15.333 6.333 15.333 L 9.333 15.333 L 9.333 18.667 L 6.333 18.667 C 5.781 18.667 5.333 18.219 5.333 17.667 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 18.667 16.333 C 18.667 15.781 18.219 15.333 17.667 15.333 L 14.667 15.333 L 14.667 18.667 L 17.667 18.667 C 18.219 18.667 18.667 18.219 18.667 17.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Tab Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('wheel-picker')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 3.667 6 C 3.667 3.791 5.458 2 7.667 2 L 16.333 2 C 18.542 2 20.333 3.791 20.333 6 L 20.333 7 C 20.333 7.552 19.886 8 19.333 8 L 4.667 8 C 4.114 8 3.667 7.552 3.667 7 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 2 11 C 2 9.895 2.895 9 4 9 L 20 9 C 21.105 9 22 9.895 22 11 L 22 13 C 22 14.105 21.105 15 20 15 L 4 15 C 2.895 15 2 14.105 2 13 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 3.667 17 C 3.667 16.448 4.114 16 4.667 16 L 19.333 16 C 19.886 16 20.333 16.448 20.333 17 L 20.333 18 C 20.333 20.209 18.542 22 16.333 22 L 7.667 22 C 5.458 22 3.667 20.209 3.667 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Wheel Picker</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('cover-flow')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 11.333 17.962 C 11.333 18.385 11.068 18.762 10.67 18.904 L 4.673 21.045 C 3.37 21.511 2 20.545 2 19.162 L 2 4.838 C 2 3.455 3.37 2.489 4.673 2.955 L 10.67 5.096 C 11.068 5.238 11.333 5.615 11.333 6.038 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 22 4.838 C 22 3.455 20.63 2.489 19.327 2.955 L 13.33 5.096 C 12.932 5.238 12.667 5.615 12.667 6.038 L 12.667 17.962 C 12.667 18.385 12.932 18.762 13.33 18.904 L 19.327 21.045 C 20.63 21.511 22 20.545 22 19.162 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Cover Flow</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('cube-effect')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6.743 C 2 5.898 2.531 5.144 3.327 4.859 L 9.997 2.477 C 10.648 2.245 11.333 2.727 11.333 3.419 L 11.333 20.581 C 11.333 21.273 10.648 21.755 9.997 21.523 L 3.327 19.141 C 2.531 18.856 2 18.102 2 17.257 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 12.667 3.419 C 12.667 2.727 13.352 2.245 14.003 2.477 L 20.673 4.859 C 21.469 5.144 22 5.898 22 6.743 L 22 17.257 C 22 18.102 21.469 18.856 20.673 19.141 L 14.003 21.523 C 13.352 21.755 12.667 21.273 12.667 20.581 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Cube Effect</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('flip-effect')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 11.333 4.667 C 11.333 4.114 10.886 3.667 10.333 3.667 L 4 3.667 C 2.895 3.667 2 4.562 2 5.667 L 2 18.333 C 2 19.438 2.895 20.333 4 20.333 L 10.333 20.333 C 10.886 20.333 11.333 19.886 11.333 19.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 20 4.167 C 20 3.891 20.224 3.667 20.5 3.667 L 20.5 3.667 C 21.328 3.667 22 4.338 22 5.167 L 22 18.833 C 22 19.662 21.328 20.333 20.5 20.333 L 20.5 20.333 C 20.224 20.333 20 20.109 20 19.833 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 18.667 4.631 C 18.667 3.309 17.406 2.35 16.131 2.704 L 13.399 3.463 C 12.966 3.583 12.667 3.978 12.667 4.427 L 12.667 19.573 C 12.667 20.022 12.966 20.417 13.399 20.537 L 16.131 21.296 C 17.406 21.65 18.667 20.691 18.667 19.369 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Flip Effect</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('parallax-scroll')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 12 6.667 C 12 5.562 12.895 4.667 14 4.667 L 17.333 4.667 C 18.438 4.667 19.333 5.562 19.333 6.667 L 19.333 10 C 19.333 11.105 18.438 12 17.333 12 L 14 12 C 12.895 12 12 11.105 12 10 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 4.667 14 C 4.667 12.895 5.562 12 6.667 12 L 10 12 C 11.105 12 12 12.895 12 14 L 12 17.333 C 12 18.438 11.105 19.333 10 19.333 L 6.667 19.333 C 5.562 19.333 4.667 18.438 4.667 17.333 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Parallax Scroll</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('pile-effect')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 6.5 4 C 6.224 4 6 3.776 6 3.5 L 6 3.5 C 6 2.672 6.672 2 7.5 2 L 16.5 2 C 17.328 2 18 2.672 18 3.5 L 18 3.5 C 18 3.776 17.776 4 17.5 4 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 4.5 7 C 4.224 7 4 6.776 4 6.5 L 4 6.5 C 4 5.672 4.672 5 5.5 5 L 18.5 5 C 19.328 5 20 5.672 20 6.5 L 20 6.5 C 20 6.776 19.776 7 19.5 7 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.7\"></path><path d=\"M 0 2.67 C 0 1.195 1.195 0 2.67 0 L 11.33 0 C 12.805 0 14 1.195 14 2.67 L 14 17.33 C 14 18.805 12.805 20 11.33 20 L 2.67 20 C 1.195 20 0 18.805 0 17.33 Z\" transform=\"translate(5 5) rotate(-90 7 10)\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Pile Effect</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('shuffle')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 15.174 10.452 L 16.708 9.06 L 15.174 7.667\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 15.174 16.333 L 16.708 14.94 L 15.174 13.548\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 16.145 9.06 C 16.145 9.06 13.982 8.542 12.617 9.679 C 11.252 10.815 11.829 12.213 10.776 13.548 C 9.724 14.882 7.708 14.94 7.708 14.94\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 16.145 14.823 C 16.145 14.823 13.982 15.34 12.617 14.204 C 11.252 13.068 11.829 11.669 10.776 10.335 C 9.724 9.001 7.708 8.942 7.708 8.942\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Shuffle</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('svg-animation')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 8 12.333 L 10.5 14.833 L 16 9.333\" stroke=\"var(--svg-icon-tint)\" fill=\"transparent\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">SVG Animation</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('google-sheets')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7 8.667 C 7 8.206 7.373 7.833 7.833 7.833 L 7.833 7.833 C 8.294 7.833 8.667 8.206 8.667 8.667 L 8.667 8.667 C 8.667 9.127 8.294 9.5 7.833 9.5 L 7.833 9.5 C 7.373 9.5 7 9.127 7 8.667 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 7 12 C 7 11.54 7.373 11.167 7.833 11.167 L 7.833 11.167 C 8.294 11.167 8.667 11.54 8.667 12 L 8.667 12 C 8.667 12.46 8.294 12.833 7.833 12.833 L 7.833 12.833 C 7.373 12.833 7 12.46 7 12 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 7 15.333 C 7 14.873 7.373 14.5 7.833 14.5 L 7.833 14.5 C 8.294 14.5 8.667 14.873 8.667 15.333 L 8.667 15.333 C 8.667 15.794 8.294 16.167 7.833 16.167 L 7.833 16.167 C 7.373 16.167 7 15.794 7 15.333 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 9.778 8.667 C 9.778 8.206 10.151 7.833 10.611 7.833 L 16.167 7.833 C 16.627 7.833 17 8.206 17 8.667 L 17 8.667 C 17 9.127 16.627 9.5 16.167 9.5 L 10.611 9.5 C 10.151 9.5 9.778 9.127 9.778 8.667 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 9.778 12 C 9.778 11.54 10.151 11.167 10.611 11.167 L 16.167 11.167 C 16.627 11.167 17 11.54 17 12 L 17 12 C 17 12.46 16.627 12.833 16.167 12.833 L 10.611 12.833 C 10.151 12.833 9.778 12.46 9.778 12 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 9.778 15.333 C 9.778 14.873 10.151 14.5 10.611 14.5 L 16.167 14.5 C 16.627 14.5 17 14.873 17 15.333 L 17 15.333 C 17 15.794 16.627 16.167 16.167 16.167 L 10.611 16.167 C 10.151 16.167 9.778 15.794 9.778 15.333 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Google Sheets</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('map')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 1.82 6 C 1.82 3.791 3.61 2 5.82 2 L 17.82 2 C 20.029 2 21.82 3.791 21.82 6 L 21.82 18 C 21.82 20.209 20.029 22 17.82 22 L 5.82 22 C 3.61 22 1.82 20.209 1.82 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 11.82 6.504 C 14.029 6.504 15.82 8.282 15.82 10.476 C 15.82 10.698 15.801 10.915 15.766 11.127 C 15.359 14.488 13.033 16.581 12.155 17.261 C 12.051 17.341 11.976 17.437 11.82 17.437 C 11.663 17.437 11.586 17.34 11.481 17.258 C 10.6 16.576 8.28 14.483 7.873 11.127 C 7.838 10.915 7.82 10.698 7.82 10.476 C 7.82 8.282 9.61 6.504 11.82 6.504 Z M 9.486 10.644 C 9.486 11.933 10.531 12.977 11.82 12.977 C 13.108 12.977 14.153 11.933 14.153 10.644 C 14.153 9.355 13.108 8.311 11.82 8.311 C 10.531 8.311 9.486 9.355 9.486 10.644 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Map</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('signature-pad')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 8.82 13.068 C 8.56 12.807 8.56 12.385 8.82 12.125 L 13.733 7.212 C 13.993 6.952 14.415 6.952 14.676 7.212 L 16.788 9.324 C 17.048 9.585 17.048 10.007 16.788 10.267 L 11.875 15.18 C 11.615 15.44 11.193 15.44 10.932 15.18 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 3.096 0.303 C 3.318 0.17 3.6 0.33 3.6 0.589 L 3.6 3.732 C 3.6 3.991 3.318 4.151 3.096 4.018 L 0.953 2.732 C 0.521 2.473 0.521 1.848 0.953 1.589 Z\" transform=\"translate(6.24 13.8) rotate(-45 1.8 2.16)\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Signature Pad</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('sound-effects')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 14.225 10.793 C 14.471 11.102 14.623 11.529 14.623 12 C 14.623 12.471 14.471 12.898 14.225 13.207\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 16.224 9.185 C 16.96 9.911 17.417 10.905 17.417 12 C 17.417 13.095 16.96 14.09 16.224 14.816\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 6.083 10.656 C 6.083 10.288 6.382 9.989 6.75 9.989 L 7.674 9.989 L 11.021 7.835 C 11.464 7.549 12.048 7.868 12.048 8.396 L 12.048 15.604 C 12.048 16.132 11.464 16.451 11.021 16.165 L 7.674 14.011 L 6.75 14.011 C 6.382 14.011 6.083 13.712 6.083 13.344 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Sound Effects</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('card-swipe')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 3.423 7.423 C 3.423 5.214 5.214 3.423 7.423 3.423 L 16.756 3.423 C 18.965 3.423 20.756 5.214 20.756 7.423 L 20.756 16.756 C 20.756 18.965 18.965 20.756 16.756 20.756 L 7.423 20.756 C 5.214 20.756 3.423 18.965 3.423 16.756 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 9.172 3.377 C 10.734 1.815 13.266 1.815 14.828 3.377 L 20.721 9.269 C 22.283 10.831 22.283 13.364 20.721 14.926 L 14.828 20.819 C 13.266 22.381 10.734 22.381 9.172 20.819 L 3.279 14.926 C 1.717 13.364 1.717 10.831 3.279 9.269 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Card Swipe</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('custom-effect')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6.2 C 2 5.673 2.31 5.195 2.792 4.981 L 7.063 3.083 C 7.503 2.887 8 3.21 8 3.693 L 8 20.307 C 8 20.79 7.503 21.113 7.063 20.917 L 2.792 19.019 C 2.31 18.805 2 18.327 2 17.8 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 9.333 3.297 C 9.333 2.642 9.954 2.163 10.588 2.33 L 20.509 4.941 C 21.388 5.172 22 5.967 22 6.875 L 22 17.125 C 22 18.033 21.388 18.828 20.509 19.059 L 10.588 21.67 C 9.954 21.837 9.333 21.358 9.333 20.703 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Custom Effect</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('drag-handle')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.333 2.667 L 2.667 0 L 0 2.667\" transform=\"translate(5.667 10.667) rotate(-90 2.667 1.333)\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 5.333 0 L 2.667 2.667 L 0 0\" transform=\"translate(13 10.667) rotate(-90 2.667 1.333)\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Drag Handle</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('dynamic-header')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 8 L 2 8 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Dynamic Header</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('image-panning')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 12 14 C 12 12.895 12.895 12 14 12 L 20 12 C 21.105 12 22 12.895 22 14 L 22 18 C 22 20.209 20.209 22 18 22 L 14 22 C 12.895 22 12 21.105 12 20 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Image Panning</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('input-data')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 8.333 C 7.333 7.781 7.781 7.333 8.333 7.333 L 15.667 7.333 C 16.219 7.333 16.667 7.781 16.667 8.333 L 16.667 10.333 C 16.667 10.886 16.219 11.333 15.667 11.333 L 8.333 11.333 C 7.781 11.333 7.333 10.886 7.333 10.333 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 7.333 13.667 C 7.333 13.114 7.781 12.667 8.333 12.667 L 15.667 12.667 C 16.219 12.667 16.667 13.114 16.667 13.667 L 16.667 15.667 C 16.667 16.219 16.219 16.667 15.667 16.667 L 8.333 16.667 C 7.781 16.667 7.333 16.219 7.333 15.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Input Data</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('input-validation')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 8.333 C 7.333 7.781 7.781 7.333 8.333 7.333 L 15.667 7.333 C 16.219 7.333 16.667 7.781 16.667 8.333 L 16.667 10.333 C 16.667 10.886 16.219 11.333 15.667 11.333 L 8.333 11.333 C 7.781 11.333 7.333 10.886 7.333 10.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 7.333 13.667 C 7.333 13.114 7.781 12.667 8.333 12.667 L 15.667 12.667 C 16.219 12.667 16.667 13.114 16.667 13.667 L 16.667 15.667 C 16.667 16.219 16.219 16.667 15.667 16.667 L 8.333 16.667 C 7.781 16.667 7.333 16.219 7.333 15.667 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Input Validation</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('like-animation')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.28 0 C 7.017 0 7.747 2.366 6.357 3.755 C 4.968 5.144 3.543 5.905 3.543 5.905 C 3.543 5.905 2.118 5.144 0.728 3.755 C -0.661 2.365 0.069 -0 1.806 0 C 3.543 0 3.543 1.701 3.543 1.701 C 3.543 1.701 3.543 0 5.28 0 Z\" transform=\"translate(11.213 11.787) rotate(15 3.543 2.953)\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 5.28 0 C 7.017 -0 7.747 2.365 6.357 3.755 C 4.968 5.144 3.543 5.905 3.543 5.905 C 3.543 5.905 2.118 5.144 0.728 3.755 C -0.661 2.366 0.069 0 1.806 0 C 3.543 0 3.543 1.701 3.543 1.701 C 3.543 1.701 3.543 0 5.28 0 Z\" transform=\"translate(5.701 6.669) rotate(-15 3.543 2.953)\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Like Animation</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('like-counter')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 14.778 7.333 C 17.556 7.333 18.724 11.072 16.502 13.268 C 14.279 15.464 12 16.667 12 16.667 C 12 16.667 9.721 15.464 7.498 13.268 C 5.276 11.072 6.444 7.333 9.222 7.333 C 12 7.333 12 10.022 12 10.022 C 12 10.022 12 7.333 14.778 7.333 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Like Counter</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('lock-screen')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 11 C 7.333 10.448 7.781 10 8.333 10 L 15.667 10 C 16.219 10 16.667 10.448 16.667 11 L 16.667 15.667 C 16.667 16.219 16.219 16.667 15.667 16.667 L 8.333 16.667 C 7.781 16.667 7.333 16.219 7.333 15.667 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 12 7.333 C 13.289 7.333 14.333 8.378 14.333 9.667 C 14.333 10.955 13.289 12 12 12 C 10.711 12 9.667 10.955 9.667 9.667 C 9.667 8.378 10.711 7.333 12 7.333 Z\" fill=\"transparent\" stroke-width=\"1.67\" stroke=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Lock Screen</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('long-press-menu')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 16.667 10.667 C 17.771 10.667 18.667 11.562 18.667 12.667 C 18.667 13.771 17.771 14.667 16.667 14.667 C 15.562 14.667 14.667 13.771 14.667 12.667 C 14.667 11.562 15.562 10.667 16.667 10.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 12 8 C 13.105 8 14 8.895 14 10 C 14 11.105 13.105 12 12 12 C 10.895 12 10 11.105 10 10 C 10 8.895 10.895 8 12 8 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 7.333 10.667 C 8.438 10.667 9.333 11.562 9.333 12.667 C 9.333 13.771 8.438 14.667 7.333 14.667 C 6.229 14.667 5.333 13.771 5.333 12.667 C 5.333 11.562 6.229 10.667 7.333 10.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Long Press Menu</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('perspective-3d')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 6.913 22 C 5.987 22 5.182 21.364 4.967 20.463 L 2.586 10.463 C 2.287 9.206 3.24 8 4.532 8 L 19.468 8 C 20.76 8 21.713 9.206 21.414 10.463 L 19.033 20.463 C 18.818 21.364 18.013 22 17.087 22 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 3.833 7 C 3.557 7 3.333 6.776 3.333 6.5 L 3.333 6.5 C 3.333 5.672 4.005 5 4.833 5 L 19.167 5 C 19.995 5 20.667 5.672 20.667 6.5 L 20.667 6.5 C 20.667 6.776 20.443 7 20.167 7 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.7\"></path><path d=\"M 5.167 4 C 4.891 4 4.667 3.776 4.667 3.5 L 4.667 3.5 C 4.667 2.672 5.338 2 6.167 2 L 17.833 2 C 18.662 2 19.333 2.672 19.333 3.5 L 19.333 3.5 C 19.333 3.776 19.109 4 18.833 4 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Perspective 3D</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('progress-bar')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 1.82 6 C 1.82 3.791 3.61 2 5.82 2 L 17.82 2 C 20.029 2 21.82 3.791 21.82 6 L 21.82 18 C 21.82 20.209 20.029 22 17.82 22 L 5.82 22 C 3.61 22 1.82 20.209 1.82 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.153 17 C 5.153 16.08 5.899 15.333 6.82 15.333 L 16.82 15.333 C 17.74 15.333 18.486 16.08 18.486 17 L 18.486 17 C 18.486 17.92 17.74 18.667 16.82 18.667 L 6.82 18.667 C 5.899 18.667 5.153 17.92 5.153 17 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 5.153 17 C 5.153 16.08 5.899 15.333 6.82 15.333 L 11.486 15.333 C 12.407 15.333 13.153 16.08 13.153 17 L 13.153 17 C 13.153 17.92 12.407 18.667 11.486 18.667 L 6.82 18.667 C 5.899 18.667 5.153 17.92 5.153 17 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Progress Bar</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('scroll-progress')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 7.333 10.333 C 7.333 9.781 7.781 9.333 8.333 9.333 L 15.667 9.333 C 16.219 9.333 16.667 9.781 16.667 10.333 L 16.667 11.667 C 16.667 12.219 16.219 12.667 15.667 12.667 L 8.333 12.667 C 7.781 12.667 7.333 12.219 7.333 11.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 7.333 14.667 C 7.333 14.114 7.781 13.667 8.333 13.667 L 15.667 13.667 C 16.219 13.667 16.667 14.114 16.667 14.667 L 16.667 16 C 16.667 16.552 16.219 17 15.667 17 L 8.333 17 C 7.781 17 7.333 16.552 7.333 16 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 7.333 7.667 C 7.333 7.298 7.632 7 8 7 L 16 7 C 16.368 7 16.667 7.298 16.667 7.667 L 16.667 7.667 C 16.667 8.035 16.368 8.333 16 8.333 L 8 8.333 C 7.632 8.333 7.333 8.035 7.333 7.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 7.333 7.667 C 7.333 7.298 7.632 7 8 7 L 12.667 7 C 13.035 7 13.333 7.298 13.333 7.667 L 13.333 7.667 C 13.333 8.035 13.035 8.333 12.667 8.333 L 8 8.333 C 7.632 8.333 7.333 8.035 7.333 7.667 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Scroll Progress</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('show-password')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 10.6 12 C 10.6 11.227 11.227 10.6 12 10.6 L 12 10.6 C 12.773 10.6 13.4 11.227 13.4 12 L 13.4 12 C 13.4 12.773 12.773 13.4 12 13.4 L 12 13.4 C 11.227 13.4 10.6 12.773 10.6 12 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 12.166 7.833 C 14.892 7.833 17.161 9.42 17.811 12 C 17.161 14.58 14.892 16.167 12.166 16.167 C 9.44 16.167 7.127 14.58 6.478 12 C 7.127 9.42 9.44 7.833 12.166 7.833 Z M 9.333 12 C 9.333 13.473 10.527 14.667 12 14.667 C 13.473 14.667 14.667 13.473 14.667 12 C 14.667 10.527 13.473 9.333 12 9.333 C 10.527 9.333 9.333 10.527 9.333 12 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Show Password</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('slider')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.667 12 L 18.333 12\" stroke=\"var(--svg-icon-tint)\" fill=\"transparent\" opacity=\"0.4\" stroke-width=\"2.67\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M 12 8.333 C 14.025 8.333 15.667 9.975 15.667 12 C 15.667 14.025 14.025 15.667 12 15.667 C 9.975 15.667 8.333 14.025 8.333 12 C 8.333 9.975 9.975 8.333 12 8.333 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Slider</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('stories-drag')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.333 6.667 C 5.333 5.93 5.93 5.333 6.667 5.333 L 10 5.333 C 10.736 5.333 11.333 5.93 11.333 6.667 L 11.333 6.667 C 11.333 7.403 10.736 8 10 8 L 6.667 8 C 5.93 8 5.333 7.403 5.333 6.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path><path d=\"M 12.667 6.667 C 12.667 5.93 13.264 5.333 14 5.333 L 17.333 5.333 C 18.07 5.333 18.667 5.93 18.667 6.667 L 18.667 6.667 C 18.667 7.403 18.07 8 17.333 8 L 14 8 C 13.264 8 12.667 7.403 12.667 6.667 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Stories: Drag</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('stories-tap')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18 C 22 20.209 20.209 22 18 22 L 6 22 C 3.791 22 2 20.209 2 18 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 5.333 6.667 C 5.333 5.93 5.93 5.333 6.667 5.333 L 10 5.333 C 10.736 5.333 11.333 5.93 11.333 6.667 L 11.333 6.667 C 11.333 7.403 10.736 8 10 8 L 6.667 8 C 5.93 8 5.333 7.403 5.333 6.667 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 12.667 6.667 C 12.667 5.93 13.264 5.333 14 5.333 L 17.333 5.333 C 18.07 5.333 18.667 5.93 18.667 6.667 L 18.667 6.667 C 18.667 7.403 18.07 8 17.333 8 L 14 8 C 13.264 8 12.667 7.403 12.667 6.667 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.4\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Stories: Tap</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"btn\" (click)=\"onSelect('toast-prompt')\">\r\n\t\t\t\t\t\t\t<div class=\"icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M 2 6 C 2 3.791 3.791 2 6 2 L 18 2 C 20.209 2 22 3.791 22 6 L 22 18.333 C 22 20.542 20.209 22.333 18 22.333 L 6 22.333 C 3.791 22.333 2 20.542 2 18.333 Z\" fill=\"var(--svg-icon-tint)\" opacity=\"0.2\"></path><path d=\"M 12 6.333 C 15.13 6.333 17.667 8.87 17.667 12 C 17.667 15.13 15.13 17.667 12 17.667 C 8.87 17.667 6.333 15.13 6.333 12 C 6.333 8.87 8.87 6.333 12 6.333 Z\" fill=\"transparent\" stroke-width=\"1.33\" stroke=\"var(--svg-icon-tint)\"></path><path d=\"M 12 13 C 12.552 13 13 13.448 13 14 C 13 14.552 12.552 15 12 15 C 11.448 15 11 14.552 11 14 C 11 13.448 11.448 13 12 13 Z\" fill=\"var(--svg-icon-tint)\"></path><path d=\"M 11.06 9.998 C 11.027 9.457 11.458 9 12 9 L 12 9 C 12.542 9 12.973 9.457 12.94 9.998 L 12.848 11.535 C 12.821 11.983 12.449 12.333 12 12.333 L 12 12.333 C 11.551 12.333 11.179 11.983 11.152 11.535 Z\" fill=\"var(--svg-icon-tint)\"></path></svg></div>\r\n\t\t\t\t\t\t\t<div class=\"title\">Toast Prompt</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t\t-->\r\n\t\t</ul>\r\n\t\t<ul class=\"nav--editor\" *if=\"mode === 2\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_views' | label\"></div>\r\n\t\t\t\t<ul class=\"nav--editor\">\r\n\t\t\t\t\t<li *for=\"let item of supportedViewTypes\">\r\n\t\t\t\t\t\t<div class=\"btn\" [class]=\"{ disabled: item.disabled }\" (click)=\"onSelect({ type:'view', value: item.type.name })\">\r\n\t\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t\t<svg-icon [name]=\"item.type.name\"></svg-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"item.name\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<ul class=\"nav--editor\" *if=\"mode === 3\">\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"title\" [innerHTML]=\"'editor_view_items' | label\"></div>\r\n\t\t\t\t<ul class=\"nav--editor\">\r\n\t\t\t\t\t<li *for=\"let item of supportedViewItemTypes\">\r\n\t\t\t\t\t\t<div class=\"btn\" [class]=\"{ disabled: item.disabled }\" (click)=\"onSelect({ type:'viewItem', value: item.type.name })\" [title]=\"item.id\">\r\n\t\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t\t<svg-icon [name]=\"item.type.name\"></svg-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"item.name\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div class=\"abstract\" *if=\"supportedViewItemTypes.length == 0\" [innerHTML]=\"'editor_type_no_items' | label\"></div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { HttpService } from '../../http/http.service';\r\nimport { ViewType } from '../../view/view';\r\n\r\nlet MENU_UID = 0;\r\n\r\nexport default class MenuService {\r\n\r\n\tstatic active$ = new BehaviorSubject(false);\r\n\tstatic set active(active) {\r\n\t\tthis.active$.next(active);\r\n\t}\r\n\tstatic get active() {\r\n\t\treturn this.active$.getValue();\r\n\t}\r\n\r\n\tstatic menu$_ = new BehaviorSubject([]);\r\n\r\n\tstatic menu$() {\r\n\t\treturn this.getMenu$().pipe(\r\n\t\t\tswitchMap(menu => {\r\n\t\t\t\tthis.menu$_.next(menu);\r\n\t\t\t\treturn this.menu$_;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic getMenu$() {\r\n\t\treturn HttpService.get$('/api/menu').pipe(\r\n\t\t\tmap(data => {\r\n\t\t\t\tdata.menu.sort((a, b) => {\r\n\t\t\t\t\treturn a.order - b.order;\r\n\t\t\t\t});\r\n\t\t\t\treturn data.menu;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic updateMenu$(menu) {\r\n\t\treturn HttpService.put$('/api/menu', menu);\r\n\t}\r\n\r\n\tstatic createMenuItem$(parentId = null, order = 0) {\r\n\t\tconst payload = {\r\n\t\t\tparentId: parentId,\r\n\t\t\tviewId: null,\r\n\t\t\torder: order * 10,\r\n\t\t\tname: 'Folder ' + (++MENU_UID),\r\n\t\t};\r\n\t\treturn HttpService.post$('/api/menu', payload);\r\n\t}\r\n\r\n\tstatic updateMenuItem$(item) {\r\n\t\treturn HttpService.put$(`/api/menu/${item.id}`, item);\r\n\t}\r\n\r\n\tstatic deleteMenuItem$(item) {\r\n\t\treturn HttpService.delete$(`/api/menu/${item.id}`);\r\n\t}\r\n\r\n\tstatic getModelMenu$(views, editor = false) {\r\n\t\treturn this.menu$().pipe(\r\n\t\t\tmap(menu => {\r\n\t\t\t\tif (menu && menu.length) {\r\n\t\t\t\t\tmenu = menu.filter(x => x.viewId == null || x.viewId == 0 || views.find(v => v.id === x.viewId) != null);\r\n\t\t\t\t\t// menu = menu.filter(x => x.viewId == null || views.find(v => v.id === x.viewId) != null);\r\n\t\t\t\t\t// console.log('getModelMenu$', menu);\r\n\t\t\t\t\treturn this.mapMenuItems(menu);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log('MenuService.getModelMenu$.Views', views);\r\n\t\t\t\t\tconst keys = {};\r\n\t\t\t\t\tviews.forEach(item => {\r\n\t\t\t\t\t\tif (item.type.name !== ViewType.WaitingRoom.name && (!item.hidden || editor)) {\r\n\t\t\t\t\t\t\tlet group = keys[item.type.name];\r\n\t\t\t\t\t\t\tif (!group) {\r\n\t\t\t\t\t\t\t\tgroup = keys[item.type.name] = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgroup.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst menu = Object.keys(keys).map(typeName => {\r\n\t\t\t\t\t\tlet name = 'Button';\r\n\t\t\t\t\t\tswitch (typeName) {\r\n\t\t\t\t\t\t\tcase ViewType.WaitingRoom.name:\r\n\t\t\t\t\t\t\t\tname = 'Waiting Room';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\t\t\t\t\tname = 'Experience';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\t\t\t\t\tname = 'Virtual Tour';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\t\t\t\t\tname = 'Stanze 3D';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase ViewType.Model.name:\r\n\t\t\t\t\t\t\t\tname = 'Modelli 3D';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase ViewType.Media.name:\r\n\t\t\t\t\t\t\t\tname = 'Media';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn { name, type: { name: 'menu-group' }, items: views.filter(x => x.type.name === typeName && (!x.hidden || editor)) };\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn menu;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic mapMenuItem(item, items) {\r\n\t\tif (item.viewId) {\r\n\t\t\treturn { id: item.viewId, name: item.name, type: { name: 'panorama' } };\r\n\t\t} else {\r\n\t\t\treturn { name: item.name, type: { name: 'menu-group' }, items: this.mapMenuItems(items, item.id) };\r\n\t\t}\r\n\t}\r\n\r\n\tstatic mapMenuItems(items, parentId = null) {\r\n\t\treturn items.filter(item => {\r\n\t\t\t// console.log('MenuService.mapMenuItems', item);\r\n\t\t\treturn (item.parentId || null) === parentId;\r\n\t\t}).map(item => this.mapMenuItem(item, items)).filter(x => x.id != null || x.items.length > 0);\r\n\t}\r\n}\r\n","import { isPlatformBrowser } from 'rxcomp';\r\nimport { combineLatest, EMPTY, from, fromEvent, merge } from 'rxjs';\r\nimport { filter, map, switchMap, tap } from 'rxjs/operators';\r\nimport { Asset } from '../asset/asset';\r\nimport { AssetService } from '../asset/asset.service';\r\n\r\nexport class DropService {\r\n\r\n\tstatic drop$(input) {\r\n\t\tif (isPlatformBrowser && input) {\r\n\t\t\tconst body = document.querySelector('body');\r\n\t\t\treturn merge(fromEvent(body, 'drop'), fromEvent(body, 'dragover')).pipe(\r\n\t\t\t\tmap((event) => {\r\n\t\t\t\t\t// console.log('DropService.drop$', event);\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif (event.target === input) {\r\n\t\t\t\t\t\tinput.files = event.dataTransfer.files;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic change$(input) {\r\n\t\tif (isPlatformBrowser && input) {\r\n\t\t\treturn fromEvent(input, 'change').pipe(\r\n\t\t\t\tfilter((event) => input.files && input.files.length),\r\n\t\t\t\tmap((event) => Array.from(input.files)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic asset$(input, previews = []) {\r\n\t\treturn this.change$(input).pipe(\r\n\t\t\tswitchMap((files) => {\r\n\t\t\t\tpreviews.length = files.length;\r\n\t\t\t\tpreviews.fill(null);\r\n\t\t\t\t// output.previews = files.map(() => null);\r\n\t\t\t\tconst uploads$ = files.map((file, i) => this.read$(file, i, previews).pipe(\r\n\t\t\t\t\tmap(() => file),\r\n\t\t\t\t\tswitchMap((file) => AssetService.upload$([file])),\r\n\t\t\t\t\tswitchMap((uploads) => {\r\n\t\t\t\t\t\tconst upload = uploads[0];\r\n\t\t\t\t\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\t\t\t\t\treturn AssetService.assetCreate$(asset);\r\n\t\t\t\t\t}),\r\n\t\t\t\t));\r\n\t\t\t\treturn combineLatest(uploads$);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic read$(file, i, previews = []) {\r\n\t\tconst reader = new FileReader();\r\n\t\tconst reader$ = fromEvent(reader, 'load').pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst blob = event.target.result;\r\n\t\t\t\treturn this.resize$(blob);\r\n\t\t\t}),\r\n\t\t\ttap(resized => {\r\n\t\t\t\tpreviews[i] = resized;\r\n\t\t\t}),\r\n\t\t);\r\n\t\treader.readAsDataURL(file);\r\n\t\treturn reader$;\r\n\t}\r\n\r\n\tstatic resize$(blob) {\r\n\t\treturn from(this.resize_(blob));\r\n\t}\r\n\r\n\tstatic resize_(blob) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst img = document.createElement('img');\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tconst MAX_WIDTH = 320;\r\n\t\t\t\tconst MAX_HEIGHT = 240;\r\n\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t\tlet width = img.width;\r\n\t\t\t\tlet height = img.height;\r\n\t\t\t\tif (width > height) {\r\n\t\t\t\t\tif (width > MAX_WIDTH) {\r\n\t\t\t\t\t\theight *= MAX_WIDTH / width;\r\n\t\t\t\t\t\twidth = MAX_WIDTH;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (height > MAX_HEIGHT) {\r\n\t\t\t\t\t\twidth *= MAX_HEIGHT / height;\r\n\t\t\t\t\t\theight = MAX_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\t\t\t\tctx.drawImage(img, 0, 0, width, height);\r\n\t\t\t\tconst dataUrl = canvas.toDataURL('image/jpeg', 0.9);\r\n\t\t\t\tresolve(dataUrl);\r\n\t\t\t};\r\n\t\t\timg.onerror = function() {\r\n\t\t\t\treject(blob);\r\n\t\t\t};\r\n\t\t\timg.src = blob;\r\n\t\t});\r\n\t}\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log(this, node, this.control);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control'],\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { combineLatest } from 'rxjs';\r\nimport { switchMap, takeUntil } from 'rxjs/operators';\r\nimport { AssetService } from '../asset/asset.service';\r\nimport { DropService } from '../drop/drop.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlAssetComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t\tthis.accept = this.accept || 'image/png, image/jpeg';\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = node.querySelector('input');\r\n\t\tinput.setAttribute('accept', this.accept);\r\n\t\tDropService.drop$(input).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tDropService.change$(input).pipe(\r\n\t\t\tswitchMap((files) => {\r\n\t\t\t\tconst uploads$ = files.map((file, i) => AssetService.upload$([file]).pipe(\r\n\t\t\t\t\tswitchMap((uploads) => AssetService.createOrUpdateAsset$(uploads, this.control)),\r\n\t\t\t\t));\r\n\t\t\t\treturn combineLatest(uploads$);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(assets => {\r\n\t\t\t// console.log('ControlAssetComponent.change$', assets);\r\n\t\t\tthis.control.value = assets[0];\r\n\t\t});\r\n\t}\r\n}\r\n\r\nControlAssetComponent.meta = {\r\n\tselector: '[control-asset]',\r\n\tinputs: ['control', 'label', 'disabled', 'accept'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--picture\">\r\n\t\t\t\t<div class=\"group--picture__info\">\r\n\t\t\t\t\t<span [innerHTML]=\"'browse' | label\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<img [lazy]=\"control.value | asset\" [size]=\"{ width: 320, height: 240 }\" *if=\"control.value && control.value.type.name === 'image'\" />\r\n\t\t\t\t<video [src]=\"control.value | asset\" *if=\"control.value && control.value.type.name === 'video'\"></video>\r\n\t\t\t\t<input type=\"file\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"file-name\" *if=\"control.value\" [innerHTML]=\"control.value.file\"></div>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { FormArray, FormGroup } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport { EditorService } from '../editor/editor.service';\r\nimport MenuService from '../editor/menu/menu.service';\r\nimport ControlAssetComponent from './control-asset.component';\r\n\r\nlet MENU_UID = 0;\r\n\r\nexport default class ControlMenuComponent extends ControlAssetComponent {\r\n\r\n\tstatic itemToFormGroup(item) {\r\n\t\treturn new FormGroup({\r\n\t\t\tid: item.id,\r\n\t\t\tparentId: item.parentId,\r\n\t\t\tviewId: item.viewId,\r\n\t\t\tname: item.name,\r\n\t\t\titems: new FormArray(),\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tstatic newFormGroup(parentId = null) {\r\n\t\treturn new FormGroup({\r\n\t\t\tid: null,\r\n\t\t\tparentId: parentId,\r\n\t\t\tviewId: null,\r\n\t\t\tname: 'Folder ' + (++MENU_UID),\r\n\t\t\titems: new FormArray(),\r\n\t\t});\r\n\t}\r\n\t*/\r\n\r\n\tonInit() {\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tthis.controls = this.control.controls;\r\n\t\tEditorService.viewIdOptions$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(options => {\r\n\t\t\tthis.controls.viewId.options = options;\r\n\t\t});\r\n\t}\r\n\r\n\tonAddItem() {\r\n\t\tMenuService.createMenuItem$(this.controls.id.value, this.controls.items.length).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(item => {\r\n\t\t\tthis.controls.items.push(ControlMenuComponent.itemToFormGroup(item));\r\n\t\t});\r\n\t\t// this.controls.items.push(ControlMenuComponent.newFormGroup(this.controls.id.value));\r\n\t}\r\n\r\n\tonRemoveItem() {\r\n\t\tthis.remove.next(this.control);\r\n\t}\r\n\r\n\tonRemoveControl(control) {\r\n\t\tMenuService.deleteMenuItem$(control.value).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(() => {\r\n\t\t\tthis.controls.items.remove(control);\r\n\t\t});\r\n\t\t// this.controls.items.remove(control);\r\n\t}\r\n\r\n\tonLinkItem() {\r\n\t\tthis.link.next(this.control);\r\n\t}\r\n\r\n\tonLinkControl(control) {\r\n\t\tthis.link.next(control);\r\n\t}\r\n\r\n\tonItemUp() {\r\n\t\tthis.up.next(this.control);\r\n\t}\r\n\r\n\tonItemDown() {\r\n\t\tthis.down.next(this.control);\r\n\t}\r\n\r\n\tonUpControl(control) {\r\n\t\tconst items = this.controls.items;\r\n\t\tconst length = items.controls.length;\r\n\t\tlet index = items.controls.indexOf(control);\r\n\t\titems.controls.splice(index, 1);\r\n\t\tif (index > 0) {\r\n\t\t\tindex--;\r\n\t\t} else {\r\n\t\t\tindex = length - 1;\r\n\t\t}\r\n\t\titems.insert(control, index);\r\n\t}\r\n\r\n\tonDownControl(control) {\r\n\t\tconst items = this.controls.items;\r\n\t\tconst length = items.controls.length;\r\n\t\tlet index = items.controls.indexOf(control);\r\n\t\titems.controls.splice(index, 1);\r\n\t\tif (index < length - 1) {\r\n\t\t\tindex++;\r\n\t\t} else {\r\n\t\t\tindex = 0;\r\n\t\t}\r\n\t\titems.insert(control, index);\r\n\t}\r\n\r\n\tsetView(view) {\r\n\t\t// console.log('ControlMenuComponent.setView', view.id);\r\n\t\tconst payload = Object.assign({}, this.control.value);\r\n\t\tpayload.viewId = view.id;\r\n\t\tif (view.id) {\r\n\t\t\tpayload.name = view.name;\r\n\t\t}\r\n\t\tMenuService.updateMenuItem$(payload).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(() => {\r\n\t\t\tthis.controls.viewId.value = view.id;\r\n\t\t\tif (view.id) {\r\n\t\t\t\tthis.controls.name.value = view.name;\r\n\t\t\t\t// clear sub items\r\n\t\t\t\tthis.controls.items.controls = [];\r\n\t\t\t\tthis.controls.items.switchSubjects_();\r\n\t\t\t}\r\n\t\t\t// this.change.next(value);\r\n\t\t});\r\n\t}\r\n\r\n\tonTextDidChange(event) {\r\n\t\t// console.log('ControlMenuComponent.onTextDidChange', this.controls.name.value);\r\n\t\tMenuService.updateMenuItem$(this.control.value).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\treturn this.controls.viewId.value === item.id;\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\t// console.log('ControlMenuComponent.onDropped', id);\r\n\t}\r\n\r\n}\r\n\r\nControlMenuComponent.meta = {\r\n\tselector: '[control-menu]',\r\n\toutputs: ['remove', 'link', 'up', 'down'],\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\">\r\n\t\t\t<button type=\"button\" class=\"control-menu__link\" [class]=\"{ active: control.controls.viewId.value }\" (click)=\"onLinkItem($event)\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#link\"></use></svg>\r\n\t\t\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t\t\t<div class=\"category\">View</div>\r\n\t\t\t\t\t<ul class=\"nav--dropdown\">\r\n\t\t\t\t\t\t<li (click)=\"setView(item)\" [class]=\"{ empty: item.id == null }\" *for=\"let item of control.controls.viewId.options\">\r\n\t\t\t\t\t\t\t<span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name\"></span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control.controls.name\" placeholder=\"Name\" (change)=\"onTextDidChange($event)\" />\r\n\t\t\t<!--\r\n\t\t\t<button type=\"button\" class=\"control-menu__add\" (click)=\"onAddItem($event)\">\r\n\t\t\t\t<span [innerHTML]=\"control.controls.viewId.value\"></span>\r\n\t\t\t</button>\r\n\t\t\t-->\r\n\t\t\t<!--\r\n\t\t\t<select class=\"control--select\" [formControl]=\"control.controls.viewId\">\r\n\t\t\t\t<option [value]=\"item.id\" *for=\"let item of control.controls.viewId.options\" [innerHTML]=\"item.name\"></option>\r\n\t\t\t</select>\r\n\t\t\t-->\r\n\t\t\t<button type=\"button\" class=\"control-menu__up\" (click)=\"onItemUp($event)\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#up\"></use></svg>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"control-menu__down\" (click)=\"onItemDown($event)\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#down\"></use></svg>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"control-menu__add\" (click)=\"onAddItem($event)\" *if=\"!control.controls.viewId.value\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#add\"></use></svg>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"control-menu__remove\" (click)=\"onRemoveItem($event)\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#remove\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"group--items\">\r\n\t\t\t<div control-menu *for=\"let sub of control.controls.items.controls\" [control]=\"sub\" (remove)=\"onRemoveControl($event)\" (link)=\"onLinkControl($event)\" (up)=\"onUpControl($event)\" (down)=\"onDownControl($event)\"></div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormArray, FormGroup } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport ControlMenuComponent from '../../forms/control-menu.component';\r\nimport MenuService from './menu.service';\r\n\r\nexport default class MenuBuilderComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.changes = 0;\r\n\t\tthis.form = null;\r\n\t\tMenuService.getMenu$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(menu => this.initForm(menu));\r\n\t}\r\n\r\n\tinitForm(menu = []) {\r\n\t\tconst items = this.menuToControls(menu);\r\n\t\t// console.log('MenuBuilderComponent', items);\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\titems: items,\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('MenuBuilderComponent', changes);\r\n\t\t\tthis.changes++;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonLinkControl(control) {\r\n\r\n\t}\r\n\r\n\tonUpControl(control) {\r\n\t\tconst items = this.controls.items;\r\n\t\tconst length = items.controls.length;\r\n\t\tlet index = items.controls.indexOf(control);\r\n\t\titems.controls.splice(index, 1);\r\n\t\tif (index > 0) {\r\n\t\t\tindex--;\r\n\t\t} else {\r\n\t\t\tindex = length - 1;\r\n\t\t}\r\n\t\titems.insert(control, index);\r\n\t}\r\n\r\n\tonDownControl(control) {\r\n\t\tconst items = this.controls.items;\r\n\t\tconst length = items.controls.length;\r\n\t\tlet index = items.controls.indexOf(control);\r\n\t\titems.controls.splice(index, 1);\r\n\t\tif (index < length - 1) {\r\n\t\t\tindex++;\r\n\t\t} else {\r\n\t\t\tindex = 0;\r\n\t\t}\r\n\t\titems.insert(control, index);\r\n\t}\r\n\r\n\tonAddItem() {\r\n\t\tMenuService.createMenuItem$(null, this.controls.items.length).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(item => {\r\n\t\t\tthis.controls.items.push(ControlMenuComponent.itemToFormGroup(item));\r\n\t\t});\r\n\t\t// this.controls.items.push(ControlMenuComponent.newFormGroup());\r\n\t}\r\n\r\n\tonRemoveControl(control) {\r\n\t\tMenuService.deleteMenuItem$(control.value).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(() => {\r\n\t\t\tthis.controls.items.remove(control);\r\n\t\t});\r\n\t\t// this.controls.items.remove(control);\r\n\t}\r\n\r\n\tisValid() {\r\n\t\tconst isValid = this.form.valid;\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tonSubmit(event) {\r\n\t\tif (this.form.valid) {\r\n\t\t\tconst changes = this.form.value;\r\n\t\t\tconst menu = this.controlsToMenu(changes);\r\n\t\t\tMenuService.updateMenu$(menu);\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tmenuToControls(menu, parentId = null) {\r\n\t\tconst items = new FormArray(menu.filter(x => {\r\n\t\t\treturn (x.parentId || null) === parentId;\r\n\t\t}).map(x => {\r\n\t\t\tconst subitems = this.menuToControls(menu, x.id);\r\n\t\t\treturn new FormGroup({\r\n\t\t\t\tid: x.id,\r\n\t\t\t\tparentId: x.parentId,\r\n\t\t\t\tviewId: x.viewId,\r\n\t\t\t\tname: x.name,\r\n\t\t\t\titems: subitems,\r\n\t\t\t});\r\n\t\t}));\r\n\t\treturn items;\r\n\t}\r\n\r\n\tcontrolsToMenu(changes) {\r\n\t\tconst menu = [];\r\n\t\tconst pushItem = (items) => {\r\n\t\t\tif (items) {\r\n\t\t\t\titems.forEach((item, i) => {\r\n\t\t\t\t\tconst menuItem = Object.assign({}, item);\r\n\t\t\t\t\tmenuItem.order = i * 10;\r\n\t\t\t\t\tdelete menuItem.items;\r\n\t\t\t\t\tmenu.push(menuItem);\r\n\t\t\t\t\tpushItem(item.items);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tpushItem(changes.items);\r\n\t\treturn menu;\r\n\t}\r\n\r\n}\r\n\r\nMenuBuilderComponent.meta = {\r\n\tselector: '[menu-builder]',\r\n\tinputs: ['views'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--head\">\r\n\t\t<div class=\"title\" [innerHTML]=\"'editor_menu' | label\"></div>\r\n\t</div>\r\n\t<div class=\"group--main\">\r\n\t\t<div class=\"nav--tree\" *if=\"form\">\r\n\t\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"isValid() && onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t<div class=\"abstract\" *if=\"controls.items.controls.length == 0\" [innerHTML]=\"'editor_add_item' | label\"></div>\r\n\t\t\t\t<div *for=\"let control of controls.items.controls\">\r\n\t\t\t\t\t<div control-menu [control]=\"control\" (remove)=\"onRemoveControl($event)\" (link)=\"onLinkControl($event)\" (up)=\"onUpControl($event)\" (down)=\"onDownControl($event)\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"group--foot\">\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onAddItem($event)\" [innerHTML]=\"'editor_add' | label\"></button>\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"isValid() && onSubmit()\" *if=\"changes > 1\" [innerHTML]=\"'editor_save' | label\"></button>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../../modal/modal-outlet.component';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport { ViewItemType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\nimport NavmapService from '../navmap/navmap.service';\r\n\r\nexport default class NavmapItemModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tget navmap() {\r\n\t\tlet navmap = null;\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tnavmap = data.navmap;\r\n\t\t}\r\n\t\treturn navmap;\r\n\t}\r\n\r\n\tget position() {\r\n\t\tlet position = [0, 0, 0];\r\n\t\tconst data = this.data;\r\n\t\tif (data) {\r\n\t\t\tposition = [data.hit.x, data.hit.y, 0];\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst position = this.position;\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttype: ViewItemType.Nav,\r\n\t\t\ttitle: null,\r\n\t\t\tabstract: null,\r\n\t\t\tviewId: new FormControl(null, RequiredValidator()),\r\n\t\t\tkeepOrientation: false,\r\n\t\t\timportant: false,\r\n\t\t\ttransparent: false,\r\n\t\t\tposition: new FormControl(position, RequiredValidator()),\r\n\t\t\tasset: null,\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('NavmapItemModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tEditorService.viewIdOptions$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(options => {\r\n\t\t\tthis.controls.viewId.options = options;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst item = Object.assign({}, this.form.value);\r\n\t\t\titem.viewId = parseInt(item.viewId);\r\n\t\t\t// console.log('NavmapItemModalComponent.onSubmit', this.navmap, item);\r\n\t\t\tNavmapService.itemCreate$(this.navmap, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('NavmapItemModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('NavmapItemModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.submitted = false;\r\n\t\t\t\t// this.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nNavmapItemModalComponent.meta = {\r\n\tselector: '[navmap-item-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Map Nav.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.title\" label=\"Title\"></div>\r\n\t\t\t\t\t\t<div control-textarea [control]=\"controls.abstract\" label=\"Abstract\"></div>\r\n\t\t\t\t\t\t<div control-custom-select [control]=\"controls.viewId\" label=\"NavToView\"></div>\r\n\t\t\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"3\" [disabled]=\"true\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nNavmapItemModalComponent.chunk = () => /* html */'<div class=\"nav-modal\" navmap-item-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalService } from '../../modal/modal.service';\r\nimport NavmapService from '../navmap/navmap.service';\r\n\r\nexport default class NavmapModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tname: new FormControl(null, RequiredValidator()),\r\n\t\t\tasset: new FormControl(null, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('NavmapModalComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst navmap = {\r\n\t\t\t\tname: values.name,\r\n\t\t\t\tasset: values.asset,\r\n\t\t\t};\r\n\t\t\t// console.log('NavmapModalComponent.onSubmit.navmap', navmap);\r\n\t\t\treturn NavmapService.navmapCreate$(navmap).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('NavmapModalComponent.onSubmit.success', response);\r\n\t\t\t\tModalService.resolve(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('NavmapModalComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nNavmapModalComponent.meta = {\r\n\tselector: '[navmap-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Create Map.</div>\r\n\t\t\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/png\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"description\">Formato immagine .png con trasparenza (2048x1024 o 1024x512)</div>\r\n\t\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t\t<span>Create</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nNavmapModalComponent.chunk = () => /* html */'<div class=\"panorama-modal\" navmap-modal></div>';\r\n","import { Component } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalResolveEvent, ModalService } from '../../modal/modal.service';\r\nimport NavmapItemModalComponent from '../modals/navmap-item-modal.component';\r\nimport NavmapModalComponent from '../modals/navmap-modal.component';\r\nimport NavmapService from './navmap.service';\r\n\r\nexport default class NavmapBuilderComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.navmap = null;\r\n\t\tthis.navmaps = [];\r\n\t\tNavmapService.navmapGet$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(navmaps => {\r\n\t\t\tthis.navmaps = navmaps;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonBack(event) {\r\n\t\tthis.navmap = null;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonAdd() {\r\n\t\tModalService.open$({ template: NavmapModalComponent.chunk() }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tthis.navmaps.push(event.data);\r\n\t\t\t\tthis.navmap = event.data;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSet(item) {\r\n\t\tthis.navmap = this.navmaps.find(x => x.id === item.id);\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonAddItem(navmap, hit) {\r\n\t\tModalService.open$({ template: NavmapItemModalComponent.chunk(), data: { navmap, hit } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tconst items = navmap.items || [];\r\n\t\t\t\titems.push(event.data);\r\n\t\t\t\tObject.assign(navmap, { items });\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonDelete(navmap) {\r\n\t\tconst index = this.navmaps.indexOf(navmap);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.navmaps.splice(index, 1);\r\n\t\t}\r\n\t\tthis.navmap = null;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nNavmapBuilderComponent.meta = {\r\n\tselector: '[navmap-builder]',\r\n\tinputs: ['views'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"group--head\">\r\n\t\t<div class=\"title\" [innerHTML]=\"'editor_navmaps' | label\"></div>\r\n\t</div>\r\n\t<div class=\"group--main\">\r\n\t\t<!-- listing navmaps -->\r\n\t\t<div class=\"listing--navmaps\" *if=\"!navmap\">\r\n\t\t\t<div class=\"abstract\" *if=\"navmaps.length == 0\" [innerHTML]=\"'editor_add_item' | label\"></div>\r\n\t\t\t<div class=\"listing__item\" *for=\"let item of navmaps\">\r\n\t\t\t\t<div class=\"card--navmap\" (click)=\"onSet(item)\">\r\n\t\t\t\t\t<div class=\"card__picture\">\r\n\t\t\t\t\t\t<img [src]=\"item.asset | asset\" *if=\"item.asset\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card__content\">\r\n\t\t\t\t\t\t<div class=\"card__name\" [innerHTML]=\"item.name\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- navmap edit -->\r\n\t\t<div class=\"navmap\" navmap-edit [navmap]=\"navmap\" (delete)=\"onDelete($event)\" *if=\"navmap\">\r\n\t\t\t<form class=\"form\" [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\">\r\n\t\t\t\t<div class=\"title\"><span [innerHTML]=\"navmap.name\"></span> <span [innerHTML]=\"navmap.id\"></span></div>\r\n\t\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t\t\t<!--\r\n\t\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/png\"></div>\r\n\t\t\t\t\t-->\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"submit\" class=\"btn--accept\">\r\n\t\t\t\t\t\t<span [innerHTML]=\"'editor_save' | label\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--remove\" (click)=\"onRemove($event)\">\r\n\t\t\t\t\t\t<span [innerHTML]=\"'editor_remove' | label\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"navmap-control\" [class]=\"mode\">\r\n\t\t\t\t\t<div class=\"navmap-control__image\">\r\n\t\t\t\t\t\t<img draggable=\"false\" [src]=\"navmap.asset | asset\" *if=\"navmap.asset\" />\r\n\t\t\t\t\t\t<div class=\"navmap__item\" [style]=\"{ left: item.position[0] * 100 + '%', top: item.position[1] * 100 + '%' }\" (mousedown)=\"onMoveItem($event, item)\" (click)=\"onRemoveItem(item)\" *for=\"let item of navmap.items\">\r\n\t\t\t\t\t\t\t<img draggable=\"false\" [src]=\"'textures/ui/nav-point.png' | asset\" />\r\n\t\t\t\t\t\t\t<div class=\"title\" [innerHTML]=\"item.title\" *if=\"item.title\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul class=\"navmap-control__toolbar\">\r\n\t\t\t\t\t\t<li class=\"nav__item\"><span [class]=\"{ active: mode === 'insert' }\" (click)=\"onToggleMode('insert')\"><svg class=\"pencil\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#pencil\"></use></svg></span></li>\r\n\t\t\t\t\t\t<li class=\"nav__item\"><span [class]=\"{ active: mode === 'move' }\" (click)=\"onToggleMode('move')\"><svg class=\"move\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#move\"></use></svg></span></li>\r\n\t\t\t\t\t\t<li class=\"nav__item\"><span [class]=\"{ active: mode === 'remove' }\" (click)=\"onToggleMode('remove')\"><svg class=\"erase\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#erase\"></use></svg></span></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"group--foot\">\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onAdd($event)\" [innerHTML]=\"'editor_add' | label\" *if=\"!navmap\"></button>\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onBack($event)\" [innerHTML]=\"'editor_back' | label\" *if=\"navmap\"></button>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { fromEvent } from 'rxjs';\r\nimport { filter, first, map, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalResolveEvent, ModalService } from '../../modal/modal.service';\r\nimport NavmapItemModalComponent from '../modals/navmap-item-modal.component';\r\nimport RemoveModalComponent from '../modals/remove-modal.component';\r\nimport NavmapService from './navmap.service';\r\n\r\nexport const NavmapModes = {\r\n\tIdle: 'idle',\r\n\tInsert: 'insert',\r\n\tRemove: 'remove',\r\n\tMove: 'move',\r\n};\r\n\r\nexport class ControlEvent {\r\n\r\n\tconstructor(element, event) {\r\n\t\tconst rect = element.getBoundingClientRect();\r\n\t\tthis.x = (event.clientX - rect.x) / rect.width;\r\n\t\tthis.y = (event.clientY - rect.y) / rect.height;\r\n\t\t// console.log(this);\r\n\t}\r\n\r\n}\r\n\r\nexport class ControlDownEvent extends ControlEvent { }\r\nexport class ControlMoveEvent extends ControlEvent { }\r\nexport class ControlUpEvent extends ControlEvent { }\r\n\r\nexport default class NavmapEditComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.mode = NavmapModes.Idle;\r\n\t\tthis.error = null;\r\n\t\tconst navmap = this.navmap;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tname: new FormControl(navmap.name, RequiredValidator()),\r\n\t\t\tasset: new FormControl(navmap.asset, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('NavmapEditComponent.form.changes$', changes, form.valid, form);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.insert$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('NavmapEditComponent.insert', event);\r\n\t\t\tconst hit = event;\r\n\t\t\tModalService.open$({ template: NavmapItemModalComponent.chunk(), data: { navmap, hit } }).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\t\tconst items = navmap.items || [];\r\n\t\t\t\t\titems.push(event.data);\r\n\t\t\t\t\tObject.assign(navmap, { items });\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinsert$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst image = node.querySelector('.navmap-control__image');\r\n\t\treturn fromEvent(image, 'pointerdown').pipe(\r\n\t\t\tfilter(x => this.mode === NavmapModes.Insert),\r\n\t\t\tmap(event => new ControlDownEvent(image, event)),\r\n\t\t);\r\n\t}\r\n\r\n\tonToggleMode(mode) {\r\n\t\tthis.mode = (this.mode === mode) ? NavmapModes.Idle : mode;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonMoveItem(event, item) {\r\n\t\tconst navmap = this.navmap;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase NavmapModes.Move: {\r\n\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\tconst image = node.querySelector('.navmap-control__image');\r\n\t\t\t\tconst position = item.position.slice();\r\n\t\t\t\tconst down = new ControlDownEvent(image, event);\r\n\t\t\t\tconst move$ = fromEvent(image, 'mousemove').pipe(\r\n\t\t\t\t\tmap(event => new ControlMoveEvent(image, event)),\r\n\t\t\t\t\ttap(event => {\r\n\t\t\t\t\t\tconst diff = {\r\n\t\t\t\t\t\t\tx: event.x - down.x,\r\n\t\t\t\t\t\t\ty: event.y - down.y,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\titem.position = [\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, position[0] + diff.x)),\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, position[1] + diff.y)),\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tconst up$ = fromEvent(image, 'mouseup').pipe(\r\n\t\t\t\t\tmap(event => new ControlUpEvent(image, event)),\r\n\t\t\t\t\ttap(event => {\r\n\t\t\t\t\t\tconst diff = {\r\n\t\t\t\t\t\t\tx: event.x - down.x,\r\n\t\t\t\t\t\t\ty: event.y - down.y,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\titem.position = [\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, position[0] + diff.x)),\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, position[1] + diff.y)),\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\t// console.log('NavmapEditComponent.onNavmapItem.Update', navmap, item);\r\n\t\t\t\t\t\tNavmapService.itemUpdate$(navmap, item).pipe(\r\n\t\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t\t).subscribe(item_ => {\r\n\t\t\t\t\t\t\tObject.assign(item, item_);\r\n\t\t\t\t\t\t\t// console.log('NavmapEditComponent.onNavmapItem.Update');\r\n\t\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tmove$.pipe(\r\n\t\t\t\t\ttakeUntil(up$),\r\n\t\t\t\t).subscribe();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonRemoveItem(item) {\r\n\t\tconst navmap = this.navmap;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase NavmapModes.Remove:\r\n\t\t\t\tNavmapService.itemDelete$(navmap, item).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(_ => {\r\n\t\t\t\t\t// console.log('NavmapEditComponent.onNavmapItem.Remove');\r\n\t\t\t\t\tconst items = navmap.items || [];\r\n\t\t\t\t\tconst index = items.indexOf(item);\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\titems.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tObject.assign(navmap, { items });\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tconst values = this.form.value;\r\n\t\t\tconst payload = Object.assign({ items: [] }, this.navmap, { name: values.name });\r\n\t\t\t// console.log('NavmapEditComponent.onSubmit.navmap', payload);\r\n\t\t\tNavmapService.navmapUpdate$(payload).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('NavmapEditComponent.onSubmit.success', response);\r\n\t\t\t\tObject.assign(this.navmap, response);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}, error => {\r\n\t\t\t\t// console.log('NavmapEditComponent.onSubmit.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.form.reset();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonRemove() {\r\n\t\tconst navmap = this.navmap;\r\n\t\tModalService.open$({ template: RemoveModalComponent.chunk(), data: { item: navmap } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tNavmapService.navmapDelete$(navmap).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(response => {\r\n\t\t\t\t\tthis.delete.next(navmap);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nNavmapEditComponent.meta = {\r\n\tselector: '[navmap-edit]',\r\n\toutputs: ['delete'],\r\n\tinputs: ['navmap'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormArray, FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { of } from 'rxjs';\r\nimport { first, switchMap } from 'rxjs/operators';\r\nimport { AssetGroupType, AssetType, assetGroupTypeFromItem, assetPayloadFromGroupTypeId } from '../../asset/asset';\r\nimport { AssetService } from '../../asset/asset.service';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../../label/label.pipe';\r\nimport { ModalResolveEvent, ModalService } from '../../modal/modal.service';\r\nimport { ViewItem, ViewItemType, ViewType } from '../../view/view';\r\nimport { WebhookService } from '../../webhook/webhook.service';\r\nimport { EditorService } from '../editor.service';\r\nimport RemoveModalComponent from '../modals/remove-modal.component';\r\n\r\nexport default class UpdateViewItemComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.busy = false;\r\n\t\tthis.active = false;\r\n\t\tthis.useHooks = WebhookService.enabled;\r\n\t\tconst form = this.form = new FormGroup();\r\n\t\tthis.controls = form.controls;\r\n\t\tconst item = this.item;\r\n\t\tthis.originalItem = Object.assign({}, item);\r\n\t\titem.hasChromaKeyColor = (item.asset && item.asset.chromaKeyColor) ? true : false;\r\n\t\titem.autoplay = (item.asset && item.asset.type.name === AssetType.Video.name) ? item.asset.autoplay : undefined;\r\n\t\titem.loop = (item.asset && item.asset.type.name === AssetType.Video.name) ? item.asset.loop : undefined;\r\n\t\titem.assetType = assetGroupTypeFromItem(item).id;\r\n\t\tthis.doUpdateForm();\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('UpdateViewItemComponent.form.changes$', changes);\r\n\t\t\tthis.doUpdateItem(changes);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tgetFlagsDidChange(item, changes) {\r\n\t\tconst flags = ['hasChromaKeyColor', 'autoplay', 'loop'];\r\n\t\treturn flags.reduce((p, c) => {\r\n\t\t\tconst a = changes[c] || false;\r\n\t\t\tconst b = item[c] || false;\r\n\t\t\t// console.log(c, a, b);\r\n\t\t\treturn p || (a !== b);\r\n\t\t}, false);\r\n\t}\r\n\r\n\tgetAssetDidChange(item, changes) {\r\n\t\t// console.log('UpdateViewItemComponent.getAssetDidChange', item.asset, changes.asset);\r\n\t\treturn AssetService.assetDidChange(item.asset, changes.asset);\r\n\t}\r\n\r\n\tdoUpdateItem(changes) {\r\n\t\tconst item = this.item;\r\n\t\tconst assetDidChange = this.getAssetDidChange(item, changes);\r\n\t\tconst flagsDidChange = this.getFlagsDidChange(item, changes);\r\n\t\t// console.log('UpdateViewItemCompoent.doUpdateItem', 'assetDidChange', assetDidChange, 'flagsDidChange', flagsDidChange);\r\n\t\tObject.assign(item, changes);\r\n\t\tif (item.asset) {\r\n\t\t\titem.asset.chromaKeyColor = item.hasChromaKeyColor ? [0.0, 1.0, 0.0] : null;\r\n\t\t\titem.asset.autoplay = item.autoplay;\r\n\t\t\titem.asset.loop = item.loop;\r\n\t\t}\r\n\t\tif (assetDidChange || flagsDidChange) {\r\n\t\t\tconst asset$ = item.asset ? AssetService.assetUpdate$(item.asset) : of(null);\r\n\t\t\tasset$.pipe(\r\n\t\t\t\tswitchMap(() => EditorService.inferItemUpdate$(this.view, item)),\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe();\r\n\t\t\t// !!! create indices for nextAttendeeStream\r\n\t\t\tthis.view.updateIndices(this.view.items);\r\n\t\t\tif (typeof item.onUpdateAsset === 'function') {\r\n\t\t\t\titem.onUpdateAsset();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof item.onUpdate === 'function') {\r\n\t\t\titem.onUpdate();\r\n\t\t}\r\n\t}\r\n\r\n\tdoUpdateForm() {\r\n\t\tconst item = this.item;\r\n\t\tconst form = this.form;\r\n\t\tif (!this.type || this.type.name !== item.type.name) {\r\n\t\t\tthis.type = item.type;\r\n\t\t\tObject.keys(this.controls).forEach(key => {\r\n\t\t\t\tform.removeKey(key);\r\n\t\t\t});\r\n\t\t\tlet keys;\r\n\t\t\tswitch (item.type.name) {\r\n\t\t\t\tcase ViewItemType.Nav.name:\r\n\t\t\t\t\tif (this.useHooks) {\r\n\t\t\t\t\t\tkeys = ['id', 'type', 'title?', 'abstract?', 'viewId?', 'hook?', 'hookExtra?', 'keepOrientation?', 'important?', 'transparent?', 'position', 'rotation', 'scale', 'asset?', 'link?', 'links?'];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tkeys = ['id', 'type', 'title?', 'abstract?', 'viewId?', 'keepOrientation?', 'important?', 'transparent?', 'position', 'rotation', 'scale', 'asset?', 'link?', 'links?'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewItemType.Plane.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'position', 'rotation', 'scale', 'assetType?', 'asset?', 'hasChromaKeyColor?', 'autoplay?', 'loop?'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewItemType.CurvedPlane.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'position', 'rotation', 'scale', 'radius', 'height', 'arc', 'assetType?', 'asset?', 'hasChromaKeyColor?', 'autoplay?', 'loop?'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewItemType.Texture.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'assetType?', 'asset?', 'hasChromaKeyColor?', 'autoplay?', 'loop?']; // asset, key no id!!\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewItemType.Model.name:\r\n\t\t\t\t\tif (this.view.type.name === ViewType.Model) {\r\n\t\t\t\t\t\tkeys = ['id', 'type', 'asset?'];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tkeys = ['id', 'type', 'position', 'rotation', 'asset?'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tkeys = ['id', 'type'];\r\n\t\t\t}\r\n\t\t\tkeys.forEach(key => {\r\n\t\t\t\tconst optional = key.indexOf('?') !== -1;\r\n\t\t\t\tkey = key.replace('?', '');\r\n\t\t\t\tconst value = (item[key] != null ? item[key] : null);\r\n\t\t\t\tlet control;\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'viewId':\r\n\t\t\t\t\t\tcontrol = new FormControl(value, optional ? undefined : RequiredValidator());\r\n\t\t\t\t\t\tEditorService.viewIdOptions$().pipe(\r\n\t\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t\t).subscribe(options => {\r\n\t\t\t\t\t\t\tcontrol.options = options;\r\n\t\t\t\t\t\t\tcontrol.value = control.value || null;\r\n\t\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'hook':\r\n\t\t\t\t\t\tcontrol = new FormControl(value, optional ? undefined : RequiredValidator());\r\n\t\t\t\t\t\tif (WebhookService.enabled) {\r\n\t\t\t\t\t\t\tconst options = environment.webhook.methods.nav.map(x => ({ id: x, name: x }));\r\n\t\t\t\t\t\t\toptions.unshift({ id: null, name: 'select' });\r\n\t\t\t\t\t\t\tcontrol.options = options;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontrol.value = control.value || null;\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'assetType':\r\n\t\t\t\t\t\tcontrol = new FormControl(value, optional ? undefined : RequiredValidator());\r\n\t\t\t\t\t\tcontrol.options = Object.keys(AssetGroupType).map(x => AssetGroupType[x]);\r\n\t\t\t\t\t\t// console.log(control.options);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tconst title = item.link ? item.link.title : null;\r\n\t\t\t\t\t\tconst href = item.link ? item.link.href : null;\r\n\t\t\t\t\t\tconst target = '_blank';\r\n\t\t\t\t\t\tcontrol = new FormGroup({\r\n\t\t\t\t\t\t\ttitle: new FormControl(title),\r\n\t\t\t\t\t\t\thref: new FormControl(href),\r\n\t\t\t\t\t\t\ttarget\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'links': {\r\n\t\t\t\t\t\tconst links = item.links;\r\n\t\t\t\t\t\tcontrol = new FormArray(links.map(link => new FormGroup({\r\n\t\t\t\t\t\t\ttitle: new FormControl(link.title),\r\n\t\t\t\t\t\t\thref: new FormControl(link.href),\r\n\t\t\t\t\t\t\ttarget: '_blank',\r\n\t\t\t\t\t\t})));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tcontrol = new FormControl(value, optional ? undefined : RequiredValidator());\r\n\t\t\t\t}\r\n\t\t\t\tform.add(control, key);\r\n\t\t\t});\r\n\t\t\tthis.controls = form.controls;\r\n\t\t} else {\r\n\t\t\tObject.keys(this.controls).forEach(key => {\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tconst title = item.link ? item.link.title : null;\r\n\t\t\t\t\t\tconst href = item.link ? item.link.href : null;\r\n\t\t\t\t\t\tconst target = '_blank';\r\n\t\t\t\t\t\tthis.controls[key].value = { title, href, target };\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'links': {\r\n\t\t\t\t\t\tconst links = item.links.map(link => ({\r\n\t\t\t\t\t\t\ttitle: link.title || null,\r\n\t\t\t\t\t\t\thref: link.href || null,\r\n\t\t\t\t\t\t\ttarget: '_blank',\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tconst formArray = this.controls[key];\r\n\t\t\t\t\t\twhile (formArray.controls.length > links.length) {\r\n\t\t\t\t\t\t\tformArray.remove(formArray.controls[formArray.controls.length - 1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twhile (formArray.controls.length < links.length) {\r\n\t\t\t\t\t\t\tformArray.push(new FormGroup({\r\n\t\t\t\t\t\t\t\ttitle: new FormControl(null),\r\n\t\t\t\t\t\t\t\thref: new FormControl(null),\r\n\t\t\t\t\t\t\t\ttarget: '_blank',\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(formArray, links);\r\n\t\t\t\t\t\tformArray.patch(links);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'hasChromaKeyColor':\r\n\t\t\t\t\t\tthis.controls[key].value = (item.asset && item.asset.chromaKeyColor) ? true : false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'autoplay':\r\n\t\t\t\t\t\tthis.controls[key].value = (item.asset && item.asset.autoplay) ? true : false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'loop':\r\n\t\t\t\t\t\tthis.controls[key].value = (item.asset && item.asset.loop) ? true : false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'assetType':\r\n\t\t\t\t\t\tthis.controls[key].value = assetGroupTypeFromItem(item).id;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.controls[key].value = (item[key] != null ? item[key] : null);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonAssetTypeDidChange(assetType) {\r\n\t\tconst item = this.item;\r\n\t\tconst currentType = assetGroupTypeFromItem(item).id;\r\n\t\t// console.log('UpdateViewItemComponent.onAssetTypeDidChange', assetType, currentType);\r\n\t\tif (assetType !== currentType) {\r\n\t\t\titem.assetType = assetType;\r\n\t\t\tlet asset$ = of(null); // AssetService.assetDelete$(item.asset);\r\n\t\t\tif (assetType !== AssetGroupType.ImageOrVideo.id) {\r\n\t\t\t\tasset$ = asset$.pipe(\r\n\t\t\t\t\tswitchMap(() => {\r\n\t\t\t\t\t\tconst asset = assetPayloadFromGroupTypeId(assetType);\r\n\t\t\t\t\t\treturn AssetService.assetCreate$(asset);\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tasset$.pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(asset => {\r\n\t\t\t\t// console.log('UpdateViewItemComponent.asset$', asset);\r\n\t\t\t\tthis.controls.asset.value = asset;\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\tasset$.pipe(\r\n\t\t\t\ttap(asset => {\r\n\t\t\t\t\titem.asset = asset;\r\n\t\t\t\t\tif (typeof item.onUpdateAsset === 'function') {\r\n\t\t\t\t\t\titem.onUpdateAsset();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tswitchMap(() => EditorService.inferItemUpdate$(this.view, item)),\r\n\t\t\t\tfirst()\r\n\t\t\t).subscribe();\r\n\t\t\t*/\r\n\t\t}\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\t// console.log('UpdateViewItemComponent.onChanges', changes);\r\n\t\tthis.doUpdateForm();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (!this.busy && this.form.valid) {\r\n\t\t\tthis.busy = true;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tconst changes = this.form.value;\r\n\t\t\tconst payload = Object.assign({}, changes);\r\n\t\t\tif (this.item.type.name === ViewItemType.Nav.name) {\r\n\t\t\t\tpayload.viewId = payload.viewId || this.view.id;\r\n\t\t\t}\r\n\t\t\tconst view = this.view;\r\n\t\t\tconst item = new ViewItem(payload);\r\n\t\t\tEditorService.inferItemUpdate$(view, item).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('UpdateViewItemComponent.onSubmit.inferItemUpdate$.success', response);\r\n\t\t\t\tEditorService.inferItemUpdateResult$(view, item);\r\n\t\t\t\tthis.update.next({ view, item });\r\n\t\t\t\tthis.setTimeout(() => {\r\n\t\t\t\t\tthis.busy = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t\t}, error => console.log('UpdateViewItemComponent.onSubmit.inferItemUpdate$.error', error));\r\n\t\t\t// this.update.next({ view: this.view, item: new ViewItem(payload) });\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonRemove(event) {\r\n\t\tModalService.open$({ template: RemoveModalComponent.chunk(), data: { item: this.item } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tthis.delete.next({ view: this.view, item: this.item });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tthis.select.next({ view: this.view, item: this.item.selected ? null : this.item });\r\n\t\t/*\r\n\t\tthis.item.active = !this.item.active;\r\n\t\tthis.pushChanges();\r\n\t\t*/\r\n\t}\r\n\r\n\tgetTitle(item) {\r\n\t\treturn LabelPipe.getKeys('editor', item.type.name);\r\n\t}\r\n\r\n\tonAddLink(event) {\r\n\t\tthis.controls.links.push(new FormGroup({\r\n\t\t\ttitle: new FormControl(null),\r\n\t\t\thref: new FormControl(null),\r\n\t\t\ttarget: '_blank',\r\n\t\t}));\r\n\t}\r\n\r\n\tonRemoveLink(item) {\r\n\t\tthis.controls.links.remove(item);\r\n\t}\r\n\r\n\tclearTimeout() {\r\n\t\tif (this.to) {\r\n\t\t\tclearTimeout(this.to);\r\n\t\t}\r\n\t}\r\n\r\n\tsetTimeout(callback, msec = 300) {\r\n\t\tthis.clearTimeout();\r\n\t\tif (typeof callback === 'function') {\r\n\t\t\tthis.to = setTimeout(callback, msec);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.clearTimeout();\r\n\t}\r\n}\r\n\r\nUpdateViewItemComponent.meta = {\r\n\tselector: 'update-view-item',\r\n\toutputs: ['select', 'update', 'delete'],\r\n\tinputs: ['view', 'item'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"group--headline\" [class]=\"{ active: item.selected }\" (click)=\"onSelect($event)\">\r\n\t\t\t<!-- <div class=\"id\" [innerHTML]=\"item.id\"></div> -->\r\n\t\t\t<div class=\"icon\">\r\n\t\t\t\t<svg-icon [name]=\"item.type.name\"></svg-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\" [innerHTML]=\"getTitle(item)\"></div>\r\n\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t</div>\r\n\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\" *if=\"item.selected\">\r\n\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t<div control-text [control]=\"controls.id\" label=\"Id\" [disabled]=\"true\"></div>\r\n\t\t\t\t<!-- <div control-text [control]=\"controls.type\" label=\"Type\" [disabled]=\"true\"></div> -->\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'nav'\">\r\n\t\t\t\t<div control-text [control]=\"controls.title\" label=\"Title\"></div>\r\n\t\t\t\t<div control-textarea [control]=\"controls.abstract\" label=\"Abstract\"></div>\r\n\t\t\t\t<div control-custom-select [control]=\"controls.viewId\" label=\"NavToView\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.keepOrientation\" label=\"Keep Orientation\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.important\" label=\"Important\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.transparent\" label=\"Transparent\"></div>\r\n\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"3\"></div>\r\n\t\t\t\t<div *if=\"controls.transparent.value == true\">\r\n\t\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\"></div>\r\n\t\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg, image/png\"></div>\r\n\r\n\t\t\t\t<div class=\"group--link\" *for=\"let link of controls.links.controls\">\r\n\t\t\t\t\t<div class=\"group--controls\">\r\n\t\t\t\t\t\t<div control-text [control]=\"link.controls.title\" label=\"Link Title\"></div>\r\n\t\t\t\t\t\t<div control-text [control]=\"link.controls.href\" label=\"Link Url\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--remove\" (click)=\"onRemoveLink(link)\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#remove\"></use></svg></button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--update\" (click)=\"onAddLink($event)\">\r\n\t\t\t\t\t\t<span>Add Link</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *if=\"useHooks\">\r\n\t\t\t\t\t<div control-custom-select [control]=\"controls.hook\" label=\"Hook\"></div>\r\n\t\t\t\t\t<div control-text [control]=\"controls.hookExtra\" label=\"Hook Extra\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'plane' && view.type.name != 'media'\">\r\n\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\"></div>\r\n\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-custom-select [control]=\"controls.assetType\" label=\"Asset\" (change)=\"onAssetTypeDidChange($event)\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Localized Image or Video\" accept=\"image/jpeg, video/mp4\" *if=\"controls.assetType.value == 1\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hasChromaKeyColor\" label=\"Use Green Screen\" *if=\"item.asset\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.autoplay\" label=\"Autoplay\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.loop\" label=\"Loop\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'plane' && view.type.name == 'media'\">\r\n\t\t\t\t<div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Localized Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.autoplay\" label=\"Autoplay\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.loop\" label=\"Loop\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'curved-plane'\">\r\n\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\"></div>\r\n\t\t\t\t<!-- <div control-vector [control]=\"controls.scale\" label=\"Scale\" [precision]=\"2\" [disabled]=\"true\"></div> -->\r\n\t\t\t\t<div control-number [control]=\"controls.radius\" label=\"Radius\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-number [control]=\"controls.height\" label=\"Height\" [precision]=\"2\"></div>\r\n\t\t\t\t<div control-number [control]=\"controls.arc\" label=\"Arc\" [precision]=\"0\"></div>\r\n\t\t\t\t<div control-custom-select [control]=\"controls.assetType\" label=\"Asset\" (change)=\"onAssetTypeDidChange($event)\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\" *if=\"controls.assetType.value == 1\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hasChromaKeyColor\" label=\"Use Green Screen\" *if=\"item.asset\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.autoplay\" label=\"Autoplay\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.loop\" label=\"Loop\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'texture'\">\r\n\t\t\t\t<div control-custom-select [control]=\"controls.assetType\" label=\"Asset\" (change)=\"onAssetTypeDidChange($event)\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\" *if=\"controls.assetType.value == 1\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hasChromaKeyColor\" label=\"Use Green Screen\" *if=\"item.asset\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.autoplay\" label=\"Autoplay\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t\t<div control-checkbox [control]=\"controls.loop\" label=\"Loop\" *if=\"item.asset && item.asset.type.name === 'video'\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"item.type.name == 'model'\">\r\n\t\t\t\t<div control-vector [control]=\"controls.position\" label=\"Position\" [precision]=\"2\" *if=\"view.type.name !== 'model'\"></div>\r\n\t\t\t\t<div control-vector [control]=\"controls.rotation\" label=\"Rotation\" [precision]=\"3\" [increment]=\"Math.PI / 360\" *if=\"view.type.name !== 'model'\"></div>\r\n\t\t\t\t<div control-model [control]=\"controls.asset\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t<button type=\"submit\" class=\"btn--update\" [class]=\"{ busy: busy }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'update' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"button\" class=\"btn--remove\" (click)=\"onRemove($event)\">\r\n\t\t\t\t\t<span [innerHTML]=\"'remove' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalResolveEvent, ModalService } from '../../modal/modal.service';\r\nimport RemoveModalComponent from '../modals/remove-modal.component';\r\n\r\nexport default class UpdateViewTileComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.busy = false;\r\n\t\tthis.active = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tid: new FormControl(this.tile.id, RequiredValidator()),\r\n\t\t\tasset: new FormControl(this.tile.asset, RequiredValidator()),\r\n\t\t\tnavs: new FormControl(this.tile.navs, RequiredValidator()),\r\n\t\t});\r\n\t\tthis.controls = form.controls;\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('UpdateViewTileComponent.form.changes$', changes);\r\n\t\t\tconst tile = this.tile;\r\n\t\t\tObject.assign(tile, changes);\r\n\t\t\tif (typeof tile.onUpdate === 'function') {\r\n\t\t\t\ttile.onUpdate();\r\n\t\t\t}\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\t// console.log('UpdateViewTileComponent.onInit', this.view, this.tile);\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (!this.busy && this.form.valid) {\r\n\t\t\tthis.busy = true;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tconst payload = Object.assign({}, this.form.value);\r\n\t\t\tconst view = this.view;\r\n\t\t\tconst tile = payload;\r\n\t\t\t/*\r\n\t\t\tEditorService.tileUpdate$...\r\n\t\t\t*/\r\n\t\t\tthis.update.next({ view, tile });\r\n\t\t\tthis.setTimeout(() => {\r\n\t\t\t\tthis.busy = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonRemove(event) {\r\n\t\tModalService.open$({ template: RemoveModalComponent.chunk(), data: { tile: this.tile } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tthis.delete.next({ view: this.view, tile: this.tile });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tthis.select.next({ view: this.view, tile: this.tile.selected ? null : this.tile });\r\n\t}\r\n\r\n\tclearTimeout() {\r\n\t\tif (this.to) {\r\n\t\t\tclearTimeout(this.to);\r\n\t\t}\r\n\t}\r\n\r\n\tsetTimeout(callback, msec = 300) {\r\n\t\tthis.clearTimeout();\r\n\t\tif (typeof callback === 'function') {\r\n\t\t\tthis.to = setTimeout(callback, msec);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.clearTimeout();\r\n\t}\r\n}\r\n\r\nUpdateViewTileComponent.meta = {\r\n\tselector: 'update-view-tile',\r\n\toutputs: ['select', 'update', 'delete'],\r\n\tinputs: ['view', 'tile'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"group--headline\" [class]=\"{ active: tile.selected }\" (click)=\"onSelect($event)\">\r\n\t\t\t<div class=\"icon\">\r\n\t\t\t\t<svg-icon name=\"tile\"></svg-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">Tile {{tile.id}}</div>\r\n\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t</div>\r\n\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\" *if=\"tile.selected\">\r\n\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t<div control-text [control]=\"controls.id\" label=\"Id\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg, image/png\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t<button type=\"submit\" class=\"btn--update\" [class]=\"{ busy: busy }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'update' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<!--\r\n\t\t\t\t<button type=\"button\" class=\"btn--remove\" (click)=\"onRemove($event)\">\r\n\t\t\t\t\t<span [innerHTML]=\"'remove' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t-->\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, RequiredValidator } from 'rxcomp-form';\r\nimport { auditTime, distinctUntilChanged, filter, first, takeUntil } from 'rxjs/operators';\r\nimport { MessageType } from '../../agora/agora.types';\r\nimport { AssetService } from '../../asset/asset.service';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../../label/label.pipe';\r\nimport { MessageService } from '../../message/message.service';\r\nimport { ModalResolveEvent, ModalService } from '../../modal/modal.service';\r\nimport { View, ViewType } from '../../view/view';\r\nimport { EditorService } from '../editor.service';\r\nimport RemoveModalComponent from '../modals/remove-modal.component';\r\n\r\nexport default class UpdateViewComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.busy = false;\r\n\t\tconst form = this.form = new FormGroup();\r\n\t\tthis.controls = form.controls;\r\n\t\tthis.doUpdateForm();\r\n\t\tform.changes$.subscribe((changes) => {\r\n\t\t\t// console.log('UpdateViewComponent.form.changes$', changes);\r\n\t\t\tthis.doUpdateView(changes);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.orbit$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\tswitch (this.view.type.name) {\r\n\t\t\t\tcase ViewType.WaitingRoom.name:\r\n\t\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\tcase ViewType.Model.name:\r\n\t\t\t\tcase ViewType.Media.name:\r\n\t\t\t\t\tthis.form.patch({\r\n\t\t\t\t\t\tlatitude: message.orientation.latitude,\r\n\t\t\t\t\t\tlongitude: message.orientation.longitude,\r\n\t\t\t\t\t\tzoom: message.zoom,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\torbit$() {\r\n\t\tlet latitude, longitude, zoom = null;\r\n\t\treturn MessageService.in$.pipe(\r\n\t\t\tfilter(message => message.type === MessageType.ControlInfo),\r\n\t\t\tauditTime(Math.floor(1000 / 15)),\r\n\t\t\tdistinctUntilChanged((previous, current) => {\r\n\t\t\t\tconst didChange = (latitude !== current.orientation.latitude ||\r\n\t\t\t\t\tlongitude !== current.orientation.longitude ||\r\n\t\t\t\t\tzoom !== current.zoom);\r\n\t\t\t\tlatitude = current.orientation.latitude;\r\n\t\t\t\tlongitude = current.orientation.longitude;\r\n\t\t\t\tzoom = current.zoom;\r\n\t\t\t\treturn !didChange;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tgetAssetDidChange(changes) {\r\n\t\tconst view = this.view;\r\n\t\tif (view.type.name === ViewType.PanoramaGrid.name) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst assetDidChange = AssetService.assetDidChange(view.asset, changes.asset);\r\n\t\tconst usdzDidChange = AssetService.assetDidChange(view.ar ? view.ar.usdz : null, changes.usdz);\r\n\t\tconst gltfDidChange = AssetService.assetDidChange(view.ar ? view.ar.gltf : null, changes.gltf);\r\n\t\tif (assetDidChange || usdzDidChange || gltfDidChange) {\r\n\t\t\t// console.log('UpdateViewComponent.getAssetDidChange', assetDidChange, usdzDidChange, gltfDidChange);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tdoUpdateView(changes) {\r\n\t\tconst assetDidChange = this.getAssetDidChange(changes);\r\n\t\t// console.log('doUpdateItem.assetDidChange', assetDidChange);\r\n\t\tif (assetDidChange) {\r\n\t\t\tthis.onSubmit();\r\n\t\t}\r\n\t}\r\n\r\n\tdoUpdateForm() {\r\n\t\tconst view = this.view;\r\n\t\tif (!this.type || this.type.name !== view.type.name) {\r\n\t\t\tthis.type = view.type;\r\n\t\t\tconst form = this.form;\r\n\t\t\tObject.keys(this.controls).forEach(key => {\r\n\t\t\t\tform.removeKey(key);\r\n\t\t\t});\r\n\t\t\tlet keys;\r\n\t\t\tswitch (view.type.name) {\r\n\t\t\t\tcase ViewType.WaitingRoom.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'latitude', 'longitude', 'zoom', 'asset'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewType.Panorama.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'hidden?', 'latitude', 'longitude', 'zoom', 'asset'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewType.PanoramaGrid.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'hidden?', 'latitude', 'longitude', 'zoom'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewType.Room3d.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'hidden?', 'latitude', 'longitude', 'zoom', 'asset'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewType.Model.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'hidden?', 'latitude', 'longitude', 'zoom', 'asset'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ViewType.Media.name:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name', 'hidden?', 'asset'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tkeys = ['id', 'type', 'name'];\r\n\t\t\t}\r\n\t\t\tif (view.type.name !== ViewType.WaitingRoom.name && environment.flags.ar) {\r\n\t\t\t\tkeys.push('usdz?');\r\n\t\t\t\tkeys.push('gltf?');\r\n\t\t\t}\r\n\t\t\tkeys.forEach(key => {\r\n\t\t\t\tconst optional = key.indexOf('?') !== -1;\r\n\t\t\t\tkey = key.replace('?', '');\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'latitude':\r\n\t\t\t\t\tcase 'longitude': {\r\n\t\t\t\t\t\tconst orientation = view.orientation || { latitude: 0, longitude: 0 };\r\n\t\t\t\t\t\tform.add(new FormControl(orientation[key], RequiredValidator()), key);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'usdz':\r\n\t\t\t\t\tcase 'gltf': {\r\n\t\t\t\t\t\tform.add(new FormControl((view.ar ? (view.ar[key] || null) : null), optional ? undefined : RequiredValidator()), key);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tform.add(new FormControl((view[key] != null ? view[key] : null), optional ? undefined : RequiredValidator()), key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.controls = form.controls;\r\n\t\t}\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\t// console.log('UpdateViewComponent.onChanges');\r\n\t\tthis.doUpdateForm();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tif (!this.busy && this.form.valid) {\r\n\t\t\tthis.busy = true;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tconst payload = Object.assign({}, this.form.value);\r\n\t\t\tif (payload.latitude != null) { // !!! keep loose inequality\r\n\t\t\t\tpayload.orientation = {\r\n\t\t\t\t\tlatitude: payload.latitude,\r\n\t\t\t\t\tlongitude: payload.longitude,\r\n\t\t\t\t};\r\n\t\t\t\tdelete payload.latitude;\r\n\t\t\t\tdelete payload.longitude;\r\n\t\t\t}\r\n\t\t\tconst usdz = payload.usdz || null;\r\n\t\t\tconst gltf = payload.gltf || null;\r\n\t\t\tdelete payload.usdz;\r\n\t\t\tdelete payload.gltf;\r\n\t\t\tpayload.ar = (usdz || gltf) ? { usdz, gltf } : null;\r\n\t\t\tconst view = new View(Object.assign({}, this.view, payload));\r\n\t\t\t/*\r\n\t\t\tlet dataView = Object.assign({}, ViewService.getDataView(this.view.id), payload);\r\n\t\t\tdataView = new View(dataView);\r\n\t\t\tlet pathView = Object.assign({}, this.view, payload);\r\n\t\t\tpathView = new View(pathView);\r\n\t\t\t*/\r\n\t\t\tEditorService.viewUpdate$(view).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\t// console.log('UpdateViewComponent.onSubmit.viewUpdate$.success', response);\r\n\t\t\t\tthis.update.next({ view: view });\r\n\t\t\t\tthis.setTimeout(() => {\r\n\t\t\t\t\tthis.busy = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t\t}, error => console.log('UpdateViewComponent.onSubmit.viewUpdate$.error', error));\r\n\t\t\t// this.update.next({ view: new View(payload) });\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonRemove(event) {\r\n\t\tModalService.open$({ template: RemoveModalComponent.chunk(), data: { item: this.item } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tthis.delete.next({ view: this.view });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tthis.select.next({ view: this.view.selected ? null : this.view });\r\n\t}\r\n\r\n\tgetTitle(view) {\r\n\t\treturn LabelPipe.getKeys('editor', view.type.name);\r\n\t}\r\n\r\n\tclearTimeout() {\r\n\t\tif (this.to) {\r\n\t\t\tclearTimeout(this.to);\r\n\t\t}\r\n\t}\r\n\r\n\tsetTimeout(callback, msec = 300) {\r\n\t\tthis.clearTimeout();\r\n\t\tif (typeof callback === 'function') {\r\n\t\t\tthis.to = setTimeout(callback, msec);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.clearTimeout();\r\n\t}\r\n}\r\n\r\nUpdateViewComponent.meta = {\r\n\tselector: 'update-view',\r\n\toutputs: ['select', 'update', 'delete'],\r\n\tinputs: ['view'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"group--headline\" [class]=\"{ active: view.selected }\" (click)=\"onSelect($event)\">\r\n\t\t\t<!-- <div class=\"id\" [innerHTML]=\"view.id\"></div> -->\r\n\t\t\t<div class=\"icon\">\r\n\t\t\t\t<svg-icon [name]=\"view.type.name\"></svg-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\" [innerHTML]=\"getTitle(view)\"></div>\r\n\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t</div>\r\n\t\t<form [formGroup]=\"form\" (submit)=\"onSubmit()\" name=\"form\" role=\"form\" novalidate autocomplete=\"off\" *if=\"view.selected\">\r\n\t\t\t<div class=\"form-controls\">\r\n\t\t\t\t<div control-text [control]=\"controls.id\" label=\"Id\" [disabled]=\"true\"></div>\r\n\t\t\t\t<!-- <div control-text [control]=\"controls.type\" label=\"Type\" [disabled]=\"true\"></div> -->\r\n\t\t\t\t<div control-text [control]=\"controls.name\" label=\"Name\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name == 'waiting-room'\">\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.latitude\" label=\"Latitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.longitude\" label=\"Longitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.zoom\" label=\"Zoom\" [disabled]=\"true\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name == 'panorama'\">\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hidden\" label=\"Hide from menu\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image or Video\" accept=\"image/jpeg, video/mp4\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.latitude\" label=\"Latitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.longitude\" label=\"Longitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.zoom\" label=\"Zoom\" [disabled]=\"true\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name == 'panorama-grid'\">\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hidden\" label=\"Hide from menu\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.latitude\" label=\"Latitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.longitude\" label=\"Longitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.zoom\" label=\"Zoom\" [disabled]=\"true\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name == 'room-3d'\">\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hidden\" label=\"Hide from menu\"></div>\r\n\t\t\t\t<div control-model [control]=\"controls.asset\" label=\"Model (.glb)\" accept=\".glb\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.latitude\" label=\"Latitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.longitude\" label=\"Longitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.zoom\" label=\"Zoom\" [disabled]=\"true\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name == 'model'\">\r\n\t\t\t\t<div control-checkbox [control]=\"controls.hidden\" label=\"Hide from menu\"></div>\r\n\t\t\t\t<div control-localized-asset [control]=\"controls.asset\" label=\"Image\" accept=\"image/jpeg\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.latitude\" label=\"Latitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.longitude\" label=\"Longitude\" [disabled]=\"true\"></div>\r\n\t\t\t\t<div control-text [control]=\"controls.zoom\" label=\"Zoom\" [disabled]=\"true\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-controls\" *if=\"view.type.name != 'waiting-room' && ('ar' | flag)\">\r\n\t\t\t\t<div control-model [control]=\"controls.usdz\" label=\"AR IOS (.usdz)\" accept=\".usdz\"></div>\r\n\t\t\t\t<div control-model [control]=\"controls.gltf\" label=\"AR Android (.glb)\" accept=\".glb\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t<button type=\"submit\" class=\"btn--update\" [class]=\"{ busy: busy }\">\r\n\t\t\t\t\t<span [innerHTML]=\"'update' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"button\" class=\"btn--remove\" *if=\"view.type.name != 'waiting-room'\" (click)=\"onRemove($event)\">\r\n\t\t\t\t\t<span [innerHTML]=\"'remove' | label\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t`,\r\n};\r\n","import { Module } from 'rxcomp';\r\nimport ToastOutletComponent from '../toast/toast-outlet.component';\r\nimport AsideComponent from './aside/aside.component';\r\nimport EditorComponent from './editor.component';\r\nimport MenuBuilderComponent from './menu/menu-builder.component';\r\nimport CurvedPlaneModalComponent from './modals/curved-plane-modal.component';\r\nimport ItemModelModalComponent from './modals/item-model-modal.component';\r\nimport MediaModalComponent from './modals/media-modal.component';\r\nimport ModelModalComponent from './modals/model-modal.component';\r\nimport NavModalComponent from './modals/nav-modal.component';\r\nimport NavmapItemModalComponent from './modals/navmap-item-modal.component';\r\nimport NavmapModalComponent from './modals/navmap-modal.component';\r\nimport PanoramaGridModalComponent from './modals/panorama-grid-modal.component';\r\nimport PanoramaModalComponent from './modals/panorama-modal.component';\r\nimport PathAddModalComponent from './modals/path-add-modal.component';\r\nimport PathEditModalComponent from './modals/path-edit-modal.component';\r\nimport PlaneModalComponent from './modals/plane-modal.component';\r\nimport RemoveModalComponent from './modals/remove-modal.component';\r\nimport Room3DModalComponent from './modals/room-3d-modal.component';\r\nimport NavmapBuilderComponent from './navmap/navmap-builder.component';\r\nimport NavmapEditComponent from './navmap/navmap-edit.component';\r\nimport UpdateViewItemComponent from './update/update-view-item.component';\r\nimport UpdateViewTileComponent from './update/update-view-tile.component';\r\nimport UpdateViewComponent from './update/update-view.component';\r\n\r\nconst factories = [\r\n\tAsideComponent,\r\n\tCurvedPlaneModalComponent,\r\n\tEditorComponent,\r\n\tItemModelModalComponent,\r\n\tNavmapBuilderComponent,\r\n\tNavmapEditComponent,\r\n\tNavmapModalComponent,\r\n\tNavmapItemModalComponent,\r\n\tMediaModalComponent,\r\n\tMenuBuilderComponent,\r\n\tModelModalComponent,\r\n\tNavModalComponent,\r\n\tPanoramaModalComponent,\r\n\tPanoramaGridModalComponent,\r\n\tPathAddModalComponent,\r\n\tPathEditModalComponent,\r\n\tPlaneModalComponent,\r\n\tRemoveModalComponent,\r\n\tRoom3DModalComponent,\r\n\tToastOutletComponent,\r\n\tUpdateViewItemComponent,\r\n\tUpdateViewTileComponent,\r\n\tUpdateViewComponent,\r\n];\r\n\r\nconst pipes = [];\r\n\r\nexport class EditorModule extends Module { }\r\n\r\nEditorModule.meta = {\r\n\timports: [],\r\n\tdeclarations: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n\texports: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { ModalService } from '../../modal/modal.service';\r\n\r\nexport default class IframeModalComponent extends Component {\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nIframeModalComponent.meta = {\r\n\tselector: '[iframe-modal]',\r\n\tinputs: ['src'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"modal__content\">\r\n\t\t\t<iframe [src]=\"src\"></iframe>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nIframeModalComponent.chunk = (src) => /* html */`<div class=\"iframe-modal\" iframe-modal src=\"${src}\"></div>`;\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../environment';\r\n\r\nexport default class EnvPipe extends Pipe {\r\n\r\n\tstatic transform(keypath) {\r\n\t\tlet env = environment;\r\n\t\tconst keys = keypath.split('.');\r\n\t\tlet k = keys.shift();\r\n\t\twhile (keys.length > 0 && env[k]) {\r\n\t\t\tenv = env[k];\r\n\t\t\tk = keys.shift();\r\n\t\t}\r\n\t\tconst value = env[k] || null;\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nEnvPipe.meta = {\r\n\tname: 'env',\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../environment';\r\n\r\nexport default class FlagPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst flags = environment.flags;\r\n\t\treturn flags[key] || false;\r\n\t}\r\n\r\n}\r\n\r\nFlagPipe.meta = {\r\n\tname: 'flag',\r\n};\r\n","import { isPlatformBrowser } from 'rxcomp';\r\nimport { BehaviorSubject, combineLatest, EMPTY, fromEvent, merge, of, ReplaySubject } from 'rxjs';\r\nimport { delayWhen, filter, first, map, switchMap, tap } from 'rxjs/operators';\r\nimport { Asset, assetTypeFromPath } from '../asset/asset';\r\nimport { AssetService } from '../asset/asset.service';\r\n\r\nexport class UploadItem {\r\n\r\n\tconstructor(file) {\r\n\t\tthis.file = file;\r\n\t\tthis.name = file.name;\r\n\t\tthis.type = assetTypeFromPath(file.name);\r\n\t\tthis.progress = 0;\r\n\t\tthis.size = file.size;\r\n\t\tthis.uploading = false;\r\n\t\tthis.paused = false;\r\n\t\tthis.success = false;\r\n\t\tthis.complete = false;\r\n\t\tthis.error = null;\r\n\t\tthis.preview = null;\r\n\t}\r\n\r\n}\r\n\r\nexport class UploadEvent {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class UploadStartEvent extends UploadEvent { }\r\n\r\nexport class UploadCompleteEvent extends UploadEvent { }\r\n\r\nexport class UploadAssetEvent extends UploadEvent { }\r\n\r\nexport class UploadService {\r\n\r\n\tconstructor() {\r\n\t\tthis.concurrent$ = new BehaviorSubject(0);\r\n\t\tthis.items$ = new BehaviorSubject([]);\r\n\t\tthis.events$ = new ReplaySubject(1);\r\n\t}\r\n\r\n\tupload$() {\r\n\t\tconst items = this.items$.getValue();\r\n\t\tconst uploadItems = items.filter(item => !item.uploading);\r\n\t\treturn combineLatest(uploadItems.map(item => this.uploadItem$(item)));\r\n\t}\r\n\r\n\tuploadItem$(item) {\r\n\t\t// max 4 concurrent upload\r\n\t\titem.uploading = true;\r\n\t\tthis.events$.next(new UploadStartEvent({ item }));\r\n\t\tconst files = [item.file];\r\n\t\treturn of(files).pipe(\r\n\t\t\tdelayWhen(() => this.concurrent$.pipe(\r\n\t\t\t\tfilter(x => x < 4),\r\n\t\t\t)),\r\n\t\t\ttap(() => this.concurrent$.next(this.concurrent$.getValue() + 1)),\r\n\t\t\tfirst(),\r\n\t\t\tswitchMap(files => AssetService.upload$(files)),\r\n\t\t\tswitchMap((uploads) => {\r\n\t\t\t\tconst upload = uploads[0];\r\n\t\t\t\titem.uploading = false;\r\n\t\t\t\titem.complete = true;\r\n\t\t\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\t\t\tthis.events$.next(new UploadCompleteEvent({ item, asset }));\r\n\t\t\t\treturn AssetService.assetCreate$(asset).pipe(\r\n\t\t\t\t\ttap(asset => {\r\n\t\t\t\t\t\tthis.remove(item);\r\n\t\t\t\t\t\tthis.events$.next(new UploadAssetEvent({ item, asset }));\r\n\t\t\t\t\t\tthis.concurrent$.next(this.concurrent$.getValue() - 1);\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t);\r\n\t\t/*\r\n\t\t// concurrent upload\r\n\t\treturn AssetService.upload$([item.file]).pipe(\r\n\t\t\tswitchMap((uploads) => {\r\n\t\t\t\tconst upload = uploads[0];\r\n\t\t\t\titem.uploading = false;\r\n\t\t\t\titem.complete = true;\r\n\t\t\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\t\t\tthis.events$.next(new UploadCompleteEvent({ item, asset }));\r\n\t\t\t\treturn AssetService.assetCreate$(asset).pipe(\r\n\t\t\t\t\ttap(asset => {\r\n\t\t\t\t\t\tthis.remove(item);\r\n\t\t\t\t\t\tthis.events$.next(new UploadAssetEvent({ item, asset }));\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t);\r\n\t\t*/\r\n\t}\r\n\r\n\taddItems(files) {\r\n\t\tif (files && files.length) {\r\n\t\t\t// console.log('addItems', files);\r\n\t\t\tconst items = this.items$.getValue();\r\n\t\t\tconst newItems = Array.from(files).map(file => new UploadItem(file));\r\n\t\t\titems.push(...newItems);\r\n\t\t\tthis.items$.next(items);\r\n\t\t}\r\n\t}\r\n\r\n\tremove(item) {\r\n\t\tconst items = this.items$.getValue();\r\n\t\tconst index = items.indexOf(item);\r\n\t\tif (index !== -1) {\r\n\t\t\titems.splice(index, 1);\r\n\t\t}\r\n\t\tthis.items$.next(items);\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\t// !!!\r\n\t\tthis.items$.next([]);\r\n\t}\r\n\r\n\tdrop$(input, dropArea) {\r\n\t\tif (isPlatformBrowser && input) {\r\n\t\t\tdropArea = dropArea || input;\r\n\t\t\tconst body = document.querySelector('body');\r\n\t\t\treturn merge(fromEvent(body, 'drop'), fromEvent(body, 'dragover')).pipe(\r\n\t\t\t\tmap((event) => {\r\n\t\t\t\t\t// console.log('UploadService.drop$', event);\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif (event.target === dropArea) {\r\n\t\t\t\t\t\tthis.addItems(event.dataTransfer.files);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.items$;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tchange$(input) {\r\n\t\tif (isPlatformBrowser && input) {\r\n\t\t\treturn fromEvent(input, 'change').pipe(\r\n\t\t\t\tswitchMap((event) => {\r\n\t\t\t\t\tif (input.files.length) {\r\n\t\t\t\t\t\tthis.addItems(input.files);\r\n\t\t\t\t\t\tinput.value = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.items$;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tfiles$(files) {\r\n\t\treturn combineLatest(Array.from(files).map((file, i) => this.file$(file, i)));\r\n\t}\r\n\r\n\tfile$(file, i) {\r\n\t\treturn this.read$(file, i).pipe(\r\n\t\t\tswitchMap(() => this.uploadFile$(file)),\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\tstatic files$(files) {\r\n\t\tconst fileArray = Array.from(files);\r\n\t\tthis.previews = fileArray.map(() => null);\r\n\t\tconst uploads$ = fileArray.map((file, i) => this.read$(file, i).pipe(\r\n\t\t\tswitchMap(() => this.uploadFile$(file)),\r\n\t\t));\r\n\t\treturn combineLatest(uploads$);\r\n\t}\r\n\t*/\r\n\r\n\tread$(file, i) {\r\n\t\tconst reader = new FileReader();\r\n\t\tconst reader$ = fromEvent(reader, 'load').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconst blob = event.target.result;\r\n\t\t\t\tthis.resize(blob, (resized) => {\r\n\t\t\t\t\tthis.previews[i] = resized;\r\n\t\t\t\t\t// console.log('resized', resized);\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t);\r\n\t\treader.readAsDataURL(file);\r\n\t\treturn reader$;\r\n\t}\r\n\r\n\tuploadFile$(file) {\r\n\t\treturn AssetService.upload$([file]).pipe(\r\n\t\t\tswitchMap((uploads) => {\r\n\t\t\t\tconst upload = uploads[0];\r\n\t\t\t\t/*\r\n\t\t\t\tid: 1601303293569\r\n\t\t\t\ttype: 'image/jpeg'\r\n\t\t\t\tfile: '1601303293569_ambiente1_x0_y2.jpg'\r\n\t\t\t\toriginalFileName: 'ambiente1_x0_y2.jpg'\r\n\t\t\t\turl: '/uploads/1601303293569_ambiente1_x0_y2.jpg'\r\n\t\t\t\t*/\r\n\t\t\t\tconst asset = Asset.fromUrl(upload.url);\r\n\t\t\t\treturn AssetService.assetCreate$(asset);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tresize(blob, callback) {\r\n\t\tif (typeof callback === 'function') {\r\n\t\t\tconst img = document.createElement('img');\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tconst MAX_WIDTH = 320;\r\n\t\t\t\tconst MAX_HEIGHT = 240;\r\n\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t\tlet width = img.width;\r\n\t\t\t\tlet height = img.height;\r\n\t\t\t\tif (width > height) {\r\n\t\t\t\t\tif (width > MAX_WIDTH) {\r\n\t\t\t\t\t\theight *= MAX_WIDTH / width;\r\n\t\t\t\t\t\twidth = MAX_WIDTH;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (height > MAX_HEIGHT) {\r\n\t\t\t\t\t\twidth *= MAX_HEIGHT / height;\r\n\t\t\t\t\t\theight = MAX_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\t\t\t\tctx.drawImage(img, 0, 0, width, height);\r\n\t\t\t\tconst dataUrl = canvas.toDataURL('image/jpeg', 0.9);\r\n\t\t\t\tcallback(dataUrl);\r\n\t\t\t};\r\n\t\t\timg.src = blob;\r\n\t\t}\r\n\t}\r\n\r\n\tsupported() {\r\n\t\treturn supportFileAPI() && supportAjaxUploadProgressEvents() && supportFormData();\r\n\t\tfunction supportFileAPI() {\r\n\t\t\tvar input = document.createElement('input');\r\n\t\t\tinput.type = 'file';\r\n\t\t\treturn 'files' in input;\r\n\t\t}\r\n\t\tfunction supportAjaxUploadProgressEvents() {\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n\t\t\treturn !!(xhr && ('upload' in xhr) && ('onprogress' in xhr.upload));\r\n\t\t}\r\n\t\tfunction supportFormData() {\r\n\t\t\treturn !!window.FormData;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { getContext } from 'rxcomp';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { UploadAssetEvent, UploadService } from '../upload/upload.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlAssetsComponent extends ControlComponent {\r\n\r\n\tget items() {\r\n\t\treturn this.items_;\r\n\t}\r\n\tset items(items) {\r\n\t\tthis.items_ = items;\r\n\t\tthis.uploadCount = items.reduce((p, c) => {\r\n\t\t\treturn p + (c.uploading || c.completed ? 0 : 1);\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.accept = this.accept || 'image/png, image/jpeg';\r\n\t\tthis.multiple = (this.multiple !== false);\r\n\t\tthis.items = [];\r\n\t\tthis.assets = this.control.value || [];\r\n\t\tthis.hasFiles = false;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = node.querySelector('input');\r\n\t\tinput.setAttribute('accept', this.accept);\r\n\t\tconst dropArea = node.querySelector('.upload-drop');\r\n\t\tconst service = this.service = new UploadService();\r\n\t\tservice.drop$(input, dropArea).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(items => {\r\n\t\t\t// console.log('ControlAssetComponent.drop$', items);\r\n\t\t\tthis.items = items;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tservice.change$(input).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(items => {\r\n\t\t\t// console.log('ControlAssetComponent.change$', items);\r\n\t\t\tthis.items = items;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tservice.events$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('ControlAssetComponent.events$', event);\r\n\t\t\tif (event instanceof UploadAssetEvent) {\r\n\t\t\t\tthis.assets.push(event.asset);\r\n\t\t\t\tthis.control.value = this.assets;\r\n\t\t\t}\r\n\t\t\tthis.items = this.items_;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t// this.control.value = assets;\r\n\t\t});\r\n\t}\r\n\r\n\tonUpload() {\r\n\t\t// console.log('ControlAssetsComponent.onUpload');\r\n\t\tthis.service.upload$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\t// console.log('ControlAssetsComponent.onCancel');\r\n\t\tthis.service.removeAll();\r\n\t}\r\n\r\n\tonItemPause(item) {\r\n\t\t// console.log('ControlAssetsComponent.onPause', item);\r\n\t}\r\n\r\n\tonItemResume(item) {\r\n\t\t// console.log('ControlAssetsComponent.onResume', item);\r\n\t}\r\n\r\n\tonItemCancel(item) {\r\n\t\t// console.log('ControlAssetsComponent.onCancel', item);\r\n\t}\r\n\r\n\tonItemRemove(item) {\r\n\t\t// console.log('ControlAssetsComponent.onRemove', item);\r\n\t\tthis.service.remove(item);\r\n\t}\r\n}\r\n\r\nControlAssetsComponent.meta = {\r\n\tselector: '[control-assets]',\r\n\tinputs: ['control', 'label', 'multiple'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"listing--assets\">\r\n\t\t\t\t<div class=\"listing__item\" *for=\"let item of assets\">\r\n\t\t\t\t\t<div class=\"upload-item\">\r\n\t\t\t\t\t\t<div class=\"picture\">\r\n\t\t\t\t\t\t\t<img [lazy]=\"item | asset\" [size]=\"{ width: 320, height: 240 }\" *if=\"item.type.name === 'image'\" />\r\n\t\t\t\t\t\t\t<video [src]=\"item | asset\" *if=\"item.type.name === 'video'\"></video>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"name\" [innerHTML]=\"item.file\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"listing__item\" *for=\"let item of items\">\r\n\t\t\t\t\t<div upload-item [item]=\"item\" (pause)=\"onItemPause($event)\" (resume)=\"onItemResume($event)\" (cancel)=\"onItemCancel($event)\" (remove)=\"onItemRemove($event)\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t<div class=\"btn--browse\">\r\n\t\t\t\t\t<span [innerHTML]=\"'browse' | label\"></span>\r\n\t\t\t\t\t<input type=\"file\" accept=\"image/jpeg\" multiple />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"btn--upload\" (click)=\"onUpload()\" *if=\"uploadCount > 0\" [innerHTML]=\"'upload' | label\"></div>\r\n\t\t\t\t<div class=\"btn--cancel\" (click)=\"onCancel()\" *if=\"uploadCount > 0\" [innerHTML]=\"'cancel' | label\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"upload-drop\">\r\n    \t\t\t<span [innerHTML]=\"'drag_and_drop_images' | label\"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport { GenericService } from './generic.service';\r\n\r\nexport class GenericModalComponent extends Component {\r\n\r\n\tget data() {\r\n\t\tlet data = null;\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tdata = parentInstance.modal.data;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconsole.log(this.data);\r\n\t\tthis.page = null;\r\n\t\tGenericService.currentLanguagePage$(this.data.mode).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(page => {\r\n\t\t\tthis.page = page;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nGenericModalComponent.meta = {\r\n\tselector: '[generic-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\" *if=\"page\">\r\n\t\t\t<h1 class=\"title\" [innerHTML]=\"page.title\"></h1>\r\n\t\t\t<div class=\"description\" [innerHTML]=\"page.description\"></div>\r\n\t\t</div>\r\n\t\t<div class=\"modal__footer\">\r\n\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onClose()\">\r\n\t\t\t\t<span [innerHTML]=\"'title_close' | label\"></span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nGenericModalComponent.chunk = () => /* html */'<div class=\"generic-modal\" generic-modal></div>';\r\n","import { getContext } from 'rxcomp';\r\nimport { EMPTY, fromEvent, ReplaySubject } from 'rxjs';\r\nimport { first, switchAll, takeUntil, tap } from 'rxjs/operators';\r\nimport { environment } from '../environment';\r\nimport { GenericModalComponent } from '../generic/generic-modal.component';\r\nimport { ModalService } from '../modal/modal.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlCheckboxComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.linksSubject = new ReplaySubject();\r\n\t\tthis.links$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst links = Array.prototype.slice.call(node.querySelectorAll('a'));\r\n\t\t// console.log('ControlCheckboxComponent.onChanges', links);\r\n\t\tthis.linksSubject.next(links.length ? fromEvent(links, 'click') : EMPTY);\r\n\t}\r\n\r\n\tlinks$() {\r\n\t\tconst linksSubject = this.linksSubject.pipe(\r\n\t\t\tswitchAll(),\r\n\t\t\ttap(event => {\r\n\t\t\t\t// console.log(event);\r\n\t\t\t\tif (environment.flags.gdprRoutes) {\r\n\t\t\t\t\tconst template = GenericModalComponent.chunk();\r\n\t\t\t\t\tModalService.open$({ template, data: { mode: 'privacy_policy' } }).pipe(\r\n\t\t\t\t\t\tfirst(),\r\n\t\t\t\t\t).subscribe();\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t\treturn linksSubject;\r\n\t}\r\n\r\n}\r\n\r\nControlCheckboxComponent.meta = {\r\n\tselector: '[control-checkbox]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--checkbox\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label>\r\n\t\t\t\t<input type=\"checkbox\" class=\"control--checkbox\" [formControl]=\"control\" [value]=\"true\" />\r\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\r\n\t\t\t</label>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport KeyboardService from '../keyboard/keyboard.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlCustomSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\t// console.log('ControlCustomSelectComponent.onChanges');\r\n\t}\r\n\t*/\r\n\r\n\tscrollToWord(word) {\r\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\r\n\t\tconst items = this.control.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\t// console.log(word, x.name);\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tif (item) {\r\n\t\t\t\tdropdown.scrollTo(0, item.offsetTop);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetOption(item) {\r\n\t\t// console.log('setOption', item, this.isMultiple);\r\n\t\tlet value;\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = this.control.value || [];\r\n\t\t\tconst index = value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\t// if (value.length > 1) {\r\n\t\t\t\tvalue.splice(index, 1);\r\n\t\t\t\t// }\r\n\t\t\t} else {\r\n\t\t\t\tvalue.push(item.id);\r\n\t\t\t}\r\n\t\t\tvalue = value.length ? value.slice() : null;\r\n\t\t} else {\r\n\t\t\tvalue = item.id;\r\n\t\t\t// DropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t\tthis.control.value = value;\r\n\t\tthis.change.next(value);\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst values = this.control.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.control.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.control.value;\r\n\t\tconst items = this.control.options || [];\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\r\n\t\tif (this.dropped && $event === null) {\r\n\t\t\tthis.control.touched = true;\r\n\t\t}\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t}\r\n\r\n\tget isMultiple() {\r\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\r\n\t}\r\n}\r\n\r\nControlCustomSelectComponent.meta = {\r\n\tselector: '[control-custom-select]',\r\n\toutputs: ['change'],\r\n\tinputs: ['control', 'label', 'multiple'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"control--custom-select\" [innerHTML]=\"getLabel() | label\"></span>\r\n\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\r\n\t\t\t\t<li (click)=\"setOption(item)\" [class]=\"{ empty: item.id == null }\" *for=\"let item of control.options\">\r\n\t\t\t\t\t<span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name | label\"></span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { fromEvent, merge } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlLinkComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = this.input = node.querySelector('input');\r\n\t\tmerge(fromEvent(input, 'input')).pipe(takeUntil(this.unsubscribe$)).subscribe(event => this.onInputDidChange(event));\r\n\t\tfromEvent(input, 'blur').pipe(takeUntil(this.unsubscribe$)).subscribe(event => this.onInputDidBlur(event));\r\n\t}\r\n\r\n\tonInputDidChange(event) {\r\n\t\t// console.log('ControlLinkComponent.onInputDidChange', event.target.value);\r\n\t}\r\n\r\n\tonInputDidBlur(event) {\r\n\t\t// console.log('ControlLinkComponent.onInputDidBlur', event.target.value);\r\n\t\tthis.control.touched = true;\r\n\t\tthis.value = this.input.value;\r\n\t}\r\n\r\n}\r\n\r\nControlLinkComponent.meta = {\r\n\tselector: '[control-link]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { combineLatest } from 'rxjs';\r\nimport { first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { AssetService } from '../asset/asset.service';\r\nimport { DropService } from '../drop/drop.service';\r\nimport { environment } from '../environment';\r\nimport { LanguageService } from '../language/language.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlLocalizedAssetComponent extends ControlComponent {\r\n\r\n\tget localizedValue() {\r\n\t\tlet asset = this.control.value;\r\n\t\tif (asset && asset.locale) {\r\n\t\t\tconst localizedAsset = asset.locale[this.currentLanguage];\r\n\t\t\tif (localizedAsset) {\r\n\t\t\t\tasset = localizedAsset;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn asset;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t\tthis.accept = this.accept || 'image/png, image/jpeg';\r\n\t\tthis.languages = environment.languages;\r\n\t\tthis.currentLanguage = LanguageService.lang;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = node.querySelector('input');\r\n\t\tinput.setAttribute('accept', this.accept);\r\n\t\tDropService.drop$(input).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tDropService.change$(input).pipe(\r\n\t\t\tswitchMap((files) => {\r\n\t\t\t\tconst uploads$ = files.map((file, i) => AssetService.upload$([file]).pipe(\r\n\t\t\t\t\tswitchMap((uploads) => (this.languages.length > 1 ? AssetService.createOrUpdateLocalizedAsset$ : AssetService.createOrUpdateAsset$)(uploads, this.control, this.currentLanguage)),\r\n\t\t\t\t));\r\n\t\t\t\treturn combineLatest(uploads$);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(assets => {\r\n\t\t\t// console.log('ControlLocalizedAssetComponent.change$', assets);\r\n\t\t\tthis.control.value = assets[0];\r\n\t\t});\r\n\t}\r\n\r\n\tsetLanguage(language) {\r\n\t\tLanguageService.setLanguage$(language).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(_ => {\r\n\t\t\tthis.currentLanguage = language;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nControlLocalizedAssetComponent.meta = {\r\n\tselector: '[control-localized-asset]',\r\n\tinputs: ['control', 'label', 'disabled', 'accept'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--picture\">\r\n\t\t\t\t<div class=\"group--picture__info\">\r\n\t\t\t\t\t<span [innerHTML]=\"'browse' | label\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<img [lazy]=\"localizedValue | asset\" [size]=\"{ width: 320, height: 240 }\" *if=\"localizedValue && localizedValue.type.name === 'image'\" />\r\n\t\t\t\t<video [src]=\"localizedValue | asset\" *if=\"localizedValue && localizedValue.type.name === 'video'\"></video>\r\n\t\t\t\t<input type=\"file\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"file-name\" *if=\"localizedValue\" [innerHTML]=\"localizedValue.file\"></div>\r\n\t\t\t<ul class=\"nav--languages\" *if=\"languages.length > 1\">\r\n\t\t\t\t<li class=\"nav__item\" [class]=\"{ active: lang == currentLanguage }\" (click)=\"setLanguage(lang)\" [innerHTML]=\"lang\" *for=\"let lang of languages\"></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { combineLatest, of } from 'rxjs';\r\nimport { first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { AssetService } from '../asset/asset.service';\r\nimport { DropService } from '../drop/drop.service';\r\nimport ControlAssetComponent from './control-asset.component';\r\n\r\nexport default class ControlModelComponent extends ControlAssetComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t\tthis.accept = this.accept || '.glb';\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = this.input = node.querySelector('input');\r\n\t\tinput.setAttribute('accept', this.accept);\r\n\t\t/*\r\n\t\tthis.click$(input).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\t*/\r\n\t\tDropService.change$(input).pipe(\r\n\t\t\tswitchMap((files) => {\r\n\t\t\t\tconst uploads$ = files.map((file, i) => AssetService.upload$([file]).pipe(\r\n\t\t\t\t\tswitchMap((uploads) => AssetService.createOrUpdateAsset$(uploads, this.control)),\r\n\t\t\t\t));\r\n\t\t\t\treturn combineLatest(uploads$);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(assets => {\r\n\t\t\t// console.log('ControlModelComponent.change$', assets);\r\n\t\t\tthis.control.value = assets[0];\r\n\t\t});\r\n\t}\r\n\r\n\tonRemove(event) {\r\n\t\tAssetService.assetDelete$(this.control.value).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(() => {\r\n\t\t\tthis.control.value = null;\r\n\t\t\tthis.input.value = null;\r\n\t\t\tthis.control.touched = true; // !!!\r\n\t\t});\r\n\t\t// !!! delete upload\r\n\t\t// !!! delete asset\r\n\t}\r\n\r\n\t/*\r\n\tclick$(input) {\r\n\t\tif (isPlatformBrowser && input) {\r\n\t\t\treturn fromEvent(input, 'click').pipe(\r\n\t\t\t\ttap(() => input.value = null),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\tread$(file, i) {\r\n\t\treturn of(file);\r\n\t}\r\n}\r\n\r\nControlModelComponent.meta = {\r\n\tselector: '[control-model]',\r\n\tinputs: ['control', 'label', 'disabled', 'accept'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"group--model\">\r\n\t\t\t\t<div class=\"file-name\" *if=\"!control.value\" [innerHTML]=\"'select_file' | label\"></div>\r\n\t\t\t\t<div class=\"file-name\" *if=\"control.value\" [innerHTML]=\"control.value.file\"></div>\r\n\t\t\t\t<div class=\"btn--upload\"><input type=\"file\"><span [innerHTML]=\"'browse' | label\"></span></div>\r\n\t\t\t\t<div class=\"btn--remove\" *if=\"control.value\" (click)=\"onRemove($event)\"><span [innerHTML]=\"'remove' | label\"></span></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlNumberComponent extends ControlComponent {\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.precision = this.precision || 3;\r\n\t\tthis.increment = this.increment || 1 / Math.pow(10, this.precision);\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\tupdateValue(value) {\r\n\t\tthis.control.value = value;\r\n\t}\r\n}\r\n\r\nControlNumberComponent.meta = {\r\n\tselector: '[control-number]',\r\n\tinputs: ['control', 'label', 'precision', 'increment', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"control--content control--number\">\r\n\t\t\t\t<input-value label=\"\" [precision]=\"precision\" [increment]=\"increment\" [disabled]=\"disabled\" [value]=\"control.value\" (update)=\"updateValue($event)\"></input-value>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlPasswordComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlPasswordComponent.meta = {\r\n\tselector: '[control-password]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"password\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" />\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlSelectComponent.meta = {\r\n\tselector: '[control-select]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<select class=\"control--select\" [formControl]=\"control\" required>\r\n\t\t\t\t<option [value]=\"null\" [innerHTML]=\"'select' | label\"></option>\r\n\t\t\t\t<option [value]=\"item.id\" *for=\"let item of control.options\" [innerHTML]=\"item.name\"></option>\r\n\t\t\t</select>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t<svg class=\"icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextComponent.meta = {\r\n\tselector: '[control-text]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextareaComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextareaComponent.meta = {\r\n\tselector: '[control-textarea]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--textarea\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<textarea class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [innerHTML]=\"label\" rows=\"4\" [disabled]=\"disabled\"></textarea>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlVectorComponent extends ControlComponent {\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.precision = this.precision || 3;\r\n\t\tthis.increment = this.increment || 1 / Math.pow(10, this.precision);\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\tupdateValue(index, value) {\r\n\t\tconst values = this.control.value;\r\n\t\tvalues[index] = value;\r\n\t\tthis.control.value = values.slice();\r\n\t}\r\n}\r\n\r\nControlVectorComponent.meta = {\r\n\tselector: '[control-vector]',\r\n\tinputs: ['control', 'label', 'precision', 'increment', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<div class=\"control--head\">\r\n\t\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"control--content control--vector\">\r\n\t\t\t\t<input-value label=\"x\" [precision]=\"precision\" [increment]=\"increment\" [disabled]=\"disabled\" [value]=\"control.value[0]\" (update)=\"updateValue(0, $event)\"></input-value>\r\n\t\t\t\t<input-value label=\"y\" [precision]=\"precision\" [increment]=\"increment\" [disabled]=\"disabled\" [value]=\"control.value[1]\" (update)=\"updateValue(1, $event)\"></input-value>\r\n\t\t\t\t<input-value label=\"z\" [precision]=\"precision\" [increment]=\"increment\" [disabled]=\"disabled\" [value]=\"control.value[2]\" (update)=\"updateValue(2, $event)\"></input-value>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`,\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport default class DisabledDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log('DisabledDirective.onChanges', this.disabled);\r\n\t\tif (this.disabled === true) {\r\n\t\t\tnode.disabled = this.disabled;\r\n\t\t\tnode.setAttribute('disabled', this.disabled);\r\n\t\t} else {\r\n\t\t\tdelete node.disabled;\r\n\t\t\tnode.removeAttribute('disabled');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nDisabledDirective.meta = {\r\n\tselector: 'input[disabled],textarea[disabled]',\r\n\tinputs: ['disabled'],\r\n};\r\n","import { LabelPipe } from '../label/label.pipe';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ErrorsComponent extends ControlComponent {\r\n\tgetLabel(key, value) {\r\n\t\tconst label = LabelPipe.transform(`error_${key}`);\r\n\t\treturn label;\r\n\t}\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { fromEvent, interval, merge, race } from 'rxjs';\r\nimport { filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport default class InputValueComponent extends Component {\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.value = this.value || 0;\r\n\t\tthis.precision = this.precision || 3;\r\n\t\tthis.increment = this.increment || 1 / Math.pow(10, this.precision);\r\n\t\tthis.disabled = this.disabled || false;\r\n\t\tthis.increment$('.btn--more', 1)\r\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\r\n\t\t\t.subscribe((event) => {\r\n\t\t\t\t// console.log('InputValueComponent.increment$', event);\r\n\t\t\t\tthis.value += event;\r\n\t\t\t\tthis.update.next(this.value);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\tthis.increment$('.btn--less', -1)\r\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\r\n\t\t\t.subscribe((event) => {\r\n\t\t\t\t// console.log('InputValueComponent.increment$', event);\r\n\t\t\t\tthis.value += event;\r\n\t\t\t\tthis.update.next(this.value);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst input = this.input = node.querySelector('input');\r\n\t\t// fromEvent(input, 'change')\r\n\t\tmerge(\r\n\t\t\tfromEvent(input, 'input'),\r\n\t\t).pipe(takeUntil(this.unsubscribe$)).subscribe(event => this.onInputDidChange(event));\r\n\t\tmerge(\r\n\t\t\tfromEvent(input, 'blur'),\r\n\t\t\tfromEvent(input, 'keydown').pipe(\r\n\t\t\t\tfilter(event => (event.key === 'Enter' || event.keyCode === 13)),\r\n\t\t\t),\r\n\t\t).pipe(takeUntil(this.unsubscribe$)).subscribe(event => this.onInputDidBlur(event));\r\n\t\t// fromEvent(node, 'focus').pipe(takeUntil(this.unsubscribe$)).subscribe(event => this.onFocus(event));\r\n\t}\r\n\r\n\tonInputDidChange(event) {\r\n\t\t// const node = getContext(this).node;\r\n\t\t// const value = node.value === '' ? null : node.value;\r\n\t\t// eslint-disable-next-line no-useless-escape\r\n\t\tevent.target.value = event.target.value.replace(/[^\\d|\\.|-]/g, '');\r\n\t\t// console.log('InputValueComponent.onInputDidChange', event.target.value);\r\n\t\t/*\r\n\t\tconst value = parseFloat(event.target.value);\r\n\t\tif (this.value !== value) {\r\n\t\t\tif (value !== NaN) {\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\tthis.update.next(this.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\tonInputDidBlur(event) {\r\n\t\t// this.control.touched = true;\r\n\t\t// console.log('InputValueComponent.onInputDidBlur', event.target.value);\r\n\t\tconst value = parseFloat(this.input.value);\r\n\t\tif (this.value !== value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\tthis.update.next(this.value);\r\n\t\t\t} else {\r\n\t\t\t\tthis.input.value = this.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tincrement$(selector, sign) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst element = node.querySelector(selector);\r\n\t\tlet m, increment;\r\n\t\treturn race(fromEvent(element, 'mousedown'), fromEvent(element, 'touchstart')).pipe(\r\n\t\t\ttap(() => {\r\n\t\t\t\tincrement = this.increment;\r\n\t\t\t\tm = 16;\r\n\t\t\t}),\r\n\t\t\tswitchMap((e) => {\r\n\t\t\t\treturn interval(30).pipe(\r\n\t\t\t\t\tfilter((i) => {\r\n\t\t\t\t\t\treturn i % m === 0;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tmap(() => {\r\n\t\t\t\t\t\tconst i = increment * sign;\r\n\t\t\t\t\t\t// increment = Math.min(this.increment * 100, increment * 2);\r\n\t\t\t\t\t\tm = Math.max(1, Math.floor(m * 0.85));\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t// startWith(increment * sign),\r\n\t\t\t\t\ttakeUntil(race(fromEvent(element, 'mouseup'), fromEvent(element, 'touchend'))),\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\tgetValue() {\r\n\t\treturn this.value.toFixed(this.precision);\r\n\t}\r\n\tsetValue(sign) {\r\n\t\tthis.value += this.increment * sign;\r\n\t\tthis.update.next(this.value);\r\n\t\tthis.pushChanges();\r\n\t}\r\n}\r\n\r\nInputValueComponent.meta = {\r\n\tselector: 'input-value',\r\n\toutputs: ['update'],\r\n\tinputs: ['value', 'label', 'precision', 'increment', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--control\" [class]=\"{ disabled: disabled }\">\r\n\t\t\t<input type=\"text\" class=\"control--text\" [placeholder]=\"label\" [value]=\"getValue()\" [disabled]=\"disabled\" />\r\n\t\t\t<div class=\"control--trigger\">\r\n\t\t\t\t<div class=\"btn--more\" (click)=\"setValue(1)\">+</div>\r\n\t\t\t\t<div class=\"btn--less\" (click)=\"setValue(-1)\">-</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { ENV } from '../environment';\r\n\r\nexport default class TestComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.env = ENV;\r\n\t}\r\n\r\n\tonTest(event) {\r\n\t\tthis.test.next(event);\r\n\t}\r\n\r\n\tonReset(event) {\r\n\t\tthis.reset.next(event);\r\n\t}\r\n\r\n}\r\n\r\nTestComponent.meta = {\r\n\tselector: 'test-component',\r\n\tinputs: ['form'],\r\n\toutputs: ['test', 'reset'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"group--form--results\" *if=\"env.DEVELOPMENT\">\r\n\t\t<code [innerHTML]=\"form.value | json\"></code>\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onReset($event)\"><span>reset</span></button>\r\n\t\t<button type=\"button\" class=\"btn--mode\" (click)=\"onTest($event)\"><span>test</span></button>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport default class ValueDirective extends Directive {\r\n\r\n\tonChanges(changes) {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log('ValueDirective.onChanges', this.value);\r\n\t\tnode.value = this.value;\r\n\t\tnode.setAttribute('value', this.value);\r\n\t}\r\n\r\n}\r\n\r\nValueDirective.meta = {\r\n\tselector: '[value]',\r\n\tinputs: ['value'],\r\n};\r\n","import { Pipe } from 'rxcomp';\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n*/\r\n\r\nexport default class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport default class IdDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', this.id);\r\n\t}\r\n\r\n}\r\n\r\nIdDirective.meta = {\r\n\tselector: '[id]',\r\n\tinputs: ['id'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { LanguageService } from './language.service';\r\n\r\nexport default class LanguageComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.showLanguages = false;\r\n\t\tthis.languageService = LanguageService;\r\n\t}\r\n\r\n\tsetLanguage(language) {\r\n\t\tthis.languageService.setLanguage$(language).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(_ => {\r\n\t\t\tthis.showLanguages = false;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tthis.set.next();\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleLanguages() {\r\n\t\tthis.showLanguages = !this.showLanguages;\r\n\t\tthis.pushChanges();\r\n\t}\r\n}\r\n\r\nLanguageComponent.meta = {\r\n\tselector: '[language]',\r\n\toutputs: ['set'],\r\n\ttemplate: /* html */ `\r\n\t\t<button type=\"button\" class=\"btn--language\" (click)=\"toggleLanguages()\" *if=\"languageService.hasLanguages\"><span [innerHTML]=\"languageService.activeLanguage.title\"></span> <svg viewBox=\"0 0 8 5\"><use xlink:href=\"#caret-down\"></use></svg></button>\r\n\t\t<ul class=\"nav--language\" *if=\"showLanguages\">\r\n\t\t\t<li (click)=\"setLanguage(language)\" *for=\"let language of languageService.languages\"><span [innerHTML]=\"language.title\"></span></li>\r\n\t\t</ul>\r\n\t`,\r\n};\r\n","export default class LazyCache {\r\n\tstatic get cache() {\r\n\t\tif (!this.cache_) {\r\n\t\t\tthis.cache_ = {};\r\n\t\t}\r\n\t\treturn this.cache_;\r\n\t}\r\n\r\n\tstatic get(src) {\r\n\t\treturn this.cache[src];\r\n\t}\r\n\r\n\tstatic set(src, blob) {\r\n\t\tthis.cache[src] = blob;\r\n\t\tconst keys = Object.keys(this.cache);\r\n\t\tif (keys.length > 100) {\r\n\t\t\tthis.remove(keys[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic remove(src) {\r\n\t\tdelete this.cache[src];\r\n\t}\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { Subject, of } from 'rxjs';\r\nimport { distinctUntilChanged, first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport ImageService from '../image/image.service';\r\nimport IntersectionService from '../intersection/intersection.service';\r\nimport LazyCache from './lazy.cache';\r\n\r\nexport default class LazyDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('lazy');\r\n\t\tthis.input$ = new Subject().pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tswitchMap(input => {\r\n\t\t\t\tconst src = LazyCache.get(input);\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\treturn of(src);\r\n\t\t\t\t}\r\n\t\t\t\tnode.classList.remove('lazyed');\r\n\t\t\t\treturn this.lazy$(input);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t);\r\n\t\tthis.input$.subscribe(src => {\r\n\t\t\tLazyCache.set(this.lazy, src);\r\n\t\t\tnode.setAttribute('src', src);\r\n\t\t\tnode.classList.add('lazyed');\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.input$.next(this.lazy);\r\n\t}\r\n\r\n\tlazy$(input) {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn IntersectionService.intersection$(node).pipe(\r\n\t\t\t// first(),\r\n\t\t\tswitchMap(() => ImageService.load$(input, this.size)),\r\n\t\t\tfirst(),\r\n\t\t\t// takeUntil(this.unsubscribe$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nLazyDirective.meta = {\r\n\tselector: '[lazy],[[lazy]]',\r\n\tinputs: ['lazy', 'size'],\r\n};\r\n","import { BehaviorSubject, of , Subject } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\n\r\nexport default class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfilter(entry => entry !== undefined && entry.isIntersecting), // entry.intersectionRatio > 0\r\n\t\t\t\tfirst(),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node });\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tfunction observer() {\r\n\t\t\tif ('IntersectionObserver' in window) {\r\n\t\t\t\treturn new IntersectionObserver(entries => {\r\n\t\t\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\t\tentry.target.classList.add('appear');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn { observe: function(node) { node.classList.add('appear')}, unobserve: function() {} };\r\n\t\t\t}\r\n\t\t}\r\n\t\tobserver.observe(node);\r\n\t\tobserver.unobserve(node);\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n","import { Pipe } from 'rxcomp';\r\n\r\n// eslint-disable-next-line no-useless-escape\r\nexport const URL_PATTERN = '(?:(?:https?|ftp):\\/\\/|\\b(?:[a-z\\d]+\\.))(?:(?:[^\\s()<>]+|\\((?:[^\\s()<>]+|(?:\\([^\\s()<>]+\\)))?\\))+(?:\\((?:[^\\s()<>]+|(?:\\(?:[^\\s()<>]+\\)))?\\)|[^\\s`!()\\[\\]{};:\\'\".,<>?«»“”‘’]))?';\r\n\r\n// export const URL_PATTERN = '/((http:\\/\\/|https:\\/\\/|www\\.)([a-z0-9])([a-z0-9]|\\.)+(\\?[a-z]([a-z0-9]|\\=|\\&)+)?)';\r\n\r\nexport default class MessagePipe extends Pipe {\r\n\r\n\tstatic transform(text) {\r\n\t\tlet html = MessagePipe.urlify(text);\r\n\t\thtml = MessagePipe.breakLines(html);\r\n\t\t// console.log('MessagePipe', text, html);\r\n\t\treturn html;\r\n\t}\r\n\r\n\tstatic urlify(text) {\r\n\t\t// const regex = new RegExp(URL_PATTERN, 'gim');\r\n\t\t// eslint-disable-next-line no-useless-escape\r\n\t\tconst regex = /(?:(?:https?|ftp):\\/\\/|\\b(?:[a-z\\d]+\\.))(?:(?:[^\\s()<>]+|\\((?:[^\\s()<>]+|(?:\\([^\\s()<>]+\\)))?\\))+(?:\\((?:[^\\s()<>]+|(?:\\(?:[^\\s()<>]+\\)))?\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))?/gmi;\r\n\t\treturn text.replace(regex, (url) => {\r\n\t\t\treturn /*html*/`<a href=\"${url}\" target=\"_blank\">${url}</a>`;\r\n\t\t});\r\n\t\t// or alternatively\r\n\t\t// return text.replace(urlRegex, '<a href=\"$1\">$1</a>')\r\n\t}\r\n\r\n\tstatic breakLines(text) {\r\n\t\tconst regex = /\\n/gm;\r\n\t\treturn text.replace(regex, (text) => {\r\n\t\t\treturn /*html*/'<br>';\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nMessagePipe.meta = {\r\n\tname: 'message',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from './modal-outlet.component';\r\nimport { ModalService } from './modal.service';\r\n\r\nexport default class ModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nModalComponent.meta = {\r\n\tselector: '[modal]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, takeUntil } from 'rxjs/operators';\r\n// import { RouteSegment } from '../route/route-segment';\r\nimport { RouterService } from './router.service';\r\n\r\nexport class RouterLinkDirective extends Directive {\r\n\r\n\tpath;\r\n\tsegments;\r\n\trouterLink_;\r\n\r\n\tget routerLink() {\r\n\t\treturn this.routerLink_;\r\n\t}\r\n\r\n\tset routerLink(routerLink) {\r\n\t\tthis.routerLink_ = Array.isArray(routerLink) ? routerLink : [routerLink];\r\n\t\t// this.segments = this.getSegments(this.routerLink_);\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// const { node, module } = getContext(this);\r\n\t\t// console.log('RouterLinkDirective.onInit', this.routerLink, node, module);\r\n\t\tthis.routerLink$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// const routerLink = Array.isArray(this.routerLink) ? this.routerLink : [this.routerLink];\r\n\t\tconst routerLink = this.routerLink;\r\n\t\tif (routerLink.length) {\r\n\t\t\tconst routeUrl = RouterService.buildUrl(...routerLink);\r\n\t\t\t// RouterService.isActive(name, params, [strictEquality], [ignoreQueryParams])\r\n\t\t\t// console.log('RouterLinkDirective.routeUrl', routeUrl);\r\n\t\t\tnode.setAttribute('href', routeUrl);\r\n\t\t} else {\r\n\t\t\tnode.setAttribute('href', '');\r\n\t\t}\r\n\t}\r\n\r\n\trouterLink$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\tmap((event) => {\r\n\t\t\t\t// console.log('RouterLinkDirective.routerLink$', this.routerLink);\r\n\t\t\t\tRouterService.setRouterLink(...this.routerLink);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tgetSegments(routerLink) {\r\n\t\t// console.log('RouterLinkDirective.getSegments', routerLink);\r\n\t\tconst segments = [];\r\n\t\trouterLink.forEach(item => {\r\n\t\t\tif (typeof item === 'string') {\r\n\t\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\t\tconst regExp = /([^:]+)|\\:([^\\/]+)/g;\r\n\t\t\t\tconst matches = item.matchAll(regExp);\r\n\t\t\t\tconst components = [];\r\n\t\t\t\tfor (let match of matches) {\r\n\t\t\t\t\tconst g1 = match[1];\r\n\t\t\t\t\tconst g2 = match[2];\r\n\t\t\t\t\tif (g1) {\r\n\t\t\t\t\t\tcomponents.push(g1);\r\n\t\t\t\t\t} else if (g2) {\r\n\t\t\t\t\t\tconst param = {};\r\n\t\t\t\t\t\tparam[g2] = null;\r\n\t\t\t\t\t\tcomponents.push(param);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// !!! todo fix RouteSegment\r\n\t\t\t\tsegments.push(new RouteSegment('', {}));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn segments;\r\n\t}\r\n\r\n\tstatic meta = {\r\n\t\tselector: '[routerLink]',\r\n\t\tinputs: ['routerLink'],\r\n\t};\r\n}\r\n\r\n/*\r\nget urlTree(): UrlTree {\r\n\treturn RouterService.createUrlTree(this.routerLink, {\r\n\t\trelativeTo: this.route,\r\n\t\tqueryParams: this.queryParams,\r\n\t\tfragment: this.fragment,\r\n\t\tpreserveQueryParams: this.preserve,\r\n\t\tqueryParamsHandling: this.queryParamsHandling,\r\n\t\tpreserveFragment: this.preserveFragment,\r\n\t});\r\n}\r\n*/\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport { ModalService } from '../modal/modal.service';\r\n\r\nexport default class SupportRequestModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tonAccept(user) {\r\n\t\tModalService.resolve();\r\n\t}\r\n\r\n\tonReject(user) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nSupportRequestModalComponent.meta = {\r\n\tselector: '[support-request-modal]',\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"modal__header\">\r\n\t\t\t<button type=\"button\" class=\"btn--close\" (click)=\"onClose()\">\r\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#close\"></use></svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"title\">Un operatore è disponibile per un tour guidato.<br>Desideri Accettare?</div>\r\n\t\t\t\t<div class=\"group--cta\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--accept\" (click)=\"onAccept()\">\r\n\t\t\t\t\t\t<span>Accetta</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn--cancel\" (click)=\"onReject()\">\r\n\t\t\t\t\t\t<span>Rifiuta</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n};\r\n\r\nSupportRequestModalComponent.chunk = () => /* html */'<div class=\"support-request-modal\" support-request-modal></div>';\r\n","import { getContext, Structure } from 'rxcomp';\r\n\r\nexport default class SvgIconStructure extends Structure {\r\n\tonInit() {\r\n\t\tthis.update();\r\n\t}\r\n\tonChanges() {\r\n\t\tthis.update();\r\n\t}\r\n\tupdate() {\r\n\t\tif (this.name_ !== this.name) {\r\n\t\t\tthis.name_ = this.name;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (node.parentNode) {\r\n\t\t\t\tconst xmlns = 'http://www.w3.org/2000/svg';\r\n\t\t\t\tconst element = document.createElementNS(xmlns, 'svg');\r\n\t\t\t\tconst w = this.width || 24;\r\n\t\t\t\tconst h = this.height || 24;\r\n\t\t\t\telement.setAttribute('class', `icon--${this.name}`);\r\n\t\t\t\t// element.setAttributeNS(null, 'width', w);\r\n\t\t\t\t// element.setAttributeNS(null, 'height', h);\r\n\t\t\t\telement.setAttributeNS(null, 'viewBox', `0 0 ${w} ${h}`);\r\n\t\t\t\telement.innerHTML = `<use xlink:href=\"#${this.name}\"></use>`;\r\n\t\t\t\telement.rxcompId = node.rxcompId;\r\n\t\t\t\telement.classList.add(...node.classList);\r\n\t\t\t\tnode.parentNode.replaceChild(element, node);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nSvgIconStructure.meta = {\r\n\tselector: 'svg-icon',\r\n\tinputs: ['name', 'width', 'height'],\r\n};\r\n\r\n/*\r\n<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n*/\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport default class TitleDirective extends Directive {\r\n\tset title(title) {\r\n\t\tif (this.title_ !== title) {\r\n\t\t\tthis.title_ = title;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\ttitle ? node.setAttribute('title', title) : node.removeAttribute('title');\r\n\t\t}\r\n\t}\r\n\tget title() {\r\n\t\treturn this.title_;\r\n\t}\r\n}\r\n\r\nTitleDirective.meta = {\r\n\tselector: '[[title]]',\r\n\tinputs: ['title'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { fromEvent, of } from 'rxjs';\r\nimport { switchMap, takeUntil } from 'rxjs/operators';\r\nimport { AssetType } from '../asset/asset';\r\n\r\nexport default class UploadItemComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log('UploadItemComponent.onInit', this.item);\r\n\t\tif (this.item.preview === null) {\r\n\t\t\tthis.read$(this.item.file).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(preview => {\r\n\t\t\t\tthis.item.preview = preview;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tread$(file) {\r\n\t\tconst reader = new FileReader();\r\n\t\tconst reader$ = fromEvent(reader, 'load').pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tconst blob = event.target.result;\r\n\t\t\t\tif (this.item.type.name === AssetType.Image.name) {\r\n\t\t\t\t\treturn this.resize$(blob);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn of(blob);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t\treader.readAsDataURL(file);\r\n\t\treturn reader$;\r\n\t}\r\n\r\n\tresize$(blob) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst img = document.createElement('img');\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tconst MAX_WIDTH = 320;\r\n\t\t\t\tconst MAX_HEIGHT = 240;\r\n\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t\tlet width = img.width;\r\n\t\t\t\tlet height = img.height;\r\n\t\t\t\tif (width > height) {\r\n\t\t\t\t\tif (width > MAX_WIDTH) {\r\n\t\t\t\t\t\theight *= MAX_WIDTH / width;\r\n\t\t\t\t\t\twidth = MAX_WIDTH;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (height > MAX_HEIGHT) {\r\n\t\t\t\t\t\twidth *= MAX_HEIGHT / height;\r\n\t\t\t\t\t\theight = MAX_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\t\t\t\tctx.drawImage(img, 0, 0, width, height);\r\n\t\t\t\tconst dataUrl = canvas.toDataURL('image/jpeg', 0.9);\r\n\t\t\t\tresolve(dataUrl);\r\n\t\t\t};\r\n\t\t\timg.onerror = function(error) {\r\n\t\t\t\treject(error);\r\n\t\t\t};\r\n\t\t\timg.src = blob;\r\n\t\t});\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tthis.pause.next(this.item);\r\n\t}\r\n\r\n\tonResume() {\r\n\t\tthis.resume.next(this.item);\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\tthis.cancel.next(this.item);\r\n\t}\r\n\r\n\tonRemove() {\r\n\t\tthis.remove.next(this.item);\r\n\t}\r\n}\r\n\r\nUploadItemComponent.meta = {\r\n\tselector: '[upload-item]',\r\n\toutputs: ['pause', 'resume', 'cancel', 'remove'],\r\n\tinputs: ['item'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"upload-item\" [class]=\"{ 'error': item.error, 'success': item.success }\">\r\n\t\t<div class=\"picture\">\r\n\t\t\t<img [lazy]=\"item.preview\" [size]=\"{ width: 320, height: 240 }\" *if=\"item.preview && item.type.name === 'image'\" />\r\n\t\t\t<video [src]=\"item.preview\" *if=\"item.preview && item.type.name === 'video'\"></video>\r\n\t\t\t<svg class=\"spinner\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" [class]=\"{ uploading: item.uploading }\" *if=\"item.uploading\"><use xlink:href=\"#spinner\"></use></svg>\r\n\t\t</div>\r\n\t\t<div class=\"name\">{{item.name}}</div>\r\n\t\t<!--\r\n\t\t<div class=\"group--info\">\r\n\t\t\t<div>progress: {{item.progress}}</div>\r\n\t\t\t<div>size: {{item.size}} bytes</div>\r\n\t\t\t<div>current speed: {{item.currentSpeed}} bytes/s</div>\r\n\t\t\t<div>average speed: {{item.averageSpeed}} bytes/s</div>\r\n\t\t\t<div>time ramining: {{item.timeRemaining}}s</div>\r\n\t\t\t<div>paused: {{item.paused}}</div>\r\n\t\t\t<div>success: {{item.success}}</div>\r\n\t\t\t<div>complete: {{item.complete}}</div>\r\n\t\t\t<div>error: {{item.error}}</div>\r\n\t\t</div>\r\n\t\t-->\r\n\t\t<!--\r\n\t\t<div class=\"group--cta\" *if=\"!item.complete && item.uploading\">\r\n\t\t\t<div class=\"btn--pause\" (click)=\"onPause()\">pause</div>\r\n\t\t\t<div class=\"btn--resume\" (click)=\"onResume()\">resume</div>\r\n\t\t\t<div class=\"btn--cancel\" (click)=\"onCancel()\">cancel</div>\r\n\t\t</div>\r\n\t\t-->\r\n\t\t<div class=\"group--cta\">\r\n\t\t\t<div class=\"btn--remove\" (click)=\"onRemove()\" *if=\"!item.complete\">remove</div>\r\n\t\t</div>\r\n\t</div>\r\n\t`,\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport default class HlsDirective extends Directive {\r\n\r\n\tset hls(hls) {\r\n\t\tif (this.hls_ !== hls) {\r\n\t\t\tthis.hls_ = hls;\r\n\t\t\tthis.play(hls);\r\n\t\t}\r\n\t}\r\n\r\n\tget hls() {\r\n\t\treturn this.hls_;\r\n\t}\r\n\r\n\tplay(src) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (Hls.isSupported()) {\r\n\t\t\tvar hls = new Hls();\r\n\t\t\t// bind them together\r\n\t\t\thls.attachMedia(node);\r\n\t\t\thls.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n\t\t\t\thls.loadSource(src);\r\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n\t\t\t\t\t// console.log('HlsDirective', data.levels);\r\n\t\t\t\t\tnode.play();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHlsDirective.meta = {\r\n\tselector: '[[hls]]',\r\n\tinputs: ['hls'],\r\n};\r\n","import { Context } from 'rxcomp';\r\n\r\nexport default class VirtualItem extends Context {\r\n\tconstructor(key, $key, value, $value, index, count, parentInstance) {\r\n\t\tsuper(parentInstance);\r\n\t\tthis[key] = $key;\r\n\t\tthis[value] = $value;\r\n\t\tthis.index = index;\r\n\t\tthis.count = count;\r\n\t}\r\n\r\n\tget first() {\r\n\t\treturn this.index === 0;\r\n\t}\r\n\r\n\tget last() {\r\n\t\treturn this.index === this.count - 1;\r\n\t}\r\n\r\n\tget even() {\r\n\t\treturn this.index % 2 === 0;\r\n\t}\r\n\r\n\tget odd() {\r\n\t\treturn !this.even;\r\n\t}\r\n}\r\n","import { getContext, Structure } from 'rxcomp';\r\nimport { BehaviorSubject, fromEvent, merge } from 'rxjs';\r\nimport { auditTime, distinctUntilChanged, map, startWith, takeUntil, tap } from 'rxjs/operators';\r\nimport VirtualItem from './virtual.item';\r\n\r\nexport const VirtualMode = {\r\n\tResponsive: 1,\r\n\tGrid: 2,\r\n\tCentered: 3,\r\n\tList: 4,\r\n};\r\n\r\nexport default class VirtualStructure extends Structure {\r\n\r\n\tonInit() {\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst template = node.firstElementChild;\r\n\t\tconst expression = node.getAttribute('*virtual');\r\n\t\tnode.removeAttribute('*virtual');\r\n\t\tnode.removeChild(template);\r\n\t\tconst tokens = (this.tokens = this.getExpressionTokens(expression));\r\n\t\tthis.virtualFunction = module.makeFunction(tokens.iterable);\r\n\t\tthis.container = node;\r\n\t\tthis.template = template;\r\n\t\tthis.mode = this.mode || 1;\r\n\t\tthis.width = this.width || 250;\r\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\r\n\t\tthis.reverse = this.reverse === true ? true : false;\r\n\t\tthis.options = {\r\n\t\t\twidth: this.width,\r\n\t\t\tgutter: this.gutter,\r\n\t\t\treverse: this.reverse,\r\n\t\t\tcontainerWidth: 0,\r\n\t\t\tcontainerHeight: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tcols: [0],\r\n\t\t};\r\n\t\tthis.cachedRects = {};\r\n\t\tthis.cachedInstances = [];\r\n\t\tthis.cacheNodes = [];\r\n\t\tthis.items$ = new BehaviorSubject([]);\r\n\t\tthis.update$()\r\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\r\n\t\t\t.subscribe(visibleItems => {\r\n\t\t\t\t// console.log(visibleItems.length);\r\n\t\t\t});\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\tconst context = getContext(this);\r\n\t\tconst module = context.module;\r\n\t\t// resolve\r\n\t\tconst items = module.resolve(this.virtualFunction, context.parentInstance, this) || [];\r\n\t\tthis.mode = this.mode || 1;\r\n\t\tthis.width = this.width || 250;\r\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\r\n\t\tthis.options.width = this.width;\r\n\t\tthis.updateView(true);\r\n\t\tthis.items$.next(items);\r\n\t\t// console.log('VirtualStructure', 'items.length', items.length);\r\n\t}\r\n\r\n\tupdate$() {\r\n\t\tthis.updateView(true);\r\n\t\treturn merge(this.scroll$(), this.resize$(), this.items$.pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t)).pipe(\r\n\t\t\tmap(_ => {\r\n\t\t\t\tconst visibleItems = this.updateForward();\r\n\t\t\t\treturn visibleItems;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tupdateForward() {\r\n\t\tconst options = this.options;\r\n\t\tconst items = this.items$.getValue();\r\n\t\tconst total = items.length;\r\n\t\tthis.container.position = 'relative';\r\n\t\tlet highestHeight = 0;\r\n\t\tconst width = this.getWidth();\r\n\t\tconst gutter = this.getGutter(width);\r\n\t\tconst visibleItems = [];\r\n\t\tfor (let i = 0, len = items.length; i < len; i++) {\r\n\t\t\tconst item = items[i];\r\n\t\t\tlet col, height, top, left, bottom;\r\n\t\t\tlet rect = this.cachedRects[i];\r\n\t\t\tif (rect) {\r\n\t\t\t\tcol = rect.col;\r\n\t\t\t\theight = rect.height;\r\n\t\t\t\tleft = rect.left;\r\n\t\t\t\t// top = rect.top;\r\n\t\t\t\t// bottom = rect.bottom;\r\n\t\t\t} else {\r\n\t\t\t\tcol = this.getCol();\r\n\t\t\t\theight = this.getHeight(width, item);\r\n\t\t\t}\r\n\t\t\ttop = options.cols[col];\r\n\t\t\tif (this.intersect(top + options.top, top + height + options.top, 0, options.containerHeight)) {\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tleft = this.getLeft(col, width, gutter);\r\n\t\t\t\t}\r\n\t\t\t\tconst node = this.cachedNode(i, i, item, total);\r\n\t\t\t\tnode.style.position = 'absolute';\r\n\t\t\t\tnode.style.top = top + 'px';\r\n\t\t\t\tnode.style.left = left + 'px';\r\n\t\t\t\tnode.style.width = width + 'px';\r\n\t\t\t\tif (height !== node.offsetHeight) {\r\n\t\t\t\t\theight = node.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom };\r\n\t\t\t\t} else {\r\n\t\t\t\t\trect.height = height;\r\n\t\t\t\t\trect.bottom = bottom;\r\n\t\t\t\t}\r\n\t\t\t\tvisibleItems.push(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeNode(i);\r\n\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet removeIndex = items.length;\r\n\t\twhile (removeIndex < this.cacheNodes.length) {\r\n\t\t\tthis.removeNode(removeIndex);\r\n\t\t\tremoveIndex++;\r\n\t\t}\r\n\t\tthis.cacheNodes.length = items.length;\r\n\t\tconst parentContainer = this.container.parentNode;\r\n\t\tif (this.reverse && (highestHeight < parentContainer.offsetHeight - 1)) {\r\n\t\t\tconst diff = parentContainer.offsetHeight - 1 - highestHeight;\r\n\t\t\titems.forEach((item, i) => {\r\n\t\t\t\tif (visibleItems.indexOf(item) !== -1) {\r\n\t\t\t\t\tconst rect = this.cachedRects[i];\r\n\t\t\t\t\tconst node = this.cachedNode(i, i, item, total);\r\n\t\t\t\t\tnode.style.top = (rect.top + diff) + 'px';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.container.style.height = `${parentContainer.offsetHeight - 1}px`;\r\n\t\t} else {\r\n\t\t\tthis.container.style.height = `${highestHeight}px`;\r\n\t\t}\r\n\t\t// console.log('VirtualStructure.updateForward', 'items.length', items.length, highestHeight, visibleItems);\r\n\t\treturn visibleItems;\r\n\t}\r\n\r\n\t/*\r\n\tupdateForward__() {\r\n\t\tconst options = this.options;\r\n\t\tconst items = this.items$.getValue();\r\n\t\t// console.log('VirtualStructure', 'items.length', items.length);\r\n\t\tconst total = items.length;\r\n\t\tthis.container.position = 'relative';\r\n\t\tlet highestHeight = 0;\r\n\t\tconst width = this.getWidth();\r\n\t\tconst gutter = this.getGutter(width);\r\n\t\tconst visibleItems = items.filter((item, i) => {\r\n\t\t\tlet col, height, top, left, bottom;\r\n\t\t\tlet rect = this.cachedRects[i];\r\n\t\t\tif (rect) {\r\n\t\t\t\tcol = rect.col;\r\n\t\t\t\theight = rect.height;\r\n\t\t\t\tleft = rect.left;\r\n\t\t\t\t// top = rect.top;\r\n\t\t\t\t// bottom = rect.bottom;\r\n\t\t\t} else {\r\n\t\t\t\tcol = this.getCol();\r\n\t\t\t\theight = this.getHeight(width, item);\r\n\t\t\t}\r\n\t\t\ttop = options.cols[col];\r\n\t\t\tif (this.intersect(top + options.top, top + height + options.top, options.top, options.top + options.containerHeight)) {\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tleft = this.getLeft(col, width, gutter);\r\n\t\t\t\t}\r\n\t\t\t\tconst node = this.cachedNode(i, i, item, total);\r\n\t\t\t\tnode.style.position = 'absolute';\r\n\t\t\t\tnode.style.top = top + 'px';\r\n\t\t\t\tnode.style.left = left + 'px';\r\n\t\t\t\tnode.style.width = width + 'px';\r\n\t\t\t\tif (height !== node.offsetHeight) {\r\n\t\t\t\t\theight = node.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom };\r\n\t\t\t\t} else {\r\n\t\t\t\t\trect.height = height;\r\n\t\t\t\t\trect.bottom = bottom;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeNode(i);\r\n\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet removeIndex = items.length;\r\n\t\twhile (removeIndex < this.cacheNodes.length) {\r\n\t\t\tthis.removeNode(removeIndex);\r\n\t\t\tremoveIndex++;\r\n\t\t}\r\n\t\tthis.cacheNodes.length = items.length;\r\n\t\tthis.container.style.height = `${highestHeight}px`;\r\n\t\treturn visibleItems;\r\n\t}\r\n\r\n\tupdateBackward__() {\r\n\t\tconst options = this.options;\r\n\t\tconst items = this.items$.getValue();\r\n\t\t// console.log('VirtualStructure', 'items.length', items.length);\r\n\t\tconst total = items.length;\r\n\t\tthis.container.position = 'relative';\r\n\t\tlet lowestHeight = 0;\r\n\t\tconst width = this.getWidth();\r\n\t\tconst gutter = this.getGutter(width);\r\n\t\tconst visibleItems = [];\r\n\t\tfor (let i = items.length - 1; i >= 0; i--) {\r\n\t\t\tconst item = items[i];\r\n\t\t\tlet col, height, top, left, bottom;\r\n\t\t\tlet rect = this.cachedRects[i];\r\n\t\t\tif (rect) {\r\n\t\t\t\tcol = rect.col;\r\n\t\t\t\theight = rect.height;\r\n\t\t\t\tleft = rect.left;\r\n\t\t\t\t// top = rect.top;\r\n\t\t\t\t// bottom = rect.bottom;\r\n\t\t\t} else {\r\n\t\t\t\tcol = this.getCol();\r\n\t\t\t\theight = this.getHeight(width, item);\r\n\t\t\t}\r\n\t\t\tbottom = options.cols[col];\r\n\t\t\tif (this.intersect(bottom - height + options.top, bottom + options.top, options.top, options.top + options.containerHeight)) {\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tleft = this.getLeft(col, width, gutter);\r\n\t\t\t\t}\r\n\t\t\t\tconst node = this.cachedNode(i, i, item, total);\r\n\t\t\t\tnode.style.position = 'absolute';\r\n\t\t\t\tnode.style.top = top + 'px';\r\n\t\t\t\tnode.style.left = left + 'px';\r\n\t\t\t\tnode.style.width = width + 'px';\r\n\t\t\t\tif (height !== node.offsetHeight) {\r\n\t\t\t\t\theight = node.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\ttop = bottom - height - options.gutter;\r\n\t\t\t\tlowestHeight = Math.min(lowestHeight, -top);\r\n\t\t\t\toptions.cols[col] = top;\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom: bottom };\r\n\t\t\t\t} else {\r\n\t\t\t\t\trect.height = height;\r\n\t\t\t\t\trect.top = top;\r\n\t\t\t\t}\r\n\t\t\t\tvisibleItems.push(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeNode(i);\r\n\t\t\t\ttop = bottom - height - options.gutter;\r\n\t\t\t\toptions.cols[col] = top;\r\n\t\t\t\tlowestHeight = Math.min(lowestHeight, top);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet removeIndex = items.length;\r\n\t\twhile (removeIndex < this.cacheNodes.length) {\r\n\t\t\tthis.removeNode(removeIndex);\r\n\t\t\tremoveIndex++;\r\n\t\t}\r\n\t\tthis.cacheNodes.length = items.length;\r\n\t\tthis.container.style.height = `${-lowestHeight}px`;\r\n\t\treturn visibleItems;\r\n\t}\r\n\t*/\r\n\r\n\tgetCols() {\r\n\t\tconst options = this.options;\r\n\t\tconst cols = Math.floor((options.containerWidth + options.gutter) / (options.width + options.gutter)) || 1;\r\n\t\treturn new Array(cols).fill(0);\r\n\t}\r\n\r\n\tgetCol() {\r\n\t\tconst options = this.options;\r\n\t\tlet col;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tcol = options.cols.reduce((p, c, i, a) => {\r\n\t\t\t\t\treturn c < a[p] ? i : p;\r\n\t\t\t\t}, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tcol = 0;\r\n\t\t}\r\n\t\treturn col;\r\n\t}\r\n\r\n\tgetWidth() {\r\n\t\tconst options = this.options;\r\n\t\tlet width;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\twidth = options.width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\twidth = (options.containerWidth - (options.cols.length - 1) * options.gutter) / options.cols.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\twidth = options.containerWidth;\r\n\t\t}\r\n\t\treturn width;\r\n\t}\r\n\r\n\tgetHeight(width, item) {\r\n\t\tconst options = this.options;\r\n\t\tlet height;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\theight = options.width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\theight = 80;\r\n\t\t}\r\n\t\treturn height;\r\n\t}\r\n\r\n\tgetGutter(width) {\r\n\t\tconst options = this.options;\r\n\t\tlet gutter;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\tgutter = options.gutter;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tgutter = (options.containerWidth - options.cols.length * width) / (options.cols.length - 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tgutter = 0;\r\n\t\t}\r\n\t\treturn gutter;\r\n\t}\r\n\r\n\tgetLeft(index, width, gutter) {\r\n\t\tconst options = this.options;\r\n\t\tlet left;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tleft = index * (width + gutter);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\tleft = (options.containerWidth - options.cols.length * (width + gutter) + gutter) / 2 + index * (width + gutter);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tleft = 0;\r\n\t\t}\r\n\t\treturn left;\r\n\t}\r\n\r\n\tcachedNode(index, i, value, total) {\r\n\t\tif (this.cacheNodes[index]) {\r\n\t\t\treturn this.updateNode(index, i, value);\r\n\t\t} else {\r\n\t\t\treturn this.createNode(index, i, value, total);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(index, i, value, total) {\r\n\t\tconst clonedNode = this.template.cloneNode(true);\r\n\t\tdelete clonedNode.rxcompId;\r\n\t\tthis.container.appendChild(clonedNode);\r\n\t\tthis.cacheNodes[index] = clonedNode;\r\n\t\tconst context = getContext(this);\r\n\t\tconst module = context.module;\r\n\t\tconst tokens = this.tokens;\r\n\t\tconst args = [tokens.key, i, tokens.value, value, i, total, context.parentInstance];\r\n\t\tconst instance = module.makeInstance(clonedNode, VirtualItem, context.selector, context.parentInstance, args);\r\n\t\tconst forItemContext = getContext(instance);\r\n\t\tmodule.compile(clonedNode, forItemContext.instance);\r\n\t\tthis.cachedInstances[index] = instance;\r\n\t\treturn clonedNode;\r\n\t}\r\n\r\n\tupdateNode(index, i, value) {\r\n\t\tconst instance = this.cachedInstances[index];\r\n\t\tconst tokens = this.tokens;\r\n\t\tif (instance[tokens.key] !== i) {\r\n\t\t\tinstance[tokens.key] = i;\r\n\t\t\tinstance[tokens.value] = value;\r\n\t\t\tinstance.pushChanges();\r\n\t\t}\r\n\t\t// console.log(index, i, value);\r\n\t\treturn this.cacheNodes[index];\r\n\t}\r\n\r\n\tremoveNode(index) {\r\n\t\tthis.cachedInstances[index] = undefined;\r\n\t\tconst node = this.cacheNodes[index];\r\n\t\tif (node) {\r\n\t\t\tconst context = getContext(this);\r\n\t\t\tconst module = context.module;\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\tmodule.remove(node);\r\n\t\t}\r\n\t\tthis.cacheNodes[index] = undefined;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tintersect(top1, bottom1, top2, bottom2) {\r\n\t\t// console.log(top2, '<', bottom1, bottom2, '>', top1);\r\n\t\treturn top2 < bottom1 && bottom2 > top1;\r\n\t}\r\n\r\n\tresize$() {\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tstartWith(_ => null),\r\n\t\t\tauditTime(100),\r\n\t\t\ttap(() => this.updateView(true)),\r\n\t\t);\r\n\t}\r\n\r\n\tscroll$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log(node.parentNode, getComputedStyle(node.parentNode).overflowY, node.parentNode.style.overflowY);\r\n\t\tif (node.parentNode && getComputedStyle(node.parentNode).overflowY === 'auto') {\r\n\t\t\treturn fromEvent(node.parentNode, 'scroll').pipe(\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.updateView();\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn fromEvent(window, 'scroll').pipe(tap(() => this.updateView()));\r\n\t\t}\r\n\t}\r\n\r\n\tupdateView(reset) {\r\n\t\tconst rect = this.container.getBoundingClientRect();\r\n\t\tconst options = this.options;\r\n\t\toptions.top = rect.top;\r\n\t\toptions.containerWidth = rect.width;\r\n\t\t// options.containerHeight = rect.height;\r\n\t\toptions.containerHeight = this.container.parentNode.offsetHeight;\r\n\t\toptions.cols = this.getCols();\r\n\t\tif (reset) {\r\n\t\t\tthis.cachedRects = {};\r\n\t\t}\r\n\t}\r\n\r\n\tgetExpressionTokens(expression) {\r\n\t\tif (expression === null) {\r\n\t\t\tthrow new Error('invalid virtual');\r\n\t\t}\r\n\t\tif (expression.trim().indexOf('let ') === -1 || expression.trim().indexOf(' of ') === -1) {\r\n\t\t\tthrow new Error('invalid virtual');\r\n\t\t}\r\n\t\tconst expressions = expression\r\n\t\t\t.split(';')\r\n\t\t\t.map(x => x.trim())\r\n\t\t\t.filter(x => x !== '');\r\n\t\tconst virtualExpressions = expressions[0].split(' of ').map(x => x.trim());\r\n\t\tlet value = virtualExpressions[0].replace(/\\s*let\\s*/, '');\r\n\t\tconst iterable = virtualExpressions[1];\r\n\t\tlet key = 'index';\r\n\t\tconst keyValueMatches = value.match(/\\[(.+)\\s*,\\s*(.+)\\]/);\r\n\t\tif (keyValueMatches) {\r\n\t\t\tkey = keyValueMatches[1];\r\n\t\t\tvalue = keyValueMatches[2];\r\n\t\t}\r\n\t\tif (expressions.length > 1) {\r\n\t\t\tconst indexExpressions = expressions[1].split(/\\s*let\\s*|\\s*=\\s*index/).map(x => x.trim());\r\n\t\t\tif (indexExpressions.length === 3) {\r\n\t\t\t\tkey = indexExpressions[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { key, value, iterable };\r\n\t}\r\n}\r\n\r\nVirtualStructure.meta = {\r\n\tselector: '[*virtual]',\r\n\tinputs: ['mode', 'width', 'gutter', 'reverse'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { filter, takeUntil, tap } from 'rxjs/operators';\r\nimport DragService, { DragDownEvent, DragMoveEvent, DragUpEvent } from '../../drag/drag.service';\r\nimport MediaLoader, { MediaLoaderDisposeEvent, MediaLoaderPauseEvent, MediaLoaderPlayEvent, MediaLoaderTimeUpdateEvent } from './media-loader';\r\n\r\nexport default class MediaPlayerComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log('MediaPlayerComponent', this.media);\r\n\t\tthis.playing = false;\r\n\t\tthis.progress = 0;\r\n\t\tthis.media$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\tthis.drag$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tmedia$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst page = document.querySelector('.page');\r\n\t\treturn MediaLoader.events$.pipe(\r\n\t\t\t// filter(event => event.loader.item.id === this.media.item.id),\r\n\t\t\ttap(event => {\r\n\t\t\t\tif (event instanceof MediaLoaderPlayEvent) {\r\n\t\t\t\t\tthis.media = event.loader;\r\n\t\t\t\t\tthis.playing = true;\r\n\t\t\t\t\tnode.classList.add('active');\r\n\t\t\t\t\tpage.classList.add('media-player-active');\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t} else if (this.media === event.loader) {\r\n\t\t\t\t\tif (event instanceof MediaLoaderPauseEvent) {\r\n\t\t\t\t\t\tthis.playing = false;\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t} else if (event instanceof MediaLoaderTimeUpdateEvent) {\r\n\t\t\t\t\t\tif (!this.dragging) {\r\n\t\t\t\t\t\t\tthis.progress = this.media.progress;\r\n\t\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (event instanceof MediaLoaderDisposeEvent) {\r\n\t\t\t\t\t\tthis.media = null;\r\n\t\t\t\t\t\tnode.classList.remove('active');\r\n\t\t\t\t\t\tpage.classList.remove('media-player-active');\r\n\t\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('MediaPlayerComponent.MediaLoader.events$', event);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tdrag$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst track = node.querySelector('.track');\r\n\t\tlet initialProgress;\r\n\t\treturn DragService.observe$(track).pipe(\r\n\t\t\tfilter(_ => this.media),\r\n\t\t\ttap((event) => {\r\n\t\t\t\tif (event instanceof DragDownEvent) {\r\n\t\t\t\t\tconst rect = track.getBoundingClientRect();\r\n\t\t\t\t\tinitialProgress = Math.max(0, Math.min(1, (event.down.x - rect.left) / rect.width));\r\n\t\t\t\t\tthis.dragging = true;\r\n\t\t\t\t} else if (event instanceof DragMoveEvent) {\r\n\t\t\t\t\tconst rect = track.getBoundingClientRect();\r\n\t\t\t\t\tconst progress = Math.max(0, Math.min(1, initialProgress + event.distance.x / rect.width));\r\n\t\t\t\t\tthis.progress = progress;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t} else if (event instanceof DragUpEvent) {\r\n\t\t\t\t\tthis.media.progress = this.progress;\r\n\t\t\t\t\tthis.dragging = false;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tthis.media.play();\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tthis.media.pause();\r\n\t}\r\n\r\n\tonTrack(event) {\r\n\t\tconst rect = event.currentTarget.getBoundingClientRect();\r\n\t\tconst progress = (event.screenX - rect.left) / rect.width;\r\n\t\tthis.media.progress = progress;\r\n\t\t// console.log(rect.left, event.screenX);\r\n\t}\r\n}\r\n\r\nMediaPlayerComponent.meta = {\r\n\tselector: '[media-player]',\r\n};\r\n","import { environment } from '../../environment';\r\nimport { PANORAMA_RADIUS } from '../geometry/geometry';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nconst PANEL_RADIUS = PANORAMA_RADIUS - 0.01;\r\n\r\nexport default class ModelBannerComponent extends ModelComponent {\r\n\r\n\tget title() {\r\n\t\treturn this.title_;\r\n\t}\r\n\tset title(title) {\r\n\t\tif (this.title_ !== title) {\r\n\t\t\tconst init = this.title_ != null;\r\n\t\t\tthis.title_ = title;\r\n\t\t\tif (!init) {\r\n\t\t\t\tthis.createBanner();\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateBanner();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelBannerComponent.onInit', this.item);\r\n\t}\r\n\r\n\tonView() {\r\n\t\t// console.log('ModelBannerComponent.onView', this.item);\r\n\t\tif (this.viewed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.viewed = true;\r\n\t\t// this.createBanner();\r\n\t}\r\n\t*/\r\n\r\n\tonChanges() {\r\n\t\t// console.log('ModelBannerComponent.onChanges', this.item);\r\n\t\tthis.title = this.item.title;\r\n\t}\r\n\r\n\tcreateBanner() {\r\n\t\tthis.getCanvasTexture().then(result => {\r\n\t\t\tconst texture = result.texture;\r\n\t\t\tconst repeat = 24;\r\n\t\t\ttexture.wrapS = texture.wrapY = THREE.RepeatWrapping;\r\n\t\t\ttexture.repeat.x = repeat;\r\n\t\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\t\t\tconst aspect = (result.width * repeat) / result.height;\r\n\t\t\tconst arc = Math.PI / 180 * 360;\r\n\t\t\tconst width = PANEL_RADIUS * arc;\r\n\t\t\tconst height = width / aspect;\r\n\t\t\tconst geometry = new THREE.CylinderBufferGeometry(PANEL_RADIUS, PANEL_RADIUS, height, 80, 2, true, 0, arc);\r\n\t\t\tgeometry.scale(-1, 1, 1);\r\n\t\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\t\tmap: texture,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttoneMapped: false,\r\n\t\t\t\t// side: THREE.DoubleSide,\r\n\t\t\t});\r\n\t\t\tconst mesh = this.mesh;\r\n\t\t\tconst banners = this.banners = new Array(1).fill(0).map(x => new THREE.Mesh(geometry, material));\r\n\t\t\tbanners.forEach((banner, i) => {\r\n\t\t\t\tbanner.rotation.y = Math.PI / 2 * i;\r\n\t\t\t\t// !!!\r\n\t\t\t\t// mesh.add(banner);\r\n\t\t\t});\r\n\t\t\tconst from = { value: 0 };\r\n\t\t\tgsap.to(from, {\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tvalue: 1,\r\n\t\t\t\tdelay: 0.0,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.opacity = from.value;\r\n\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tmesh.userData = {\r\n\t\t\t\trender: () => {\r\n\t\t\t\t\tmesh.rotation.y += Math.PI / 180 * 0.02;\r\n\t\t\t\t\t// texture.offset.x = (texture.offset.x - 0.01) % 1;\r\n\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tupdateBanner() {\r\n\t\tthis.getCanvasTexture().then(result => {\r\n\t\t\t// console.log('ModelBannerComponent.updateBanner', result);\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tonViewBak() {\r\n\t\tif (this.viewed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.viewed = true;\r\n\t\tthis.getCanvasTexture().then(result => {\r\n\t\t\tconst texture = result.texture;\r\n\t\t\tconst repeat = 3;\r\n\t\t\ttexture.wrapS = texture.wrapY = THREE.RepeatWrapping;\r\n\t\t\ttexture.repeat.x = repeat;\r\n\t\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\t\t\tconst aspect = (result.width * repeat) / result.height;\r\n\t\t\tconst arc = Math.PI / 180 * 45;\r\n\t\t\tconst width = PANEL_RADIUS * arc;\r\n\t\t\tconst height = width / aspect;\r\n\t\t\tconst geometry = new THREE.CylinderBufferGeometry(PANEL_RADIUS, PANEL_RADIUS, height, 20, 2, true, 0, arc);\r\n\t\t\tgeometry.scale(-1, 1, 1);\r\n\t\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\t\tmap: texture,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\t// side: THREE.DoubleSide,\r\n\t\t\t});\r\n\t\t\tconst mesh = this.mesh;\r\n\t\t\tconst banners = this.banners = new Array(4).fill(0).map(x => new THREE.Mesh(geometry, material));\r\n\t\t\tbanners.forEach((banner, i) => {\r\n\t\t\t\tbanner.rotation.y = Math.PI / 2 * i;\r\n\t\t\t\tmesh.add(banner);\r\n\t\t\t});\r\n\t\t\tconst from = { value: 0 };\r\n\t\t\tgsap.to(from, {\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tvalue: 1,\r\n\t\t\t\tdelay: 0.0,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tmaterial.opacity = from.value;\r\n\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmesh.userData = {\r\n\t\t\t\trender: () => {\r\n\t\t\t\t\tmesh.rotation.y += Math.PI / 180 * 0.2;\r\n\t\t\t\t\ttexture.offset.x = (texture.offset.x - 0.01) % 1;\r\n\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\t*/\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst mesh = new THREE.Group();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(mesh);\r\n\t\t}\r\n\t}\r\n\r\n\tgetCanvasTexture() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst MIN_W = 512;\r\n\t\t\tlet W = MIN_W;\r\n\t\t\tlet H = 128;\r\n\t\t\tconst F = Math.floor(H * 0.8);\r\n\t\t\tconst L = Math.floor(H * 0.075);\r\n\t\t\tlet canvas;\r\n\t\t\tif (this.canvas) {\r\n\t\t\t\tcanvas = this.canvas;\r\n\t\t\t} else {\r\n\t\t\t\tcanvas = this.canvas = document.createElement('canvas');\r\n\t\t\t\t// canvas.classList.add('canvas--debug');\r\n\t\t\t\t// document.querySelector('body').appendChild(canvas);\r\n\t\t\t}\r\n\t\t\tcanvas.width = W;\r\n\t\t\tcanvas.height = H;\r\n\t\t\tconst text = this.item.title;\r\n\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t// const ctx = text.material.map.image.getContext('2d');\r\n\t\t\tctx.imageSmoothingEnabled = true;\r\n\t\t\tctx.imageSmoothingQuality = 'high';\r\n\t\t\tctx.font = `${F}px ${environment.fontFamily}`;\r\n\t\t\tconst metrics = ctx.measureText(text);\r\n\t\t\tW = metrics.width + 8;\r\n\t\t\tW = Math.max(MIN_W, Math.pow(2, Math.ceil(Math.log(W) / Math.log(2))));\r\n\t\t\t// const x = W / 2;\r\n\t\t\t// const y = 16;\r\n\t\t\tcanvas.width = W;\r\n\t\t\tctx.clearRect(0, 0, W, H);\r\n\t\t\tctx.fillStyle = '#0000005A'; // 35% // '#000000C0'; // 75%\r\n\t\t\tctx.fillRect(0, 0, W, H);\r\n\t\t\tctx.font = `${F}px ${environment.fontFamily}`;\r\n\t\t\tctx.textAlign = 'center';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';\r\n\t\t\tctx.lineWidth = L;\r\n\t\t\tctx.lineJoin = 'round'; // Experiment with 'bevel' & 'round' for the effect you want!\r\n\t\t\tctx.miterLimit = 2;\r\n\t\t\tctx.strokeText(text, W / 2, H / 2);\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.fillText(text, W / 2, H / 2, W);\r\n\t\t\t// text.material.map.needsUpdate = true;\r\n\t\t\tlet texture;\r\n\t\t\tif (this.texture) {\r\n\t\t\t\ttexture = this.texture;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t} else {\r\n\t\t\t\ttexture = this.texture = new THREE.CanvasTexture(canvas);\r\n\t\t\t}\r\n\t\t\t// console.log(F, L, W, H);\r\n\t\t\tresolve({ texture: texture, width: W, height: H });\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tgetCanvasTexture_() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (this.item.bannerTexture) {\r\n\t\t\t\tresolve(this.item.bannerTexture);\r\n\t\t\t} else {\r\n\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\thtml2canvas(node, {\r\n\t\t\t\t\t\tbackgroundColor: '#00000000', // '#000000ff',\r\n\t\t\t\t\t\tscale: 2,\r\n\t\t\t\t\t}).then(canvas => {\r\n\t\t\t\t\t\t// !!!\r\n\t\t\t\t\t\t// document.body.appendChild(canvas);\r\n\t\t\t\t\t\t// const alpha = this.getAlphaFromCanvas(canvas);\r\n\t\t\t\t\t\t// document.body.appendChild(alpha);\r\n\t\t\t\t\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\t\t\t\t\t// const alphaMap = new THREE.CanvasTexture(alpha);\r\n\t\t\t\t\t\tthis.item.bannerTexture = {\r\n\t\t\t\t\t\t\ttexture: texture,\r\n\t\t\t\t\t\t\twidth: canvas.width,\r\n\t\t\t\t\t\t\theight: canvas.height,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tresolve(this.item.bannerTexture);\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t*/\r\n}\r\n\r\nModelBannerComponent.meta = {\r\n\tselector: '[model-banner]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['item'],\r\n};\r\n","import { filter, take, takeUntil } from 'rxjs/operators';\r\nimport { Host } from '../host/host';\r\nimport MediaMesh from '../media/media-mesh';\r\nimport WorldComponent from '../world.component';\r\nimport ModelEditableComponent from './model-editable.component';\r\n\r\nexport default class ModelCurvedPlaneComponent extends ModelEditableComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelCurvedPlaneComponent.onInit');\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst selected = this.item.selected;\r\n\t\tthis.editing = selected;\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.mesh.editing = selected;\r\n\t\t}\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst item = this.item;\r\n\t\tconst view = this.view;\r\n\t\tconst items = view.items;\r\n\t\tconst geometry = this.getCurvedPanelGeometry(item);\r\n\t\tthis.onMeshDown = this.onMeshDown.bind(this);\r\n\t\tthis.onMeshPlaying = this.onMeshPlaying.bind(this);\r\n\t\tthis.onMeshZoomed = this.onMeshZoomed.bind(this);\r\n\t\tthis.onMeshCurrentTime = this.onMeshCurrentTime.bind(this);\r\n\t\tlet mesh;\r\n\t\tlet subscription;\r\n\t\tMediaMesh.getStreamId$(item).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((streamId) => {\r\n\t\t\tif (this.streamId !== streamId) {\r\n\t\t\t\tthis.streamId = streamId;\r\n\t\t\t\t// !!! called by ModelComponent\r\n\t\t\t\t/*\r\n\t\t\t\tif (mesh) {\r\n\t\t\t\t\tdismount(mesh, item);\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tif (subscription) {\r\n\t\t\t\t\tsubscription.unsubscribe();\r\n\t\t\t\t\tsubscription = null;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('ModelCurvedPanel', streamId, item.asset)\r\n\t\t\t\tif (streamId || !item.asset) {\r\n\t\t\t\t\titem.streamId = streamId;\r\n\t\t\t\t\tmesh = this.disposableMesh = new MediaMesh(item, view, geometry, this.host);\r\n\t\t\t\t\tmesh.updateFromItem(item);\r\n\t\t\t\t\tmesh.name = 'curved-plane';\r\n\t\t\t\t\tmesh.load(() => {\r\n\t\t\t\t\t\tthis.disposableMesh = null;\r\n\t\t\t\t\t\tif (typeof mount === 'function') {\r\n\t\t\t\t\t\t\tmount(mesh, item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsubscription = mesh.events$().pipe(\r\n\t\t\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t\t\t).subscribe(() => { });\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.addMeshListeners(mesh);\r\n\t\t\t\t} else if (this.mesh) {\r\n\t\t\t\t\tdismount(this.mesh, item);\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('streamId', streamId, mesh);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddMeshListeners(mesh) {\r\n\t\tmesh.on('down', this.onMeshDown);\r\n\t\tmesh.on('playing', this.onMeshPlaying);\r\n\t\tmesh.on('zoomed', this.onMeshZoomed);\r\n\t\tmesh.on('currentTime', this.onMeshCurrentTime);\r\n\t}\r\n\r\n\tremoveMeshListeners(mesh) {\r\n\t\tmesh.off('down', this.onMeshDown);\r\n\t\tmesh.off('playing', this.onMeshPlaying);\r\n\t\tmesh.off('zoomed', this.onMeshZoomed);\r\n\t\tmesh.off('currentTime', this.onMeshCurrentTime);\r\n\t}\r\n\r\n\tonMeshDown() {\r\n\t\t// console.log('ModelCurvedPanelComponent.onMeshDown');\r\n\t\tthis.down.next(this);\r\n\t}\r\n\r\n\tonMeshPlaying(playing) {\r\n\t\t// console.log('ModelCurvedPanelComponent.playing', playing);\r\n\t\tthis.play.next({ itemId: this.item.id, playing });\r\n\t}\r\n\r\n\tonMeshZoomed(zoomed) {\r\n\t\t// console.log('ModelCurvedPanelComponent.zoomed', zoomed);\r\n\t\tthis.zoom.next({ itemId: this.item.id, zoomed });\r\n\t}\r\n\r\n\tonMeshCurrentTime(currentTime) {\r\n\t\t// console.log('ModelCurvedPanelComponent.playing', playing);\r\n\t\tthis.currentTime.next({ itemId: this.item.id, currentTime });\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\t// console.log('ModelCurvedPlaneComponent.onDestroy');\r\n\t\tsuper.onDestroy();\r\n\t\tif (this.disposableMesh) {\r\n\t\t\tthis.removeMeshListeners(this.disposableMesh);\r\n\t\t\tthis.disposableMesh.dispose();\r\n\t\t}\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.removeMeshListeners(this.mesh);\r\n\t\t\tthis.mesh.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdate(item, mesh) {\r\n\t\t// console.log('ModelCurvedPlaneComponent.onUpdate', item);\r\n\t\t// !!! true\r\n\t\tif (true && (item.radius !== this.radius_ || item.height !== this.height_ || item.arc !== this.arc_)) {\r\n\t\t\tmesh.geometry.dispose();\r\n\t\t\tconst geometry = this.getCurvedPanelGeometry(item);\r\n\t\t\tmesh.geometry = geometry;\r\n\t\t}\r\n\t\tmesh.updateFromItem(item);\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdateAsset(item, mesh) {\r\n\t\t// console.log('ModelCurvedPlaneComponent.onUpdateAsset', item);\r\n\t\tmesh.updateByItem(item);\r\n\t\tMediaMesh.getStreamId$(item).pipe(\r\n\t\t\tfilter(streamId => streamId !== null),\r\n\t\t\ttake(1),\r\n\t\t).subscribe((streamId) => {\r\n\t\t\titem.streamId = streamId;\r\n\t\t\tmesh.load(() => {\r\n\t\t\t\t// console.log('ModelCurvedPlaneComponent.mesh.load.complete');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragMove(position, normal, spherical) {\r\n\t\t// console.log('ModelCurvedPlaneComponent.onDragMove', position, normal, spherical);\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\titem.showPanel = false;\r\n\t\tthis.editing = true;\r\n\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\tif (spherical) {\r\n\t\t\tposition.normalize().multiplyScalar(20);\r\n\t\t\tmesh.lookAt(Host.origin);\r\n\t\t} else {\r\n\t\t\tmesh.position.set(0, 0, 0);\r\n\t\t\tmesh.lookAt(normal);\r\n\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\tmesh.position.add(normal.multiplyScalar(0.01));\r\n\t\t}\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragEnd() {\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\titem.position = mesh.position.toArray();\r\n\t\titem.rotation = mesh.rotation.toArray();\r\n\t\titem.scale = mesh.scale.toArray();\r\n\t\tmesh.updateFromItem(item);\r\n\t\tthis.editing = false;\r\n\t}\r\n\r\n\tgetCurvedPanelGeometry(item) {\r\n\t\tthis.radius_ = item.radius;\r\n\t\tthis.height_ = item.height;\r\n\t\tthis.arc_ = item.arc;\r\n\t\tconst arc = Math.PI / 180 * item.arc;\r\n\t\tconst geometry = new THREE.CylinderBufferGeometry(item.radius, item.radius, item.height, 36, 2, true, 0, arc);\r\n\t\tgeometry.rotateY(-Math.PI - arc / 2);\r\n\t\tgeometry.scale(-1, 1, 1);\r\n\t\treturn geometry;\r\n\t}\r\n\r\n}\r\n\r\nModelCurvedPlaneComponent.textures = {};\r\n\r\nModelCurvedPlaneComponent.meta = {\r\n\tselector: '[model-curved-plane]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['down', 'play', 'zoom', 'currentTime'],\r\n\tinputs: ['item', 'view'],\r\n};\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const XRStatus = {\r\n\tWaiting: 'waiting',\r\n\tEnabled: 'enabled',\r\n\tEnded: 'ended',\r\n\tStarted: 'started',\r\n\tDisabled: 'disabled',\r\n\tNeedsHttps: 'needs-https',\r\n\tUnavailable: 'unavailable',\r\n};\r\n\r\nexport default class DebugService {\r\n\r\n\tstatic getService() {\r\n\t\tif (!this.service_) {\r\n\t\t\tthis.service_ = new DebugService();\r\n\t\t}\r\n\t\treturn this.service_;\r\n\t}\r\n\r\n\tget message() {\r\n\t\treturn this.message$.getValue();\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tif (DebugService.service_) {\r\n\t\t\tthrow ('DebugService is a singleton class!');\r\n\t\t}\r\n\t\tthis.message$ = new BehaviorSubject(null);\r\n\t}\r\n\r\n\tsetMessage(message) {\r\n\t\tif (this.message !== message) {\r\n\t\t\tthis.message$.next(message);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { takeUntil } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport DebugService from '../debug.service';\r\nimport { Host } from '../host/host';\r\nimport VRService from '../vr.service';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nexport default class ModelDebugComponent extends ModelComponent {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn ModelDebugComponent.loader || (ModelDebugComponent.loader = new THREE.FontLoader());\r\n\t}\r\n\r\n\tstatic getFontLoader(callback) {\r\n\t\treturn ModelDebugComponent.fontLoader || (ModelDebugComponent.fontLoader = ModelDebugComponent.getLoader().load(environment.getPath('fonts/helvetiker/helvetiker_regular.typeface.json'), callback));\r\n\t}\r\n\r\n\tget message() {\r\n\t\treturn this.message_;\r\n\t}\r\n\r\n\tset message(message) {\r\n\t\tmessage = message && message !== '' ? message : null;\r\n\t\tif (this.message_ !== message) {\r\n\t\t\tthis.message_ = message;\r\n\t\t\t// console.log('ModelDebugComponent.set.message', message);\r\n\t\t\tthis.setText(message);\r\n\t\t\t/*\r\n\t\t\tif (this.font) {\r\n\t\t\t\tthis.setText(message);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelDebugComponent.onInit');\r\n\t\t// this.loadFont();\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.session$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((session) => {\r\n\t\t\tif (session) {\r\n\t\t\t\tif (this.text) {\r\n\t\t\t\t\tthis.textGroup.add(this.text);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.text) {\r\n\t\t\t\t\tthis.text.parent.remove(this.text);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst debugService = this.debugService = DebugService.getService();\r\n\t\tdebugService.message$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => this.message = message);\r\n\t}\r\n\r\n\tcreateText() {\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\t// document.querySelector('body').appendChild(canvas);\r\n\t\tcanvas.width = ModelDebugComponent.W;\r\n\t\tcanvas.height = ModelDebugComponent.H;\r\n\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\ttexture.mapping = THREE.UVMapping;\r\n\t\ttexture.needsUpdate = true;\r\n\t\tconst geometry = new THREE.PlaneBufferGeometry(4, 1, 2, 2);\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\tmap: texture,\r\n\t\t\tcolor: 0xffffff, // 0x33c5f6,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 1,\r\n\t\t\ttoneMapped: false,\r\n\t\t\t// blending: THREE.AdditiveBlending,\r\n\t\t\t// side: THREE.DoubleSide\r\n\t\t});\r\n\t\tconst text = new THREE.Mesh(geometry, material);\r\n\t\ttext.renderOrder = environment.renderOrder.debug;\r\n\t\ttext.position.y = 0;\r\n\t\treturn text;\r\n\t}\r\n\r\n\tloadFont() {\r\n\t\tthis.fontLoader = ModelDebugComponent.getFontLoader((font) => {\r\n\t\t\tthis.font = font;\r\n\t\t\tif (this.message_) {\r\n\t\t\t\tthis.setText(this.message_);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst textGroup = this.textGroup = new THREE.Group();\r\n\t\tconst material = this.material = new THREE.MeshBasicMaterial({\r\n\t\t\tdepthTest: false,\r\n\t\t\tcolor: 0xffffff, // 0x33c5f6,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 1,\r\n\t\t\tside: THREE.DoubleSide,\r\n\t\t});\r\n\t\tconst text = this.text = this.createText();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(textGroup);\r\n\t\t}\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\trender(time, tick) {\r\n\t\tconst group = this.group;\r\n\t\tlet camera = this.host.camera;\r\n\t\tconst position = this.position;\r\n\t\tif (this.host.renderer.xr.isPresenting) {\r\n\t\t\tcamera = this.host.renderer.xr.getCamera(camera);\r\n\t\t\t// camera.updateMatrixWorld(); // make sure the camera matrix is updated\r\n\t\t\t// camera.matrixWorldInverse.getInverse(camera.matrixWorld);\r\n\t\t}\r\n\t\tcamera.getWorldDirection(position);\r\n\t\t// console.log(position);\r\n\t\t// if (position.lengthSq() > 0.01) {\r\n\t\t// normalize so we can get a constant speed\r\n\t\t// position.normalize();\r\n\t\tposition.multiplyScalar(3);\r\n\t\t// move body, not the camera\r\n\t\t// VR.body.position.add(lookDirection);\r\n\t\t// console.log(position.x + '|' + position.y + '|' + position.z);\r\n\t\tgroup.position.copy(position);\r\n\t\tgroup.lookAt(Host.origin);\r\n\t\t// }\r\n\t}\r\n\r\n\tsetText(message) {\r\n\t\tconst text = this.text;\r\n\t\tif (text) {\r\n\t\t\tif (this.host.renderer.xr.isPresenting && message != null) {\r\n\t\t\t\t// draw\r\n\t\t\t\tconst ctx = text.material.map.image.getContext('2d');\r\n\t\t\t\tctx.clearRect(0, 0, ModelDebugComponent.W, ModelDebugComponent.H);\r\n\t\t\t\t// ctx.fillRect(0, 0, 10, 10);\r\n\t\t\t\t// ctx.fillRect(ModelDebugComponent.W - 10, ModelDebugComponent.H - 10, 10, 10);\r\n\t\t\t\tctx.font = `30px ${environment.fontFamily}`;\r\n\t\t\t\tctx.textBaseline = 'middle';\r\n\t\t\t\tctx.textAlign = 'center';\r\n\t\t\t\tctx.fillStyle = '#FFFFFF';\r\n\t\t\t\tctx.strokeStyle = '#000000';\r\n\t\t\t\tctx.lineWidth = 5;\r\n\t\t\t\tctx.fillText(message, ModelDebugComponent.W / 2, ModelDebugComponent.H / 2, ModelDebugComponent.W - 20);\r\n\t\t\t\ttext.material.map.needsUpdate = true;\r\n\t\t\t\t// draw\r\n\t\t\t\tthis.textGroup.add(text);\r\n\t\t\t} else if (text.parent) {\r\n\t\t\t\ttext.parent.remove(text);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nModelDebugComponent.W = 1024;\r\nModelDebugComponent.H = 256;\r\n\r\nModelDebugComponent.meta = {\r\n\tselector: '[model-debug]',\r\n\thosts: { host: WorldComponent },\r\n};\r\n","import { takeUntil } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nconst VERTEX_SHADER = `\r\nvarying vec2 vUv;\r\nvoid main() {\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n}\r\n`;\r\n\r\nconst FRAGMENT_SHADER = `\r\nvarying vec2 vUv;\r\nuniform sampler2D textureA;\r\nuniform sampler2D textureB;\r\nuniform float opacity;\r\nuniform float tween;\r\n\r\nvoid main() {\r\n\tvec4 colorA = texture2D(textureA, vUv);\r\n\tvec4 colorB = texture2D(textureB, vUv);\r\n\tvec4 color = mix(colorA, colorB, tween);\r\n\tcolor.a = clamp(color.a * opacity, 0.0, 1.0);\r\n\tcolor.rgb /= color.a;\r\n\tgl_FragColor = color;\r\n}\r\n`;\r\n\r\nexport default class ModelGridComponent extends ModelComponent {\r\n\r\n\tstatic getLoader() {\r\n\t\treturn ModelGridComponent.loader || (ModelGridComponent.loader = new THREE.TextureLoader());\r\n\t}\r\n\r\n\tstatic getTexture() {\r\n\t\treturn ModelGridComponent.texture || (ModelGridComponent.texture = ModelGridComponent.getLoader().load(environment.getPath('textures/ui/floor-nav.png')));\r\n\t}\r\n\r\n\tstatic getOverTexture() {\r\n\t\treturn ModelGridComponent.textureOver || (ModelGridComponent.textureOver = ModelGridComponent.getLoader().load(environment.getPath('textures/ui/floor-nav-over.png')));\r\n\t}\r\n\r\n\tset coords(coords) {\r\n\t\tif ((!coords && this.coords_ !== coords) || !this.coords_ || coords.x !== this.coords_.x || coords.y !== this.coords_.y) {\r\n\t\t\t// changed!\r\n\t\t\tconst tileMap = this.tileMap;\r\n\t\t\tif (this.coords_) {\r\n\t\t\t\tconst previousTile = tileMap[`${this.coords_.x}_${this.coords_.y}`];\r\n\t\t\t\tconst previousUniforms = previousTile.uniforms;\r\n\t\t\t\tgsap.to(previousUniforms, {\r\n\t\t\t\t\ttween: 0,\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tpreviousTile.material.uniforms.tween.value = previousUniforms.tween;\r\n\t\t\t\t\t\tpreviousTile.material.needsUpdate = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (coords) {\r\n\t\t\t\tconst currentTile = this.currentTile = tileMap[`${coords.x}_${coords.y}`];\r\n\t\t\t\tconst currentUniforms = currentTile.uniforms;\r\n\t\t\t\tgsap.to(currentUniforms, {\r\n\t\t\t\t\ttween: 1,\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tcurrentTile.material.uniforms.tween.value = currentUniforms.tween;\r\n\t\t\t\t\t\tcurrentTile.material.needsUpdate = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(currentTile, `${coords.x}_${coords.y}`);\r\n\t\t\t}\r\n\t\t\tthis.coords_ = coords;\r\n\t\t}\r\n\t}\r\n\r\n\tset coords__(coords) {\r\n\t\tif ((!coords && this.coords_ !== coords) || !this.coords_ || coords.x !== this.coords_.x || coords.y !== this.coords_.y) {\r\n\t\t\t// changed!\r\n\t\t\tconst tileMap = this.tileMap;\r\n\t\t\tif (this.coords_) {\r\n\t\t\t\tconst previousTile = tileMap[`${this.coords_.x}_${this.coords_.y}`];\r\n\t\t\t\tconst from = { tween: 1 };\r\n\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\ttween: 0,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tpreviousTile.material.opacity = from.tween;\r\n\t\t\t\t\t\t// previousTile.material.needsUpdate = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (coords) {\r\n\t\t\t\tconst currentTile = this.currentTile = tileMap[`${coords.x}_${coords.y}`];\r\n\t\t\t\tconst from = { tween: 0 };\r\n\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\ttween: 1,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tcurrentTile.material.opacity = from.tween;\r\n\t\t\t\t\t\t// currentTile.material.needsUpdate = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(currentTile, `${coords.x}_${coords.y}`);\r\n\t\t\t}\r\n\t\t\tthis.coords_ = coords;\r\n\t\t}\r\n\t}\r\n\r\n\tgetCoords(point) {\r\n\t\tconst outerTileSize = ModelGridComponent.RADIUS / 10; // assume room is 20m x 20m\r\n\t\tconst col = Math.ceil((point.x + outerTileSize / 2) / outerTileSize) - 1;\r\n\t\tconst row = Math.ceil((point.z + outerTileSize / 2) / outerTileSize) - 1;\r\n\t\tconst dx = Math.floor(ModelGridComponent.COLS / 2);\r\n\t\tconst dy = Math.floor(ModelGridComponent.ROWS / 2);\r\n\t\tconst ci = Math.min(dx, Math.abs(col)) * (col ? Math.abs(col) / col : 1);\r\n\t\tconst ri = Math.min(dy, Math.abs(row)) * (row ? Math.abs(row) / row : 1);\r\n\t\tif (this.view.hasTile(this.indices.x + ci, this.indices.y + ri)) {\r\n\t\t\t// console.log('col', col, 'row', row, 'ci', ci, 'ri', ri);\r\n\t\t\treturn new THREE.Vector2(ci, ri);\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.indices = new THREE.Vector2();\r\n\t\t// console.log('ModelGridComponent.onInit', this.view);\r\n\t\tthis.view.index$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(index => {\r\n\t\t\tthis.moveToIndex(index);\r\n\t\t});\r\n\t}\r\n\r\n\taddTiles(mesh) {\r\n\t\t// console.log('addTiles');\r\n\t\tconst outerTileSize = ModelGridComponent.RADIUS / 10; // assume room is 20m x 20m\r\n\t\tconst innerTileSize = outerTileSize * 0.9;\r\n\t\tconst geometry = new THREE.PlaneBufferGeometry(innerTileSize, innerTileSize, 2, 2);\r\n\t\tgeometry.rotateX(-Math.PI / 2);\r\n\t\tconst map = ModelGridComponent.getTexture();\r\n\t\tmap.disposable = false;\r\n\t\tmap.encoding = THREE.sRGBEncoding;\r\n\t\tconst mapOver = ModelGridComponent.getOverTexture();\r\n\t\tmapOver.disposable = false;\r\n\t\tmapOver.encoding = THREE.sRGBEncoding;\r\n\t\t// geometry.scale(-1, 1, 1);\r\n\t\tconst tileMap = this.tileMap = {};\r\n\t\tconst tiles = this.tiles = new Array(ModelGridComponent.COLS * ModelGridComponent.ROWS).fill(0).map((x, i) => {\r\n\t\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\ttoneMapped: false,\r\n\t\t\t\tvertexShader: VERTEX_SHADER,\r\n\t\t\t\tfragmentShader: FRAGMENT_SHADER,\r\n\t\t\t\tuniforms: {\r\n\t\t\t\t\ttextureA: { type: 't', value: map },\r\n\t\t\t\t\ttextureB: { type: 't', value: mapOver },\r\n\t\t\t\t\ttween: { value: 0 },\r\n\t\t\t\t\topacity: { value: 0 },\r\n\t\t\t\t},\r\n\t\t\t\textensions: {\r\n\t\t\t\t\tfragDepth: true,\r\n\t\t\t\t},\r\n\t\t\t\t// side: THREE.DoubleSide\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\tmap: map,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\t// side: THREE.DoubleSide,\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tconst tile = new THREE.Mesh(geometry, material);\r\n\t\t\tconst dx = Math.floor(ModelGridComponent.COLS / 2);\r\n\t\t\tconst dy = Math.floor(ModelGridComponent.ROWS / 2);\r\n\t\t\tconst row = Math.floor(i / ModelGridComponent.COLS);\r\n\t\t\tconst col = i % ModelGridComponent.COLS;\r\n\t\t\tconst ci = -dx + col;\r\n\t\t\tconst ri = -dy + row;\r\n\t\t\t// console.log(ci, ri);\r\n\t\t\ttile.position.set(ci * outerTileSize, -ModelGridComponent.RADIUS * 0.15, ri * outerTileSize);\r\n\t\t\ttile.name = this.getName(`tile_${ci}_${ri}`);\r\n\t\t\tconst uniforms = tile.uniforms = {\r\n\t\t\t\ttween: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\tci: ci,\r\n\t\t\t\tri: ri,\r\n\t\t\t};\r\n\t\t\ttileMap[`${ci}_${ri}`] = tile;\r\n\t\t\tmesh.add(tile);\r\n\t\t\treturn tile;\r\n\t\t});\r\n\t\tthis.showTiles();\r\n\t}\r\n\r\n\tshowTiles() {\r\n\t\tthis.tiles.forEach((tile, i) => {\r\n\t\t\tconst ix = this.indices ? this.indices.x : 0;\r\n\t\t\tconst iy = this.indices ? this.indices.y : 0;\r\n\t\t\tconst visible = this.view.hasTile(ix + tile.uniforms.ci, iy + tile.uniforms.ri);\r\n\t\t\tconst uniforms = tile.uniforms;\r\n\t\t\tgsap.to(uniforms, {\r\n\t\t\t\topacity: visible ? 1 : 0,\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\t// delay: 0 + i * 0.02,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\ttile.material.uniforms.opacity.value = uniforms.opacity;\r\n\t\t\t\t\ttile.material.needsUpdate = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\taddHitArea(mesh) {\r\n\t\tthis.onGroundOver = this.onGroundOver.bind(this);\r\n\t\tthis.onGroundMove = this.onGroundMove.bind(this);\r\n\t\tthis.onGroundDown = this.onGroundDown.bind(this);\r\n\t\tthis.onGroundOut = this.onGroundOut.bind(this);\r\n\t\tconst outerTileSize = ModelGridComponent.RADIUS / 10; // assume room is 20m x 20m\r\n\t\tconst innerTileSize = outerTileSize * 0.9;\r\n\t\tconst geometry = new THREE.PlaneBufferGeometry(ModelGridComponent.RADIUS, ModelGridComponent.RADIUS, 8, 8); // 20, 20\r\n\t\tgeometry.rotateX(-Math.PI / 2);\r\n\t\t// geometry.scale(-1, 1, 1);\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\ttransparent: true,\r\n\t\t\ttoneMapped: false,\r\n\t\t\topacity: 0,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t});\r\n\t\tconst ground = this.ground = new InteractiveMesh(geometry, material);\r\n\t\tground.name = this.getName('ground');\r\n\t\tground.position.set(0, -ModelGridComponent.RADIUS * 0.15, 0);\r\n\t\tground.on('over', this.onGroundOver);\r\n\t\tground.on('move', this.onGroundMove);\r\n\t\tground.on('out', this.onGroundOut);\r\n\t\tground.on('down', this.onGroundDown);\r\n\t\tmesh.add(ground);\r\n\t}\r\n\r\n\tonGroundOver() {\r\n\t\tconst ground = this.ground;\r\n\t\tconst coords = this.getCoords(ground.intersection.point);\r\n\t\tthis.coords = coords;\r\n\t}\r\n\r\n\tonGroundMove() {\r\n\t\tconst ground = this.ground;\r\n\t\tconst coords = this.getCoords(ground.intersection.point);\r\n\t\tthis.coords = coords;\r\n\t}\r\n\r\n\tonGroundDown() {\r\n\t\tconst ground = this.ground;\r\n\t\tconst coords = this.getCoords(ground.intersection.point);\r\n\t\tthis.coords = coords;\r\n\t\tif (coords) {\r\n\t\t\tconst index = this.view.getTileIndex(this.indices.x + coords.x, this.indices.y + coords.y);\r\n\t\t\tthis.view.index = index;\r\n\t\t\tthis.nav.next(index);\r\n\t\t\t/*\r\n\t\t\tthis.indices.x += coords.x;\r\n\t\t\tthis.indices.y += coords.y;\r\n\t\t\tconst outerTileSize = ModelGridComponent.RADIUS / 10; // assume room is 20m x 20m\r\n\t\t\tthis.move.next({\r\n\t\t\t\tindices: this.indices,\r\n\t\t\t\tcoords,\r\n\t\t\t\tposition: coords.clone().multiplyScalar(outerTileSize)\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t}\r\n\t}\r\n\r\n\tonGroundOut() {\r\n\t\tthis.coords = null;\r\n\t}\r\n\r\n\tmoveToIndex(index) {\r\n\t\t// console.log('ModelGridComponent.moveToIndex', index);\r\n\t\tthis.coords = null;\r\n\t\tconst tile = this.view.tiles[index];\r\n\t\tconst coords = new THREE.Vector2(tile.indices.x - this.indices.x, tile.indices.y - this.indices.y);\r\n\t\tthis.indices.x = tile.indices.x;\r\n\t\tthis.indices.y = tile.indices.y;\r\n\t\tthis.showTiles();\r\n\t\tconst outerTileSize = ModelGridComponent.RADIUS / 10; // assume room is 20m x 20m\r\n\t\tthis.move.next({\r\n\t\t\tindices: this.indices,\r\n\t\t\tcoords,\r\n\t\t\tposition: coords.clone().multiplyScalar(outerTileSize),\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\t// this.renderOrder = environment.renderOrder.tile;\r\n\t\tconst mesh = new THREE.Group();\r\n\t\tthis.addTiles(mesh);\r\n\t\tthis.addHitArea(mesh);\r\n\t\t/*\r\n\t\tmesh.userData = {\r\n\t\t\trender: () => {\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t\t*/\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(mesh);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tsuper.onDestroy();\r\n\t\tconst ground = this.ground;\r\n\t\tground.off('over', this.onGroundOver);\r\n\t\tground.off('move', this.onGroundMove);\r\n\t\tground.off('down', this.onGroundDown);\r\n\t\tground.off('out', this.onGroundOut);\r\n\t}\r\n\r\n}\r\n\r\nModelGridComponent.RADIUS = 101;\r\nModelGridComponent.COLS = 11;\r\nModelGridComponent.ROWS = 11;\r\n\r\nModelGridComponent.meta = {\r\n\tselector: '[model-grid]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['move', 'nav'],\r\n\tinputs: ['view'],\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { of } from 'rxjs';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { MessageType } from '../../agora/agora.types';\r\nimport MenuService from '../../editor/menu/menu.service';\r\nimport { environment } from '../../environment';\r\nimport LoaderService from '../../loader/loader.service';\r\nimport { MessageService } from '../../message/message.service';\r\nimport StateService from '../../state/state.service';\r\nimport { RoleType } from '../../user/user';\r\nimport { Host } from '../host/host';\r\nimport Interactive from '../interactive/interactive';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport OrbitService, { OrbitMode } from '../orbit/orbit.service';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nexport class MenuButton extends InteractiveMesh {\r\n\r\n\tstatic getGrid(total) {\r\n\t\tconst cols = Math.ceil(total / MenuButton.ROWS);\r\n\t\tconst rows = Math.ceil(total / cols);\r\n\t\treturn [rows, cols];\r\n\t}\r\n\r\n\tstatic getX(index, total) {\r\n\t\tconst cols = Math.ceil(total / MenuButton.ROWS);\r\n\t\tconst rows = Math.ceil(total / cols);\r\n\t\tconst c = index % cols;\r\n\t\tconst w = (1 / MenuButton.W * (MenuButton.W + MenuButton.G));\r\n\t\treturn (w / 2 - cols * w / 2) + c * w;\r\n\t}\r\n\r\n\tstatic getY(index, total) {\r\n\t\tconst cols = Math.ceil(total / MenuButton.ROWS);\r\n\t\tconst rows = Math.ceil(total / cols);\r\n\t\tconst c = index % cols;\r\n\t\tconst r = Math.floor(index / cols);\r\n\t\tconst h = (1 / MenuButton.W * (MenuButton.H + MenuButton.G));\r\n\t\treturn (rows * h / 2 - h / 2) + r * -h; // y flipped\r\n\t}\r\n\r\n\tstatic get geometry() {\r\n\t\tif (this.geometry_) {\r\n\t\t\treturn this.geometry_;\r\n\t\t}\r\n\t\tconst geometry = new THREE.PlaneBufferGeometry(1, 1 / MenuButton.W * MenuButton.H, 2, 2);\r\n\t\tthis.geometry_ = geometry;\r\n\t\treturn geometry;\r\n\t}\r\n\r\n\tstatic get material() {\r\n\t\tconst material = new THREE.ShaderMaterial({\r\n\t\t\tdepthTest: false,\r\n\t\t\ttransparent: true,\r\n\t\t\ttoneMapped: false,\r\n\t\t\tvertexShader: ModelMenuComponent.VERTEX_SHADER,\r\n\t\t\tfragmentShader: ModelMenuComponent.FRAGMENT_SHADER,\r\n\t\t\tuniforms: {\r\n\t\t\t\ttextureA: { type: 't', value: null },\r\n\t\t\t\ttextureB: { type: 't', value: null },\r\n\t\t\t\tresolutionA: { value: new THREE.Vector2() },\r\n\t\t\t\tresolutionB: { value: new THREE.Vector2() },\r\n\t\t\t\ttween: { value: 0 },\r\n\t\t\t\topacity: { value: 0 },\r\n\t\t\t},\r\n\t\t\textensions: {\r\n\t\t\t\tfragDepth: true,\r\n\t\t\t},\r\n\t\t});\r\n\t\t/*\r\n\t\tconst material = new THREE.MeshBasicMaterial({\r\n\t\t\t// depthTest: false,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 0.8,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t});\r\n\t\t*/\r\n\t\treturn material;\r\n\t}\r\n\r\n\tconstructor(item, index, total) {\r\n\t\tconst geometry = MenuButton.geometry;\r\n\t\tconst material = MenuButton.material;\r\n\t\tsuper(geometry, material);\r\n\t\t// this.userData.item = item;\r\n\t\t// this.userData.index = index;\r\n\t\tthis.renderOrder = environment.renderOrder.menu;\r\n\t\tthis.name = item.name;\r\n\t\tthis.item = item;\r\n\t\tthis.index = index;\r\n\t\tthis.total = total;\r\n\t\tthis.tween = 0;\r\n\t\tthis.opacity = 0;\r\n\t\tconst textureA = this.textureA = this.getTextureA(item.name);\r\n\t\t// material.map = textureA;\r\n\t\tmaterial.uniforms.textureA.value = textureA;\r\n\t\tmaterial.uniforms.resolutionA.value = new THREE.Vector2(textureA.width, textureA.height);\r\n\t\tconst textureB = this.textureB = this.getTextureB(item.name);\r\n\t\t// material.map = textureB;\r\n\t\tmaterial.uniforms.textureB.value = textureB;\r\n\t\tmaterial.uniforms.resolutionA.value = new THREE.Vector2(textureB.width, textureB.height);\r\n\t\tmaterial.uniforms.tween.value = this.tween;\r\n\t\tmaterial.uniforms.opacity.value = this.opacity;\r\n\t\tmaterial.needsUpdate = true;\r\n\t\tthis.position.set(MenuButton.getX(index, total), MenuButton.getY(index, total), 0);\r\n\t\tthis.onOver = this.onOver.bind(this);\r\n\t\tthis.onOut = this.onOut.bind(this);\r\n\t}\r\n\r\n\tgetTextureA(text) {\r\n\t\tconst w = MenuButton.W;\r\n\t\tconst h = MenuButton.H;\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\tcanvas.width = w;\r\n\t\tcanvas.height = h;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tctx.fillStyle = environment.colors.menuBackground;\r\n\t\tctx.fillRect(0, 0, w, h);\r\n\t\tctx.fillStyle = environment.colors.menuForeground;\r\n\t\tthis.writeText(ctx, text, w, h);\r\n\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\ttexture.mapping = THREE.UVMapping;\r\n\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\ttexture.needsUpdate = true;\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tgetTextureB(text) {\r\n\t\tconst w = MenuButton.W;\r\n\t\tconst h = MenuButton.H;\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\tcanvas.width = w;\r\n\t\tcanvas.height = h;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tctx.fillStyle = environment.colors.menuOverBackground;\r\n\t\tctx.fillRect(0, 0, w, h);\r\n\t\tctx.fillStyle = environment.colors.menuOverForeground;\r\n\t\tthis.writeText(ctx, text, w, h);\r\n\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\ttexture.needsUpdate = true;\r\n\t\treturn texture;\r\n\t}\r\n\r\n\twriteText(ctx, text, w, h) {\r\n\t\tthis.setFont(ctx);\r\n\t\tconst lineHeight = MenuButton.FONT_SIZE * MenuButton.LINE_HEIGHT;\r\n\t\tconst lines = this.getLines(ctx, text, w);\r\n\t\tconst lineCount = lines.length;\r\n\t\tthis.setFont(ctx, lineCount - 1);\r\n\t\tlines.forEach((line, i) => {\r\n\t\t\tctx.fillText(line, 10, (h - lineCount * lineHeight) * 0.5 + (0.5 + i) * lineHeight, w - 20);\r\n\t\t});\r\n\t}\r\n\r\n\tsetFont(ctx, diff = 0) {\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.font = `${MenuButton.FONT_SIZE - diff * 2}px ${environment.fontFamily}`;\r\n\t}\r\n\r\n\tgetLines(ctx, text, maxWidth) {\r\n\t\tconst words = text.split(' ');\r\n\t\tconst lines = [];\r\n\t\tlet currentLine = words[0];\r\n\t\tfor (let i = 1; i < words.length; i++) {\r\n\t\t\tconst word = words[i];\r\n\t\t\tconst width = ctx.measureText(currentLine + ' ' + word).width;\r\n\t\t\tif (width < maxWidth) {\r\n\t\t\t\tcurrentLine += ' ' + word;\r\n\t\t\t} else {\r\n\t\t\t\tlines.push(currentLine);\r\n\t\t\t\tcurrentLine = word;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlines.push(currentLine);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tonOver() {\r\n\t\t// DebugService.getService().setMessage('over ' + this.name);\r\n\t\tgsap.to(this, {\r\n\t\t\tduration: 0.4,\r\n\t\t\ttween: 1,\r\n\t\t\tease: Power2.easeOut,\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tthis.position.z = 0.1 * this.tween;\r\n\t\t\t\tthis.material.uniforms.tween.value = this.tween;\r\n\t\t\t\tthis.material.needsUpdate = true;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tonOut() {\r\n\t\tgsap.to(this, {\r\n\t\t\tduration: 0.4,\r\n\t\t\ttween: 0,\r\n\t\t\tease: Power2.easeOut,\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tthis.position.z = 0.1 * this.tween;\r\n\t\t\t\tthis.material.uniforms.tween.value = this.tween;\r\n\t\t\t\tthis.material.needsUpdate = true;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tdispose() {\r\n\t\tInteractive.dispose(this);\r\n\t\tthis.textureA.dispose();\r\n\t\tthis.textureB.dispose();\r\n\t\tthis.material.dispose();\r\n\t\tthis.geometry.dispose();\r\n\t}\r\n}\r\n\r\nMenuButton.FONT_SIZE = 19; // 20\r\nMenuButton.LINE_HEIGHT = 0.9;\r\nMenuButton.W = 256;\r\nMenuButton.H = 64;\r\nMenuButton.G = 2;\r\nMenuButton.ROWS = 6;\r\n\r\nexport class BackButton extends MenuButton {\r\n\r\n\tconstructor(item, index, total) {\r\n\t\tsuper(item, index, total);\r\n\t}\r\n\r\n\tgetTextureA(text) {\r\n\t\tconst w = MenuButton.W;\r\n\t\tconst h = MenuButton.H;\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\tcanvas.width = w;\r\n\t\tcanvas.height = h;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tctx.fillStyle = environment.colors.menuBackBackground;\r\n\t\tctx.fillRect(0, 0, w, h);\r\n\t\tctx.fillStyle = environment.colors.menuBackForeground;\r\n\t\tctx.font = `${MenuButton.FONT_SIZE}px ${environment.fontFamily}`;\r\n\t\tctx.fillText(text, 10, 50, w - 20);\r\n\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\ttexture.minFilter = THREE.LinearFilter;\r\n\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\ttexture.mapping = THREE.UVMapping;\r\n\t\ttexture.needsUpdate = true;\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tgetTextureB(text) {\r\n\t\tconst w = MenuButton.W;\r\n\t\tconst h = MenuButton.H;\r\n\t\tconst canvas = document.createElement('canvas');\r\n\t\tcanvas.width = w;\r\n\t\tcanvas.height = h;\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tctx.fillStyle = environment.colors.menuBackOverBackground;\r\n\t\tctx.fillRect(0, 0, w, h);\r\n\t\tctx.fillStyle = environment.colors.menuBackOverForeground;\r\n\t\tctx.font = `${MenuButton.FONT_SIZE}px ${environment.fontFamily}`;\r\n\t\tctx.fillText(text, 10, 50, w - 20);\r\n\t\tconst texture = new THREE.CanvasTexture(canvas);\r\n\t\t// texture.encoding = THREE.sRGBEncoding;\r\n\t\ttexture.magFilter = THREE.LinearFilter;\r\n\t\ttexture.needsUpdate = true;\r\n\t\treturn texture;\r\n\t}\r\n}\r\n\r\nexport default class ModelMenuComponent extends ModelComponent {\r\n\r\n\tget controlled() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling !== StateService.state.uid);\r\n\t}\r\n\r\n\tget controlling() {\r\n\t\treturn (StateService.state.controlling && StateService.state.controlling === StateService.state.uid);\r\n\t}\r\n\r\n\tget silencing() {\r\n\t\treturn StateService.state.silencing;\r\n\t}\r\n\r\n\tget silenced() {\r\n\t\treturn (StateService.state.silencing && StateService.state.role === RoleType.Streamer);\r\n\t}\r\n\r\n\tget spyed() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying === StateService.state.uid);\r\n\t}\r\n\r\n\tget spying() {\r\n\t\treturn (StateService.state.spying && StateService.state.spying !== StateService.state.uid);\r\n\t}\r\n\r\n\tget locked() {\r\n\t\treturn this.controlled || this.spying;\r\n\t}\r\n\r\n\tget loading() {\r\n\t\treturn this.loading_;\r\n\t}\r\n\tset loading(loading) {\r\n\t\t// console.log('loading', loading);\r\n\t\tif (this.loading_ !== loading) {\r\n\t\t\tthis.loading_ = loading;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst btn = node.querySelector('.btn--menu');\r\n\t\t\tbtn.classList.toggle('loading', loading);\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.onDown = this.onDown.bind(this);\r\n\t\tthis.onToggle = this.onToggle.bind(this);\r\n\t\t// console.log('ModelMenuComponent.onInit');\r\n\t\t/*\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.session$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((session) => {\r\n\t\t\tif (session) {\r\n\t\t\t\tthis.addToggler();\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeMenu();\r\n\t\t\t}\r\n\t\t});\r\n\t\t*/\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.progressIndicator = node.querySelector('.progress circle');\r\n\t\tLoaderService.progress$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(progress => {\r\n\t\t\tthis.loading = progress.count > 0;\r\n\t\t\tlet strokeDashoffset = 144.51;\r\n\t\t\tif (progress.count) {\r\n\t\t\t\tstrokeDashoffset = 144.51 * (1 - progress.value);\r\n\t\t\t}\r\n\t\t\tgsap.set(this.progressIndicator, {\r\n\t\t\t\t'strokeDashoffset': strokeDashoffset,\r\n\t\t\t});\r\n\t\t});\r\n\t\tMessageService.in$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(message => {\r\n\t\t\t// DebugService.getService().setMessage('ModelMenuComponent.MessageService ' + message.type);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase MessageType.MenuToggle:\r\n\t\t\t\t\tthis.onToggle();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tbuildMenu() {\r\n\t\tif (!this.views) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMenuService.getModelMenu$(this.views, this.host.editor).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(menu => this.groups = menu);\r\n\t}\r\n\t*/\r\n\r\n\tonDestroy() {\r\n\t\tif (this.buttons) {\r\n\t\t\tthis.buttons.forEach(x => Interactive.dispose(x));\r\n\t\t}\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\tgetContainer() {\r\n\t\treturn this.host.cameraGroup;\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\t// this.renderOrder = environment.renderOrder.menu;\r\n\t\tconst menuGroup = this.menuGroup = new THREE.Group();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(menuGroup);\r\n\t\t}\r\n\t}\r\n\r\n\trender(time, tick) {\r\n\t\tconst group = this.group;\r\n\t\tconst cameraGroup = this.host.cameraGroup;\r\n\t\tlet camera = this.host.camera;\r\n\t\tconst position = this.position;\r\n\t\tif (this.host.renderer.xr.isPresenting) {\r\n\t\t\tcamera = this.host.renderer.xr.getCamera(camera);\r\n\t\t\tcamera.getWorldDirection(position);\r\n\t\t\tposition.y += 0.5;\r\n\t\t\tposition.multiplyScalar(3);\r\n\t\t\tthis.host.cameraGroup.worldToLocal(position);\r\n\t\t\tposition.y += this.host.cameraGroup.position.y;\r\n\t\t\tgroup.position.copy(position);\r\n\t\t\tgroup.scale.set(1, 1, 1);\r\n\t\t\tgroup.lookAt(Host.origin);\r\n\t\t} else {\r\n\t\t\tcamera.getWorldDirection(position);\r\n\t\t\tif (OrbitService.mode === OrbitMode.Model) {\r\n\t\t\t\tposition.multiplyScalar(0.01);\r\n\t\t\t} else {\r\n\t\t\t\tposition.multiplyScalar(3);\r\n\t\t\t}\r\n\t\t\tgroup.position.copy(position);\r\n\t\t\tconst s = 1 / camera.zoom;\r\n\t\t\tgroup.scale.set(s, s, s);\r\n\t\t\tgroup.lookAt(Host.origin);\r\n\t\t}\r\n\t}\r\n\r\n\titems$(item = null) {\r\n\t\tif (item) {\r\n\t\t\treturn of(item.items);\r\n\t\t} else if (this.rootItems) {\r\n\t\t\treturn of(this.rootItems);\r\n\t\t} else {\r\n\t\t\treturn MenuService.getModelMenu$(this.views, this.host.editor).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t\ttap(items => {\r\n\t\t\t\t\tif (!this.host.editor) {\r\n\t\t\t\t\t\tthis.rootItems = items;\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\taddMenu(item = null) {\r\n\t\tthis.removeMenu();\r\n\t\t// nav to view\r\n\t\tif (item && item.type.name !== 'menu-group') {\r\n\t\t\t/*\r\n\t\t\tif (this.host.renderer.xr.isPresenting) {\r\n\t\t\t\tthis.addToggler();\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tthis.nav.next(item);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMenuService.active = true;\r\n\t\tthis.items$(item).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(items => {\r\n\t\t\tif (items) {\r\n\t\t\t\titems = items.slice();\r\n\t\t\t\tconst back = {\r\n\t\t\t\t\ttype: { name: 'back' },\r\n\t\t\t\t\tname: item ? 'Back' : 'Close',\r\n\t\t\t\t\tbackItem: item,\r\n\t\t\t\t};\r\n\t\t\t\titems.push(back);\r\n\t\t\t\tconst buttons = this.buttons = items.map((x, i, a) => {\r\n\t\t\t\t\tx.backItem = item;\r\n\t\t\t\t\treturn (x.type.name === 'back') ? new BackButton(x, i, a.length) : new MenuButton(x, i, a.length);\r\n\t\t\t\t});\r\n\t\t\t\tbuttons.forEach(button => {\r\n\t\t\t\t\tbutton.depthTest = false;\r\n\t\t\t\t\tbutton.on('over', button.onOver);\r\n\t\t\t\t\tbutton.on('out', button.onOut);\r\n\t\t\t\t\tbutton.on('down', this.onDown);\r\n\t\t\t\t\tthis.menuGroup.add(button);\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tvar box = new THREE.BoxHelper(button, 0xffff00);\r\n\t\t\t\t\tthis.host.scene.add(box);\r\n\t\t\t\t\t*/\r\n\t\t\t\t});\r\n\t\t\t\tgsap.to(buttons, {\r\n\t\t\t\t\tduration: 0.3,\r\n\t\t\t\t\topacity: 0.8,\r\n\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\tstagger: {\r\n\t\t\t\t\t\tgrid: MenuButton.getGrid(buttons.length),\r\n\t\t\t\t\t\tfrom: 0, // index\r\n\t\t\t\t\t\tamount: 0.02 * buttons.length,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tbuttons.forEach(button => {\r\n\t\t\t\t\t\t\tbutton.material.uniforms.opacity.value = (button.opacity * (button.item.hidden ? 0.5 : 1));\r\n\t\t\t\t\t\t\t// button.material.needsUpdate = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tremoveMenu() {\r\n\t\tMenuService.active = false;\r\n\t\tthis.removeButtons();\r\n\t\tthis.removeToggler();\r\n\t}\r\n\r\n\tremoveButtons() {\r\n\t\tconst buttons = this.buttons;\r\n\t\tif (buttons) {\r\n\t\t\tbuttons.forEach(button => {\r\n\t\t\t\tthis.menuGroup.remove(button);\r\n\t\t\t\tbutton.off('over', button.onOver);\r\n\t\t\t\tbutton.off('out', button.onOut);\r\n\t\t\t\tbutton.off('down', this.onDown);\r\n\t\t\t\tbutton.dispose();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.buttons = null;\r\n\t}\r\n\r\n\taddToggler() {\r\n\t\tthis.removeMenu();\r\n\t\tconst toggler = this.toggler = new MenuButton({\r\n\t\t\ttype: { name: 'menu' },\r\n\t\t\tname: 'Menu',\r\n\t\t}, 0, 1);\r\n\t\t// toggler.position.y = -0.5;\r\n\t\ttoggler.opacity = 0.8;\r\n\t\ttoggler.material.uniforms.opacity.value = toggler.opacity;\r\n\t\ttoggler.material.needsUpdate = true;\r\n\t\ttoggler.on('over', toggler.onOver);\r\n\t\ttoggler.on('out', toggler.onOut);\r\n\t\ttoggler.on('down', this.onToggle);\r\n\t\tthis.menuGroup.add(toggler);\r\n\t}\r\n\r\n\tremoveToggler() {\r\n\t\tconst toggler = this.toggler;\r\n\t\tif (toggler) {\r\n\t\t\tthis.menuGroup.remove(toggler);\r\n\t\t\ttoggler.off('over', toggler.onOver);\r\n\t\t\ttoggler.off('out', toggler.onOut);\r\n\t\t\ttoggler.off('down', this.onToggle);\r\n\t\t\ttoggler.dispose();\r\n\t\t}\r\n\t\tthis.toggler = null;\r\n\t}\r\n\r\n\tonDown(button) {\r\n\t\t// this.down.next(this.item);\r\n\t\tif (button.item && button.item.type.name === 'back') {\r\n\t\t\tthis.removeMenu();\r\n\t\t\tif (button.item.backItem) {\r\n\t\t\t\tthis.addMenu(button.item.backItem.backItem);\r\n\t\t\t} else {\r\n\t\t\t\t/*\r\n\t\t\t\tif (this.host.renderer.xr.isPresenting) {\r\n\t\t\t\t\tthis.addToggler();\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tthis.toggle.next();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addMenu(button.item);\r\n\t\t}\r\n\t}\r\n\r\n\tonToggle(event) {\r\n\t\tif (event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopImmediatePropagation();\r\n\t\t}\r\n\t\tif (this.locked) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (MenuService.active) {\r\n\t\t\tthis.removeMenu();\r\n\t\t\tthis.toggle.next();\r\n\t\t} else {\r\n\t\t\tthis.addMenu();\r\n\t\t\tthis.toggle.next(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nModelMenuComponent.VERTEX_SHADER = `\r\nvarying vec2 vUv;\r\nvoid main() {\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n}\r\n`;\r\nModelMenuComponent.FRAGMENT_SHADER = `\r\nvarying vec2 vUv;\r\nuniform float opacity;\r\nuniform float tween;\r\nuniform sampler2D textureA;\r\nuniform sampler2D textureB;\r\nuniform vec2 resolutionA;\r\nuniform vec2 resolutionB;\r\n\r\nvoid main() {\r\n\tvec4 colorA = texture2D(textureA, vUv);\r\n\tvec4 colorB = texture2D(textureB, vUv);\r\n\tvec4 color = vec4(mix(colorA.rgb, colorB.rgb, tween), opacity);\r\n\tgl_FragColor = color;\r\n}\r\n`;\r\n\r\nModelMenuComponent.meta = {\r\n\tselector: '[model-menu]',\r\n\thosts: { host: WorldComponent },\r\n\t// outputs: ['over', 'out', 'down', 'nav'],\r\n\toutputs: ['nav', 'toggle'],\r\n\tinputs: ['views'],\r\n\ttemplate: /* html */`\r\n\t<div class=\"btn--menu\" (mousedown)=\"onToggle($event)\">\r\n\t\t<svg class=\"menu-light\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#menu-light\"></use></svg>\r\n\t\t<div class=\"btn--menu__spinner\"></div>\r\n\t\t<svg class=\"bullets\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#menu\"></use></svg>\r\n\t\t<svg class=\"progress\" width=\"50\" height=\"50\" viewBox=\"0 0 50 50\">\r\n\t\t\t<circle id=\"circle\" r=\"23\" cx=\"25\" cy=\"25\" fill=\"transparent\"></circle>\r\n\t\t</svg>\r\n\t</div>\r\n\t`,\r\n};\r\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tLoader\n} from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.decoderPath = '';\n\t\tthis.decoderConfig = {};\n\t\tthis.decoderBinary = null;\n\t\tthis.decoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\n\t\tthis.defaultAttributeIDs = {\n\t\t\tposition: 'POSITION',\n\t\t\tnormal: 'NORMAL',\n\t\t\tcolor: 'COLOR',\n\t\t\tuv: 'TEX_COORD'\n\t\t};\n\t\tthis.defaultAttributeTypes = {\n\t\t\tposition: 'Float32Array',\n\t\t\tnormal: 'Float32Array',\n\t\t\tcolor: 'Float32Array',\n\t\t\tuv: 'Float32Array'\n\t\t};\n\n\t}\n\n\tsetDecoderPath( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetDecoderConfig( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tconst taskConfig = {\n\t\t\t\tattributeIDs: this.defaultAttributeIDs,\n\t\t\t\tattributeTypes: this.defaultAttributeTypes,\n\t\t\t\tuseUniqueIDs: false\n\t\t\t};\n\n\t\t\tthis.decodeGeometry( buffer, taskConfig )\n\t\t\t\t.then( onLoad )\n\t\t\t\t.catch( onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\tdecodeDracoFile( buffer, callback, attributeIDs, attributeTypes ) {\n\n\t\tconst taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs\n\t\t};\n\n\t\tthis.decodeGeometry( buffer, taskConfig ).then( callback );\n\n\t}\n\n\tdecodeGeometry( buffer, taskConfig ) {\n\n\t\t// TODO: For backward-compatibility, support 'attributeTypes' objects containing\n\t\t// references (rather than names) to typed array constructors. These must be\n\t\t// serialized before sending them to the worker.\n\t\tfor ( const attribute in taskConfig.attributeTypes ) {\n\n\t\t\tconst type = taskConfig.attributeTypes[ attribute ];\n\n\t\t\tif ( type.BYTES_PER_ELEMENT !== undefined ) {\n\n\t\t\t\ttaskConfig.attributeTypes[ attribute ] = type.name;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet worker;\n\t\tconst taskID = this.workerNextTaskID ++;\n\t\tconst taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tconst geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t}\n\n\t_createGeometry( geometryData ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tconst attribute = geometryData.attributes[ i ];\n\t\t\tconst name = attribute.name;\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tgeometry.setAttribute( name, new BufferAttribute( array, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n\t_loadLibrary( url, responseType ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t}\n\n\tpreload() {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t}\n\n\t_initDecoder() {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tconst useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tconst librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tconst jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tconst fn = DRACOWorker.toString();\n\n\t\t\t\tconst body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t}\n\n\t_getWorker( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\t_releaseTask( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t}\n\n\tdebug() {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n\n\tlet decoderConfig;\n\tlet decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tconst buffer = message.buffer;\n\t\t\t\tconst taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tconst draco = module.draco;\n\t\t\t\t\tconst decoder = new draco.Decoder();\n\t\t\t\t\tconst decoderBuffer = new draco.DecoderBuffer();\n\t\t\t\t\tdecoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );\n\n\t\t\t\t\t\tconst buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoderBuffer );\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {\n\n\t\tconst attributeIDs = taskConfig.attributeIDs;\n\t\tconst attributeTypes = taskConfig.attributeTypes;\n\n\t\tlet dracoGeometry;\n\t\tlet decodingStatus;\n\n\t\tconst geometryType = decoder.GetEncodedGeometryType( decoderBuffer );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tconst geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( const attributeName in attributeIDs ) {\n\n\t\t\tconst attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tlet attribute;\n\t\t\tlet attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tconst numFaces = dracoGeometry.num_faces();\n\t\tconst numIndices = numFaces * 3;\n\t\tconst byteLength = numIndices * 4;\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tconst index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tconst numComponents = attribute.num_components();\n\t\tconst numPoints = dracoGeometry.num_points();\n\t\tconst numValues = numPoints * numComponents;\n\t\tconst byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tconst dataType = getDracoDataType( draco, attributeType );\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tconst array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n}\n\nexport { DRACOLoader };\n","import { takeUntil } from 'rxjs/operators';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { MessageType } from '../../agora/agora.types';\r\nimport MenuService from '../../editor/menu/menu.service';\r\nimport { environment } from '../../environment';\r\nimport LoaderService from '../../loader/loader.service';\r\nimport { ViewType } from '../../view/view';\r\nimport EmittableMesh from '../interactive/emittable.mesh';\r\nimport FreezableMesh from '../interactive/freezable.mesh';\r\nimport Interactive from '../interactive/interactive';\r\nimport InteractiveMesh from '../interactive/interactive.mesh';\r\nimport WorldComponent from '../world.component';\r\nimport ModelEditableComponent from './model-editable.component';\r\n\r\nexport default class ModelModelComponent extends ModelEditableComponent {\r\n\r\n\tget freezed() {\r\n\t\treturn this.freezed_;\r\n\t}\r\n\tset freezed(freezed) {\r\n\t\tif (this.freezed_ !== freezed) {\r\n\t\t\tthis.freezed_ = freezed;\r\n\t\t\tconst mesh = this.mesh;\r\n\t\t\tif (mesh) {\r\n\t\t\t\tmesh.traverse((child) => {\r\n\t\t\t\t\tif (child.isInteractiveMesh) {\r\n\t\t\t\t\t\tchild.freezed = freezed;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.isPresenting = false;\r\n\t\tMenuService.active$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(active => this.freezed = active);\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.editing = this.item.selected;\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tthis.loadGlb(environment.getPath(this.item.asset.folder), this.item.asset.file, (mesh, animations) => {\r\n\t\t\tthis.onGlbLoaded(mesh, animations, mount, dismount);\r\n\t\t});\r\n\t}\r\n\r\n\tloadGlb(path, file, callback) {\r\n\t\tconst renderer = this.host.renderer;\r\n\t\t// const roughnessMipmapper = new RoughnessMipmapper(renderer); // optional\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\t// console.log('progressRef');\r\n\t\tconst loader = new GLTFLoader().setPath(path);\r\n\t\t// Optional: Provide a DRACOLoader instance to decode compressed mesh data\r\n\t\tconst decoderPath = `${environment.dist}js/draco/`;\r\n\t\t// console.log(decoderPath);\r\n\t\tconst dracoLoader = new DRACOLoader();\r\n\t\tdracoLoader.setDecoderPath(decoderPath);\r\n\t\tloader.setDRACOLoader(dracoLoader);\r\n\t\tloader.load(file, (glb) => {\r\n\t\t\t/*\r\n\t\t\tglb.scene.traverse((child) => {\r\n\t\t\t\tif (child.isMesh) {\r\n\t\t\t\t\t// roughnessMipmapper.generateMipmaps(child.material);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(glb.scene, glb.animations);\r\n\t\t\t}\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t\t// roughnessMipmapper.dispose();\r\n\t\t}, (progressEvent) => {\r\n\t\t\tLoaderService.setProgress(progressRef, progressEvent.loaded, progressEvent.total);\r\n\t\t});\r\n\t}\r\n\r\n\tonGlbLoaded(mesh, animations, mount, dismount) {\r\n\t\t// animations\r\n\t\tthis.parseAnimations(mesh, animations);\r\n\t\t// scale\r\n\t\tconst box = new THREE.Box3().setFromObject(mesh);\r\n\t\tconst size = box.max.clone().sub(box.min);\r\n\t\tconst max = Math.max(size.x, size.y, size.z);\r\n\t\tconst scale = 1.7 / max;\r\n\t\tmesh.scale.set(scale, scale, scale);\r\n\t\t// repos\r\n\t\tlet dummy;\r\n\t\tconst view = this.view;\r\n\t\tconst item = this.item;\r\n\t\tif (view.type.name === ViewType.Model.name) {\r\n\t\t\t// this.onUpdateVRSession(this.vrService.currentSession);\r\n\t\t\tdummy = new THREE.Group();\r\n\t\t\tdummy.add(mesh);\r\n\t\t\tbox.setFromObject(dummy);\r\n\t\t\tconst center = box.getCenter(new THREE.Vector3());\r\n\t\t\tdummy.position.set(\r\n\t\t\t\tmesh.position.x - center.x,\r\n\t\t\t\tmesh.position.y - center.y,\r\n\t\t\t\tmesh.position.z - center.z + (this.host.renderer.xr.isPresenting ? -2 : 0),\r\n\t\t\t\t// mesh.position.z - center.z,\r\n\t\t\t);\r\n\t\t\tconst endY = dummy.position.y;\r\n\t\t\tconst from = { tween: 1 };\r\n\t\t\tconst onUpdate = () => {\r\n\t\t\t\tdummy.position.y = endY + 3 * from.tween;\r\n\t\t\t\tdummy.rotation.y = 0 + Math.PI * from.tween;\r\n\t\t\t};\r\n\t\t\tonUpdate();\r\n\t\t\tthis.makeInteractive(mesh);\r\n\t\t\tgsap.to(from, {\r\n\t\t\t\tduration: 1.5,\r\n\t\t\t\ttween: 0,\r\n\t\t\t\tdelay: 0.1,\r\n\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\tonUpdate: onUpdate,\r\n\t\t\t\tonComplete: () => {\r\n\t\t\t\t\tthis.updateHelper();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbox.setFromObject(mesh);\r\n\t\t\tconst center = box.getCenter(new THREE.Vector3());\r\n\t\t\tmesh.position.set(\r\n\t\t\t\t- center.x,\r\n\t\t\t\t- center.y,\r\n\t\t\t\t- center.z,\r\n\t\t\t);\r\n\t\t\tdummy = new THREE.Group();\r\n\t\t\tdummy.add(mesh);\r\n\t\t\tif (item.position) {\r\n\t\t\t\tdummy.position.fromArray(item.position);\r\n\t\t\t}\r\n\t\t\tif (item.rotation) {\r\n\t\t\t\tdummy.rotation.fromArray(item.rotation);\r\n\t\t\t}\r\n\t\t\tif (item.scale) {\r\n\t\t\t\tdummy.scale.fromArray(item.scale);\r\n\t\t\t}\r\n\t\t\tthis.makeInteractive(mesh);\r\n\t\t\t/*\r\n\t\t\tconst geometry = ModelModelComponent.getInteractiveGeometry();\r\n\t\t\tconst sphere = new InteractiveMesh(geometry, new THREE.MeshBasicMaterial({\r\n\t\t\t\tdepthTest: false,\r\n\t\t\t\tdepthWrite: false,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\t// wireframe: true,\r\n\t\t\t\t// opacity: 1.0,\r\n\t\t\t\topacity: 0.0,\r\n\t\t\t\tcolor: 0x00ffff,\r\n\t\t\t}));\r\n\t\t\tconst radius = max * scale / 1.7;\r\n\t\t\tsphere.scale.set(radius, radius, radius);\r\n\t\t\tsphere.name = `[model] ${this.item.id}`;\r\n\t\t\t// sphere.depthTest = false;\r\n\t\t\tsphere.renderOrder = 0;\r\n\t\t\tdummy.add(sphere);\r\n\t\t\tsphere.on('down', () => {\r\n\t\t\t\t// console.log('ModelModelComponent.down');\r\n\t\t\t\tthis.down.next(this);\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tthis.updateHelper();\r\n\t\t}\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(dummy, this.item);\r\n\t\t\tthis.freezed = MenuService.active;\r\n\t\t}\r\n\t}\r\n\r\n\tparseAnimations(mesh, animations) {\r\n\t\t// animations\r\n\t\t// console.log('ModelModelComponent.onGlbLoaded', 'animations', animations);\r\n\t\tconst actionIndex = this.actionIndex = -1;\r\n\t\tconst actions = this.actions = [];\r\n\t\tif (animations && animations.length) {\r\n\t\t\tconst clock = this.clock = new THREE.Clock();\r\n\t\t\tconst mixer = this.mixer = new THREE.AnimationMixer(mesh);\r\n\t\t\tmixer.timeScale = 1;\r\n\t\t\tanimations.forEach(animation => {\r\n\t\t\t\tconst action = mixer.clipAction(animation);\r\n\t\t\t\taction.enabled = true;\r\n\t\t\t\taction.setEffectiveTimeScale(1);\r\n\t\t\t\taction.setEffectiveWeight(1);\r\n\t\t\t\t// action.setLoop(THREE.LoopPingPong);\r\n\t\t\t\taction.setLoop(THREE.LoopRepeat);\r\n\t\t\t\t// action.clampWhenFinished = true; // pause on last frame\r\n\t\t\t\tactions.push(action);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonClipToggle() {\r\n\t\tlet actionIndex;\r\n\t\tconst actions = this.actions;\r\n\t\tif (actions.length === 1) {\r\n\t\t\tactionIndex = this.actionIndex === -1 ? 0 : -1;\r\n\t\t\tthis.setSingleAction(actionIndex);\r\n\t\t} else if (actions.length > 1) {\r\n\t\t\tactionIndex = this.actionIndex + 1;\r\n\t\t\tif (actionIndex === actions.length) {\r\n\t\t\t\tactionIndex = -1;\r\n\t\t\t}\r\n\t\t\tthis.setMultiAction(actionIndex);\r\n\t\t}\r\n\t\tthis.play.next({ itemId: this.item.id, actionIndex });\r\n\t}\r\n\r\n\tsetSingleAction(actionIndex) {\r\n\t\tif (this.actionIndex !== actionIndex) {\r\n\t\t\tthis.actionIndex = actionIndex;\r\n\t\t\tconst action = this.actions[0];\r\n\t\t\tif (actionIndex === 0) {\r\n\t\t\t\tif (action.paused || action.timeScale === 0) {\r\n\t\t\t\t\taction.paused = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\taction.play();\r\n\t\t\t\t}\r\n\t\t\t} else if (actionIndex === -1) {\r\n\t\t\t\taction.halt(0.3);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetMultiAction(actionIndex) {\r\n\t\tif (this.actionIndex !== actionIndex) {\r\n\t\t\tconst actions = this.actions;\r\n\t\t\tconst previousClip = this.actionIndex > -1 ? actions[this.actionIndex] : null;\r\n\t\t\tthis.actionIndex = actionIndex;\r\n\t\t\tif (previousClip) {\r\n\t\t\t\tpreviousClip.halt(0.3);\r\n\t\t\t}\r\n\t\t\t// console.log('setMultiAction', actionIndex, actions.length);\r\n\t\t\tif (actionIndex > -1) {\r\n\t\t\t\tconst action = actions[actionIndex];\r\n\t\t\t\tif (action.paused) {\r\n\t\t\t\t\taction.paused = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (action.timeScale === 0) {\r\n\t\t\t\t\taction.timeScale = 1;\r\n\t\t\t\t}\r\n\t\t\t\taction.play();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonMessage(message) {\r\n\t\tswitch (message.type) {\r\n\t\t\tcase MessageType.PlayModel: {\r\n\t\t\t\tconst actions = this.actions;\r\n\t\t\t\tif (actions.length === 1) {\r\n\t\t\t\t\tthis.setSingleAction(message.actionIndex);\r\n\t\t\t\t} else if (actions.length > 1) {\r\n\t\t\t\t\tthis.setMultiAction(message.actionIndex);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(time, tick) {\r\n\t\tconst view = this.view;\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\tconst isPresenting = this.host.renderer.xr.isPresenting;\r\n\t\tconst group = this.group;\r\n\t\tif (mesh) {\r\n\t\t\tif (view.type.name === ViewType.Model.name) {\r\n\t\t\t\tif (this.isPresenting !== isPresenting) {\r\n\t\t\t\t\tthis.isPresenting = isPresenting;\r\n\t\t\t\t\tif (isPresenting) {\r\n\t\t\t\t\t\tmesh.position.x = 0;\r\n\t\t\t\t\t\tmesh.position.y = 0;\r\n\t\t\t\t\t\tmesh.position.z = -2;\r\n\t\t\t\t\t\tmesh.rotation.y = 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmesh.position.x = 0;\r\n\t\t\t\t\t\tmesh.position.y = 0;\r\n\t\t\t\t\t\tmesh.position.z = 0;\r\n\t\t\t\t\t\tmesh.rotation.y = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (isPresenting) {\r\n\t\t\t\t\tmesh.rotation.y -= (Math.PI / 180 / 60 * 5);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (isPresenting) {\r\n\t\t\t\t\tmesh.rotation.y -= (Math.PI / 180 / 60 * 5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst mixer = this.mixer;\r\n\t\tconst clock = this.clock;\r\n\t\tif (mixer) {\r\n\t\t\tconst delta = clock.getDelta();\r\n\t\t\tmixer.update(delta);\r\n\t\t}\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdate(item, mesh) {\r\n\t\t// console.log('ModelModelComponent.onUpdate', item);\r\n\t\tconst view = this.view;\r\n\t\tif (view.type.name !== ViewType.Model.name) {\r\n\t\t\tif (item.position) {\r\n\t\t\t\tmesh.position.fromArray(item.position);\r\n\t\t\t}\r\n\t\t\tif (item.rotation) {\r\n\t\t\t\tmesh.rotation.fromArray(item.rotation);\r\n\t\t\t}\r\n\t\t\tif (item.scale) {\r\n\t\t\t\tmesh.scale.fromArray(item.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdateAsset(item, mesh) {\r\n\t\t// console.log('ModelModelComponent.onUpdateAsset', item);\r\n\t\tthis.loadGlb(environment.getPath(item.asset.folder), item.asset.file, (mesh, animations) => {\r\n\t\t\tthis.onGlbLoaded(mesh, animations, (mesh, item) => this.onMount(mesh, item), (mesh, item) => this.onDismount(mesh, item));\r\n\t\t});\r\n\t\t/*\r\n\t\tthis.mesh.updateByItem(item);\r\n\t\tthis.mesh.load(() => {\r\n\t\t\t// console.log('ModelModelComponent.mesh.load.complete');\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragMove(position, normal, spherical) {\r\n\t\t// console.log('ModelModelComponent.onDragMove', position, normal, spherical);\r\n\t\tif (spherical) {\r\n\t\t\tposition.normalize().multiplyScalar(4);\r\n\t\t}\r\n\t\tthis.editing = true;\r\n\t\tconst view = this.view;\r\n\t\tif (view.type.name !== ViewType.Model.name) {\r\n\t\t\tthis.mesh.position.set(position.x, position.y, position.z);\r\n\t\t\t// this.mesh.lookAt(Host.origin);\r\n\t\t}\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragEnd() {\r\n\t\t// console.log('ModelModelComponent.onDragEnd');\r\n\t\tconst view = this.view;\r\n\t\tif (view.type.name !== ViewType.Model.name) {\r\n\t\t\tthis.item.position = this.mesh.position.toArray();\r\n\t\t\tthis.item.rotation = this.mesh.rotation.toArray();\r\n\t\t\tthis.item.scale = this.mesh.scale.toArray();\r\n\t\t}\r\n\t\tthis.editing = false;\r\n\t}\r\n\r\n\tstatic getInteractiveDescriptors() {\r\n\t\tlet descriptors = ModelModelComponent.interactiveDescriptors;\r\n\t\tif (!descriptors) {\r\n\t\t\tconst freezableDescriptors = Object.getOwnPropertyDescriptors(FreezableMesh.prototype);\r\n\t\t\tconst emittableDescriptors = Object.getOwnPropertyDescriptors(EmittableMesh.prototype);\r\n\t\t\tconst interactiveDescriptors = Object.getOwnPropertyDescriptors(InteractiveMesh.prototype);\r\n\t\t\tdescriptors = Object.assign({}, freezableDescriptors, emittableDescriptors, interactiveDescriptors);\r\n\t\t\tModelModelComponent.interactiveDescriptors = descriptors;\r\n\t\t}\r\n\t\treturn descriptors;\r\n\t}\r\n\r\n\tmakeInteractive(mesh) {\r\n\t\tconst interactiveDescriptors = ModelModelComponent.getInteractiveDescriptors();\r\n\t\tmesh.traverse((child) => {\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tObject.keys(interactiveDescriptors).forEach(key => {\r\n\t\t\t\t\tif (key !== 'constructor') {\r\n\t\t\t\t\t\tObject.defineProperty(child, key, interactiveDescriptors[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tchild.freezed = false;\r\n\t\t\t\tchild.events = {};\r\n\t\t\t\tchild.depthTest = true;\r\n\t\t\t\tchild.over_ = false;\r\n\t\t\t\tchild.down_ = false;\r\n\t\t\t\tInteractive.items.push(child);\r\n\t\t\t\tchild.on('down', () => {\r\n\t\t\t\t\t// console.log('ModelModelComponent.down', child);\r\n\t\t\t\t\tthis.onClipToggle();\r\n\t\t\t\t\tthis.down.next(this);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nModelModelComponent.meta = {\r\n\tselector: '[model-model]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['down', 'play'],\r\n\tinputs: ['item', 'view'],\r\n};\r\n","export default class FreezableSprite extends THREE.Sprite {\r\n\r\n\tget freezed() {\r\n\t\treturn this.freezed_;\r\n\t}\r\n\r\n\tset freezed(freezed) {\r\n\t\t// !!! cycle through freezable and not freezable\r\n\t\tthis.freezed_ = freezed;\r\n\t\tthis.children.filter(x => x.__lookupGetter__('freezed')).forEach(x => x.freezed = freezed);\r\n\t}\r\n\r\n\tconstructor(material) {\r\n\t\tmaterial = material || new THREE.SpriteMaterial({\r\n\t\t\tcolor: 0xff00ff,\r\n\t\t\t// opacity: 1,\r\n\t\t\t// transparent: true,\r\n\t\t});\r\n\t\tsuper(material);\r\n\t\tthis.freezed = false;\r\n\t}\r\n\r\n\tfreeze() {\r\n\t\tthis.freezed = true;\r\n\t}\r\n\r\n\tunfreeze() {\r\n\t\tthis.freezed = false;\r\n\t}\r\n\r\n}\r\n","import FreezableSprite from './freezable.sprite';\r\n\r\nexport default class EmittableSprite extends FreezableSprite {\r\n\r\n\tconstructor(material) {\r\n\t\tmaterial = material || new THREE.SpriteMaterial({\r\n\t\t\tcolor: 0xff00ff,\r\n\t\t\t// opacity: 1,\r\n\t\t\t// transparent: true,\r\n\t\t});\r\n\t\tsuper(material);\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\ton(type, callback) {\r\n\t\tconst event = this.events[type] = this.events[type] || [];\r\n\t\tevent.push(callback);\r\n\t\treturn () => {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t};\r\n\t}\r\n\r\n\toff(type, callback) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\r\n\t\t}\r\n\t}\r\n\r\n\temit(type, data) {\r\n\t\tconst event = this.events[type];\r\n\t\tif (event) {\r\n\t\t\tevent.forEach(callback => {\r\n\t\t\t\t// callback.call(this, data);\r\n\t\t\t\tcallback(data);\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst broadcast = this.events.broadcast;\r\n\t\tif (broadcast) {\r\n\t\t\tbroadcast.forEach(callback => {\r\n\t\t\t\tcallback(type, data);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import EmittableSprite from './emittable.sprite';\r\nimport Interactive from './interactive';\r\n\r\nexport default class InteractiveSprite extends EmittableSprite {\r\n\r\n\tconstructor(material) {\r\n\t\tsuper(material);\r\n\t\tthis.depthTest = true;\r\n\t\tthis.over_ = false;\r\n\t\tthis.down_ = false;\r\n\t\tInteractive.items.push(this);\r\n\t}\r\n\r\n\tget isInteractiveSprite() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget over() {\r\n\t\treturn this.over_;\r\n\t}\r\n\tset over(over) {\r\n\t\tif (this.over_ != over) {\r\n\t\t\tthis.over_ = over;\r\n\t\t\t/*\r\n\t\t\tif (over) {\r\n\t\t\t\tthis.emit('hit', this);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tif (over) {\r\n\t\t\t\tthis.emit('over', this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.emit('out', this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget down() {\r\n\t\treturn this.down_;\r\n\t}\r\n\tset down(down) {\r\n\t\tdown = down && this.over;\r\n\t\tif (this.down_ != down) {\r\n\t\t\tthis.down_ = down;\r\n\t\t\tif (down) {\r\n\t\t\t\tthis.emit('down', this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.emit('up', this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","// import domtoimage from 'dom-to-image';\r\nimport html2canvas from 'html2canvas';\r\nimport { getContext } from 'rxcomp';\r\nimport DragService from '../../drag/drag.service';\r\nimport { environment } from '../../environment';\r\nimport { Host } from '../host/host';\r\nimport InteractiveSprite from '../interactive/interactive.sprite';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\n// const USE_DOM_TO_IMAGE = true;\r\n\r\nexport default class ModelPanelComponent extends ModelComponent {\r\n\r\n\tisMobile_;\r\n\tget isMobile() {\r\n\t\treturn this.isMobile_;\r\n\t}\r\n\tset isMobile(isMobile) {\r\n\t\tif (this.isMobile_ !== isMobile) {\r\n\t\t\tthis.isMobile_ = isMobile;\r\n\t\t\tthis.setScale();\r\n\t\t}\r\n\t}\r\n\r\n\trender(time, tick) {\r\n\t\t// console.log('render', this.host.worldRect.width);\r\n\t\tthis.isMobile = this.host.worldRect.width < 768;\r\n\t}\r\n\r\n\tsetScale(pow = 0) {\r\n\t\tconst textureWidth = this.textureWidth;\r\n\t\tconst textureHeight = this.textureHeight;\r\n\t\tconst item = this.item;\r\n\t\tconst panel = this.panel;\r\n\t\tif (panel) {\r\n\t\t\tconst scale = 0.2 * (item.asset ? 1.5 : 1.0) * (this.isMobile ? 1.6 : 1);\r\n\t\t\tconst aspect = textureWidth / textureHeight;\r\n\t\t\tconst width = ModelPanelComponent.PANEL_RADIUS * scale;\r\n\t\t\tconst height = ModelPanelComponent.PANEL_RADIUS * scale / aspect;\r\n\t\t\tconst dy = width * 0.25;\r\n\t\t\tconst position = item.mesh.position.normalize().multiplyScalar(ModelPanelComponent.PANEL_RADIUS);\r\n\t\t\tpanel.position.set(position.x, position.y + (height + dy * 2) - dy * (1 - pow), position.z);\r\n\t\t\tpanel.scale.set(0.02 * width, 0.02 * height, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.textureWidth = 0;\r\n\t\tthis.textureHeight = 0;\r\n\t\t// console.log('ModelPanelComponent.onInit', this.item);\r\n\t}\r\n\r\n\tonView() {\r\n\t\tif (this.viewed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.viewed = true;\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.getCanvasTexture(node).then(texture => {\r\n\t\t\tthis.textureWidth = texture.width;\r\n\t\t\tthis.textureHeight = texture.height;\r\n\t\t\tif (this.mesh && this.item) {\r\n\t\t\t\tconst material = new THREE.SpriteMaterial({\r\n\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\ttransparent: true,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tmap: texture.map,\r\n\t\t\t\t\tsizeAttenuation: false,\r\n\t\t\t\t\ttoneMapped: false,\r\n\t\t\t\t});\r\n\t\t\t\tconst item = this.item;\r\n\t\t\t\tconst panel = this.panel = new InteractiveSprite(material);\r\n\t\t\t\tpanel.renderOrder = environment.renderOrder.panel;\r\n\t\t\t\tthis.setScale(1);\r\n\t\t\t\tpanel.on('down', (event) => {\r\n\t\t\t\t\t// console.log(event.intersection.uv.x, event.intersection.uv.y, node.offsetWidth, node.offsetHeight);\r\n\t\t\t\t\tconst xy = { x: parseInt(event.intersection.uv.x * node.offsetWidth), y: parseInt((1 - event.intersection.uv.y) * node.offsetHeight) };\r\n\t\t\t\t\t// console.log('ModelPanelComponent.down.xy', xy);\r\n\t\t\t\t\tconst linkNodes = Array.prototype.slice.call(node.querySelectorAll('.panel__link'));\r\n\t\t\t\t\t// console.log('linkNodes', linkNodes);\r\n\t\t\t\t\tconst linkNode = linkNodes.find(link => {\r\n\t\t\t\t\t\tconst inside = xy.x >= link.offsetLeft && xy.y >= link.offsetTop && xy.x <= (link.offsetLeft + link.offsetWidth) && xy.y <= (link.offsetTop + link.offsetHeight);\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t(link.offsetLeft + link.offsetWidth), '>=', xy.x, '>=', link.offsetLeft,\r\n\t\t\t\t\t\t\t(link.offsetTop + link.offsetHeight), '>=', xy.y, '>=', link.offsetTop,\r\n\t\t\t\t\t\t\tinside,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\treturn inside;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log('linkNode', linkNode);\r\n\t\t\t\t\tif (linkNode) {\r\n\t\t\t\t\t\tconst linkIndex = linkNodes.indexOf(linkNode);\r\n\t\t\t\t\t\tconst link = item.links[linkIndex];\r\n\t\t\t\t\t\t// console.log('ModelPanelComponent.down.link', link, linkNode, linkNodes);\r\n\t\t\t\t\t\tthis.down.next({ item, link, linkIndex });\r\n\t\t\t\t\t\tconst rect = node.getBoundingClientRect();\r\n\t\t\t\t\t\tconst mouseEvent = {\r\n\t\t\t\t\t\t\tbutton: 0,\r\n\t\t\t\t\t\t\tbuttons: 0,\r\n\t\t\t\t\t\t\tclientX: xy.x + rect.left,\r\n\t\t\t\t\t\t\tclientY: xy.y + rect.top,\r\n\t\t\t\t\t\t\tmovementX: 0,\r\n\t\t\t\t\t\t\tmovementY: 0,\r\n\t\t\t\t\t\t\trelatedTarget: linkNode,\r\n\t\t\t\t\t\t\tscreenX: xy.x,\r\n\t\t\t\t\t\t\tscreenY: xy.y,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tconst event = new MouseEvent('mouseup', mouseEvent);\r\n\t\t\t\t\t\tlinkNode.dispatchEvent(event);\r\n\t\t\t\t\t\t// console.log('ModelPanelComponent.dispatchEvent', mouseEvent);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tDragService.dismissEvent(event, DragService.events$, DragService.dismiss$, DragService.downEvent);\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.mesh.add(panel);\r\n\t\t\t\tconst from = { value: 0 };\r\n\t\t\t\tgsap.to(from, {\r\n\t\t\t\t\tduration: 0.5,\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tdelay: 0.0,\r\n\t\t\t\t\tease: Power2.easeInOut,\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tthis.setScale(1 - from.value);\r\n\t\t\t\t\t\tpanel.lookAt(Host.origin);\r\n\t\t\t\t\t\tpanel.material.opacity = from.value;\r\n\t\t\t\t\t\tpanel.material.needsUpdate = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, error => {\r\n\t\t\tconsole.log('ModelPanelComponent.getCanvasTexture.error', error);\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst mesh = new THREE.Group();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(mesh);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\t// console.log('ModelPanelComponent.onDestroy');\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\timagesLoaded() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (node) {\r\n\t\t\tconst images = Array.prototype.slice.call(node.querySelectorAll('img'));\r\n\t\t\tconst promises = images.map(x => new Promise(function(resolve, reject) {\r\n\t\t\t\tconst cors = x.src && x.src.indexOf(location.origin) === -1;\r\n\t\t\t\tif (x.complete) {\r\n\t\t\t\t\treturn setTimeout(() => {\r\n\t\t\t\t\t\tresolve(cors);\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t}\r\n\t\t\t\tfunction onLoad() {\r\n\t\t\t\t\tremoveListeners();\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tresolve(cors);\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t}\r\n\t\t\t\tfunction onError() {\r\n\t\t\t\t\tremoveListeners();\r\n\t\t\t\t\tresolve(false);\r\n\t\t\t\t}\r\n\t\t\t\tfunction removeListeners() {\r\n\t\t\t\t\tx.removeEventListener('load', onLoad);\r\n\t\t\t\t\tx.removeEventListener('error', onError);\r\n\t\t\t\t}\r\n\t\t\t\tfunction addListeners() {\r\n\t\t\t\t\tx.addEventListener('load', onLoad);\r\n\t\t\t\t\tx.addEventListener('error', onError);\r\n\t\t\t\t}\r\n\t\t\t\taddListeners();\r\n\t\t\t}));\r\n\t\t\tif (promises.length) {\r\n\t\t\t\treturn Promise.all(promises);\r\n\t\t\t} else {\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetCanvasTexture(node) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (this.item.panelTexture) {\r\n\t\t\t\t\tresolve(this.item.panelTexture);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.imagesLoaded().then((results) => {\r\n\t\t\t\t\t\tconst context = getContext(this);\r\n\t\t\t\t\t\tif (context && context.node) {\r\n\t\t\t\t\t\t\tnode = context.node;\r\n\t\t\t\t\t\t\tconst useCORS = results && (results.find(x => x === true) != null); // !!! keep loose equality\r\n\t\t\t\t\t\t\t// console.log('ModelPanelComponent.getCanvasTexture.useCORS', useCORS);\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tif (USE_DOM_TO_IMAGE) {\r\n\t\t\t\t\t\t\t\tdomtoimage.toBlob(node, { cacheBust: true }).then(function(blob) {\r\n\t\t\t\t\t\t\t\t\tcreateImageBitmap(blob).then(function(imageBitmap) {\r\n\t\t\t\t\t\t\t\t\t\tconst map = new THREE.Texture();\r\n\t\t\t\t\t\t\t\t\t\tmap.image = imageBitmap;\r\n\t\t\t\t\t\t\t\t\t\tmap.needsUpdate = true;\r\n\t\t\t\t\t\t\t\t\t\tthis.item.panelTexture = {\r\n\t\t\t\t\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: imageBitmap.width,\r\n\t\t\t\t\t\t\t\t\t\t\theight: imageBitmap.height,\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tresolve(this.item.panelTexture);\r\n\r\n\t\t\t\t\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\thtmlToImage.toCanvas(node).then((canvas) => {\r\n\t\t\t\t\t\t\t\t// !!!\r\n\t\t\t\t\t\t\t\t// document.body.appendChild(canvas);\r\n\t\t\t\t\t\t\t\t// const alpha = this.getAlphaFromCanvas(canvas);\r\n\t\t\t\t\t\t\t\t// document.body.appendChild(alpha);\r\n\t\t\t\t\t\t\t\tconst map = new THREE.CanvasTexture(canvas);\r\n\t\t\t\t\t\t\t\t// const alphaMap = new THREE.CanvasTexture(alpha);\r\n\t\t\t\t\t\t\t\t// console.log(canvas.width, canvas.height);\r\n\t\t\t\t\t\t\t\tthis.item.panelTexture = {\r\n\t\t\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\t\t\twidth: canvas.width,\r\n\t\t\t\t\t\t\t\t\theight: canvas.height,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tresolve(this.item.panelTexture);\r\n\t\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\t\tconsole.log('htmlToImage', error);\r\n\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\thtml2canvas(node, {\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#ffffff00',\r\n\t\t\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\t\t\tuseCORS,\r\n\t\t\t\t\t\t\t\t// logging: true,\r\n\t\t\t\t\t\t\t}).then(canvas => {\r\n\t\t\t\t\t\t\t\t// !!!\r\n\t\t\t\t\t\t\t\t// document.body.appendChild(canvas);\r\n\t\t\t\t\t\t\t\t// const alpha = this.getAlphaFromCanvas(canvas);\r\n\t\t\t\t\t\t\t\t// document.body.appendChild(alpha);\r\n\t\t\t\t\t\t\t\tconst map = new THREE.CanvasTexture(canvas);\r\n\t\t\t\t\t\t\t\t// const alphaMap = new THREE.CanvasTexture(alpha);\r\n\t\t\t\t\t\t\t\t// console.log(canvas.width, canvas.height);\r\n\t\t\t\t\t\t\t\tthis.item.panelTexture = {\r\n\t\t\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\t\t\twidth: canvas.width,\r\n\t\t\t\t\t\t\t\t\theight: canvas.height,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tresolve(this.item.panelTexture);\r\n\t\t\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 1); // keep it for childnode images to be compiled\r\n\t\t});\r\n\t}\r\n}\r\n\r\nModelPanelComponent.PANEL_RADIUS = 99;\r\n\r\nModelPanelComponent.meta = {\r\n\tselector: '[model-panel]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['over', 'out', 'down'],\r\n\tinputs: ['item'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"panel__title\"><span [innerHTML]=\"item.title\"></span></div>\r\n\t\t<div class=\"panel__abstract\"><span [innerHTML]=\"item.abstract\"></span></div>\r\n\t\t<img class=\"panel__picture\" [src]=\"item.asset | asset\" *if=\"item.asset\">\r\n\t\t<a class=\"panel__link\" [href]=\"link.href\" target=\"_blank\" rel=\"noopener\" *for=\"let link of item.links\">\r\n\t\t\t<span [innerHTML]=\"link.title\"></span>\r\n\t\t</a>\r\n\t`,\r\n};\r\n","import WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nexport default class ModelPictureComponent extends ModelComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelPictureComponent.onInit');\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst mesh = new THREE.Group();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(mesh);\r\n\t\t}\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n}\r\n\r\nModelPictureComponent.meta = {\r\n\tselector: '[model-picture]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['item'],\r\n};\r\n","import { filter, take, takeUntil } from 'rxjs/operators';\r\nimport { Geometry } from '../geometry/geometry';\r\nimport { Host } from '../host/host';\r\nimport MediaMesh from '../media/media-mesh';\r\nimport WorldComponent from '../world.component';\r\nimport ModelEditableComponent from './model-editable.component';\r\nexport default class ModelPlaneComponent extends ModelEditableComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelPlaneComponent.onInit');\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst selected = this.item.selected;\r\n\t\tthis.editing = selected;\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.mesh.editing = selected;\r\n\t\t}\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst item = this.item;\r\n\t\tconst view = this.view;\r\n\t\tconst items = view.items;\r\n\t\tconst geometry = Geometry.planeGeometry;\r\n\t\tthis.onMeshDown = this.onMeshDown.bind(this);\r\n\t\tthis.onMeshPlaying = this.onMeshPlaying.bind(this);\r\n\t\tthis.onMeshZoomed = this.onMeshZoomed.bind(this);\r\n\t\tthis.onMeshCurrentTime = this.onMeshCurrentTime.bind(this);\r\n\t\tlet mesh;\r\n\t\tlet subscription;\r\n\t\tMediaMesh.getStreamId$(item).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((streamId) => {\r\n\t\t\t// console.log('ModelPlaneComponent.onCreate.streamId', streamId);\r\n\t\t\tif (this.streamId !== streamId) {\r\n\t\t\t\tthis.streamId = streamId;\r\n\t\t\t\t// !!! called by ModelComponent\r\n\t\t\t\t/*\r\n\t\t\t\tif (mesh) {\r\n\t\t\t\t\tdismount(mesh, item);\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tif (subscription) {\r\n\t\t\t\t\tsubscription.unsubscribe();\r\n\t\t\t\t\tsubscription = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (streamId || !item.asset) {\r\n\t\t\t\t\titem.streamId = streamId;\r\n\t\t\t\t\tmesh = this.disposableMesh = new MediaMesh(item, view, geometry, this.host);\r\n\t\t\t\t\tmesh.updateFromItem(item);\r\n\t\t\t\t\tmesh.name = 'plane';\r\n\t\t\t\t\tmesh.load(() => {\r\n\t\t\t\t\t\tthis.disposableMesh = null;\r\n\t\t\t\t\t\tif (typeof mount === 'function') {\r\n\t\t\t\t\t\t\tmount(mesh, item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsubscription = mesh.events$().pipe(\r\n\t\t\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t\t\t).subscribe(() => { });\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.addMeshListeners(mesh);\r\n\t\t\t\t} else if (this.mesh) {\r\n\t\t\t\t\tdismount(this.mesh, item);\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('streamId', streamId, mesh);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddMeshListeners(mesh) {\r\n\t\tmesh.on('down', this.onMeshDown);\r\n\t\tmesh.on('playing', this.onMeshPlaying);\r\n\t\tmesh.on('zoomed', this.onMeshZoomed);\r\n\t\tmesh.on('currentTime', this.onMeshCurrentTime);\r\n\t}\r\n\r\n\tremoveMeshListeners(mesh) {\r\n\t\tmesh.off('down', this.onMeshDown);\r\n\t\tmesh.off('playing', this.onMeshPlaying);\r\n\t\tmesh.off('zoomed', this.onMeshZoomed);\r\n\t\tmesh.off('currentTime', this.onMeshCurrentTime);\r\n\t}\r\n\r\n\tonMeshDown() {\r\n\t\t// console.log('ModelPanelComponent.onMeshDown');\r\n\t\tthis.down.next(this);\r\n\t}\r\n\r\n\tonMeshPlaying(playing) {\r\n\t\t// console.log('ModelPanelComponent.playing', playing);\r\n\t\tthis.play.next({ itemId: this.item.id, playing });\r\n\t}\r\n\r\n\tonMeshZoomed(zoomed) {\r\n\t\t// console.log('ModelPanelComponent.zoomed', zoomed);\r\n\t\tthis.zoom.next({ itemId: this.item.id, zoomed });\r\n\t}\r\n\r\n\tonMeshCurrentTime(currentTime) {\r\n\t\t// console.log('ModelPanelComponent.playing', playing);\r\n\t\tthis.currentTime.next({ itemId: this.item.id, currentTime });\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\t// console.log('ModelPlaneComponent.onDestroy');\r\n\t\tsuper.onDestroy();\r\n\t\tif (this.disposableMesh) {\r\n\t\t\tthis.removeMeshListeners(this.disposableMesh);\r\n\t\t\tthis.disposableMesh.dispose();\r\n\t\t}\r\n\t\tif (this.mesh) {\r\n\t\t\tthis.removeMeshListeners(this.mesh);\r\n\t\t\tthis.mesh.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdate(item, mesh) {\r\n\t\t// console.log('ModelPlaneComponent.onUpdate', item);\r\n\t\tmesh.updateFromItem(item);\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdateAsset(item, mesh) {\r\n\t\t// console.log('ModelPlaneComponent.onUpdateAsset', item);\r\n\t\tmesh.updateByItem(item);\r\n\t\tMediaMesh.getStreamId$(item).pipe(\r\n\t\t\tfilter(streamId => streamId !== null),\r\n\t\t\ttake(1),\r\n\t\t).subscribe((streamId) => {\r\n\t\t\titem.streamId = streamId;\r\n\t\t\tmesh.load(() => {\r\n\t\t\t\t// console.log('ModelPlaneComponent.mesh.load.complete');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragMove(position, normal, spherical) {\r\n\t\t// console.log('ModelPlaneComponent.onDragMove', position, normal, spherical);\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\titem.showPanel = false;\r\n\t\tthis.editing = true;\r\n\t\tif (spherical) {\r\n\t\t\tposition.normalize().multiplyScalar(20);\r\n\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\tmesh.lookAt(Host.origin);\r\n\t\t} else {\r\n\t\t\tmesh.position.set(0, 0, 0);\r\n\t\t\tmesh.lookAt(normal);\r\n\t\t\tmesh.position.set(position.x, position.y, position.z);\r\n\t\t\tmesh.position.add(normal.multiplyScalar(0.01));\r\n\t\t}\r\n\t\tthis.updateHelper();\r\n\t}\r\n\r\n\t// called by WorldComponent\r\n\tonDragEnd() {\r\n\t\t// console.log('ModelPlaneComponent.onDragEnd');\r\n\t\tconst item = this.item;\r\n\t\tconst mesh = this.mesh;\r\n\t\titem.position = mesh.position.toArray();\r\n\t\titem.rotation = mesh.rotation.toArray();\r\n\t\titem.scale = mesh.scale.toArray();\r\n\t\tmesh.updateFromItem(item);\r\n\t\tthis.editing = false;\r\n\t}\r\n}\r\n\r\nModelPlaneComponent.textures = {};\r\n\r\nModelPlaneComponent.meta = {\r\n\tselector: '[model-plane]',\r\n\thosts: { host: WorldComponent },\r\n\toutputs: ['down', 'play', 'zoom', 'currentTime'],\r\n\tinputs: ['item', 'view'],\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../../label/label.pipe';\r\nimport LoaderService from '../../loader/loader.service';\r\nimport { ViewType } from '../../view/view';\r\nimport { PANORAMA_RADIUS } from '../geometry/geometry';\r\nimport VRService from '../vr.service';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\n// export const LOADING_BANNER = { title: LabelPipe.transform('loading') };\r\n// export const WAITING_BANNER = { title: LabelPipe.transform('waiting_host') };\r\n\r\nconst PANEL_RADIUS = PANORAMA_RADIUS - 0.01;\r\n\r\nexport default class ModelProgressComponent extends ModelComponent {\r\n\r\n\tget title() {\r\n\t\treturn this.title_;\r\n\t}\r\n\tset title(title) {\r\n\t\tif (this.title_ !== title) {\r\n\t\t\tthis.title_ = title;\r\n\t\t\tif (title === LabelPipe.transform('waiting_host') || (title !== '' && this.visible_)) {\r\n\t\t\t\tthis.updateProgress();\r\n\t\t\t\tthis.show();\r\n\t\t\t} else {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget visible() {\r\n\t\treturn this.visible_;\r\n\t}\r\n\tset visible(visible) {\r\n\t\tif (this.visible_ !== visible) {\r\n\t\t\tthis.visible_ = visible;\r\n\t\t\tif (visible && this.title_ !== '') {\r\n\t\t\t\tthis.updateProgress();\r\n\t\t\t\tthis.show();\r\n\t\t\t} else {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.title_ = '';\r\n\t\tthis.visible_ = this.host.renderer.xr.isPresenting;\r\n\t\tsuper.onInit();\r\n\t\tconst vrService = this.vrService = VRService.getService();\r\n\t\tvrService.session$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((session) => this.visible = session != null); // loose\r\n\t\t// this.progress = LoaderService.progress;\r\n\t\t/*\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst inner = node.querySelector('.inner');\r\n\t\tLoaderService.progress$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(progress => {\r\n\t\t\tprogress.count > 0 ? node.classList.add('active') : node.classList.remove('active');\r\n\t\t\tinner.style.width = `${progress.count}%`;\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\t// console.log('ModelProgressComponent.onCreate');\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst inner = node.querySelector('.inner');\r\n\t\tthis.getCanvasTexture().then(result => {\r\n\t\t\tconst mesh = this.createMesh(result);\r\n\t\t\tif (typeof mount === 'function') {\r\n\t\t\t\tmount(mesh);\r\n\t\t\t}\r\n\t\t\tLoaderService.progress$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(progress => {\r\n\t\t\t\tprogress.count > 0 ? node.classList.add('active') : node.classList.remove('active');\r\n\t\t\t\tinner.style.width = `${progress.value * 100}%`;\r\n\t\t\t\tif (progress.count) {\r\n\t\t\t\t\tthis.title = progress.value === 0 ? LabelPipe.transform('loading') : progress.title;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.title = this.getTitle();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetTitle() {\r\n\t\tif (this.view && this.view.type.name === ViewType.WaitingRoom.name) {\r\n\t\t\treturn LabelPipe.transform('waiting_host');\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n\r\n\tshow() {\r\n\t\tthis.mesh.add(this.banner);\r\n\t\tthis.material.opacity = 1;\r\n\t\tthis.material.needsUpdate = true;\r\n\t\t/*\r\n\t\tconst material = this.material;\r\n\t\tconst from = { value: material.opacity };\r\n\t\tgsap.to(from, {\r\n\t\t\tduration: 0.5,\r\n\t\t\tvalue: 1,\r\n\t\t\tdelay: 0.0,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t\toverwrite: 'all',\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tmaterial.opacity = from.value;\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\thide() {\r\n\t\tthis.mesh.remove(this.banner);\r\n\t\tthis.material.opacity = 0;\r\n\t\tthis.material.needsUpdate = true;\r\n\t\t/*\r\n\t\tconst from = { value: material.opacity };\r\n\t\tgsap.to(from, {\r\n\t\t\tduration: 0.5,\r\n\t\t\tvalue: 0,\r\n\t\t\tdelay: 0.0,\r\n\t\t\tease: Power2.easeInOut,\r\n\t\t\toverwrite: 'all',\r\n\t\t\tonUpdate: () => {\r\n\t\t\t\tmaterial.opacity = from.value;\r\n\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t},\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.mesh.remove(this.banner);\r\n\t\t\t}\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tcreateMesh(result) {\r\n\t\tconst mesh = new THREE.Group();\r\n\t\t// const repeat = 24;\r\n\t\t// const aspect = (result.width * repeat) / result.height;\r\n\t\tconst arc = Math.PI / 180 * 360;\r\n\t\tconst width = PANEL_RADIUS * arc;\r\n\t\tconst height = width / 360 * 2.4;\r\n\t\tconst w = result.width * height / result.height;\r\n\t\tconst repeat = width / w;\r\n\t\tconst geometry = new THREE.CylinderBufferGeometry(PANEL_RADIUS, PANEL_RADIUS, height, 80, 2, true, 0, arc);\r\n\t\tgeometry.scale(-1, 1, 1);\r\n\t\tconst texture = result.texture;\r\n\t\ttexture.wrapS = texture.wrapY = THREE.RepeatWrapping;\r\n\t\ttexture.repeat.x = repeat;\r\n\t\ttexture.encoding = THREE.sRGBEncoding;\r\n\t\tconst material = this.material = new THREE.MeshBasicMaterial({\r\n\t\t\tmap: texture,\r\n\t\t\ttransparent: true,\r\n\t\t\topacity: 0,\r\n\t\t\ttoneMapped: false,\r\n\t\t\t// side: THREE.DoubleSide,\r\n\t\t});\r\n\t\tconst banner = this.banner = new THREE.Mesh(geometry, material);\r\n\t\tmesh.userData = {\r\n\t\t\trender: () => {\r\n\t\t\t\tmesh.rotation.y += Math.PI / 180 * 0.02;\r\n\t\t\t\t// texture.offset.x = (texture.offset.x - 0.01) % 1;\r\n\t\t\t\t// material.needsUpdate = true;\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn mesh;\r\n\t}\r\n\r\n\tupdateProgress() {\r\n\t\tthis.getCanvasTexture().then(result => {\r\n\t\t\t// console.log('ModelProgressComponent.updateProgress', result);\r\n\t\t\tconst arc = Math.PI / 180 * 360;\r\n\t\t\tconst width = PANEL_RADIUS * arc;\r\n\t\t\tconst height = width / 360 * 2.4;\r\n\t\t\tconst w = result.width * height / result.height;\r\n\t\t\tconst repeat = width / w;\r\n\t\t\tthis.texture.repeat.x = repeat;\r\n\t\t});\r\n\t}\r\n\r\n\tgetCanvasTexture() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst MIN_W = 512;\r\n\t\t\tlet W = MIN_W;\r\n\t\t\tlet H = 64;\r\n\t\t\tconst F = Math.floor(H * 0.75);\r\n\t\t\tconst L = Math.floor(H * 0.05);\r\n\t\t\tlet canvas;\r\n\t\t\tif (this.canvas) {\r\n\t\t\t\tcanvas = this.canvas;\r\n\t\t\t} else {\r\n\t\t\t\tcanvas = this.canvas = document.createElement('canvas');\r\n\t\t\t\t// canvas.classList.add('canvas--debug');\r\n\t\t\t\t// document.querySelector('body').appendChild(canvas);\r\n\t\t\t}\r\n\t\t\tcanvas.width = W;\r\n\t\t\tcanvas.height = H;\r\n\t\t\tconst text = this.title_;\r\n\t\t\t// console.log('ModelProgressComponent.getCanvasTexture', text);\r\n\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t// const ctx = text.material.map.image.getContext('2d');\r\n\t\t\tctx.imageSmoothingEnabled = true;\r\n\t\t\tctx.imageSmoothingQuality = 'high';\r\n\t\t\tctx.font = `300 ${F}px ${environment.fontFamily}`;\r\n\t\t\tconst metrics = ctx.measureText(text);\r\n\t\t\tW = metrics.width + 8;\r\n\t\t\tW = Math.max(MIN_W, Math.pow(2, Math.ceil(Math.log(W) / Math.log(2))));\r\n\t\t\t// const x = W / 2;\r\n\t\t\t// const y = 16;\r\n\t\t\tcanvas.width = W;\r\n\t\t\tctx.clearRect(0, 0, W, H);\r\n\t\t\tctx.fillStyle = '#0000005A'; // 35% // '#000000C0'; // 75%\r\n\t\t\tctx.fillRect(0, 0, W, H);\r\n\t\t\tctx.font = `300 ${F}px ${environment.fontFamily}`;\r\n\t\t\tctx.textAlign = 'center';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.strokeStyle = 'rgba(0, 0, 0, 0.35)';\r\n\t\t\tctx.lineWidth = L;\r\n\t\t\tctx.lineJoin = 'round'; // Experiment with 'bevel' & 'round' for the effect you want!\r\n\t\t\tctx.miterLimit = 2;\r\n\t\t\tctx.strokeText(text, W / 2, H / 2);\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.fillText(text, W / 2, H / 2, W);\r\n\t\t\t// text.material.map.needsUpdate = true;\r\n\t\t\tlet texture;\r\n\t\t\tif (this.texture) {\r\n\t\t\t\ttexture = this.texture;\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t} else {\r\n\t\t\t\ttexture = this.texture = new THREE.CanvasTexture(canvas);\r\n\t\t\t}\r\n\t\t\t// console.log(F, L, W, H);\r\n\t\t\tresolve({ texture: texture, width: W, height: H });\r\n\t\t});\r\n\t}\r\n}\r\n\r\nModelProgressComponent.meta = {\r\n\tselector: '[model-progress]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['view'],\r\n};\r\n","import { takeUntil } from 'rxjs/operators';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport MenuService from '../../editor/menu/menu.service';\r\nimport { environment } from '../../environment';\r\nimport LoaderService from '../../loader/loader.service';\r\nimport WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nconst SHOULD_SCALE = false;\r\n\r\nexport default class ModelRoomComponent extends ModelComponent {\r\n\r\n\tstatic get transparentMaterial() {\r\n\t\tif (!this.transparentMaterial_) {\r\n\t\t\tthis.transparentMaterial_ = new THREE.MeshBasicMaterial({\r\n\t\t\t\tcolor: 0xff0000,\r\n\t\t\t\ttransparent: true,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\t// side: THREE.DoubleSide\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.transparentMaterial_;\r\n\t}\r\n\r\n\tget freezed() {\r\n\t\treturn this.freezed_;\r\n\t}\r\n\tset freezed(freezed) {\r\n\t\tif (this.freezed_ !== freezed) {\r\n\t\t\tthis.freezed_ = freezed;\r\n\t\t\tconst mesh = this.mesh;\r\n\t\t\tif (mesh) {\r\n\t\t\t\tmesh.traverse((child) => {\r\n\t\t\t\t\tif (child.isInteractiveMesh) {\r\n\t\t\t\t\t\tchild.freezed = freezed;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// console.log('ModelRoomComponent.onInit');\r\n\t\tsuper.onInit();\r\n\t\tthis.isPresenting = false;\r\n\t\tMenuService.active$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(active => this.freezed = active);\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.editing = this.view.selected;\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\t// this.renderOrder = environment.renderOrder.room;\r\n\t\tthis.loadGlb(environment.getPath(this.view.asset.folder), this.view.asset.file, (mesh, animations) => {\r\n\t\t\tthis.onGlbLoaded(mesh, animations, mount, dismount);\r\n\t\t});\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\tloadGlb(path, file, callback) {\r\n\t\tconst renderer = this.host.renderer;\r\n\t\t// const roughnessMipmapper = new RoughnessMipmapper(renderer); // optional\r\n\t\tconst progressRef = LoaderService.getRef();\r\n\t\t// console.log('progressRef');\r\n\t\tconst loader = new GLTFLoader().setPath(path);\r\n\t\t// Optional: Provide a DRACOLoader instance to decode compressed mesh data\r\n\t\tconst decoderPath = `${environment.dist}js/draco/`;\r\n\t\t// console.log(decoderPath);\r\n\t\tconst dracoLoader = new DRACOLoader();\r\n\t\tdracoLoader.setDecoderPath(decoderPath);\r\n\t\tloader.setDRACOLoader(dracoLoader);\r\n\t\tloader.load(file, (glb) => {\r\n\t\t\t/*\r\n\t\t\tglb.scene.traverse((child) => {\r\n\t\t\t\tif (child.isMesh) {\r\n\t\t\t\t\t// roughnessMipmapper.generateMipmaps(child.material);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(glb.scene, glb.animations);\r\n\t\t\t}\r\n\t\t\t// console.log('ModelRoomComponent.loadGlb');\r\n\t\t\tLoaderService.setProgress(progressRef, 1);\r\n\t\t\t// roughnessMipmapper.dispose();\r\n\t\t}, (progressEvent) => {\r\n\t\t\tLoaderService.setProgress(progressRef, progressEvent.loaded, progressEvent.total);\r\n\t\t});\r\n\t}\r\n\r\n\tonGlbLoaded(mesh, animations, mount, dismount) {\r\n\t\tconst view = this.view;\r\n\t\t// scale\r\n\t\tif (SHOULD_SCALE) {\r\n\t\t\tconst box = new THREE.Box3().setFromObject(mesh);\r\n\t\t\tconst size = box.max.clone().sub(box.min);\r\n\t\t\tconst min = Math.min(size.x, size.y, size.z);\r\n\t\t\tconst scale = 12 / min;\r\n\t\t\tmesh.scale.set(scale, scale, scale);\r\n\t\t}\r\n\t\tmesh.position.set(0, -1.76, 0);\r\n\t\t// nav\r\n\t\tconst intersectObjects = [];\r\n\t\tmesh.traverse((child) => {\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tintersectObjects.push(child);\r\n\t\t\t}\r\n\t\t\tif (child.name === 'nav') {\r\n\t\t\t\t// child.parent.remove(child);\r\n\t\t\t\tview.navIntersectObjects = [child];\r\n\t\t\t\tthis.makeTransparent(child);\r\n\t\t\t}\r\n\t\t});\r\n\t\tview.intersectObjects = intersectObjects;\r\n\t\t// animations\r\n\t\tlet dummy;\r\n\t\tdummy = new THREE.Group();\r\n\t\tdummy.add(mesh);\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(dummy, this.view);\r\n\t\t}\r\n\t}\r\n\r\n\tmakeTransparent(object) {\r\n\t\tif (object.isMesh) {\r\n\t\t\tobject.material = ModelRoomComponent.transparentMaterial;\r\n\t\t}\r\n\t\tobject.traverse((child) => {\r\n\t\t\tif (child.isMesh) {\r\n\t\t\t\tchild.material = ModelRoomComponent.transparentMaterial;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// called by UpdateViewItemComponent\r\n\tonUpdateAsset(view, mesh) {\r\n\t\t// console.log('ModelRoomComponent.onUpdateAsset', view);\r\n\t\tthis.loadGlb(environment.getPath(view.asset.folder), view.asset.file, (mesh, animations) => {\r\n\t\t\tthis.onGlbLoaded(mesh, animations, (mesh, view) => this.onMount(mesh, view), (mesh, view) => this.onDismount(mesh, view));\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nModelRoomComponent.meta = {\r\n\tselector: '[model-room]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['view'],\r\n};\r\n","import WorldComponent from '../world.component';\r\nimport ModelComponent from './model.component';\r\n\r\nexport default class ModelTextComponent extends ModelComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t// console.log('ModelTextComponent.onInit');\r\n\t}\r\n\r\n\tonCreate(mount, dismount) {\r\n\t\tconst mesh = new THREE.Group();\r\n\t\tif (typeof mount === 'function') {\r\n\t\t\tmount(mesh);\r\n\t\t}\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n}\r\n\r\nModelTextComponent.meta = {\r\n\tselector: '[model-text]',\r\n\thosts: { host: WorldComponent },\r\n\tinputs: ['item'],\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AccessCodeComponent from './access/access-code.component';\r\nimport AccessComponent from './access/access.component';\r\nimport AgoraChatEmojiComponent from './agora/agora-chat-emoji.component';\r\nimport AgoraChatComponent from './agora/agora-chat.component';\r\nimport AgoraCheckComponent from './agora/agora-check.component';\r\nimport AgoraChecklistComponent from './agora/agora-checklist.component';\r\nimport AgoraConfigureFirewallModalComponent from './agora/agora-configure-firewall-modal.component';\r\nimport AgoraDevicePreviewComponent from './agora/agora-device-preview.component';\r\nimport AgoraDeviceComponent from './agora/agora-device.component';\r\nimport AgoraLinkComponent from './agora/agora-link.component';\r\nimport AgoraLoginComponent from './agora/agora-login.component';\r\nimport AgoraNameComponent from './agora/agora-name.component';\r\nimport AgoraStreamComponent from './agora/agora-stream.component';\r\nimport AgoraComponent from './agora/agora.component';\r\nimport AppComponent from './app.component';\r\nimport AssetPipe from './asset/asset.pipe';\r\nimport ControlRequestModalComponent from './control-request/control-request-modal.component';\r\nimport DropDirective from './drop/drop.directive';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport { EditorModule } from './editor/editor.module';\r\nimport IframeModalComponent from './editor/modals/iframe-modal.component';\r\nimport EnvPipe from './env/env.pipe';\r\nimport FlagPipe from './flag/flag.pipe';\r\nimport ControlAssetComponent from './forms/control-asset.component';\r\nimport ControlAssetsComponent from './forms/control-assets.component';\r\nimport ControlCheckboxComponent from './forms/control-checkbox.component';\r\nimport ControlCustomSelectComponent from './forms/control-custom-select.component';\r\nimport ControlLinkComponent from './forms/control-link.component';\r\nimport ControlLocalizedAssetComponent from './forms/control-localized-asset.component';\r\nimport ControlMenuComponent from './forms/control-menu.component';\r\nimport ControlModelComponent from './forms/control-model.component';\r\nimport ControlNumberComponent from './forms/control-number.component';\r\nimport ControlPasswordComponent from './forms/control-password.component';\r\nimport ControlSelectComponent from './forms/control-select.component';\r\nimport ControlTextComponent from './forms/control-text.component';\r\nimport ControlTextareaComponent from './forms/control-textarea.component';\r\nimport ControlVectorComponent from './forms/control-vector.component';\r\nimport ControlsComponent from './forms/controls.component';\r\nimport DisabledDirective from './forms/disabled.directive';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport InputValueComponent from './forms/input-value.component';\r\nimport TestComponent from './forms/test.component';\r\nimport ValueDirective from './forms/value.directive';\r\nimport { GenericModalComponent } from './generic/generic-modal.component';\r\nimport { GenericComponent } from './generic/generic.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport IdDirective from './id/id.directive';\r\nimport { LabelPipe } from './label/label.pipe';\r\nimport LanguageComponent from './language/language.component';\r\nimport LayoutComponent from './layout/layout.component';\r\nimport LazyDirective from './lazy/lazy.directive';\r\nimport MessagePipe from './message/message.pipe';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport { RoutePipe } from './router/route.pipe';\r\nimport { RouterLinkDirective } from './router/router-link.directive';\r\nimport { RouterOutletStructure } from './router/router-outlet.structure';\r\nimport SupportRequestModalComponent from './support-request/support-request-modal.component';\r\nimport SvgIconStructure from './svg/svg-icon.structure';\r\nimport TitleDirective from './title/title.directive';\r\nimport TryInARModalComponent from './try-in-ar/try-in-ar-modal.component';\r\nimport TryInARComponent from './try-in-ar/try-in-ar.component';\r\nimport UploadItemComponent from './upload/upload-item.component';\r\nimport HlsDirective from './video/hls.directive';\r\nimport VirtualStructure from './virtual/virtual.structure';\r\nimport MediaPlayerComponent from './world/media/media-player.component';\r\nimport ModelBannerComponent from './world/model/model-banner.component';\r\nimport ModelCurvedPlaneComponent from './world/model/model-curved-plane.component';\r\nimport ModelDebugComponent from './world/model/model-debug.component';\r\nimport ModelGridComponent from './world/model/model-grid.component';\r\nimport ModelMenuComponent from './world/model/model-menu.component';\r\nimport ModelModelComponent from './world/model/model-model.component';\r\nimport ModelNavComponent from './world/model/model-nav.component';\r\nimport ModelPanelComponent from './world/model/model-panel.component';\r\nimport ModelPictureComponent from './world/model/model-picture.component';\r\nimport ModelPlaneComponent from './world/model/model-plane.component';\r\nimport ModelProgressComponent from './world/model/model-progress.component';\r\nimport ModelRoomComponent from './world/model/model-room.component';\r\nimport ModelTextComponent from './world/model/model-text.component';\r\nimport ModelComponent from './world/model/model.component';\r\nimport WorldComponent from './world/world.component';\r\n\r\n// AgoraService.fixLegacy();\r\n\r\nexport class AppModule extends Module { }\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t\tEditorModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tAccessCodeComponent,\r\n\t\tAccessComponent,\r\n\t\tAgoraChatComponent,\r\n\t\tAgoraChatEmojiComponent,\r\n\t\tAgoraCheckComponent,\r\n\t\tAgoraChecklistComponent,\r\n\t\tAgoraComponent,\r\n\t\tAgoraConfigureFirewallModalComponent,\r\n\t\tAgoraDeviceComponent,\r\n\t\tAgoraDevicePreviewComponent,\r\n\t\tAgoraLinkComponent,\r\n\t\tAgoraLoginComponent,\r\n\t\tAgoraNameComponent,\r\n\t\tAgoraStreamComponent,\r\n\t\tAssetPipe,\r\n\t\tControlAssetComponent,\r\n\t\tControlAssetsComponent,\r\n\t\tControlCheckboxComponent,\r\n\t\tControlCustomSelectComponent,\r\n\t\tControlLinkComponent,\r\n\t\tControlLocalizedAssetComponent,\r\n\t\tControlMenuComponent,\r\n\t\tControlModelComponent,\r\n\t\tControlNumberComponent,\r\n\t\tControlPasswordComponent,\r\n\t\tControlRequestModalComponent,\r\n\t\tControlsComponent,\r\n\t\tControlSelectComponent,\r\n\t\tControlTextareaComponent,\r\n\t\tControlTextComponent,\r\n\t\tControlVectorComponent,\r\n\t\tDisabledDirective,\r\n\t\tDropDirective,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tEnvPipe,\r\n\t\tErrorsComponent,\r\n\t\tFlagPipe,\r\n\t\tGenericComponent,\r\n\t\tGenericModalComponent,\r\n\t\tHlsDirective,\r\n\t\tHtmlPipe,\r\n\t\tIframeModalComponent,\r\n\t\tIdDirective,\r\n\t\tInputValueComponent,\r\n\t\tLabelPipe,\r\n\t\tLanguageComponent,\r\n\t\tLayoutComponent,\r\n\t\tLazyDirective,\r\n\t\tMediaPlayerComponent,\r\n\t\tMessagePipe,\r\n\t\tModalComponent,\r\n\t\tModalOutletComponent,\r\n\t\tModelBannerComponent,\r\n\t\tModelComponent,\r\n\t\tModelCurvedPlaneComponent,\r\n\t\tModelDebugComponent,\r\n\t\tModelGridComponent,\r\n\t\tModelMenuComponent,\r\n\t\tModelModelComponent,\r\n\t\tModelNavComponent,\r\n\t\tModelPanelComponent,\r\n\t\tModelPictureComponent,\r\n\t\tModelPlaneComponent,\r\n\t\tModelProgressComponent,\r\n\t\tModelRoomComponent,\r\n\t\tModelTextComponent,\r\n\t\tRoutePipe,\r\n\t\tSupportRequestModalComponent,\r\n\t\tSvgIconStructure,\r\n\t\tTestComponent,\r\n\t\tTitleDirective,\r\n\t\tTryInARComponent,\r\n\t\tTryInARModalComponent,\r\n\t\tUploadItemComponent,\r\n\t\tValueDirective,\r\n\t\tVirtualStructure,\r\n\t\tWorldComponent,\r\n\t\tRouterOutletStructure,\r\n\t\tRouterLinkDirective,\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport { AppModule } from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}